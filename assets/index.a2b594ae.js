(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function Tre(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bm={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=Symbol.for("react.element"),Cre=Symbol.for("react.portal"),Ere=Symbol.for("react.fragment"),kre=Symbol.for("react.strict_mode"),Are=Symbol.for("react.profiler"),Lre=Symbol.for("react.provider"),Rre=Symbol.for("react.context"),Pre=Symbol.for("react.forward_ref"),Ore=Symbol.for("react.suspense"),Fre=Symbol.for("react.memo"),Dre=Symbol.for("react.lazy"),kL=Symbol.iterator;function Nre(e){return e===null||typeof e!="object"?null:(e=kL&&e[kL]||e["@@iterator"],typeof e=="function"?e:null)}var QV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YV=Object.assign,KV={};function Xm(e,t,r){this.props=e,this.context=t,this.refs=KV,this.updater=r||QV}Xm.prototype.isReactComponent={};Xm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function XV(){}XV.prototype=Xm.prototype;function ZT(e,t,r){this.props=e,this.context=t,this.refs=KV,this.updater=r||QV}var QT=ZT.prototype=new XV;QT.constructor=ZT;YV(QT,Xm.prototype);QT.isPureReactComponent=!0;var AL=Array.isArray,ez=Object.prototype.hasOwnProperty,YT={current:null},tz={key:!0,ref:!0,__self:!0,__source:!0};function rz(e,t,r){var i,n={},s=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)ez.call(t,i)&&!tz.hasOwnProperty(i)&&(n[i]=t[i]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];n.children=l}if(e&&e.defaultProps)for(i in o=e.defaultProps,o)n[i]===void 0&&(n[i]=o[i]);return{$$typeof:b2,type:e,key:s,ref:a,props:n,_owner:YT.current}}function jre(e,t){return{$$typeof:b2,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function KT(e){return typeof e=="object"&&e!==null&&e.$$typeof===b2}function Vre(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var LL=/\/+/g;function m8(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vre(""+e.key):t.toString(36)}function zv(e,t,r,i,n){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case b2:case Cre:a=!0}}if(a)return a=e,n=n(a),e=i===""?"."+m8(a,0):i,AL(n)?(r="",e!=null&&(r=e.replace(LL,"$&/")+"/"),zv(n,t,r,"",function(c){return c})):n!=null&&(KT(n)&&(n=jre(n,r+(!n.key||a&&a.key===n.key?"":(""+n.key).replace(LL,"$&/")+"/")+e)),t.push(n)),1;if(a=0,i=i===""?".":i+":",AL(e))for(var o=0;o<e.length;o++){s=e[o];var l=i+m8(s,o);a+=zv(s,t,r,l,n)}else if(l=Nre(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=i+m8(s,o++),a+=zv(s,t,r,l,n);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function a3(e,t,r){if(e==null)return e;var i=[],n=0;return zv(e,i,"","",function(s){return t.call(r,s,n++)}),i}function zre(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dn={current:null},Bv={transition:null},Bre={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Bv,ReactCurrentOwner:YT};et.Children={map:a3,forEach:function(e,t,r){a3(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return a3(e,function(){t++}),t},toArray:function(e){return a3(e,function(t){return t})||[]},only:function(e){if(!KT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=Xm;et.Fragment=Ere;et.Profiler=Are;et.PureComponent=ZT;et.StrictMode=kre;et.Suspense=Ore;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bre;et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=YV({},e.props),n=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=YT.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)ez.call(t,l)&&!tz.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:b2,type:e.type,key:n,ref:s,props:i,_owner:a}};et.createContext=function(e){return e={$$typeof:Rre,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lre,_context:e},e.Consumer=e};et.createElement=rz;et.createFactory=function(e){var t=rz.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:Pre,render:e}};et.isValidElement=KT;et.lazy=function(e){return{$$typeof:Dre,_payload:{_status:-1,_result:e},_init:zre}};et.memo=function(e,t){return{$$typeof:Fre,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=Bv.transition;Bv.transition={};try{e()}finally{Bv.transition=t}};et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};et.useCallback=function(e,t){return dn.current.useCallback(e,t)};et.useContext=function(e){return dn.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return dn.current.useDeferredValue(e)};et.useEffect=function(e,t){return dn.current.useEffect(e,t)};et.useId=function(){return dn.current.useId()};et.useImperativeHandle=function(e,t,r){return dn.current.useImperativeHandle(e,t,r)};et.useInsertionEffect=function(e,t){return dn.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return dn.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return dn.current.useMemo(e,t)};et.useReducer=function(e,t,r){return dn.current.useReducer(e,t,r)};et.useRef=function(e){return dn.current.useRef(e)};et.useState=function(e){return dn.current.useState(e)};et.useSyncExternalStore=function(e,t,r){return dn.current.useSyncExternalStore(e,t,r)};et.useTransition=function(){return dn.current.useTransition()};et.version="18.2.0";(function(e){e.exports=et})(bm);const Ure=Tre(bm.exports);var W_={},iz={exports:{}},Ms={},nz={exports:{}},sz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,te){var H=U.length;U.push(te);e:for(;0<H;){var se=H-1>>>1,ue=U[se];if(0<n(ue,te))U[se]=te,U[H]=ue,H=se;else break e}}function r(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var te=U[0],H=U.pop();if(H!==te){U[0]=H;e:for(var se=0,ue=U.length,ve=ue>>>1;se<ve;){var xe=2*(se+1)-1,tt=U[xe],it=xe+1,Ir=U[it];if(0>n(tt,H))it<ue&&0>n(Ir,tt)?(U[se]=Ir,U[it]=H,se=it):(U[se]=tt,U[xe]=H,se=xe);else if(it<ue&&0>n(Ir,H))U[se]=Ir,U[it]=H,se=it;else break e}}return te}function n(U,te){var H=U.sortIndex-te.sortIndex;return H!==0?H:U.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,p=null,h=3,m=!1,g=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var te=r(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=U)i(c),te.sortIndex=te.expirationTime,t(l,te);else break;te=r(c)}}function x(U){if(b=!1,S(U),!g)if(r(l)!==null)g=!0,K(M);else{var te=r(c);te!==null&&Q(x,te.startTime-U)}}function M(U,te){g=!1,b&&(b=!1,v(T),T=-1),m=!0;var H=h;try{for(S(te),p=r(l);p!==null&&(!(p.expirationTime>te)||U&&!F());){var se=p.callback;if(typeof se=="function"){p.callback=null,h=p.priorityLevel;var ue=se(p.expirationTime<=te);te=e.unstable_now(),typeof ue=="function"?p.callback=ue:p===r(l)&&i(l),S(te)}else i(l);p=r(l)}if(p!==null)var ve=!0;else{var xe=r(c);xe!==null&&Q(x,xe.startTime-te),ve=!1}return ve}finally{p=null,h=H,m=!1}}var I=!1,$=null,T=-1,A=5,P=-1;function F(){return!(e.unstable_now()-P<A)}function j(){if($!==null){var U=e.unstable_now();P=U;var te=!0;try{te=$(!0,U)}finally{te?V():(I=!1,$=null)}}else I=!1}var V;if(typeof _=="function")V=function(){_(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,J=z.port2;z.port1.onmessage=j,V=function(){J.postMessage(null)}}else V=function(){w(j,0)};function K(U){$=U,I||(I=!0,V())}function Q(U,te){T=w(function(){U(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,K(M))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var H=h;h=te;try{return U()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=h;h=U;try{return te()}finally{h=H}},e.unstable_scheduleCallback=function(U,te,H){var se=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?se+H:se):H=se,U){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=H+ue,U={id:d++,callback:te,priorityLevel:U,startTime:H,expirationTime:ue,sortIndex:-1},H>se?(U.sortIndex=H,t(c,U),r(l)===null&&U===r(c)&&(b?(v(T),T=-1):b=!0,Q(x,H-se))):(U.sortIndex=ue,t(l,U),g||m||(g=!0,K(M))),U},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(U){var te=h;return function(){var H=h;h=te;try{return U.apply(this,arguments)}finally{h=H}}}})(sz);(function(e){e.exports=sz})(nz);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var az=bm.exports,ws=nz.exports;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oz=new Set,h1={};function jp(e,t){vm(e,t),vm(e+"Capture",t)}function vm(e,t){for(h1[e]=t,e=0;e<t.length;e++)oz.add(t[e])}var dc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J_=Object.prototype.hasOwnProperty,Gre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RL={},PL={};function qre(e){return J_.call(PL,e)?!0:J_.call(RL,e)?!1:Gre.test(e)?PL[e]=!0:(RL[e]=!0,!1)}function Hre(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wre(e,t,r,i){if(t===null||typeof t>"u"||Hre(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fn(e,t,r,i,n,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gi[e]=new fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gi[t]=new fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gi[e]=new fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gi[e]=new fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gi[e]=new fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gi[e]=new fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gi[e]=new fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gi[e]=new fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gi[e]=new fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var XT=/[\-:]([a-z])/g;function eC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(XT,eC);gi[t]=new fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(XT,eC);gi[t]=new fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(XT,eC);gi[t]=new fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gi[e]=new fn(e,1,!1,e.toLowerCase(),null,!1,!1)});gi.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gi[e]=new fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function tC(e,t,r,i){var n=gi.hasOwnProperty(t)?gi[t]:null;(n!==null?n.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wre(t,r,n,i)&&(r=null),i||n===null?qre(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,i=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var wc=az.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o3=Symbol.for("react.element"),g0=Symbol.for("react.portal"),b0=Symbol.for("react.fragment"),rC=Symbol.for("react.strict_mode"),Z_=Symbol.for("react.profiler"),lz=Symbol.for("react.provider"),cz=Symbol.for("react.context"),iC=Symbol.for("react.forward_ref"),Q_=Symbol.for("react.suspense"),Y_=Symbol.for("react.suspense_list"),nC=Symbol.for("react.memo"),xu=Symbol.for("react.lazy"),uz=Symbol.for("react.offscreen"),OL=Symbol.iterator;function Py(e){return e===null||typeof e!="object"?null:(e=OL&&e[OL]||e["@@iterator"],typeof e=="function"?e:null)}var rr=Object.assign,y8;function wg(e){if(y8===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);y8=t&&t[1]||""}return`
`+y8+e}var g8=!1;function b8(e,t){if(!e||g8)return"";g8=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),s=i.stack.split(`
`),a=n.length-1,o=s.length-1;1<=a&&0<=o&&n[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(n[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||n[a]!==s[o]){var l=`
`+n[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{g8=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wg(e):""}function Jre(e){switch(e.tag){case 5:return wg(e.type);case 16:return wg("Lazy");case 13:return wg("Suspense");case 19:return wg("SuspenseList");case 0:case 2:case 15:return e=b8(e.type,!1),e;case 11:return e=b8(e.type.render,!1),e;case 1:return e=b8(e.type,!0),e;default:return""}}function K_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b0:return"Fragment";case g0:return"Portal";case Z_:return"Profiler";case rC:return"StrictMode";case Q_:return"Suspense";case Y_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cz:return(e.displayName||"Context")+".Consumer";case lz:return(e._context.displayName||"Context")+".Provider";case iC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nC:return t=e.displayName||null,t!==null?t:K_(e.type)||"Memo";case xu:t=e._payload,e=e._init;try{return K_(e(t))}catch{}}return null}function Zre(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K_(t);case 8:return t===rC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dz(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qre(e){var t=dz(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function l3(e){e._valueTracker||(e._valueTracker=Qre(e))}function fz(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=dz(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function x9(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function X_(e,t){var r=t.checked;return rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function FL(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=fd(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pz(e,t){t=t.checked,t!=null&&tC(e,"checked",t,!1)}function eS(e,t){pz(e,t);var r=fd(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tS(e,t.type,r):t.hasOwnProperty("defaultValue")&&tS(e,t.type,fd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function DL(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function tS(e,t,r){(t!=="number"||x9(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _g=Array.isArray;function q0(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+fd(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,i&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function rS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return rr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function NL(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(de(92));if(_g(r)){if(1<r.length)throw Error(de(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fd(r)}}function hz(e,t){var r=fd(t.value),i=fd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function jL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mz(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mz(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var c3,yz=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(c3=c3||document.createElement("div"),c3.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=c3.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function m1(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Tb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yre=["Webkit","ms","Moz","O"];Object.keys(Tb).forEach(function(e){Yre.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tb[t]=Tb[e]})});function gz(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Tb.hasOwnProperty(e)&&Tb[e]?(""+t).trim():t+"px"}function bz(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=gz(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,n):e[r]=n}}var Kre=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nS(e,t){if(t){if(Kre[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function sS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aS=null;function sC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oS=null,H0=null,W0=null;function VL(e){if(e=_2(e)){if(typeof oS!="function")throw Error(de(280));var t=e.stateNode;t&&(t=A6(t),oS(e.stateNode,e.type,t))}}function vz(e){H0?W0?W0.push(e):W0=[e]:H0=e}function wz(){if(H0){var e=H0,t=W0;if(W0=H0=null,VL(e),t)for(e=0;e<t.length;e++)VL(t[e])}}function _z(e,t){return e(t)}function Sz(){}var v8=!1;function xz(e,t,r){if(v8)return e(t,r);v8=!0;try{return _z(e,t,r)}finally{v8=!1,(H0!==null||W0!==null)&&(Sz(),wz())}}function y1(e,t){var r=e.stateNode;if(r===null)return null;var i=A6(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(de(231,t,typeof r));return r}var lS=!1;if(dc)try{var Oy={};Object.defineProperty(Oy,"passive",{get:function(){lS=!0}}),window.addEventListener("test",Oy,Oy),window.removeEventListener("test",Oy,Oy)}catch{lS=!1}function Xre(e,t,r,i,n,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Cb=!1,M9=null,I9=!1,cS=null,eie={onError:function(e){Cb=!0,M9=e}};function tie(e,t,r,i,n,s,a,o,l){Cb=!1,M9=null,Xre.apply(eie,arguments)}function rie(e,t,r,i,n,s,a,o,l){if(tie.apply(this,arguments),Cb){if(Cb){var c=M9;Cb=!1,M9=null}else throw Error(de(198));I9||(I9=!0,cS=c)}}function Vp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mz(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zL(e){if(Vp(e)!==e)throw Error(de(188))}function iie(e){var t=e.alternate;if(!t){if(t=Vp(e),t===null)throw Error(de(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(n===null)break;var s=n.alternate;if(s===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return zL(n),e;if(s===i)return zL(n),t;s=s.sibling}throw Error(de(188))}if(r.return!==i.return)r=n,i=s;else{for(var a=!1,o=n.child;o;){if(o===r){a=!0,r=n,i=s;break}if(o===i){a=!0,i=n,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,i=n;break}if(o===i){a=!0,i=s,r=n;break}o=o.sibling}if(!a)throw Error(de(189))}}if(r.alternate!==i)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?e:t}function Iz(e){return e=iie(e),e!==null?$z(e):null}function $z(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$z(e);if(t!==null)return t;e=e.sibling}return null}var Tz=ws.unstable_scheduleCallback,BL=ws.unstable_cancelCallback,nie=ws.unstable_shouldYield,sie=ws.unstable_requestPaint,wr=ws.unstable_now,aie=ws.unstable_getCurrentPriorityLevel,aC=ws.unstable_ImmediatePriority,Cz=ws.unstable_UserBlockingPriority,$9=ws.unstable_NormalPriority,oie=ws.unstable_LowPriority,Ez=ws.unstable_IdlePriority,T6=null,Zo=null;function lie(e){if(Zo&&typeof Zo.onCommitFiberRoot=="function")try{Zo.onCommitFiberRoot(T6,e,void 0,(e.current.flags&128)===128)}catch{}}var ro=Math.clz32?Math.clz32:die,cie=Math.log,uie=Math.LN2;function die(e){return e>>>=0,e===0?32:31-(cie(e)/uie|0)|0}var u3=64,d3=4194304;function Sg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function T9(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,n=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~n;o!==0?i=Sg(o):(s&=a,s!==0&&(i=Sg(s)))}else a=r&~n,a!==0?i=Sg(a):s!==0&&(i=Sg(s));if(i===0)return 0;if(t!==0&&t!==i&&(t&n)===0&&(n=i&-i,s=t&-t,n>=s||n===16&&(s&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-ro(t),n=1<<r,i|=e[r],t&=~n;return i}function fie(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pie(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ro(s),o=1<<a,l=n[a];l===-1?((o&r)===0||(o&i)!==0)&&(n[a]=fie(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function uS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kz(){var e=u3;return u3<<=1,(u3&4194240)===0&&(u3=64),e}function w8(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function v2(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ro(t),e[t]=r}function hie(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-ro(r),s=1<<n;t[n]=0,i[n]=-1,e[n]=-1,r&=~s}}function oC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-ro(r),n=1<<i;n&t|e[i]&t&&(e[i]|=t),r&=~n}}var xt=0;function Az(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Lz,lC,Rz,Pz,Oz,dS=!1,f3=[],Ju=null,Zu=null,Qu=null,g1=new Map,b1=new Map,Lu=[],mie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UL(e,t){switch(e){case"focusin":case"focusout":Ju=null;break;case"dragenter":case"dragleave":Zu=null;break;case"mouseover":case"mouseout":Qu=null;break;case"pointerover":case"pointerout":g1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":b1.delete(t.pointerId)}}function Fy(e,t,r,i,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[n]},t!==null&&(t=_2(t),t!==null&&lC(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function yie(e,t,r,i,n){switch(t){case"focusin":return Ju=Fy(Ju,e,t,r,i,n),!0;case"dragenter":return Zu=Fy(Zu,e,t,r,i,n),!0;case"mouseover":return Qu=Fy(Qu,e,t,r,i,n),!0;case"pointerover":var s=n.pointerId;return g1.set(s,Fy(g1.get(s)||null,e,t,r,i,n)),!0;case"gotpointercapture":return s=n.pointerId,b1.set(s,Fy(b1.get(s)||null,e,t,r,i,n)),!0}return!1}function Fz(e){var t=Gf(e.target);if(t!==null){var r=Vp(t);if(r!==null){if(t=r.tag,t===13){if(t=Mz(r),t!==null){e.blockedOn=t,Oz(e.priority,function(){Rz(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);aS=i,r.target.dispatchEvent(i),aS=null}else return t=_2(r),t!==null&&lC(t),e.blockedOn=r,!1;t.shift()}return!0}function GL(e,t,r){Uv(e)&&r.delete(t)}function gie(){dS=!1,Ju!==null&&Uv(Ju)&&(Ju=null),Zu!==null&&Uv(Zu)&&(Zu=null),Qu!==null&&Uv(Qu)&&(Qu=null),g1.forEach(GL),b1.forEach(GL)}function Dy(e,t){e.blockedOn===t&&(e.blockedOn=null,dS||(dS=!0,ws.unstable_scheduleCallback(ws.unstable_NormalPriority,gie)))}function v1(e){function t(n){return Dy(n,e)}if(0<f3.length){Dy(f3[0],e);for(var r=1;r<f3.length;r++){var i=f3[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Ju!==null&&Dy(Ju,e),Zu!==null&&Dy(Zu,e),Qu!==null&&Dy(Qu,e),g1.forEach(t),b1.forEach(t),r=0;r<Lu.length;r++)i=Lu[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Lu.length&&(r=Lu[0],r.blockedOn===null);)Fz(r),r.blockedOn===null&&Lu.shift()}var J0=wc.ReactCurrentBatchConfig,C9=!0;function bie(e,t,r,i){var n=xt,s=J0.transition;J0.transition=null;try{xt=1,cC(e,t,r,i)}finally{xt=n,J0.transition=s}}function vie(e,t,r,i){var n=xt,s=J0.transition;J0.transition=null;try{xt=4,cC(e,t,r,i)}finally{xt=n,J0.transition=s}}function cC(e,t,r,i){if(C9){var n=fS(e,t,r,i);if(n===null)k8(e,t,i,E9,r),UL(e,i);else if(yie(n,e,t,r,i))i.stopPropagation();else if(UL(e,i),t&4&&-1<mie.indexOf(e)){for(;n!==null;){var s=_2(n);if(s!==null&&Lz(s),s=fS(e,t,r,i),s===null&&k8(e,t,i,E9,r),s===n)break;n=s}n!==null&&i.stopPropagation()}else k8(e,t,i,null,r)}}var E9=null;function fS(e,t,r,i){if(E9=null,e=sC(i),e=Gf(e),e!==null)if(t=Vp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mz(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return E9=e,null}function Dz(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aie()){case aC:return 1;case Cz:return 4;case $9:case oie:return 16;case Ez:return 536870912;default:return 16}default:return 16}}var Fu=null,uC=null,Gv=null;function Nz(){if(Gv)return Gv;var e,t=uC,r=t.length,i,n="value"in Fu?Fu.value:Fu.textContent,s=n.length;for(e=0;e<r&&t[e]===n[e];e++);var a=r-e;for(i=1;i<=a&&t[r-i]===n[s-i];i++);return Gv=n.slice(e,1<i?1-i:void 0)}function qv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function p3(){return!0}function qL(){return!1}function Is(e){function t(r,i,n,s,a){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?p3:qL,this.isPropagationStopped=qL,this}return rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=p3)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=p3)},persist:function(){},isPersistent:p3}),t}var ey={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dC=Is(ey),w2=rr({},ey,{view:0,detail:0}),wie=Is(w2),_8,S8,Ny,C6=rr({},w2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ny&&(Ny&&e.type==="mousemove"?(_8=e.screenX-Ny.screenX,S8=e.screenY-Ny.screenY):S8=_8=0,Ny=e),_8)},movementY:function(e){return"movementY"in e?e.movementY:S8}}),HL=Is(C6),_ie=rr({},C6,{dataTransfer:0}),Sie=Is(_ie),xie=rr({},w2,{relatedTarget:0}),x8=Is(xie),Mie=rr({},ey,{animationName:0,elapsedTime:0,pseudoElement:0}),Iie=Is(Mie),$ie=rr({},ey,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tie=Is($ie),Cie=rr({},ey,{data:0}),WL=Is(Cie),Eie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lie(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Aie[e])?!!t[e]:!1}function fC(){return Lie}var Rie=rr({},w2,{key:function(e){if(e.key){var t=Eie[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kie[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fC,charCode:function(e){return e.type==="keypress"?qv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pie=Is(Rie),Oie=rr({},C6,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JL=Is(Oie),Fie=rr({},w2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fC}),Die=Is(Fie),Nie=rr({},ey,{propertyName:0,elapsedTime:0,pseudoElement:0}),jie=Is(Nie),Vie=rr({},C6,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zie=Is(Vie),Bie=[9,13,27,32],pC=dc&&"CompositionEvent"in window,Eb=null;dc&&"documentMode"in document&&(Eb=document.documentMode);var Uie=dc&&"TextEvent"in window&&!Eb,jz=dc&&(!pC||Eb&&8<Eb&&11>=Eb),ZL=String.fromCharCode(32),QL=!1;function Vz(e,t){switch(e){case"keyup":return Bie.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zz(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var v0=!1;function Gie(e,t){switch(e){case"compositionend":return zz(t);case"keypress":return t.which!==32?null:(QL=!0,ZL);case"textInput":return e=t.data,e===ZL&&QL?null:e;default:return null}}function qie(e,t){if(v0)return e==="compositionend"||!pC&&Vz(e,t)?(e=Nz(),Gv=uC=Fu=null,v0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jz&&t.locale!=="ko"?null:t.data;default:return null}}var Hie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hie[e.type]:t==="textarea"}function Bz(e,t,r,i){vz(i),t=k9(t,"onChange"),0<t.length&&(r=new dC("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var kb=null,w1=null;function Wie(e){Xz(e,0)}function E6(e){var t=S0(e);if(fz(t))return e}function Jie(e,t){if(e==="change")return t}var Uz=!1;if(dc){var M8;if(dc){var I8="oninput"in document;if(!I8){var KL=document.createElement("div");KL.setAttribute("oninput","return;"),I8=typeof KL.oninput=="function"}M8=I8}else M8=!1;Uz=M8&&(!document.documentMode||9<document.documentMode)}function XL(){kb&&(kb.detachEvent("onpropertychange",Gz),w1=kb=null)}function Gz(e){if(e.propertyName==="value"&&E6(w1)){var t=[];Bz(t,w1,e,sC(e)),xz(Wie,t)}}function Zie(e,t,r){e==="focusin"?(XL(),kb=t,w1=r,kb.attachEvent("onpropertychange",Gz)):e==="focusout"&&XL()}function Qie(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return E6(w1)}function Yie(e,t){if(e==="click")return E6(t)}function Kie(e,t){if(e==="input"||e==="change")return E6(t)}function Xie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lo=typeof Object.is=="function"?Object.is:Xie;function _1(e,t){if(lo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!J_.call(t,n)||!lo(e[n],t[n]))return!1}return!0}function eR(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tR(e,t){var r=eR(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eR(r)}}function qz(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qz(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hz(){for(var e=window,t=x9();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=x9(e.document)}return t}function hC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ene(e){var t=Hz(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qz(r.ownerDocument.documentElement,r)){if(i!==null&&hC(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,s=Math.min(i.start,n);i=i.end===void 0?s:Math.min(i.end,n),!e.extend&&s>i&&(n=i,i=s,s=n),n=tR(r,s);var a=tR(r,i);n&&a&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tne=dc&&"documentMode"in document&&11>=document.documentMode,w0=null,pS=null,Ab=null,hS=!1;function rR(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hS||w0==null||w0!==x9(i)||(i=w0,"selectionStart"in i&&hC(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ab&&_1(Ab,i)||(Ab=i,i=k9(pS,"onSelect"),0<i.length&&(t=new dC("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=w0)))}function h3(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _0={animationend:h3("Animation","AnimationEnd"),animationiteration:h3("Animation","AnimationIteration"),animationstart:h3("Animation","AnimationStart"),transitionend:h3("Transition","TransitionEnd")},$8={},Wz={};dc&&(Wz=document.createElement("div").style,"AnimationEvent"in window||(delete _0.animationend.animation,delete _0.animationiteration.animation,delete _0.animationstart.animation),"TransitionEvent"in window||delete _0.transitionend.transition);function k6(e){if($8[e])return $8[e];if(!_0[e])return e;var t=_0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Wz)return $8[e]=t[r];return e}var Jz=k6("animationend"),Zz=k6("animationiteration"),Qz=k6("animationstart"),Yz=k6("transitionend"),Kz=new Map,iR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _d(e,t){Kz.set(e,t),jp(t,[e])}for(var T8=0;T8<iR.length;T8++){var C8=iR[T8],rne=C8.toLowerCase(),ine=C8[0].toUpperCase()+C8.slice(1);_d(rne,"on"+ine)}_d(Jz,"onAnimationEnd");_d(Zz,"onAnimationIteration");_d(Qz,"onAnimationStart");_d("dblclick","onDoubleClick");_d("focusin","onFocus");_d("focusout","onBlur");_d(Yz,"onTransitionEnd");vm("onMouseEnter",["mouseout","mouseover"]);vm("onMouseLeave",["mouseout","mouseover"]);vm("onPointerEnter",["pointerout","pointerover"]);vm("onPointerLeave",["pointerout","pointerover"]);jp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jp("onBeforeInput",["compositionend","keypress","textInput","paste"]);jp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nne=new Set("cancel close invalid load scroll toggle".split(" ").concat(xg));function nR(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,rie(i,t,void 0,e),e.currentTarget=null}function Xz(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;nR(n,o,c),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;nR(n,o,c),s=l}}}if(I9)throw e=cS,I9=!1,cS=null,e}function Lt(e,t){var r=t[vS];r===void 0&&(r=t[vS]=new Set);var i=e+"__bubble";r.has(i)||(eB(t,e,2,!1),r.add(i))}function E8(e,t,r){var i=0;t&&(i|=4),eB(r,e,i,t)}var m3="_reactListening"+Math.random().toString(36).slice(2);function S1(e){if(!e[m3]){e[m3]=!0,oz.forEach(function(r){r!=="selectionchange"&&(nne.has(r)||E8(r,!1,e),E8(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[m3]||(t[m3]=!0,E8("selectionchange",!1,t))}}function eB(e,t,r,i){switch(Dz(t)){case 1:var n=bie;break;case 4:n=vie;break;default:n=cC}r=n.bind(null,t,r,e),n=void 0,!lS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function k8(e,t,r,i,n){var s=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;a=a.return}for(;o!==null;){if(a=Gf(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}xz(function(){var c=s,d=sC(r),p=[];e:{var h=Kz.get(e);if(h!==void 0){var m=dC,g=e;switch(e){case"keypress":if(qv(r)===0)break e;case"keydown":case"keyup":m=Pie;break;case"focusin":g="focus",m=x8;break;case"focusout":g="blur",m=x8;break;case"beforeblur":case"afterblur":m=x8;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=HL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Sie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Die;break;case Jz:case Zz:case Qz:m=Iie;break;case Yz:m=jie;break;case"scroll":m=wie;break;case"wheel":m=zie;break;case"copy":case"cut":case"paste":m=Tie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JL}var b=(t&4)!==0,w=!b&&e==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var _=c,S;_!==null;){S=_;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,v!==null&&(x=y1(_,v),x!=null&&b.push(x1(_,x,S)))),w)break;_=_.return}0<b.length&&(h=new m(h,g,null,r,d),p.push({event:h,listeners:b}))}}if((t&7)===0){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==aS&&(g=r.relatedTarget||r.fromElement)&&(Gf(g)||g[fc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=c,g=g?Gf(g):null,g!==null&&(w=Vp(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(b=HL,x="onMouseLeave",v="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=JL,x="onPointerLeave",v="onPointerEnter",_="pointer"),w=m==null?h:S0(m),S=g==null?h:S0(g),h=new b(x,_+"leave",m,r,d),h.target=w,h.relatedTarget=S,x=null,Gf(d)===c&&(b=new b(v,_+"enter",g,r,d),b.target=S,b.relatedTarget=w,x=b),w=x,m&&g)t:{for(b=m,v=g,_=0,S=b;S;S=rh(S))_++;for(S=0,x=v;x;x=rh(x))S++;for(;0<_-S;)b=rh(b),_--;for(;0<S-_;)v=rh(v),S--;for(;_--;){if(b===v||v!==null&&b===v.alternate)break t;b=rh(b),v=rh(v)}b=null}else b=null;m!==null&&sR(p,h,m,b,!1),g!==null&&w!==null&&sR(p,w,g,b,!0)}}e:{if(h=c?S0(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var M=Jie;else if(YL(h))if(Uz)M=Kie;else{M=Qie;var I=Zie}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(M=Yie);if(M&&(M=M(e,c))){Bz(p,M,r,d);break e}I&&I(e,h,c),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&tS(h,"number",h.value)}switch(I=c?S0(c):window,e){case"focusin":(YL(I)||I.contentEditable==="true")&&(w0=I,pS=c,Ab=null);break;case"focusout":Ab=pS=w0=null;break;case"mousedown":hS=!0;break;case"contextmenu":case"mouseup":case"dragend":hS=!1,rR(p,r,d);break;case"selectionchange":if(tne)break;case"keydown":case"keyup":rR(p,r,d)}var $;if(pC)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else v0?Vz(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(jz&&r.locale!=="ko"&&(v0||T!=="onCompositionStart"?T==="onCompositionEnd"&&v0&&($=Nz()):(Fu=d,uC="value"in Fu?Fu.value:Fu.textContent,v0=!0)),I=k9(c,T),0<I.length&&(T=new WL(T,e,null,r,d),p.push({event:T,listeners:I}),$?T.data=$:($=zz(r),$!==null&&(T.data=$)))),($=Uie?Gie(e,r):qie(e,r))&&(c=k9(c,"onBeforeInput"),0<c.length&&(d=new WL("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=$))}Xz(p,t)})}function x1(e,t,r){return{instance:e,listener:t,currentTarget:r}}function k9(e,t){for(var r=t+"Capture",i=[];e!==null;){var n=e,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=y1(e,r),s!=null&&i.unshift(x1(e,s,n)),s=y1(e,t),s!=null&&i.push(x1(e,s,n))),e=e.return}return i}function rh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sR(e,t,r,i,n){for(var s=t._reactName,a=[];r!==null&&r!==i;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,n?(l=y1(r,s),l!=null&&a.unshift(x1(r,l,o))):n||(l=y1(r,s),l!=null&&a.push(x1(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var sne=/\r\n?/g,ane=/\u0000|\uFFFD/g;function aR(e){return(typeof e=="string"?e:""+e).replace(sne,`
`).replace(ane,"")}function y3(e,t,r){if(t=aR(t),aR(e)!==t&&r)throw Error(de(425))}function A9(){}var mS=null,yS=null;function gS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bS=typeof setTimeout=="function"?setTimeout:void 0,one=typeof clearTimeout=="function"?clearTimeout:void 0,oR=typeof Promise=="function"?Promise:void 0,lne=typeof queueMicrotask=="function"?queueMicrotask:typeof oR<"u"?function(e){return oR.resolve(null).then(e).catch(cne)}:bS;function cne(e){setTimeout(function(){throw e})}function A8(e,t){var r=t,i=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){e.removeChild(n),v1(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);v1(t)}function Yu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lR(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ty=Math.random().toString(36).slice(2),Go="__reactFiber$"+ty,M1="__reactProps$"+ty,fc="__reactContainer$"+ty,vS="__reactEvents$"+ty,une="__reactListeners$"+ty,dne="__reactHandles$"+ty;function Gf(e){var t=e[Go];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fc]||r[Go]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lR(e);e!==null;){if(r=e[Go])return r;e=lR(e)}return t}e=r,r=e.parentNode}return null}function _2(e){return e=e[Go]||e[fc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function S0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function A6(e){return e[M1]||null}var wS=[],x0=-1;function Sd(e){return{current:e}}function Ft(e){0>x0||(e.current=wS[x0],wS[x0]=null,x0--)}function kt(e,t){x0++,wS[x0]=e.current,e.current=t}var pd={},ji=Sd(pd),Ln=Sd(!1),bp=pd;function wm(e,t){var r=e.type.contextTypes;if(!r)return pd;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in r)n[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Rn(e){return e=e.childContextTypes,e!=null}function L9(){Ft(Ln),Ft(ji)}function cR(e,t,r){if(ji.current!==pd)throw Error(de(168));kt(ji,t),kt(Ln,r)}function tB(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in t))throw Error(de(108,Zre(e)||"Unknown",n));return rr({},r,i)}function R9(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pd,bp=ji.current,kt(ji,e),kt(Ln,Ln.current),!0}function uR(e,t,r){var i=e.stateNode;if(!i)throw Error(de(169));r?(e=tB(e,t,bp),i.__reactInternalMemoizedMergedChildContext=e,Ft(Ln),Ft(ji),kt(ji,e)):Ft(Ln),kt(Ln,r)}var Yl=null,L6=!1,L8=!1;function rB(e){Yl===null?Yl=[e]:Yl.push(e)}function fne(e){L6=!0,rB(e)}function xd(){if(!L8&&Yl!==null){L8=!0;var e=0,t=xt;try{var r=Yl;for(xt=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Yl=null,L6=!1}catch(n){throw Yl!==null&&(Yl=Yl.slice(e+1)),Tz(aC,xd),n}finally{xt=t,L8=!1}}return null}var M0=[],I0=0,P9=null,O9=0,Qs=[],Ys=0,vp=null,tc=1,rc="";function zd(e,t){M0[I0++]=O9,M0[I0++]=P9,P9=e,O9=t}function iB(e,t,r){Qs[Ys++]=tc,Qs[Ys++]=rc,Qs[Ys++]=vp,vp=e;var i=tc;e=rc;var n=32-ro(i)-1;i&=~(1<<n),r+=1;var s=32-ro(t)+n;if(30<s){var a=n-n%5;s=(i&(1<<a)-1).toString(32),i>>=a,n-=a,tc=1<<32-ro(t)+n|r<<n|i,rc=s+e}else tc=1<<s|r<<n|i,rc=e}function mC(e){e.return!==null&&(zd(e,1),iB(e,1,0))}function yC(e){for(;e===P9;)P9=M0[--I0],M0[I0]=null,O9=M0[--I0],M0[I0]=null;for(;e===vp;)vp=Qs[--Ys],Qs[Ys]=null,rc=Qs[--Ys],Qs[Ys]=null,tc=Qs[--Ys],Qs[Ys]=null}var hs=null,fs=null,qt=!1,Ja=null;function nB(e,t){var r=ea(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function dR(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hs=e,fs=Yu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hs=e,fs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vp!==null?{id:tc,overflow:rc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ea(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hs=e,fs=null,!0):!1;default:return!1}}function _S(e){return(e.mode&1)!==0&&(e.flags&128)===0}function SS(e){if(qt){var t=fs;if(t){var r=t;if(!dR(e,t)){if(_S(e))throw Error(de(418));t=Yu(r.nextSibling);var i=hs;t&&dR(e,t)?nB(i,r):(e.flags=e.flags&-4097|2,qt=!1,hs=e)}}else{if(_S(e))throw Error(de(418));e.flags=e.flags&-4097|2,qt=!1,hs=e}}}function fR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hs=e}function g3(e){if(e!==hs)return!1;if(!qt)return fR(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gS(e.type,e.memoizedProps)),t&&(t=fs)){if(_S(e))throw sB(),Error(de(418));for(;t;)nB(e,t),t=Yu(t.nextSibling)}if(fR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fs=Yu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fs=null}}else fs=hs?Yu(e.stateNode.nextSibling):null;return!0}function sB(){for(var e=fs;e;)e=Yu(e.nextSibling)}function _m(){fs=hs=null,qt=!1}function gC(e){Ja===null?Ja=[e]:Ja.push(e)}var pne=wc.ReactCurrentBatchConfig;function Ua(e,t){if(e&&e.defaultProps){t=rr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var F9=Sd(null),D9=null,$0=null,bC=null;function vC(){bC=$0=D9=null}function wC(e){var t=F9.current;Ft(F9),e._currentValue=t}function xS(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Z0(e,t){D9=e,bC=$0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(kn=!0),e.firstContext=null)}function aa(e){var t=e._currentValue;if(bC!==e)if(e={context:e,memoizedValue:t,next:null},$0===null){if(D9===null)throw Error(de(308));$0=e,D9.dependencies={lanes:0,firstContext:e}}else $0=$0.next=e;return t}var qf=null;function _C(e){qf===null?qf=[e]:qf.push(e)}function aB(e,t,r,i){var n=t.interleaved;return n===null?(r.next=r,_C(t)):(r.next=n.next,n.next=r),t.interleaved=r,pc(e,i)}function pc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mu=!1;function SC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ku(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(lt&2)!==0){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,pc(e,r)}return n=i.interleaved,n===null?(t.next=t,_C(i)):(t.next=n.next,n.next=t),i.interleaved=t,pc(e,r)}function Hv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,oC(e,r)}}function pR(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?n=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?n=s=t:s=s.next=t}else n=s=t;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function N9(e,t,r,i){var n=e.updateQueue;Mu=!1;var s=n.firstBaseUpdate,a=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var p=n.baseState;a=0,d=c=l=null,o=s;do{var h=o.lane,m=o.eventTime;if((i&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,b=o;switch(h=t,m=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){p=g.call(m,p,h);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(m,p,h):g,h==null)break e;p=rr({},p,h);break e;case 2:Mu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=p):d=d.next=m,a|=h;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;h=o,o=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(1);if(d===null&&(l=p),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,t=n.shared.interleaved,t!==null){n=t;do a|=n.lane,n=n.next;while(n!==t)}else s===null&&(n.shared.lanes=0);_p|=a,e.lanes=a,e.memoizedState=p}}function hR(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(de(191,n));n.call(i)}}}var lB=new az.Component().refs;function MS(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:rr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var R6={isMounted:function(e){return(e=e._reactInternals)?Vp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=on(),n=ed(e),s=oc(i,n);s.payload=t,r!=null&&(s.callback=r),t=Ku(e,s,n),t!==null&&(io(t,e,n,i),Hv(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=on(),n=ed(e),s=oc(i,n);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ku(e,s,n),t!==null&&(io(t,e,n,i),Hv(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=on(),i=ed(e),n=oc(r,i);n.tag=2,t!=null&&(n.callback=t),t=Ku(e,n,i),t!==null&&(io(t,e,i,r),Hv(t,e,i))}};function mR(e,t,r,i,n,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!_1(r,i)||!_1(n,s):!0}function cB(e,t,r){var i=!1,n=pd,s=t.contextType;return typeof s=="object"&&s!==null?s=aa(s):(n=Rn(t)?bp:ji.current,i=t.contextTypes,s=(i=i!=null)?wm(e,n):pd),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=R6,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function yR(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&R6.enqueueReplaceState(t,t.state,null)}function IS(e,t,r,i){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs=lB,SC(e);var s=t.contextType;typeof s=="object"&&s!==null?n.context=aa(s):(s=Rn(t)?bp:ji.current,n.context=wm(e,s)),n.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(MS(e,t,s,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&R6.enqueueReplaceState(n,n.state,null),N9(e,r,n,i),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function jy(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var i=r.stateNode}if(!i)throw Error(de(147,e));var n=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=n.refs;o===lB&&(o=n.refs={}),a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,e))}return e}function b3(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gR(e){var t=e._init;return t(e._payload)}function uB(e){function t(v,_){if(e){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function r(v,_){if(!e)return null;for(;_!==null;)t(v,_),_=_.sibling;return null}function i(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function n(v,_){return v=td(v,_),v.index=0,v.sibling=null,v}function s(v,_,S){return v.index=S,e?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=2,_):S):(v.flags|=2,_)):(v.flags|=1048576,_)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,_,S,x){return _===null||_.tag!==6?(_=j8(S,v.mode,x),_.return=v,_):(_=n(_,S),_.return=v,_)}function l(v,_,S,x){var M=S.type;return M===b0?d(v,_,S.props.children,x,S.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===xu&&gR(M)===_.type)?(x=n(_,S.props),x.ref=jy(v,_,S),x.return=v,x):(x=Kv(S.type,S.key,S.props,null,v.mode,x),x.ref=jy(v,_,S),x.return=v,x)}function c(v,_,S,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=V8(S,v.mode,x),_.return=v,_):(_=n(_,S.children||[]),_.return=v,_)}function d(v,_,S,x,M){return _===null||_.tag!==7?(_=ap(S,v.mode,x,M),_.return=v,_):(_=n(_,S),_.return=v,_)}function p(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=j8(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case o3:return S=Kv(_.type,_.key,_.props,null,v.mode,S),S.ref=jy(v,null,_),S.return=v,S;case g0:return _=V8(_,v.mode,S),_.return=v,_;case xu:var x=_._init;return p(v,x(_._payload),S)}if(_g(_)||Py(_))return _=ap(_,v.mode,S,null),_.return=v,_;b3(v,_)}return null}function h(v,_,S,x){var M=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:o(v,_,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case o3:return S.key===M?l(v,_,S,x):null;case g0:return S.key===M?c(v,_,S,x):null;case xu:return M=S._init,h(v,_,M(S._payload),x)}if(_g(S)||Py(S))return M!==null?null:d(v,_,S,x,null);b3(v,S)}return null}function m(v,_,S,x,M){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(S)||null,o(_,v,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case o3:return v=v.get(x.key===null?S:x.key)||null,l(_,v,x,M);case g0:return v=v.get(x.key===null?S:x.key)||null,c(_,v,x,M);case xu:var I=x._init;return m(v,_,S,I(x._payload),M)}if(_g(x)||Py(x))return v=v.get(S)||null,d(_,v,x,M,null);b3(_,x)}return null}function g(v,_,S,x){for(var M=null,I=null,$=_,T=_=0,A=null;$!==null&&T<S.length;T++){$.index>T?(A=$,$=null):A=$.sibling;var P=h(v,$,S[T],x);if(P===null){$===null&&($=A);break}e&&$&&P.alternate===null&&t(v,$),_=s(P,_,T),I===null?M=P:I.sibling=P,I=P,$=A}if(T===S.length)return r(v,$),qt&&zd(v,T),M;if($===null){for(;T<S.length;T++)$=p(v,S[T],x),$!==null&&(_=s($,_,T),I===null?M=$:I.sibling=$,I=$);return qt&&zd(v,T),M}for($=i(v,$);T<S.length;T++)A=m($,v,T,S[T],x),A!==null&&(e&&A.alternate!==null&&$.delete(A.key===null?T:A.key),_=s(A,_,T),I===null?M=A:I.sibling=A,I=A);return e&&$.forEach(function(F){return t(v,F)}),qt&&zd(v,T),M}function b(v,_,S,x){var M=Py(S);if(typeof M!="function")throw Error(de(150));if(S=M.call(S),S==null)throw Error(de(151));for(var I=M=null,$=_,T=_=0,A=null,P=S.next();$!==null&&!P.done;T++,P=S.next()){$.index>T?(A=$,$=null):A=$.sibling;var F=h(v,$,P.value,x);if(F===null){$===null&&($=A);break}e&&$&&F.alternate===null&&t(v,$),_=s(F,_,T),I===null?M=F:I.sibling=F,I=F,$=A}if(P.done)return r(v,$),qt&&zd(v,T),M;if($===null){for(;!P.done;T++,P=S.next())P=p(v,P.value,x),P!==null&&(_=s(P,_,T),I===null?M=P:I.sibling=P,I=P);return qt&&zd(v,T),M}for($=i(v,$);!P.done;T++,P=S.next())P=m($,v,T,P.value,x),P!==null&&(e&&P.alternate!==null&&$.delete(P.key===null?T:P.key),_=s(P,_,T),I===null?M=P:I.sibling=P,I=P);return e&&$.forEach(function(j){return t(v,j)}),qt&&zd(v,T),M}function w(v,_,S,x){if(typeof S=="object"&&S!==null&&S.type===b0&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case o3:e:{for(var M=S.key,I=_;I!==null;){if(I.key===M){if(M=S.type,M===b0){if(I.tag===7){r(v,I.sibling),_=n(I,S.props.children),_.return=v,v=_;break e}}else if(I.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===xu&&gR(M)===I.type){r(v,I.sibling),_=n(I,S.props),_.ref=jy(v,I,S),_.return=v,v=_;break e}r(v,I);break}else t(v,I);I=I.sibling}S.type===b0?(_=ap(S.props.children,v.mode,x,S.key),_.return=v,v=_):(x=Kv(S.type,S.key,S.props,null,v.mode,x),x.ref=jy(v,_,S),x.return=v,v=x)}return a(v);case g0:e:{for(I=S.key;_!==null;){if(_.key===I)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){r(v,_.sibling),_=n(_,S.children||[]),_.return=v,v=_;break e}else{r(v,_);break}else t(v,_);_=_.sibling}_=V8(S,v.mode,x),_.return=v,v=_}return a(v);case xu:return I=S._init,w(v,_,I(S._payload),x)}if(_g(S))return g(v,_,S,x);if(Py(S))return b(v,_,S,x);b3(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(r(v,_.sibling),_=n(_,S),_.return=v,v=_):(r(v,_),_=j8(S,v.mode,x),_.return=v,v=_),a(v)):r(v,_)}return w}var Sm=uB(!0),dB=uB(!1),S2={},Qo=Sd(S2),I1=Sd(S2),$1=Sd(S2);function Hf(e){if(e===S2)throw Error(de(174));return e}function xC(e,t){switch(kt($1,t),kt(I1,e),kt(Qo,S2),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iS(t,e)}Ft(Qo),kt(Qo,t)}function xm(){Ft(Qo),Ft(I1),Ft($1)}function fB(e){Hf($1.current);var t=Hf(Qo.current),r=iS(t,e.type);t!==r&&(kt(I1,e),kt(Qo,r))}function MC(e){I1.current===e&&(Ft(Qo),Ft(I1))}var Yt=Sd(0);function j9(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R8=[];function IC(){for(var e=0;e<R8.length;e++)R8[e]._workInProgressVersionPrimary=null;R8.length=0}var Wv=wc.ReactCurrentDispatcher,P8=wc.ReactCurrentBatchConfig,wp=0,er=null,Wr=null,ni=null,V9=!1,Lb=!1,T1=0,hne=0;function xi(){throw Error(de(321))}function $C(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lo(e[r],t[r]))return!1;return!0}function TC(e,t,r,i,n,s){if(wp=s,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wv.current=e===null||e.memoizedState===null?bne:vne,e=r(i,n),Lb){s=0;do{if(Lb=!1,T1=0,25<=s)throw Error(de(301));s+=1,ni=Wr=null,t.updateQueue=null,Wv.current=wne,e=r(i,n)}while(Lb)}if(Wv.current=z9,t=Wr!==null&&Wr.next!==null,wp=0,ni=Wr=er=null,V9=!1,t)throw Error(de(300));return e}function CC(){var e=T1!==0;return T1=0,e}function jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?er.memoizedState=ni=e:ni=ni.next=e,ni}function oa(){if(Wr===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=Wr.next;var t=ni===null?er.memoizedState:ni.next;if(t!==null)ni=t,Wr=e;else{if(e===null)throw Error(de(310));Wr=e,e={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},ni===null?er.memoizedState=ni=e:ni=ni.next=e}return ni}function C1(e,t){return typeof t=="function"?t(e):t}function O8(e){var t=oa(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var i=Wr,n=i.baseQueue,s=r.pending;if(s!==null){if(n!==null){var a=n.next;n.next=s.next,s.next=a}i.baseQueue=n=s,r.pending=null}if(n!==null){s=n.next,i=i.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((wp&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=p,a=i):l=l.next=p,er.lanes|=d,_p|=d}c=c.next}while(c!==null&&c!==s);l===null?a=i:l.next=o,lo(i,t.memoizedState)||(kn=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=l,r.lastRenderedState=i}if(e=r.interleaved,e!==null){n=e;do s=n.lane,er.lanes|=s,_p|=s,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function F8(e){var t=oa(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,s=t.memoizedState;if(n!==null){r.pending=null;var a=n=n.next;do s=e(s,a.action),a=a.next;while(a!==n);lo(s,t.memoizedState)||(kn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,i]}function pB(){}function hB(e,t){var r=er,i=oa(),n=t(),s=!lo(i.memoizedState,n);if(s&&(i.memoizedState=n,kn=!0),i=i.queue,EC(gB.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||ni!==null&&ni.memoizedState.tag&1){if(r.flags|=2048,E1(9,yB.bind(null,r,i,n,t),void 0,null),si===null)throw Error(de(349));(wp&30)!==0||mB(r,t,n)}return n}function mB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yB(e,t,r,i){t.value=r,t.getSnapshot=i,bB(t)&&vB(e)}function gB(e,t,r){return r(function(){bB(t)&&vB(e)})}function bB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lo(e,r)}catch{return!0}}function vB(e){var t=pc(e,1);t!==null&&io(t,e,1,-1)}function bR(e){var t=jo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:C1,lastRenderedState:e},t.queue=e,e=e.dispatch=gne.bind(null,er,e),[t.memoizedState,e]}function E1(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function wB(){return oa().memoizedState}function Jv(e,t,r,i){var n=jo();er.flags|=e,n.memoizedState=E1(1|t,r,void 0,i===void 0?null:i)}function P6(e,t,r,i){var n=oa();i=i===void 0?null:i;var s=void 0;if(Wr!==null){var a=Wr.memoizedState;if(s=a.destroy,i!==null&&$C(i,a.deps)){n.memoizedState=E1(t,r,s,i);return}}er.flags|=e,n.memoizedState=E1(1|t,r,s,i)}function vR(e,t){return Jv(8390656,8,e,t)}function EC(e,t){return P6(2048,8,e,t)}function _B(e,t){return P6(4,2,e,t)}function SB(e,t){return P6(4,4,e,t)}function xB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MB(e,t,r){return r=r!=null?r.concat([e]):null,P6(4,4,xB.bind(null,t,e),r)}function kC(){}function IB(e,t){var r=oa();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&$C(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function $B(e,t){var r=oa();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&$C(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function TB(e,t,r){return(wp&21)===0?(e.baseState&&(e.baseState=!1,kn=!0),e.memoizedState=r):(lo(r,t)||(r=kz(),er.lanes|=r,_p|=r,e.baseState=!0),t)}function mne(e,t){var r=xt;xt=r!==0&&4>r?r:4,e(!0);var i=P8.transition;P8.transition={};try{e(!1),t()}finally{xt=r,P8.transition=i}}function CB(){return oa().memoizedState}function yne(e,t,r){var i=ed(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},EB(e))kB(t,r);else if(r=aB(e,t,r,i),r!==null){var n=on();io(r,e,i,n),AB(r,t,i)}}function gne(e,t,r){var i=ed(e),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(EB(e))kB(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,r);if(n.hasEagerState=!0,n.eagerState=o,lo(o,a)){var l=t.interleaved;l===null?(n.next=n,_C(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}r=aB(e,t,n,i),r!==null&&(n=on(),io(r,e,i,n),AB(r,t,i))}}function EB(e){var t=e.alternate;return e===er||t!==null&&t===er}function kB(e,t){Lb=V9=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function AB(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,oC(e,r)}}var z9={readContext:aa,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},bne={readContext:aa,useCallback:function(e,t){return jo().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:vR,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jv(4194308,4,xB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jv(4,2,e,t)},useMemo:function(e,t){var r=jo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=jo();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=yne.bind(null,er,e),[i.memoizedState,e]},useRef:function(e){var t=jo();return e={current:e},t.memoizedState=e},useState:bR,useDebugValue:kC,useDeferredValue:function(e){return jo().memoizedState=e},useTransition:function(){var e=bR(!1),t=e[0];return e=mne.bind(null,e[1]),jo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=er,n=jo();if(qt){if(r===void 0)throw Error(de(407));r=r()}else{if(r=t(),si===null)throw Error(de(349));(wp&30)!==0||mB(i,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,vR(gB.bind(null,i,s,e),[e]),i.flags|=2048,E1(9,yB.bind(null,i,s,r,t),void 0,null),r},useId:function(){var e=jo(),t=si.identifierPrefix;if(qt){var r=rc,i=tc;r=(i&~(1<<32-ro(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=T1++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hne++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vne={readContext:aa,useCallback:IB,useContext:aa,useEffect:EC,useImperativeHandle:MB,useInsertionEffect:_B,useLayoutEffect:SB,useMemo:$B,useReducer:O8,useRef:wB,useState:function(){return O8(C1)},useDebugValue:kC,useDeferredValue:function(e){var t=oa();return TB(t,Wr.memoizedState,e)},useTransition:function(){var e=O8(C1)[0],t=oa().memoizedState;return[e,t]},useMutableSource:pB,useSyncExternalStore:hB,useId:CB,unstable_isNewReconciler:!1},wne={readContext:aa,useCallback:IB,useContext:aa,useEffect:EC,useImperativeHandle:MB,useInsertionEffect:_B,useLayoutEffect:SB,useMemo:$B,useReducer:F8,useRef:wB,useState:function(){return F8(C1)},useDebugValue:kC,useDeferredValue:function(e){var t=oa();return Wr===null?t.memoizedState=e:TB(t,Wr.memoizedState,e)},useTransition:function(){var e=F8(C1)[0],t=oa().memoizedState;return[e,t]},useMutableSource:pB,useSyncExternalStore:hB,useId:CB,unstable_isNewReconciler:!1};function Mm(e,t){try{var r="",i=t;do r+=Jre(i),i=i.return;while(i);var n=r}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:n,digest:null}}function D8(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function $S(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _ne=typeof WeakMap=="function"?WeakMap:Map;function LB(e,t,r){r=oc(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){U9||(U9=!0,FS=i),$S(e,t)},r}function RB(e,t,r){r=oc(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var n=t.value;r.payload=function(){return i(n)},r.callback=function(){$S(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){$S(e,t),typeof i!="function"&&(Xu===null?Xu=new Set([this]):Xu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function wR(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new _ne;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(r)||(n.add(r),e=One.bind(null,e,t,r),t.then(e,e))}function _R(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function SR(e,t,r,i,n){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=oc(-1,1),t.tag=2,Ku(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var Sne=wc.ReactCurrentOwner,kn=!1;function tn(e,t,r,i){t.child=e===null?dB(t,null,r,i):Sm(t,e.child,r,i)}function xR(e,t,r,i,n){r=r.render;var s=t.ref;return Z0(t,n),i=TC(e,t,r,i,s,n),r=CC(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,hc(e,t,n)):(qt&&r&&mC(t),t.flags|=1,tn(e,t,i,n),t.child)}function MR(e,t,r,i,n){if(e===null){var s=r.type;return typeof s=="function"&&!NC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,PB(e,t,s,i,n)):(e=Kv(r.type,null,i,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&n)===0){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:_1,r(a,i)&&e.ref===t.ref)return hc(e,t,n)}return t.flags|=1,e=td(s,i),e.ref=t.ref,e.return=t,t.child=e}function PB(e,t,r,i,n){if(e!==null){var s=e.memoizedProps;if(_1(s,i)&&e.ref===t.ref)if(kn=!1,t.pendingProps=i=s,(e.lanes&n)!==0)(e.flags&131072)!==0&&(kn=!0);else return t.lanes=e.lanes,hc(e,t,n)}return TS(e,t,r,i,n)}function OB(e,t,r){var i=t.pendingProps,n=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(C0,ss),ss|=r;else{if((r&1073741824)===0)return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kt(C0,ss),ss|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:r,kt(C0,ss),ss|=i}else s!==null?(i=s.baseLanes|r,t.memoizedState=null):i=r,kt(C0,ss),ss|=i;return tn(e,t,n,r),t.child}function FB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function TS(e,t,r,i,n){var s=Rn(r)?bp:ji.current;return s=wm(t,s),Z0(t,n),r=TC(e,t,r,i,s,n),i=CC(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,hc(e,t,n)):(qt&&i&&mC(t),t.flags|=1,tn(e,t,r,n),t.child)}function IR(e,t,r,i,n){if(Rn(r)){var s=!0;R9(t)}else s=!1;if(Z0(t,n),t.stateNode===null)Zv(e,t),cB(t,r,i),IS(t,r,i,n),i=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=aa(c):(c=Rn(r)?bp:ji.current,c=wm(t,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&yR(t,a,i,c),Mu=!1;var h=t.memoizedState;a.state=h,N9(t,i,a,n),l=t.memoizedState,o!==i||h!==l||Ln.current||Mu?(typeof d=="function"&&(MS(t,r,d,i),l=t.memoizedState),(o=Mu||mR(t,r,o,i,h,l,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,oB(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ua(t.type,o),a.props=c,p=t.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=aa(l):(l=Rn(r)?bp:ji.current,l=wm(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||h!==l)&&yR(t,a,i,l),Mu=!1,h=t.memoizedState,a.state=h,N9(t,i,a,n);var g=t.memoizedState;o!==p||h!==g||Ln.current||Mu?(typeof m=="function"&&(MS(t,r,m,i),g=t.memoizedState),(c=Mu||mR(t,r,c,i,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),a.props=i,a.state=g,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return CS(e,t,r,i,s,n)}function CS(e,t,r,i,n,s){FB(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return n&&uR(t,r,!1),hc(e,t,s);i=t.stateNode,Sne.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=Sm(t,e.child,null,s),t.child=Sm(t,null,o,s)):tn(e,t,o,s),t.memoizedState=i.state,n&&uR(t,r,!0),t.child}function DB(e){var t=e.stateNode;t.pendingContext?cR(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cR(e,t.context,!1),xC(e,t.containerInfo)}function $R(e,t,r,i,n){return _m(),gC(n),t.flags|=256,tn(e,t,r,i),t.child}var ES={dehydrated:null,treeContext:null,retryLane:0};function kS(e){return{baseLanes:e,cachePool:null,transitions:null}}function NB(e,t,r){var i=t.pendingProps,n=Yt.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),kt(Yt,n&1),e===null)return SS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},(i&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=a):s=D6(a,i,0,null),e=ap(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=kS(r),t.memoizedState=ES,e):AC(t,a));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return xne(e,t,a,i,o,n,r);if(s){s=i.fallback,a=t.mode,n=e.child,o=n.sibling;var l={mode:"hidden",children:i.children};return(a&1)===0&&t.child!==n?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=td(n,l),i.subtreeFlags=n.subtreeFlags&14680064),o!==null?s=td(o,s):(s=ap(s,a,r,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=e.child.memoizedState,a=a===null?kS(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=ES,i}return s=e.child,e=s.sibling,i=td(s,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function AC(e,t){return t=D6({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function v3(e,t,r,i){return i!==null&&gC(i),Sm(t,e.child,null,r),e=AC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xne(e,t,r,i,n,s,a){if(r)return t.flags&256?(t.flags&=-257,i=D8(Error(de(422))),v3(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,n=t.mode,i=D6({mode:"visible",children:i.children},n,0,null),s=ap(s,n,a,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,(t.mode&1)!==0&&Sm(t,e.child,null,a),t.child.memoizedState=kS(a),t.memoizedState=ES,s);if((t.mode&1)===0)return v3(e,t,a,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(de(419)),i=D8(s,i,void 0),v3(e,t,a,i)}if(o=(a&e.childLanes)!==0,kn||o){if(i=si,i!==null){switch(a&-a){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=(n&(i.suspendedLanes|a))!==0?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,pc(e,n),io(i,e,n,-1))}return DC(),i=D8(Error(de(421))),v3(e,t,a,i)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Fne.bind(null,e),n._reactRetry=t,null):(e=s.treeContext,fs=Yu(n.nextSibling),hs=t,qt=!0,Ja=null,e!==null&&(Qs[Ys++]=tc,Qs[Ys++]=rc,Qs[Ys++]=vp,tc=e.id,rc=e.overflow,vp=t),t=AC(t,i.children),t.flags|=4096,t)}function TR(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),xS(e.return,t,r)}function N8(e,t,r,i,n){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n)}function jB(e,t,r){var i=t.pendingProps,n=i.revealOrder,s=i.tail;if(tn(e,t,i.children,r),i=Yt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&TR(e,r,t);else if(e.tag===19)TR(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(kt(Yt,i),(t.mode&1)===0)t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&j9(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),N8(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&j9(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}N8(t,!0,r,null,s);break;case"together":N8(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zv(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_p|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,r=td(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=td(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Mne(e,t,r){switch(t.tag){case 3:DB(t),_m();break;case 5:fB(t);break;case 1:Rn(t.type)&&R9(t);break;case 4:xC(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,n=t.memoizedProps.value;kt(F9,i._currentValue),i._currentValue=n;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(kt(Yt,Yt.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?NB(e,t,r):(kt(Yt,Yt.current&1),e=hc(e,t,r),e!==null?e.sibling:null);kt(Yt,Yt.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return jB(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),kt(Yt,Yt.current),i)break;return null;case 22:case 23:return t.lanes=0,OB(e,t,r)}return hc(e,t,r)}var VB,AS,zB,BB;VB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};AS=function(){};zB=function(e,t,r,i){var n=e.memoizedProps;if(n!==i){e=t.stateNode,Hf(Qo.current);var s=null;switch(r){case"input":n=X_(e,n),i=X_(e,i),s=[];break;case"select":n=rr({},n,{value:void 0}),i=rr({},i,{value:void 0}),s=[];break;case"textarea":n=rS(e,n),i=rS(e,i),s=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=A9)}nS(r,i);var a;r=null;for(c in n)if(!i.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var o=n[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(h1.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(o=n!=null?n[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(h1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};BB=function(e,t,r,i){r!==i&&(t.flags|=4)};function Vy(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Mi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Ine(e,t,r){var i=t.pendingProps;switch(yC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(t),null;case 1:return Rn(t.type)&&L9(),Mi(t),null;case 3:return i=t.stateNode,xm(),Ft(Ln),Ft(ji),IC(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(g3(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ja!==null&&(jS(Ja),Ja=null))),AS(e,t),Mi(t),null;case 5:MC(t);var n=Hf($1.current);if(r=t.type,e!==null&&t.stateNode!=null)zB(e,t,r,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(de(166));return Mi(t),null}if(e=Hf(Qo.current),g3(t)){i=t.stateNode,r=t.type;var s=t.memoizedProps;switch(i[Go]=t,i[M1]=s,e=(t.mode&1)!==0,r){case"dialog":Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":case"embed":Lt("load",i);break;case"video":case"audio":for(n=0;n<xg.length;n++)Lt(xg[n],i);break;case"source":Lt("error",i);break;case"img":case"image":case"link":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"input":FL(i,s),Lt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Lt("invalid",i);break;case"textarea":NL(i,s),Lt("invalid",i)}nS(r,s),n=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&y3(i.textContent,o,e),n=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&y3(i.textContent,o,e),n=["children",""+o]):h1.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Lt("scroll",i)}switch(r){case"input":l3(i),DL(i,s,!0);break;case"textarea":l3(i),jL(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=A9)}i=n,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mz(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(r,{is:i.is}):(e=a.createElement(r),r==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,r),e[Go]=t,e[M1]=i,VB(e,t,!1,!1),t.stateNode=e;e:{switch(a=sS(r,i),r){case"dialog":Lt("cancel",e),Lt("close",e),n=i;break;case"iframe":case"object":case"embed":Lt("load",e),n=i;break;case"video":case"audio":for(n=0;n<xg.length;n++)Lt(xg[n],e);n=i;break;case"source":Lt("error",e),n=i;break;case"img":case"image":case"link":Lt("error",e),Lt("load",e),n=i;break;case"details":Lt("toggle",e),n=i;break;case"input":FL(e,i),n=X_(e,i),Lt("invalid",e);break;case"option":n=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},n=rr({},i,{value:void 0}),Lt("invalid",e);break;case"textarea":NL(e,i),n=rS(e,i),Lt("invalid",e);break;default:n=i}nS(r,n),o=n;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?bz(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yz(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&m1(e,l):typeof l=="number"&&m1(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(h1.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Lt("scroll",e):l!=null&&tC(e,s,l,a))}switch(r){case"input":l3(e),DL(e,i,!1);break;case"textarea":l3(e),jL(e);break;case"option":i.value!=null&&e.setAttribute("value",""+fd(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?q0(e,!!i.multiple,s,!1):i.defaultValue!=null&&q0(e,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=A9)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mi(t),null;case 6:if(e&&t.stateNode!=null)BB(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(de(166));if(r=Hf($1.current),Hf(Qo.current),g3(t)){if(i=t.stateNode,r=t.memoizedProps,i[Go]=t,(s=i.nodeValue!==r)&&(e=hs,e!==null))switch(e.tag){case 3:y3(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&y3(i.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Go]=t,t.stateNode=i}return Mi(t),null;case 13:if(Ft(Yt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&fs!==null&&(t.mode&1)!==0&&(t.flags&128)===0)sB(),_m(),t.flags|=98560,s=!1;else if(s=g3(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(de(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));s[Go]=t}else _m(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mi(t),s=!1}else Ja!==null&&(jS(Ja),Ja=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Yt.current&1)!==0?Zr===0&&(Zr=3):DC())),t.updateQueue!==null&&(t.flags|=4),Mi(t),null);case 4:return xm(),AS(e,t),e===null&&S1(t.stateNode.containerInfo),Mi(t),null;case 10:return wC(t.type._context),Mi(t),null;case 17:return Rn(t.type)&&L9(),Mi(t),null;case 19:if(Ft(Yt),s=t.memoizedState,s===null)return Mi(t),null;if(i=(t.flags&128)!==0,a=s.rendering,a===null)if(i)Vy(s,!1);else{if(Zr!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=j9(e),a!==null){for(t.flags|=128,Vy(s,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)s=r,e=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kt(Yt,Yt.current&1|2),t.child}e=e.sibling}s.tail!==null&&wr()>Im&&(t.flags|=128,i=!0,Vy(s,!1),t.lanes=4194304)}else{if(!i)if(e=j9(a),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!qt)return Mi(t),null}else 2*wr()-s.renderingStartTime>Im&&r!==1073741824&&(t.flags|=128,i=!0,Vy(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=wr(),t.sibling=null,r=Yt.current,kt(Yt,i?r&1|2:r&1),t):(Mi(t),null);case 22:case 23:return FC(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(ss&1073741824)!==0&&(Mi(t),t.subtreeFlags&6&&(t.flags|=8192)):Mi(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function $ne(e,t){switch(yC(t),t.tag){case 1:return Rn(t.type)&&L9(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xm(),Ft(Ln),Ft(ji),IC(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return MC(t),null;case 13:if(Ft(Yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));_m()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(Yt),null;case 4:return xm(),null;case 10:return wC(t.type._context),null;case 22:case 23:return FC(),null;case 24:return null;default:return null}}var w3=!1,Pi=!1,Tne=typeof WeakSet=="function"?WeakSet:Set,we=null;function T0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){dr(e,t,i)}else r.current=null}function LS(e,t,r){try{r()}catch(i){dr(e,t,i)}}var CR=!1;function Cne(e,t){if(mS=C9,e=Hz(),hC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==r||n!==0&&p.nodeType!==3||(o=a+n),p!==s||i!==0&&p.nodeType!==3||(l=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===r&&++c===n&&(o=a),h===s&&++d===i&&(l=a),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(yS={focusedElem:e,selectionRange:r},C9=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var g=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,w=g.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:Ua(t.type,b),w);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(x){dr(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return g=CR,CR=!1,g}function Rb(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,s!==void 0&&LS(t,r,s)}n=n.next}while(n!==i)}}function O6(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function RS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function UB(e){var t=e.alternate;t!==null&&(e.alternate=null,UB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Go],delete t[M1],delete t[vS],delete t[une],delete t[dne])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function GB(e){return e.tag===5||e.tag===3||e.tag===4}function ER(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||GB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function PS(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=A9));else if(i!==4&&(e=e.child,e!==null))for(PS(e,t,r),e=e.sibling;e!==null;)PS(e,t,r),e=e.sibling}function OS(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(OS(e,t,r),e=e.sibling;e!==null;)OS(e,t,r),e=e.sibling}var pi=null,qa=!1;function Tc(e,t,r){for(r=r.child;r!==null;)qB(e,t,r),r=r.sibling}function qB(e,t,r){if(Zo&&typeof Zo.onCommitFiberUnmount=="function")try{Zo.onCommitFiberUnmount(T6,r)}catch{}switch(r.tag){case 5:Pi||T0(r,t);case 6:var i=pi,n=qa;pi=null,Tc(e,t,r),pi=i,qa=n,pi!==null&&(qa?(e=pi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pi.removeChild(r.stateNode));break;case 18:pi!==null&&(qa?(e=pi,r=r.stateNode,e.nodeType===8?A8(e.parentNode,r):e.nodeType===1&&A8(e,r),v1(e)):A8(pi,r.stateNode));break;case 4:i=pi,n=qa,pi=r.stateNode.containerInfo,qa=!0,Tc(e,t,r),pi=i,qa=n;break;case 0:case 11:case 14:case 15:if(!Pi&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var s=n,a=s.destroy;s=s.tag,a!==void 0&&((s&2)!==0||(s&4)!==0)&&LS(r,t,a),n=n.next}while(n!==i)}Tc(e,t,r);break;case 1:if(!Pi&&(T0(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(o){dr(r,t,o)}Tc(e,t,r);break;case 21:Tc(e,t,r);break;case 22:r.mode&1?(Pi=(i=Pi)||r.memoizedState!==null,Tc(e,t,r),Pi=i):Tc(e,t,r);break;default:Tc(e,t,r)}}function kR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tne),t.forEach(function(i){var n=Dne.bind(null,e,i);r.has(i)||(r.add(i),i.then(n,n))})}}function ma(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:pi=o.stateNode,qa=!1;break e;case 3:pi=o.stateNode.containerInfo,qa=!0;break e;case 4:pi=o.stateNode.containerInfo,qa=!0;break e}o=o.return}if(pi===null)throw Error(de(160));qB(s,a,n),pi=null,qa=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(c){dr(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HB(t,e),t=t.sibling}function HB(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ma(t,e),yo(e),i&4){try{Rb(3,e,e.return),O6(3,e)}catch(b){dr(e,e.return,b)}try{Rb(5,e,e.return)}catch(b){dr(e,e.return,b)}}break;case 1:ma(t,e),yo(e),i&512&&r!==null&&T0(r,r.return);break;case 5:if(ma(t,e),yo(e),i&512&&r!==null&&T0(r,r.return),e.flags&32){var n=e.stateNode;try{m1(n,"")}catch(b){dr(e,e.return,b)}}if(i&4&&(n=e.stateNode,n!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&pz(n,s),sS(o,a);var c=sS(o,s);for(a=0;a<l.length;a+=2){var d=l[a],p=l[a+1];d==="style"?bz(n,p):d==="dangerouslySetInnerHTML"?yz(n,p):d==="children"?m1(n,p):tC(n,d,p,c)}switch(o){case"input":eS(n,s);break;case"textarea":hz(n,s);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?q0(n,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?q0(n,!!s.multiple,s.defaultValue,!0):q0(n,!!s.multiple,s.multiple?[]:"",!1))}n[M1]=s}catch(b){dr(e,e.return,b)}}break;case 6:if(ma(t,e),yo(e),i&4){if(e.stateNode===null)throw Error(de(162));n=e.stateNode,s=e.memoizedProps;try{n.nodeValue=s}catch(b){dr(e,e.return,b)}}break;case 3:if(ma(t,e),yo(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{v1(t.containerInfo)}catch(b){dr(e,e.return,b)}break;case 4:ma(t,e),yo(e);break;case 13:ma(t,e),yo(e),n=e.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(PC=wr())),i&4&&kR(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pi=(c=Pi)||d,ma(t,e),Pi=c):ma(t,e),yo(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&(e.mode&1)!==0)for(we=e,d=e.child;d!==null;){for(p=we=d;we!==null;){switch(h=we,m=h.child,h.tag){case 0:case 11:case 14:case 15:Rb(4,h,h.return);break;case 1:T0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,r=h.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){dr(i,r,b)}}break;case 5:T0(h,h.return);break;case 22:if(h.memoizedState!==null){LR(p);continue}}m!==null?(m.return=h,we=m):LR(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{n=p.stateNode,c?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=gz("display",a))}catch(b){dr(e,e.return,b)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(b){dr(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ma(t,e),yo(e),i&4&&kR(e);break;case 21:break;default:ma(t,e),yo(e)}}function yo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(GB(r)){var i=r;break e}r=r.return}throw Error(de(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(m1(n,""),i.flags&=-33);var s=ER(e);OS(e,s,n);break;case 3:case 4:var a=i.stateNode.containerInfo,o=ER(e);PS(e,o,a);break;default:throw Error(de(161))}}catch(l){dr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ene(e,t,r){we=e,WB(e)}function WB(e,t,r){for(var i=(e.mode&1)!==0;we!==null;){var n=we,s=n.child;if(n.tag===22&&i){var a=n.memoizedState!==null||w3;if(!a){var o=n.alternate,l=o!==null&&o.memoizedState!==null||Pi;o=w3;var c=Pi;if(w3=a,(Pi=l)&&!c)for(we=n;we!==null;)a=we,l=a.child,a.tag===22&&a.memoizedState!==null?RR(n):l!==null?(l.return=a,we=l):RR(n);for(;s!==null;)we=s,WB(s),s=s.sibling;we=n,w3=o,Pi=c}AR(e)}else(n.subtreeFlags&8772)!==0&&s!==null?(s.return=n,we=s):AR(e)}}function AR(e){for(;we!==null;){var t=we;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Pi||O6(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Pi)if(r===null)i.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:Ua(t.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&hR(t,s,i);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}hR(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&v1(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Pi||t.flags&512&&RS(t)}catch(h){dr(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function LR(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function RR(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{O6(4,t)}catch(l){dr(t,r,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var n=t.return;try{i.componentDidMount()}catch(l){dr(t,n,l)}}var s=t.return;try{RS(t)}catch(l){dr(t,s,l)}break;case 5:var a=t.return;try{RS(t)}catch(l){dr(t,a,l)}}}catch(l){dr(t,t.return,l)}if(t===e){we=null;break}var o=t.sibling;if(o!==null){o.return=t.return,we=o;break}we=t.return}}var kne=Math.ceil,B9=wc.ReactCurrentDispatcher,LC=wc.ReactCurrentOwner,ia=wc.ReactCurrentBatchConfig,lt=0,si=null,Fr=null,yi=0,ss=0,C0=Sd(0),Zr=0,k1=null,_p=0,F6=0,RC=0,Pb=null,$n=null,PC=0,Im=1/0,Jl=null,U9=!1,FS=null,Xu=null,_3=!1,Du=null,G9=0,Ob=0,DS=null,Qv=-1,Yv=0;function on(){return(lt&6)!==0?wr():Qv!==-1?Qv:Qv=wr()}function ed(e){return(e.mode&1)===0?1:(lt&2)!==0&&yi!==0?yi&-yi:pne.transition!==null?(Yv===0&&(Yv=kz()),Yv):(e=xt,e!==0||(e=window.event,e=e===void 0?16:Dz(e.type)),e)}function io(e,t,r,i){if(50<Ob)throw Ob=0,DS=null,Error(de(185));v2(e,r,i),((lt&2)===0||e!==si)&&(e===si&&((lt&2)===0&&(F6|=r),Zr===4&&Ru(e,yi)),Pn(e,i),r===1&&lt===0&&(t.mode&1)===0&&(Im=wr()+500,L6&&xd()))}function Pn(e,t){var r=e.callbackNode;pie(e,t);var i=T9(e,e===si?yi:0);if(i===0)r!==null&&BL(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&BL(r),t===1)e.tag===0?fne(PR.bind(null,e)):rB(PR.bind(null,e)),lne(function(){(lt&6)===0&&xd()}),r=null;else{switch(Az(i)){case 1:r=aC;break;case 4:r=Cz;break;case 16:r=$9;break;case 536870912:r=Ez;break;default:r=$9}r=tU(r,JB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function JB(e,t){if(Qv=-1,Yv=0,(lt&6)!==0)throw Error(de(327));var r=e.callbackNode;if(Q0()&&e.callbackNode!==r)return null;var i=T9(e,e===si?yi:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=q9(e,i);else{t=i;var n=lt;lt|=2;var s=QB();(si!==e||yi!==t)&&(Jl=null,Im=wr()+500,sp(e,t));do try{Rne();break}catch(o){ZB(e,o)}while(1);vC(),B9.current=s,lt=n,Fr!==null?t=0:(si=null,yi=0,t=Zr)}if(t!==0){if(t===2&&(n=uS(e),n!==0&&(i=n,t=NS(e,n))),t===1)throw r=k1,sp(e,0),Ru(e,i),Pn(e,wr()),r;if(t===6)Ru(e,i);else{if(n=e.current.alternate,(i&30)===0&&!Ane(n)&&(t=q9(e,i),t===2&&(s=uS(e),s!==0&&(i=s,t=NS(e,s))),t===1))throw r=k1,sp(e,0),Ru(e,i),Pn(e,wr()),r;switch(e.finishedWork=n,e.finishedLanes=i,t){case 0:case 1:throw Error(de(345));case 2:Bd(e,$n,Jl);break;case 3:if(Ru(e,i),(i&130023424)===i&&(t=PC+500-wr(),10<t)){if(T9(e,0)!==0)break;if(n=e.suspendedLanes,(n&i)!==i){on(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=bS(Bd.bind(null,e,$n,Jl),t);break}Bd(e,$n,Jl);break;case 4:if(Ru(e,i),(i&4194240)===i)break;for(t=e.eventTimes,n=-1;0<i;){var a=31-ro(i);s=1<<a,a=t[a],a>n&&(n=a),i&=~s}if(i=n,i=wr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kne(i/1960))-i,10<i){e.timeoutHandle=bS(Bd.bind(null,e,$n,Jl),i);break}Bd(e,$n,Jl);break;case 5:Bd(e,$n,Jl);break;default:throw Error(de(329))}}}return Pn(e,wr()),e.callbackNode===r?JB.bind(null,e):null}function NS(e,t){var r=Pb;return e.current.memoizedState.isDehydrated&&(sp(e,t).flags|=256),e=q9(e,t),e!==2&&(t=$n,$n=r,t!==null&&jS(t)),e}function jS(e){$n===null?$n=e:$n.push.apply($n,e)}function Ane(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],s=n.getSnapshot;n=n.value;try{if(!lo(s(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ru(e,t){for(t&=~RC,t&=~F6,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ro(t),i=1<<r;e[r]=-1,t&=~i}}function PR(e){if((lt&6)!==0)throw Error(de(327));Q0();var t=T9(e,0);if((t&1)===0)return Pn(e,wr()),null;var r=q9(e,t);if(e.tag!==0&&r===2){var i=uS(e);i!==0&&(t=i,r=NS(e,i))}if(r===1)throw r=k1,sp(e,0),Ru(e,t),Pn(e,wr()),r;if(r===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bd(e,$n,Jl),Pn(e,wr()),null}function OC(e,t){var r=lt;lt|=1;try{return e(t)}finally{lt=r,lt===0&&(Im=wr()+500,L6&&xd())}}function Sp(e){Du!==null&&Du.tag===0&&(lt&6)===0&&Q0();var t=lt;lt|=1;var r=ia.transition,i=xt;try{if(ia.transition=null,xt=1,e)return e()}finally{xt=i,ia.transition=r,lt=t,(lt&6)===0&&xd()}}function FC(){ss=C0.current,Ft(C0)}function sp(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,one(r)),Fr!==null)for(r=Fr.return;r!==null;){var i=r;switch(yC(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&L9();break;case 3:xm(),Ft(Ln),Ft(ji),IC();break;case 5:MC(i);break;case 4:xm();break;case 13:Ft(Yt);break;case 19:Ft(Yt);break;case 10:wC(i.type._context);break;case 22:case 23:FC()}r=r.return}if(si=e,Fr=e=td(e.current,null),yi=ss=t,Zr=0,k1=null,RC=F6=_p=0,$n=Pb=null,qf!==null){for(t=0;t<qf.length;t++)if(r=qf[t],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,s=r.pending;if(s!==null){var a=s.next;s.next=n,i.next=a}r.pending=i}qf=null}return e}function ZB(e,t){do{var r=Fr;try{if(vC(),Wv.current=z9,V9){for(var i=er.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}V9=!1}if(wp=0,ni=Wr=er=null,Lb=!1,T1=0,LC.current=null,r===null||r.return===null){Zr=1,k1=t,Fr=null;break}e:{var s=e,a=r.return,o=r,l=t;if(t=yi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,p=d.tag;if((d.mode&1)===0&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_R(a);if(m!==null){m.flags&=-257,SR(m,a,o,s,t),m.mode&1&&wR(s,c,t),t=m,l=c;var g=t.updateQueue;if(g===null){var b=new Set;b.add(l),t.updateQueue=b}else g.add(l);break e}else{if((t&1)===0){wR(s,c,t),DC();break e}l=Error(de(426))}}else if(qt&&o.mode&1){var w=_R(a);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),SR(w,a,o,s,t),gC(Mm(l,o));break e}}s=l=Mm(l,o),Zr!==4&&(Zr=2),Pb===null?Pb=[s]:Pb.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=LB(s,l,t);pR(s,v);break e;case 1:o=l;var _=s.type,S=s.stateNode;if((s.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Xu===null||!Xu.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=RB(s,o,t);pR(s,x);break e}}s=s.return}while(s!==null)}KB(r)}catch(M){t=M,Fr===r&&r!==null&&(Fr=r=r.return);continue}break}while(1)}function QB(){var e=B9.current;return B9.current=z9,e===null?z9:e}function DC(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),si===null||(_p&268435455)===0&&(F6&268435455)===0||Ru(si,yi)}function q9(e,t){var r=lt;lt|=2;var i=QB();(si!==e||yi!==t)&&(Jl=null,sp(e,t));do try{Lne();break}catch(n){ZB(e,n)}while(1);if(vC(),lt=r,B9.current=i,Fr!==null)throw Error(de(261));return si=null,yi=0,Zr}function Lne(){for(;Fr!==null;)YB(Fr)}function Rne(){for(;Fr!==null&&!nie();)YB(Fr)}function YB(e){var t=eU(e.alternate,e,ss);e.memoizedProps=e.pendingProps,t===null?KB(e):Fr=t,LC.current=null}function KB(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Ine(r,t,ss),r!==null){Fr=r;return}}else{if(r=$ne(r,t),r!==null){r.flags&=32767,Fr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zr=6,Fr=null;return}}if(t=t.sibling,t!==null){Fr=t;return}Fr=t=e}while(t!==null);Zr===0&&(Zr=5)}function Bd(e,t,r){var i=xt,n=ia.transition;try{ia.transition=null,xt=1,Pne(e,t,r,i)}finally{ia.transition=n,xt=i}return null}function Pne(e,t,r,i){do Q0();while(Du!==null);if((lt&6)!==0)throw Error(de(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(hie(e,s),e===si&&(Fr=si=null,yi=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||_3||(_3=!0,tU($9,function(){return Q0(),null})),s=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||s){s=ia.transition,ia.transition=null;var a=xt;xt=1;var o=lt;lt|=4,LC.current=null,Cne(e,r),HB(r,e),ene(yS),C9=!!mS,yS=mS=null,e.current=r,Ene(r),sie(),lt=o,xt=a,ia.transition=s}else e.current=r;if(_3&&(_3=!1,Du=e,G9=n),s=e.pendingLanes,s===0&&(Xu=null),lie(r.stateNode),Pn(e,wr()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(U9)throw U9=!1,e=FS,FS=null,e;return(G9&1)!==0&&e.tag!==0&&Q0(),s=e.pendingLanes,(s&1)!==0?e===DS?Ob++:(Ob=0,DS=e):Ob=0,xd(),null}function Q0(){if(Du!==null){var e=Az(G9),t=ia.transition,r=xt;try{if(ia.transition=null,xt=16>e?16:e,Du===null)var i=!1;else{if(e=Du,Du=null,G9=0,(lt&6)!==0)throw Error(de(331));var n=lt;for(lt|=4,we=e.current;we!==null;){var s=we,a=s.child;if((we.flags&16)!==0){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(we=c;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Rb(8,d,s)}var p=d.child;if(p!==null)p.return=d,we=p;else for(;we!==null;){d=we;var h=d.sibling,m=d.return;if(UB(d),d===c){we=null;break}if(h!==null){h.return=m,we=h;break}we=m}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}we=s}}if((s.subtreeFlags&2064)!==0&&a!==null)a.return=s,we=a;else e:for(;we!==null;){if(s=we,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Rb(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,we=v;break e}we=s.return}}var _=e.current;for(we=_;we!==null;){a=we;var S=a.child;if((a.subtreeFlags&2064)!==0&&S!==null)S.return=a,we=S;else e:for(a=_;we!==null;){if(o=we,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:O6(9,o)}}catch(M){dr(o,o.return,M)}if(o===a){we=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,we=x;break e}we=o.return}}if(lt=n,xd(),Zo&&typeof Zo.onPostCommitFiberRoot=="function")try{Zo.onPostCommitFiberRoot(T6,e)}catch{}i=!0}return i}finally{xt=r,ia.transition=t}}return!1}function OR(e,t,r){t=Mm(r,t),t=LB(e,t,1),e=Ku(e,t,1),t=on(),e!==null&&(v2(e,1,t),Pn(e,t))}function dr(e,t,r){if(e.tag===3)OR(e,e,r);else for(;t!==null;){if(t.tag===3){OR(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Xu===null||!Xu.has(i))){e=Mm(r,e),e=RB(t,e,1),t=Ku(t,e,1),e=on(),t!==null&&(v2(t,1,e),Pn(t,e));break}}t=t.return}}function One(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=on(),e.pingedLanes|=e.suspendedLanes&r,si===e&&(yi&r)===r&&(Zr===4||Zr===3&&(yi&130023424)===yi&&500>wr()-PC?sp(e,0):RC|=r),Pn(e,t)}function XB(e,t){t===0&&((e.mode&1)===0?t=1:(t=d3,d3<<=1,(d3&130023424)===0&&(d3=4194304)));var r=on();e=pc(e,t),e!==null&&(v2(e,t,r),Pn(e,r))}function Fne(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),XB(e,r)}function Dne(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(de(314))}i!==null&&i.delete(t),XB(e,r)}var eU;eU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ln.current)kn=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return kn=!1,Mne(e,t,r);kn=(e.flags&131072)!==0}else kn=!1,qt&&(t.flags&1048576)!==0&&iB(t,O9,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Zv(e,t),e=t.pendingProps;var n=wm(t,ji.current);Z0(t,r),n=TC(null,t,i,e,n,r);var s=CC();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rn(i)?(s=!0,R9(t)):s=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,SC(t),n.updater=R6,t.stateNode=n,n._reactInternals=t,IS(t,i,e,r),t=CS(null,t,i,!0,s,r)):(t.tag=0,qt&&s&&mC(t),tn(null,t,n,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Zv(e,t),e=t.pendingProps,n=i._init,i=n(i._payload),t.type=i,n=t.tag=jne(i),e=Ua(i,e),n){case 0:t=TS(null,t,i,e,r);break e;case 1:t=IR(null,t,i,e,r);break e;case 11:t=xR(null,t,i,e,r);break e;case 14:t=MR(null,t,i,Ua(i.type,e),r);break e}throw Error(de(306,i,""))}return t;case 0:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Ua(i,n),TS(e,t,i,n,r);case 1:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Ua(i,n),IR(e,t,i,n,r);case 3:e:{if(DB(t),e===null)throw Error(de(387));i=t.pendingProps,s=t.memoizedState,n=s.element,oB(e,t),N9(t,i,null,r);var a=t.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){n=Mm(Error(de(423)),t),t=$R(e,t,i,r,n);break e}else if(i!==n){n=Mm(Error(de(424)),t),t=$R(e,t,i,r,n);break e}else for(fs=Yu(t.stateNode.containerInfo.firstChild),hs=t,qt=!0,Ja=null,r=dB(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_m(),i===n){t=hc(e,t,r);break e}tn(e,t,i,r)}t=t.child}return t;case 5:return fB(t),e===null&&SS(t),i=t.type,n=t.pendingProps,s=e!==null?e.memoizedProps:null,a=n.children,gS(i,n)?a=null:s!==null&&gS(i,s)&&(t.flags|=32),FB(e,t),tn(e,t,a,r),t.child;case 6:return e===null&&SS(t),null;case 13:return NB(e,t,r);case 4:return xC(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Sm(t,null,i,r):tn(e,t,i,r),t.child;case 11:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Ua(i,n),xR(e,t,i,n,r);case 7:return tn(e,t,t.pendingProps,r),t.child;case 8:return tn(e,t,t.pendingProps.children,r),t.child;case 12:return tn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,n=t.pendingProps,s=t.memoizedProps,a=n.value,kt(F9,i._currentValue),i._currentValue=a,s!==null)if(lo(s.value,a)){if(s.children===n.children&&!Ln.current){t=hc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=oc(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),xS(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(de(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),xS(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}tn(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,i=t.pendingProps.children,Z0(t,r),n=aa(n),i=i(n),t.flags|=1,tn(e,t,i,r),t.child;case 14:return i=t.type,n=Ua(i,t.pendingProps),n=Ua(i.type,n),MR(e,t,i,n,r);case 15:return PB(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Ua(i,n),Zv(e,t),t.tag=1,Rn(i)?(e=!0,R9(t)):e=!1,Z0(t,r),cB(t,i,n),IS(t,i,n,r),CS(null,t,i,!0,e,r);case 19:return jB(e,t,r);case 22:return OB(e,t,r)}throw Error(de(156,t.tag))};function tU(e,t){return Tz(e,t)}function Nne(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(e,t,r,i){return new Nne(e,t,r,i)}function NC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jne(e){if(typeof e=="function")return NC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iC)return 11;if(e===nC)return 14}return 2}function td(e,t){var r=e.alternate;return r===null?(r=ea(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kv(e,t,r,i,n,s){var a=2;if(i=e,typeof e=="function")NC(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case b0:return ap(r.children,n,s,t);case rC:a=8,n|=8;break;case Z_:return e=ea(12,r,t,n|2),e.elementType=Z_,e.lanes=s,e;case Q_:return e=ea(13,r,t,n),e.elementType=Q_,e.lanes=s,e;case Y_:return e=ea(19,r,t,n),e.elementType=Y_,e.lanes=s,e;case uz:return D6(r,n,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lz:a=10;break e;case cz:a=9;break e;case iC:a=11;break e;case nC:a=14;break e;case xu:a=16,i=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=ea(a,r,t,n),t.elementType=e,t.type=i,t.lanes=s,t}function ap(e,t,r,i){return e=ea(7,e,i,t),e.lanes=r,e}function D6(e,t,r,i){return e=ea(22,e,i,t),e.elementType=uz,e.lanes=r,e.stateNode={isHidden:!1},e}function j8(e,t,r){return e=ea(6,e,null,t),e.lanes=r,e}function V8(e,t,r){return t=ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vne(e,t,r,i,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w8(0),this.expirationTimes=w8(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w8(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function jC(e,t,r,i,n,s,a,o,l){return e=new Vne(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ea(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},SC(s),e}function zne(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g0,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function rU(e){if(!e)return pd;e=e._reactInternals;e:{if(Vp(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var r=e.type;if(Rn(r))return tB(e,r,t)}return t}function iU(e,t,r,i,n,s,a,o,l){return e=jC(r,i,!0,e,n,s,a,o,l),e.context=rU(null),r=e.current,i=on(),n=ed(r),s=oc(i,n),s.callback=t!=null?t:null,Ku(r,s,n),e.current.lanes=n,v2(e,n,i),Pn(e,i),e}function N6(e,t,r,i){var n=t.current,s=on(),a=ed(n);return r=rU(r),t.context===null?t.context=r:t.pendingContext=r,t=oc(s,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Ku(n,t,a),e!==null&&(io(e,n,a,s),Hv(e,n,a)),a}function H9(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function VC(e,t){FR(e,t),(e=e.alternate)&&FR(e,t)}function Bne(){return null}var nU=typeof reportError=="function"?reportError:function(e){console.error(e)};function zC(e){this._internalRoot=e}j6.prototype.render=zC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));N6(e,t,null,null)};j6.prototype.unmount=zC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sp(function(){N6(null,e,null,null)}),t[fc]=null}};function j6(e){this._internalRoot=e}j6.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pz();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lu.length&&t!==0&&t<Lu[r].priority;r++);Lu.splice(r,0,e),r===0&&Fz(e)}};function BC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function V6(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function DR(){}function Une(e,t,r,i,n){if(n){if(typeof i=="function"){var s=i;i=function(){var c=H9(a);s.call(c)}}var a=iU(t,i,e,0,null,!1,!1,"",DR);return e._reactRootContainer=a,e[fc]=a.current,S1(e.nodeType===8?e.parentNode:e),Sp(),a}for(;n=e.lastChild;)e.removeChild(n);if(typeof i=="function"){var o=i;i=function(){var c=H9(l);o.call(c)}}var l=jC(e,0,!1,null,null,!1,!1,"",DR);return e._reactRootContainer=l,e[fc]=l.current,S1(e.nodeType===8?e.parentNode:e),Sp(function(){N6(t,l,r,i)}),l}function z6(e,t,r,i,n){var s=r._reactRootContainer;if(s){var a=s;if(typeof n=="function"){var o=n;n=function(){var l=H9(a);o.call(l)}}N6(t,a,e,n)}else a=Une(r,t,e,n,i);return H9(a)}Lz=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sg(t.pendingLanes);r!==0&&(oC(t,r|1),Pn(t,wr()),(lt&6)===0&&(Im=wr()+500,xd()))}break;case 13:Sp(function(){var i=pc(e,1);if(i!==null){var n=on();io(i,e,1,n)}}),VC(e,1)}};lC=function(e){if(e.tag===13){var t=pc(e,134217728);if(t!==null){var r=on();io(t,e,134217728,r)}VC(e,134217728)}};Rz=function(e){if(e.tag===13){var t=ed(e),r=pc(e,t);if(r!==null){var i=on();io(r,e,t,i)}VC(e,t)}};Pz=function(){return xt};Oz=function(e,t){var r=xt;try{return xt=e,t()}finally{xt=r}};oS=function(e,t,r){switch(t){case"input":if(eS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=A6(i);if(!n)throw Error(de(90));fz(i),eS(i,n)}}}break;case"textarea":hz(e,r);break;case"select":t=r.value,t!=null&&q0(e,!!r.multiple,t,!1)}};_z=OC;Sz=Sp;var Gne={usingClientEntryPoint:!1,Events:[_2,S0,A6,vz,wz,OC]},zy={findFiberByHostInstance:Gf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qne={bundleType:zy.bundleType,version:zy.version,rendererPackageName:zy.rendererPackageName,rendererConfig:zy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Iz(e),e===null?null:e.stateNode},findFiberByHostInstance:zy.findFiberByHostInstance||Bne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S3.isDisabled&&S3.supportsFiber)try{T6=S3.inject(qne),Zo=S3}catch{}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gne;Ms.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BC(t))throw Error(de(200));return zne(e,t,null,r)};Ms.createRoot=function(e,t){if(!BC(e))throw Error(de(299));var r=!1,i="",n=nU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=jC(e,1,!1,null,null,r,!1,i,n),e[fc]=t.current,S1(e.nodeType===8?e.parentNode:e),new zC(t)};Ms.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=Iz(t),e=e===null?null:e.stateNode,e};Ms.flushSync=function(e){return Sp(e)};Ms.hydrate=function(e,t,r){if(!V6(t))throw Error(de(200));return z6(null,e,t,!0,r)};Ms.hydrateRoot=function(e,t,r){if(!BC(e))throw Error(de(405));var i=r!=null&&r.hydratedSources||null,n=!1,s="",a=nU;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=iU(t,null,e,1,r!=null?r:null,n,!1,s,a),e[fc]=t.current,S1(e),i)for(e=0;e<i.length;e++)r=i[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new j6(t)};Ms.render=function(e,t,r){if(!V6(t))throw Error(de(200));return z6(null,e,t,!1,r)};Ms.unmountComponentAtNode=function(e){if(!V6(e))throw Error(de(40));return e._reactRootContainer?(Sp(function(){z6(null,null,e,!1,function(){e._reactRootContainer=null,e[fc]=null})}),!0):!1};Ms.unstable_batchedUpdates=OC;Ms.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!V6(r))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return z6(e,t,r,!1,i)};Ms.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=Ms})(iz);var NR=iz.exports;W_.createRoot=NR.createRoot,W_.hydrateRoot=NR.hydrateRoot;function u(e,t,r,i){var n,s=arguments.length,a=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(s<3?n(a):s>3?n(t,r,a):n(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}const Hne="modulepreload",Wne=function(e,t){return new URL(e,t).href},jR={},Y=function(t,r,i){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=Wne(n,i),n in jR)return;jR[n]=!0;const s=n.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":Hne,s||(o.as="script",o.crossOrigin=""),o.href=n,document.head.appendChild(o),s)return new Promise((l,c)=>{o.addEventListener("load",l),o.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};function Jne(e){return e&&e.release&&typeof e.release=="function"}function Zne(e){return e&&e.acquire&&typeof e.acquire=="function"}class co{constructor(t,r,i,n=1,s=0){if(this.ctor=t,this.acquireFunction=r,this.releaseFunction=i,this.allocationSize=n,this._pool=new Array(s),this._initialSize=s,this.ctor)for(let a=0;a<s;a++)this._pool[a]=new this.ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let r;if(co.test.disabled)r=new this.ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let n=0;n<i;n++)this._pool[n]=new this.ctor}r=this._pool.pop()}return this.acquireFunction?this.acquireFunction(r,...t):Zne(r)&&r.acquire(...t),r}release(t){t&&!co.test.disabled&&(this.releaseFunction?this.releaseFunction(t):Jne(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const i=this._pool[r];this._dispose(i)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}}co.test={disabled:!1};function Qne(e){e.length=0}class sn{constructor(t=50,r=50){this._pool=new co(Array,void 0,Qne,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return z8.acquire()}static release(t){return z8.release(t)}static prune(){z8.prune()}}const z8=new sn(100);function TAe(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function CAe(e,t){for(const r of e)if(r!=null&&t(r))return r}function VS(e){return e!=null&&typeof e[Symbol.iterator]=="function"}const Yne=null;function C(e){return e!=null}function B(e){return e==null}function qo(e,t){return C(e)?t(e):Yne}function EAe(e){return e}function Kne(e,t){if(B(e))throw new Error(t);return e}function B6(e,t){return C(e)?e:typeof t=="function"?t():t}function kAe(e,t){return C(e)?e:t}function Tn(e){return C(e)&&e.destroy(),null}function AAe(e){return C(e)&&e.dispose(),null}function On(e){return C(e)&&e.remove(),null}function W9(e){return C(e)&&e.abort(),null}function LAe(e){return C(e)&&e.release(),null}function Xne(e,t,r){return C(e)&&C(t)?C(r)?r(e,t):e.equals(t):e===t}function ese(e){return null}function RAe(e,t){const r=new Array;for(const i of e)r.push(Mg(i,null,t));return r}function PAe(e,t){for(const r of e)qo(r,t)}function Mg(e,t,r){return C(e)?r(e):t}function OAe(e){return e.filter(t=>C(t))}function UC(e,...t){let r=e;for(let i=0;i<t.length&&r;++i)r=r[t[i]];return r}function FAe(e){return e}function U6(e){return ry(()=>e.forEach(t=>C(t)&&t.remove()))}function ry(e){return{remove:()=>{e&&(e(),e=void 0)}}}class us{constructor(t=1){this._seed=t}set seed(t){this._seed=t==null?Math.random()*us._m:t}getInt(){return this._seed=(us._a*this._seed+us._c)%us._m,this._seed}getFloat(){return this.getInt()/(us._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const i=r-t;return t+this.getInt()/us._m*i}}us._m=2147483647,us._a=48271,us._c=0;function tse(e,t){return t?e.filter((r,i,n)=>n.findIndex(t.bind(null,r))===i):e.filter((r,i,n)=>n.indexOf(r)===i)}function GC(e,t,r){if(B(e)&&B(t))return!0;if(B(e)||B(t)||e.length!==t.length)return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function DAe(e,t){let r=e.length!==t.length;e.length=t.length;for(let i=0;i<t.length;++i)e[i]!==t[i]&&(e[i]=t[i],r=!0);return r}function NAe(e,t,r){let i,n;return r?(i=t.filter(s=>!e.some(a=>r(a,s))),n=e.filter(s=>!t.some(a=>r(a,s)))):(i=t.filter(s=>!e.includes(s)),n=e.filter(s=>!t.includes(s))),{added:i,removed:n}}function jAe(e){return e&&typeof e.length=="number"}const rse=!!Array.prototype.fill;function VAe(e,t){if(rse)return new Array(e).fill(t);const r=new Array(e);for(let i=0;i<e;i++)r[i]=t;return r}function zAe(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let i=e;i<t;i++)r[i-e]=i;return r}class sU{constructor(){this.last=0}}const aU=new sU;function oU(e,t,r,i){i=i||aU;const n=Math.max(0,i.last-10);for(let a=n;a<r;++a)if(e[a]===t)return i.last=a,a;const s=Math.min(n,r);for(let a=0;a<s;++a)if(e[a]===t)return i.last=a,a;return-1}function qC(e,t,r,i){const n=r==null?e.length:r,s=oU(e,t,n,i);if(s!==-1)return e[s]=e[n-1],r==null&&e.pop(),t}const ya=new Set;function ise(e,t,r=e.length,i=t.length,n,s){if(i===0||r===0)return r;ya.clear();for(let o=0;o<i;++o)ya.add(t[o]);n=n||aU;const a=Math.max(0,n.last-10);for(let o=a;o<r;++o)if(ya.has(e[o])&&(s&&s.push(e[o]),ya.delete(e[o]),e[o]=e[r-1],--r,--o,ya.size===0||r===0))return ya.clear(),r;for(let o=0;o<a;++o)if(ya.has(e[o])&&(s&&s.push(e[o]),ya.delete(e[o]),e[o]=e[r-1],--r,--o,ya.size===0||r===0))return ya.clear(),r;return ya.clear(),r}function A1(e,t,r){const i=e.length;if(t>=i)return e.slice(0);const n=nse(r),s=new Set,a=[];for(;a.length<t;){const o=Math.floor(n()*i);s.has(o)||(s.add(o),a.push(e[o]))}return a}function nse(e){return e?(VR.seed=e,()=>VR.getFloat()):Math.random}const VR=new us;function sse(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}let Nu;function W(e){return typeof Nu[e]=="function"?Nu[e]=Nu[e](globalThis):Nu[e]}var zV,BV,UV,GV;Nu=((zV=globalThis.dojoConfig)==null?void 0:zV.has)||((BV=globalThis.esriConfig)==null?void 0:BV.has)?{...(UV=globalThis.dojoConfig)==null?void 0:UV.has,...(GV=globalThis.esriConfig)==null?void 0:GV.has}:{},W.add=(e,t,r,i)=>((i||Nu[e]===void 0)&&(Nu[e]=t),r&&W(e)),W.cache=Nu,W.add("esri-deprecation-warnings",!0),(()=>{var t;W.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(W.add("host-browser",e),W.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),W.add("dom",e),W("host-browser")){const r=navigator,i=r.userAgent,n=r.appVersion,s=parseFloat(n);if(W.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),W.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),W.add("khtml",n.includes("Konqueror")?s:void 0),W.add("edge",parseFloat(i.split("Edge/")[1])||void 0),W.add("opr",parseFloat(i.split("OPR/")[1])||void 0),W.add("webkit",!W("wp")&&!W("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),W.add("chrome",!W("edge")&&!W("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),W.add("android",!W("wp")&&parseFloat(i.split("Android ")[1])||void 0),W.add("safari",!n.includes("Safari")||W("wp")||W("chrome")||W("android")||W("edge")||W("opr")?void 0:parseFloat(n.split("Version/")[1])),W.add("mac",n.includes("Macintosh")),!W("wp")&&i.match(/(iPhone|iPod|iPad)/)){const a=RegExp.$1.replace(/P/,"p"),o=i.match(/OS ([\d_]+)/)?RegExp.$1:"1",l=parseFloat(o.replace(/_/,".").replace(/_/g,""));W.add(a,l),W.add("ios",l)}W.add("trident",parseFloat(n.split("Trident/")[1])||void 0),W("webkit")||(!i.includes("Gecko")||W("wp")||W("khtml")||W("trident")||W("edge")||W.add("mozilla",s),W("mozilla")&&W.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&W.add("esri-mobile",t),r&&W.add("esri-iPhone",r),W.add("esri-geolocation",!!navigator.geolocation)}W.add("esri-canvas-svg-support",!W("trident")),W.add("esri-wasm","WebAssembly"in globalThis),W.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),W.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),W.add("esri-atomics","Atomics"in globalThis),W.add("esri-workers","Worker"in globalThis),W.add("web-feat:cache","caches"in globalThis),W.add("esri-workers-arraybuffer-transfer",!W("safari")||Number(W("safari"))>=12),W.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),W.add("featurelayer-simplify-payload-size-factors",[1,1,4]),W.add("featurelayer-snapshot-enabled",!0),W.add("featurelayer-snapshot-point-min-threshold",8e4),W.add("featurelayer-snapshot-point-max-threshold",4e5),W.add("featurelayer-snapshot-point-coverage",.1),W.add("featurelayer-advanced-symbols",!1),W.add("featurelayer-pbf",!0),W.add("featurelayer-pbf-statistics",!1),W.add("feature-layers-workers",!0),W.add("feature-polyline-generalization-factor",1),W.add("mapview-transitions-duration",200),W.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),W.add("mapserver-pbf-enabled",!1),W.add("mapimagelayer-popup-identify-max-tolerance",20),W.add("heatmap-allow-raster-fallback",!0),W.add("heatmap-force-raster",!1),W("host-webworker")||W("host-browser")&&(W.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),W.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{W.add("esri-image-decode",!0,!0,!0)}).catch(()=>{W.add("esri-image-decode",!1,!0,!0)})}return!1}),W.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function BAe(e,t){if(e.forEach)e.forEach(t);else for(let r=0;r<e.length;r++)t(e[r],r,e)}function ase(e,t,r){if(e.slice)return e.slice(t,r);t===void 0?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),r===void 0?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));const i=Math.max(0,r-t),n=new e.constructor(i);for(let s=0;s<i;s++)n[s]=e[t+s];return n}function UAe(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}function ose(e){return e instanceof Int8Array||e&&e.constructor&&e.constructor.name==="Int8Array"}function lse(e){return e instanceof Uint8Array||e&&e.constructor&&e.constructor.name==="Uint8Array"}function cse(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function use(e){return e instanceof Int16Array||e&&e.constructor&&e.constructor.name==="Int16Array"}function dse(e){return e instanceof Uint16Array||e&&e.constructor&&e.constructor.name==="Uint16Array"}function fse(e){return e instanceof Int32Array||e&&e.constructor&&e.constructor.name==="Int32Array"}function pse(e){return e instanceof Uint32Array||e&&e.constructor&&e.constructor.name==="Uint32Array"}function hse(e){return e instanceof Float32Array||e&&e.constructor&&e.constructor.name==="Float32Array"}function mse(e){return e instanceof Float64Array||e&&e.constructor&&e.constructor.name==="Float64Array"}function lU(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&lU(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function D(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=fU(e);if(C(t))return t;if(cU(e))return e.clone();if(uU(e))return e.map(D);if(dU(e))return e.clone();const r={};for(const i of Object.getOwnPropertyNames(e))r[i]=D(e[i]);return r}function zS(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=fU(e);if(C(t))return t;if(uU(e)){let r=!0;const i=e.map(n=>{const s=zS(n);return n!=null&&s==null&&(r=!1),s});return r?i:null}if(cU(e))return e.clone();if(!dU(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const i of Object.getOwnPropertyNames(e)){const n=e[i],s=zS(n);if(n!=null&&s==null)return null;r[i]=s}return r}return null}function cU(e){return typeof e.clone=="function"}function uU(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function dU(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function zR(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function fU(e){if(ose(e)||lse(e)||cse(e)||use(e)||dse(e)||fse(e)||pse(e)||hse(e)||mse(e))return ase(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((r,i)=>{t.set(i,D(r))}),t}if(e instanceof Set){const t=new Set;return e.forEach(r=>{t.add(D(r))}),t}return null}function HC(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function yse(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&GC(e,t):e instanceof Set?t instanceof Set&&bse(e,t):e instanceof Map?t instanceof Map&&vse(e,t):!!zR(e)&&zR(t)&&gse(e,t))}function gse(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const i of r)if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function bse(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function vse(e,t){if(e.size!==t.size)return!1;for(const[r,i]of e){const n=t.get(r);if(n!==i||n===void 0&&!t.has(r))return!1}return!0}function Vi(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function wse(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function Xv(e,t,r){return r?J9(e,t,{policy:r,path:""}):J9(e,t,null)}function J9(e,t,r){return t?Object.keys(t).reduce((i,n)=>{let s=null,a="merge";if(r&&(s=r.path?`${r.path}.${n}`:n,a=r.policy(s)),a==="replace")return i[n]=t[n],i;if(i[n]===void 0)return i[n]=D(t[n]),i;let o=i[n],l=t[n];if(o===l)return i;if(Array.isArray(l)||Array.isArray(i))o=o?Array.isArray(o)?i[n]=o.concat():i[n]=[o]:i[n]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach(c=>{o.includes(c)||o.push(c)}));else if(l&&typeof l=="object")if(r){const c=r.path;r.path=s,i[n]=J9(o,l,r),r.path=c}else i[n]=J9(o,l,null);else i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[n]=l);return i},e||{}):e}function pU(e){return Array.isArray(e)?e:e.split(".")}function BR(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function _se(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...BR(r));return t}return BR(e)}function hU(e,t,r,i){const n=_se(t);if(n.length!==1){const s=n.map(a=>i(e,a,r));return U6(s)}return i(e,n[0],r)}function mU(e){let t=!1;return()=>{t||(t=!0,e())}}function yU(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.getItemAt(n)}const i=Vi(t);return wse(i,r)?i.get(r):t[r]}function gU(e,t,r){if(e==null)return e;const i=yU(t[r],e);return!i&&r<t.length-1?void 0:r===t.length-1?i:gU(i,t,r+1)}function x2(e,t,r=0){return typeof t!="string"||t.includes(".")?gU(e,pU(t),r):yU(t,e)}function Z9(e,t){return x2(e,t)}function UR(e,t){return x2(t,e)!==void 0}var Ho;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(Ho||(Ho={}));class GR{constructor(t){this.autoDestroy=!1,this.properties=t}}function M2(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){const i=Object.create(t.properties),n=t.autoDestroy;for(const s in i)i[s]=D(i[s]);t=new GR(i),t.autoDestroy=n,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new GR({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Sse(e){return M2(e).properties}function G6(e,t){const r=Sse(e);let i=r[t];return i||(i=r[t]={}),i}function xse(e,t){return Xv(e,t,Ise)}const Mse=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Ise(e){return Mse.test(e)?"replace":"merge"}function bU(e,t,r=!1){return wU(e,t,r)}function iy(e,t){if(t!=null)return t[e]||vU(e.split("."),!1,t)}function Nn(e,t,r){const i=e.split("."),n=i.pop(),s=vU(i,!0,r);s&&n&&(s[n]=t)}function vU(e,t,r){let i=r;for(const n of e){if(i==null)return;if(!(n in i)){if(!t)return;i[n]={}}i=i[n]}return i}function wU(e,t,r){return t?Object.keys(t).reduce((i,n)=>{let s=i[n],a=t[n];return s===a?i:s===void 0?(i[n]=D(a),i):(Array.isArray(a)||Array.isArray(i)?(s=s?Array.isArray(s)?i[n]=s.concat():i[n]=[s]:i[n]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach(o=>{s.includes(o)||s.push(o)}):i[n]=a.concat())):a&&typeof a=="object"?i[n]=wU(s,a,r):i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[n]=a),i)},e||{}):e}var qV;const rt={apiKey:void 0,applicationUrl:(qV=globalThis.location)==null?void 0:qV.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(bU(rt,globalThis.esriConfig,!0),delete rt.has),!rt.assetsPath){const e="4.24.7";rt.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}rt.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(rt,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),rt.request.corsEnabledServers=[],rt.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0};const $se=/\{([^\}]+)\}/g;function qR(e){return e==null?"":e}function Ko(e,t){return e.replace($se,typeof t=="object"?(r,i)=>qR(iy(i,t)):(r,i)=>qR(t(i)))}function _U(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>t&&t.includes(r)?r:`\\${r}`)}function WC(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function GAe(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const HR={info:0,warn:1,error:2,none:3};class ae{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,ae._loggers[this.module]=this;const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=ae.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const r=ae._loggers;return ae._loggers=t,r},set throttlingDisabled(t){ae._throttlingDisabled=t}}}static getLogger(t){let r=ae._loggers[t];return r||(r=new ae({module:t})),r}_log(t,r,...i){if(!!this._matchLevel(t)){if(r!=="always"&&!ae._throttlingDisabled){const n=this._argsToKey(i),s=this._loggedMessages[t].get(n);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=ae._tickCounter)return;this._loggedMessages[t].set(n,ae._tickCounter),ae._scheduleTickCounterIncrement()}for(const n of rt.log.interceptors)if(n(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,r){let i=this;for(;C(i);){const n=i[t];if(C(n))return n;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...i){console[t](`[${r}]`,...i)}_matchLevel(t){const r=rt.log.level?rt.log.level:"warn";return HR[this._parentWithMember("level",r)]<=HR[t]}_argsToKey(...t){const r=(i,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]";return WC(JSON.stringify(t,r))}static _scheduleTickCounterIncrement(){ae._tickCounterScheduled||(ae._tickCounterScheduled=!0,Promise.resolve().then(()=>{ae._tickCounter++,ae._tickCounterScheduled=!1}))}}ae._loggers={},ae._tickCounter=0,ae._tickCounterScheduled=!1,ae._throttlingDisabled=!1;var Fe;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(Fe||(Fe={}));const BS=Fe.USER+1;function ju(e){switch(e){case"defaults":return Fe.DEFAULTS;case"service":return Fe.SERVICE;case"portal-item":return Fe.PORTAL_ITEM;case"web-scene":return Fe.WEB_SCENE;case"web-map":return Fe.WEB_MAP;case"user":return Fe.USER}}function Q9(e){switch(e){case Fe.DEFAULTS:return"defaults";case Fe.SERVICE:return"service";case Fe.PORTAL_ITEM:return"portal-item";case Fe.WEB_SCENE:return"web-scene";case Fe.WEB_MAP:return"web-map";case Fe.USER:return"user"}return void 0}function Tse(e){return Q9(e)}var yt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(yt||(yt={}));let Y9,Ig=[];const Cse=ae.getLogger("esri.core.Accessor");function Ne(e){Y9!==void 0&&Y9.onObservableAccessed(e)}let e5=!1,t5=!1;function mc(e,t,r){if(e5)return JC(e,t,r);SU(e);const i=t.call(r);return xU(),i}function Ese(e,t){return mc(void 0,e,t)}function JC(e,t,r){const i=e5;e5=!0,SU(e);let n=null;try{n=t.call(r)}catch(s){t5&&Cse.error(s)}return xU(),e5=i,n}function SU(e){Y9=e,Ig.push(e)}function xU(){const e=Ig.pop();Y9=Ig.length>0?Ig[Ig.length-1]:void 0,e!==void 0&&e.onTrackingEnd()}function MU(e,t){if(t.flags&yt.DepTrackingInitialized)return;const r=t5;t5=!1,t.flags&yt.AutoTracked?JC(t,t.metadata.get,e):IU(e,t),t5=r}const kse=[];function IU(e,t){t.flags&yt.ExplicitlyTracking||(t.flags|=yt.ExplicitlyTracking,JC(t,()=>{const r=t.metadata.dependsOn||kse;for(const i of r)if(typeof i!="string"||i.includes(".")){const n=pU(i);for(let s=0,a=e;s<n.length&&a!=null&&typeof a=="object";++s)a=WR(a,n[s],s!==n.length-1)}else WR(e,i,!1)}),t.flags&=~yt.ExplicitlyTracking)}function WR(e,t,r){var s;const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const a=parseInt(i,10);if(!isNaN(a))return Array.isArray(e)?e[a]:e.getItemAt(a)}const n=(s=Vi(e))==null?void 0:s.properties.get(i);return n&&(Ne(n),MU(e,n)),r?e[i]:void 0}class $U{constructor(t,r){this._observers=t,this._observer=r}remove(){sse(this._observers,this._observer)}}class JR{constructor(t,r,i){this.properties=t,this.propertyName=r,this.metadata=i,this._observers=null,this._accessed=null,this._handles=null,this.flags=yt.Dirty|(i.nonNullable?yt.NonNullable:0)|(i.hasOwnProperty("value")?yt.HasDefaultValue:0)|(i.get===void 0?yt.DepTrackingInitialized:0)|(i.dependsOn===void 0?yt.AutoTracked:0)}destroy(){if(this.flags&yt.Dirty&&this._observers){const t=this._observers.slice();for(const r of t)r.onCommitted()}this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){Ne(this);const t=this.properties.store,r=this.propertyName,i=this.flags,n=t.get(r);if(i&yt.Computing||~i&yt.Dirty&&t.has(r))return n;this.flags|=yt.Computing;const s=this.properties.host;let a;i&yt.AutoTracked?a=mc(this,this.metadata.get,s):(IU(s,this),a=this.metadata.get.call(s)),t.set(r,a,Fe.COMPUTED);const o=t.get(r);return o===n?this.flags&=~yt.Dirty:Ese(this.commit,this),this.flags&=~yt.Computing,o}onObservableAccessed(t){t!==this&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=yt.DepTrackingInitialized;const t=this._accessed;if(t===null)return;let r=this._handles;r===null&&(r=this._handles=[]);for(let i=0;i<t.length;++i)r.push(t[i].observe(this));t.length=0}observe(t){return this._observers===null&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new $U(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&yt.Overriden&&(this.flags|=yt.Dirty);const t=this._observers;if(t!==null)for(let r=0;r<t.length;++r)t[r].onInvalidated()}commit(){this.flags&=~yt.Dirty,this.onCommitted()}onCommitted(){if(this._observers===null)return;const t=this._observers.slice();for(let r=0;r<t.length;++r)t[r].onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}}class ZC{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new ZC;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,D(i))}),r}get(t){return this._values.get(t)}originOf(){return Fe.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function x3(e,t,r){return e!==void 0}function ZR(e,t,r,i){return e!==void 0&&(!(r==null&&e.flags&yt.NonNullable)||(i.lifecycle,Ho.INITIALIZING,!1))}function Ase(e){return e&&typeof e.destroy=="function"}ae.getLogger("esri.core.accessorSupport.Properties");class Lse{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=Ho.INITIALIZING,this.store=new ZC,this._origin=Fe.USER;const r=this.host.constructor.__accessorMetadata__,i=r.properties;for(const n in i){const s=new JR(this,n,i[n]);this.properties.set(n,s)}this.metadatas=i,this._autoDestroy=r.autoDestroy}initialize(){this.lifecycle=Ho.CONSTRUCTING}constructed(){this.lifecycle=Ho.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,r]of this.properties){const i=this.internalGet(t);i&&Ase(i)&&(i.destroy(),~r.flags&yt.NonNullable&&this._internalSet(r,null)),r.destroy()}else for(const[t,r]of this.properties)r.destroy()}get initialized(){return this.lifecycle!==Ho.INITIALIZING}get(t){const r=this.properties.get(t);if(r.metadata.get)return r.getComputed();Ne(r);const i=this.store;return i.has(t)?i.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const i=this.properties.get(t);if(i!==void 0&&i.flags&yt.HasDefaultValue)return"defaults"}return Q9(r)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const r=this.properties.get(t);if(x3(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const i=this.properties.get(t);x3(i)&&this._internalSet(i,r)}getDependsInfo(t,r,i){const n=this.properties.get(r);if(!x3(n))return"";const s=new Set,a=mc({onObservableAccessed:l=>s.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=n.metadata.get)==null?void 0:l.call(t)});let o=`${i}${t.declaredClass.split(".").pop()}.${r}: ${a}
`;if(s.size===0)return o;i+="  ";for(const l of s){if(!(l instanceof JR))continue;const c=l.properties.host,d=l.propertyName,p=Vi(c);o+=p?p.getDependsInfo(c,d,i):`${i}${d}: undefined
`}return o}setAtOrigin(t,r,i){const n=this.properties.get(t);if(x3(n))return this._setAtOrigin(n,r,i)}isOverridden(t){const r=this.properties.get(t);return r!==void 0&&!!(r.flags&yt.Overriden)}clearOverride(t){const r=this.properties.get(t);r!==void 0&&r.flags&yt.Overriden&&(r.flags&=~yt.Overriden,r.notifyChange())}override(t,r){const i=this.properties.get(t);if(!ZR(i,t,r,this))return;const n=i.metadata.cast;if(n){const s=this._cast(n,r),{valid:a,value:o}=s;if(B8.release(s),!a)return;r=o}i.flags|=yt.Overriden,this._internalSet(i,r)}set(t,r){const i=this.properties.get(t);if(!ZR(i,t,r,this))return;const n=i.metadata.cast;if(n){const a=this._cast(n,r),{valid:o,value:l}=a;if(B8.release(a),!o)return;r=l}const s=i.metadata.set;s?s.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(t){this._origin=ju(t)}getDefaultOrigin(){return Q9(this._origin)}notifyChange(t){const r=this.properties.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.properties.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.properties.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const i=this.lifecycle!==Ho.INITIALIZING?this._origin:Fe.DEFAULTS;this._setAtOrigin(t,r,i)}_setAtOrigin(t,r,i){const n=this.store,s=t.propertyName;n.has(s,i)&&HC(r,n.get(s))&&~t.flags&yt.Overriden&&i===n.originOf(s)||(t.invalidate(),n.set(s,r,i),t.commit(),MU(this.host,t))}_cast(t,r){const i=B8.acquire();return i.valid=!0,i.value=r,t&&(i.value=t.call(this.host,r,i)),i}}class Rse{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const B8=new co(Rse);function Pse(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(r,i)=>{if(i==="")return"$";const n=iy(i,t),s=n==null?"":n;if(s===void 0)throw new Error(`could not find key "${i}" in template`);return s.toString()})}class q6{constructor(t,r,i){this.name=t,this.details=i,this.message=void 0,this instanceof q6&&(this.message=r&&Pse(r,i)||"")}toString(){return"["+this.name+"]: "+this.message}}class R extends q6{constructor(t,r,i){if(super(t,r,i),!(this instanceof R))return new R(t,r,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return D(r)}catch{return"[object]"}}))}}catch(t){throw ae.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new R(t.name,t.message,t.details)}}R.prototype.type="error";function K9(e,t,r){if(e&&t)if(typeof t=="object")for(const i of Object.getOwnPropertyNames(t))K9(e,i,t[i]);else{if(t.includes(".")){const n=t.split("."),s=n.splice(n.length-1,1)[0];return void K9(Z9(e,n),s,r)}const i=e.__accessor__;i!=null&&Ose(t,i),e[t]=r}}function Ose(e,t){if(W("esri-unknown-property-errors")&&!Fse(e,t))throw new R("set:unknown-property",Dse(e,t))}function Fse(e,t){return t.metadatas[e]!=null}function Dse(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}ae.getLogger("esri.core.accessorSupport.set");class TU extends co{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=ese(this._set)}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}const M3=[];function X9(e){M3.push(e),M3.length===1&&queueMicrotask(()=>{const t=M3.slice();M3.length=0;for(const r of t)r()})}const Nse=29;class Fb{constructor(t,r=Nse){this.name=t,this._counter=0,this._items=new Array(r)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort((t,r)=>t-r)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((t,r)=>t+r,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}var US;(function(e){const t=(s,a,o,l)=>{let c=a,d=a;const p=o>>>1,h=s[c-1];for(;d<=p;){d=c<<1,d<o&&l(s[d-1],s[d])<0&&++d;const m=s[d-1];if(l(m,h)<=0)break;s[c-1]=m,c=d}s[c-1]=h},r=(s,a)=>s<a?-1:s>a?1:0;function i(s,a,o,l){a===void 0&&(a=0),o===void 0&&(o=s.length),l===void 0&&(l=r);for(let d=o>>>1;d>a;d--)t(s,d,o,l);const c=a+1;for(let d=o-1;d>a;d--){const p=s[a];s[a]=s[d],s[d]=p,t(s,c,d,l)}}function*n(s,a,o,l){a===void 0&&(a=0),o===void 0&&(o=s.length),l===void 0&&(l=r);for(let d=o>>>1;d>a;d--)t(s,d,o,l),yield;const c=a+1;for(let d=o-1;d>a;d--){const p=s[a];s[a]=s[d],s[d]=p,t(s,c,d,l),yield}}e.sort=i,e.iterableSort=n})(US||(US={}));const QR=US,jse=1.5,Vse=1.1;class op{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new sU,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>YR(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let i=0;i<this._length;i++){const n=this.data[i];t(n)&&r.push(n)}return r}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}includes(t,r){const i=this.data.indexOf(t,r);return i!==-1&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let i=0;i<r;i++)this.data[this._length++]=t[i]}fill(t,r){for(let i=0;i<r;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,YR(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=oU(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){const r=qC(this.data,t,this.length,this._hint);return r!==void 0&&(this.length=this.length-1),this._shrink(),r}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,i){this.length=ise(this.data,t,this.length,r,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){t>=this.length||r>=this.length||t===r||([this.data[t],this.data[r]]=[this.data[r],this.data[t]])}sort(t){QR.sort(this.data,0,this.length,t)}iterableSort(t){return QR.iterableSort(this.data,0,this.length,t)}some(t,r){for(let i=0;i<this.length;++i)if(t.call(r,this.data[i],i,this.data))return!0;return!1}filterInPlace(t,r){let i=0;for(let n=0;n<this._length;++n){const s=this.data[n];t.call(r,s,n,this.data)&&(this.data[n]=this.data[i],this.data[i]=s,i++)}if(this._deallocator)for(let n=i;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=i,this._shrink(),this}forAll(t,r){const i=this.length,n=this.data;for(let s=0;s<i;++s)t.call(r,n[s],s,n)}forEach(t,r){for(let i=0;i<this.length;++i)t.call(r,this.data[i],i,this.data)}map(t,r){const i=new Array(this.length);for(let n=0;n<this.length;++n)i[n]=t.call(r,this.data[n],n,this.data);return i}reduce(t,r){let i=r;for(let n=0;n<this.length;++n)i=t(i,this.data[n],n,this.data);return i}has(t){const r=this.length,i=this.data;for(let n=0;n<r;++n)if(i[n]===t)return!0;return!1}}function YR(e){e.data.length>jse*e.length&&(e.data.length=Math.floor(e.length*Vse))}function zse(e){return{setTimeout:(t,r)=>{const i=e.setTimeout(t,r);return{remove:()=>e.clearTimeout(i)}}}}const I2=zse(globalThis),KR=new Set;function Bse(e,t,r=!1){r&&KR.has(t)||(r&&KR.add(t),e.warn(`\u{1F6D1} DEPRECATED - ${t}`))}function Use(e,t,r={}){if(W("esri-deprecation-warnings")){const{moduleName:i}=r;CU(e,`Property: ${(i?i+"::":"")+t}`,r)}}function CU(e,t,r={}){if(W("esri-deprecation-warnings")){const{replacement:i,version:n,see:s,warnOnce:a}=r;let o=t;i&&(o+=`
	\u{1F6E0}\uFE0F Replacement: ${i}`),n&&(o+=`
	\u2699\uFE0F Version: ${n}`),s&&(o+=`
	\u{1F517} See ${s} for more details.`),Bse(e,o,a)}}function H6(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function W6(e,t,r){if(!H6(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const i=t.slice();for(const n of i)e.addEventListener(n,r);return{remove(){for(const n of i)e.removeEventListener(n,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function EU(e,t,r){if(!H6(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=W6(e,t,n=>{i.remove(),r.call(e,n)});return{remove(){i.remove()}}}const Gse={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function Af({key:e}){return Gse[e]||e}function Nt(e="Aborted"){return new R("AbortError",e)}function Ge(e,t="Aborted"){if(la(e))throw Nt(t)}function J6(e){return C(e)?"aborted"in e?e:e.signal:e}function la(e){const t=J6(e);return C(t)&&t.aborted}function ny(e){if(zi(e))throw e}function GS(e){if(!zi(e))throw e}function ca(e,t){const r=J6(e);if(!B(r)){if(!r.aborted)return EU(r,"abort",()=>t());t()}}function QC(e,t){const r=J6(e);if(!B(r))return Ge(r),EU(r,"abort",()=>t(Nt()))}function kU(e,t){const r=J6(t);return B(r)?e:new Promise((i,n)=>{let s=ca(t,()=>n(Nt()));const a=()=>s=On(s);e.then(a,a),e.then(i,n)})}function zi(e){return e&&e.name==="AbortError"}async function qS(e){try{return await e}catch(t){if(!zi(t))throw t}}function yc(){let e=null;const t=new Promise((r,i)=>{e={promise:void 0,resolve:r,reject:i}});return e.promise=t,e}async function Kt(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),i=r.map(a=>e[a]),n=await Kt(i),s={};return r.map((a,o)=>s[a]=n[o]),s}const t=e;return new Promise(r=>{const i=[];let n=t.length;n===0&&r(i),t.forEach(s=>{const a={promise:s||Promise.resolve(s)};i.push(a),a.promise.then(o=>{a.value=o}).catch(o=>{a.error=o}).then(()=>{--n,n===0&&r(i)})})})}async function qse(e){return(await Kt(e)).filter(t=>!!t.value).map(t=>t.value)}function YC(e,t,r){const i=new AbortController;return ca(r,()=>i.abort()),new Promise((n,s)=>{let a=setTimeout(()=>{a=0,n(t)},e);ca(i,()=>{a&&(clearTimeout(a),s(Nt()))})})}function AU(e,t,r,i){const n=r&&"abort"in r?r:null;i!=null||n||(i=r);let s=setTimeout(()=>{s=0,n&&n.abort()},t);const a=()=>i||new R("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(o=>{if(s===0)throw a();return clearTimeout(s),o},o=>{throw clearTimeout(s),s===0?a():o})}function _c(e){return e&&typeof e.then=="function"}function e4(e){return _c(e)?e:Promise.resolve(e)}function Z6(e,t=-1){let r,i,n,s,a=null;const o=(...l)=>{if(r){i=l,s&&s.reject(Nt()),s=yc();const h=s.promise;if(a){const m=a;a=null,m.abort()}return h}if(n=s||yc(),s=null,t>0){const h=new AbortController;r=e4(e(...l,h.signal));const m=r;YC(t).then(()=>{r===m&&(s?h.abort():a=h)})}else r=1,r=e4(e(...l));const c=()=>{const h=i;i=n=r=a=null,h!=null&&o(...h)},d=r,p=n;return d.then(c,c),d.then(p.resolve,p.reject),p.promise};return o}function LU(){let e,t;const r=new Promise((n,s)=>{e=n,t=s}),i=n=>{e(n)};return i.resolve=n=>e(n),i.reject=n=>t(n),i.timeout=(n,s)=>I2.setTimeout(()=>i.reject(s),n),i.promise=r,i}function RU(e,t){let r,i=new AbortController;const n=e(i.signal);let s={promise:n,finished:!1,abort:()=>{i&&(i.abort(),i=null)}};const a=()=>{s&&(s.finished=!0,s=null),C(r)&&(r.remove(),r=null),i=null};return n.then(a,a),r=ca(t,()=>{C(s)&&s.abort()}),s}async function XR(e){await Promise.resolve(),Ge(e)}function qAe(e){return e}class Hse{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}}class Wse{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let HS=0;const By={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},WS=["prepare","preRender","render","postRender","update","finish"],JS=[],xp=new op;class Jse{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const t4={frameTasks:xp,willDispatch:!1,clearFrameTasks:Zse,dispatch:FU,executeFrameTasks:Qse};function sy(e){const t=new Wse(e);return JS.push(t),t4.willDispatch||(t4.willDispatch=!0,X9(FU)),t}function $m(e){const t=new Hse(e);return xp.push(t),r4==null&&(HS=performance.now(),r4=requestAnimationFrame(PU)),new Jse(t)}let r4=null;function Zse(e=!1){xp.forAll(t=>{t.removed=!0}),e&&OU()}function PU(){const e=performance.now();r4=null,r4=xp.length>0?requestAnimationFrame(PU):null,t4.executeFrameTasks(e)}function Qse(e){const t=e-HS;HS=e;const r=1e3/60,i=Math.max(0,t-r);for(let n=0;n<WS.length;n++){const s=performance.now(),a=WS[n];xp.forAll(o=>{var l;o.paused||o.removed||(n===0&&o.ticks++,o.phases[a]&&(By.time=e,By.deltaTime=o.ticks===0?0:t,By.elapsedFrameTime=performance.now()-e,By.frameDuration=r-i,(l=o.phases[a])==null||l.call(o,By)))}),Yse[n].record(performance.now()-s)}OU(),Kse.record(performance.now()-e)}const I3=new op;function OU(){xp.forAll(e=>{e.removed&&I3.push(e)}),xp.removeUnorderedMany(I3.data,I3.length),I3.clear()}function FU(){for(;JS.length;){const e=JS.shift();e.isActive&&e.callback()}t4.willDispatch=!1}function HAe(e=1,t){const r=LU(),i=()=>{la(t)?r.reject(Nt()):e===0?r():(--e,X9(()=>i()))};return i(),r.promise}const Yse=WS.map(e=>new Fb(e)),Kse=new Fb("total");function Xse(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}let eae=0;function Db(){return++eae}class Q6{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed;for(let i=0;i<r.length;++i)t.push(r[i].observe(this));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}let Y0=!1;const i4=[];function DU(e,t){let r=new Q6(s),i=null,n=!1;function s(){if(!r||n)return;if(Y0)return void VU(s);const o=i;r.clear(),Y0=!0,n=!0,i=mc(r,e),n=!1,Y0=!1,t(i,o),zU()}function a(){r&&(r.destroy(),r=null,i=null)}return n=!0,i=mc(r,e),n=!1,{remove:a}}function NU(e,t){let r=new Q6(n),i=null;function n(){t(i,a)}function s(){r&&(r.destroy(),r=null),i=null}function a(){return r?(r.clear(),i=mc(r,e),i):null}return a(),{remove:s}}function jU(e){let t=new Q6(i),r=!1;function i(){t&&!r&&(Y0?VU(i):(t.clear(),Y0=!0,r=!0,mc(t,e),r=!1,Y0=!1,zU()))}function n(){t&&(t.destroy(),t=null)}return r=!0,mc(t,e),r=!1,{remove:n}}function VU(e){i4.includes(e)||i4.unshift(e)}function zU(){for(;i4.length;)i4.pop()()}var Nb;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Nb||(Nb={}));class L1{constructor(){this.uid=Db(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,i,n,s){return this.pool.acquire(Nb.Untracked,t,r,i,n,s,HC)}static acquireTracked(t,r,i,n){return this.pool.acquire(Nb.Tracked,t,r,i,null,null,n)}notify(t,r){this.type===Nb.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r)}acquire(t,r,i,n,s,a,o){this.uid=Db(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=i,this.getValue=n,this.target=s,this.path=a,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Db(),this.removed=!0}}L1.pool=new TU(L1);const r5=new sn,lc=new Set;let n4;function s4(e){lc.delete(e),lc.add(e),n4||(n4=sy(iae))}function tae(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function rae(e){for(const t of lc.values())t.target===e&&(t.removed=!0)}function iae(){let e=10;for(;n4&&e--;){n4=null;const t=nae(),r=r5.acquire();for(const i of t){const n=i.uid;tae(i),n===i.uid&&i.removed&&r.push(i)}for(const i of lc)i.removed&&(r.push(i),lc.delete(i));for(const i of r)L1.pool.release(i);r5.release(r),r5.release(t),ZS.forEach(i=>i())}}function nae(){const e=r5.acquire();e.length=lc.size;let t=0;for(const r of lc)e[t]=r,++t;return lc.clear(),e}const ZS=new Set;function sae(e){return ZS.add(e),{remove(){ZS.delete(e)}}}function aae(e,t,r){let i=hU(e,t,r,(n,s,a)=>{let o,l,c=NU(()=>x2(n,s),(d,p)=>{n.__accessor__.destroyed||o&&o.uid!==l?i.remove():(o||(o=L1.acquireUntracked(d,a,p,n,s),l=o.uid),s4(o))});return{remove:mU(()=>{c.remove(),o&&(o.uid!==l||o.removed||(o.removed=!0,s4(o)),o=null),i=c=null})}});return i}function oae(e,t,r){const i=hU(e,t,r,(n,s,a)=>{let o=!1;return DU(()=>x2(n,s),(l,c)=>{n.__accessor__.destroyed?i.remove():o||(o=!0,HC(c,l)||a.call(n,l,c,s,n),o=!1)})});return i}function lae(e,t,r,i=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:i?oae(e,t,r):aae(e,t,r)}function cae(e,t,r){let i,n,s=NU(e,(a,o)=>{i&&i.uid!==n?s.remove():(i||(i=L1.acquireTracked(a,t,o,r),n=i.uid),s4(i))});return{remove:mU(()=>{s.remove(),i&&(i.uid!==n||i.removed||(i.removed=!0,s4(i)),i=null),s=null})}}function uae(e,t,r){let i=!1;return DU(e,(n,s)=>{i||(i=!0,r(s,n)||t(n,s),i=!1)})}function dae(e,t,r=!1,i=yse){return r?uae(e,t,i):cae(e,t,i)}function eP(e){return Xse(lc,t=>t.oldValue===e)}function Y6(e,t){for(const[r,i]of e)if(t(i,r))return!0;return!1}function BU(e,t,r){const i=e.get(t);if(i!==void 0)return i;const n=r();return e.set(t,n),n}const K0=ae.getLogger("esri.core.Accessor");function fae(e){return e==null?e:new Date(e)}function pae(e){return e==null?e:!!e}function $2(e){return e==null?e:e.toString()}function ds(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function KC(e){return e==null?e:Math.round(parseFloat(e))}function UU(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function a4(e,t){return t!=null&&e&&!(t instanceof e)}function GU(e){return e&&"isCollection"in e}function tP(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function hae(e,t){if(!t||!t.constructor||!GU(t.constructor))return QS(e,t)?t:new e(t);const r=tP(e.prototype.itemType),i=tP(t.constructor.prototype.itemType);return r?i?r===i?t:r.prototype.isPrototypeOf(i.prototype)?new e(t):(QS(e,t),t):new e(t):t}function QS(e,t){return!!UU(t)&&(K0.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+K6(e)+"'"),!0)}function zo(e,t){return t==null?t:GU(e)?hae(e,t):a4(e,t)?QS(e,t)?t:new e(t):t}function K6(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const mae=new WeakMap;function yae(e){switch(e){case Number:return ds;case Xe:return KC;case Boolean:return pae;case String:return $2;case Date:return fae;default:return BU(mae,e,()=>zo.bind(null,e))}}function _r(e,t){const r=yae(e);return arguments.length===1?r:r(t)}function R1(e,t,r){return arguments.length===1?R1.bind(null,e):t&&(Array.isArray(t)?t.map(i=>e(i,r)):[e(t,r)])}function gae(e,t){return arguments.length===1?R1(_r.bind(null,e)):R1(_r.bind(null,e),t)}function qU(e,t,r){return t!==0&&Array.isArray(r)?r.map(i=>qU(e,t-1,i)):e(r)}function o4(e,t,r){if(arguments.length===2)return o4.bind(null,e,t);if(!r)return r;let i=t,n=r=qU(e,t,r);for(;i>0&&Array.isArray(n);)i--,n=n[0];if(n!==void 0)for(let s=0;s<i;s++)r=[r];return r}function bae(e,t,r){return arguments.length===2?o4(_r.bind(null,e),t):o4(_r.bind(null,e),t,r)}function HU(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function YS(e,t){if(arguments.length===2)return YS(e).call(null,t);const r=new Set,i=e.filter(o=>typeof o!="function"),n=e.filter(o=>typeof o=="function");for(const o of e)typeof o!="string"&&typeof o!="number"||r.add(o);let s=null,a=null;return(o,l)=>{if(o==null)return o;const c=typeof o,d=c==="string"||c==="number";return d&&(r.has(o)||n.some(p=>c==="string"&&p===String||c==="number"&&p===Number))||c==="object"&&n.some(p=>!a4(o,p))?o:(d&&i.length?(s||(s=i.map(p=>typeof p=="string"?`'${p}'`:`${p}`).join(", ")),K0.error("Accessor#set",`'${o}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof o=="object"&&n.length?(a||(a=n.map(p=>K6(p)).join(", ")),K0.error("Accessor#set",`'${o}' is not a valid value for this property, value must be one of ${a}`)):K0.error("Accessor#set",`'${o}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Xo(e,t){if(arguments.length===2)return Xo(e).call(null,t);const r={},i=[],n=[];for(const l in e.typeMap){const c=e.typeMap[l];r[l]=_r(c),i.push(K6(c)),n.push(l)}const s=()=>`'${i.join("', '")}'`,a=()=>`'${n.join("', '")}'`,o=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!a4(e.base,l)||l==null)return l;const c=o(l)||e.defaultKeyValue,d=r[c];if(!d)return K0.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!a4(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!UU(l)){const p={};for(const h in l)h!==e.key&&(p[h]=l[h]);return d(p)}return d(l)}}class Xe{}const Uy={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function vae(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function WU(e){switch(e.type){case"native":return _r(e.value);case"array":return R1(WU(e.value));case"one-of":return wae(e);default:return null}}function wae(e){let t=null;return(r,i)=>XS(r,e)?r:(t==null&&(t=KS(e)),K0.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}function KS(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Xe:return"integer";case Date:return"date";default:return K6(e.value)}case"array":return`array of ${KS(e.value)}`;case"one-of":{const t=e.values.map(r=>KS(r));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function XS(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Xe:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!XS(r,t.value));case"one-of":return t.values.some(r=>XS(e,r))}}function f(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(t,r),n=G6(t,r);i&&(i.get||i.set?(n.get=i.get||n.get,n.set=i.set||n.set):"value"in i&&("value"in e&&ae.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=i.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let d;n.dependsOn=[l],n.get=function(){let p=Z9(this,l);if(typeof p=="function"){d||(d=l.split(".").slice(0,-1).join("."));const h=Z9(this,d);h&&(p=p.bind(h))}return p},n.readOnly||(n.set=c?function(p){p!==void 0?this._override(r,p):this._clearOverride(r)}:function(p){K9(this,l,p)})}const a=e.type,o=e.types;n.cast||(a?n.cast=_ae(a):o&&(Array.isArray(o)?n.cast=R1(Xo(o[0])):n.cast=Xo(o))),e.range&&(n.cast=ZU(n.cast,e.range)),xse(n,e)}}function JU(e,t,r){const i=G6(e,r);i.json||(i.json={});let n=i.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function _ae(e){let t=0,r=e;if(vae(e))return WU(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const i=r;if(HU(i))return t===0?YS(i):o4(YS(i),t);if(t===1)return gae(i);if(t>1)return bae(i,t);const n=e;return n.from?n.from:_r(n)}function ZU(e,t){return r=>{let i=+e(r);return t.step!=null&&(i=Math.round(i/t.step)*t.step),t.min!=null&&(i=Math.max(t.min,i)),t.max!=null&&(i=Math.min(t.max,i)),i}}function Sae(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const i in r)if(t[i]){const n=t[i];r[i].forEach(s=>{t[s]=n}),delete t[i]}}}class Bi extends q6{constructor(t,r,i){if(super(t,r,i),!(this instanceof Bi))return new Bi(t,r,i)}}Bi.prototype.type="warning";function QU(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const ex=ae.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function rP(e,t,r){var i,n;e&&(!r&&!t.read||((i=t.read)==null?void 0:i.reader)||((n=t.read)==null?void 0:n.enabled)===!1||Iae(e)&&Nn("read.reader",ay(e),t))}function ay(e){var r,i,n;const t=(r=e.ndimArray)!=null?r:0;if(t>1)return Mae(e);if(t===1)return iP(e);if("type"in e&&KU(e.type)){const s=(n=(i=e.type.prototype)==null?void 0:i.itemType)==null?void 0:n.Type,a=iP(typeof s=="function"?{type:s}:{types:s});return(o,l,c)=>{const d=a(o,l,c);return d&&new e.type(d)}}return XC(e)}function XC(e){return"type"in e?xae(e.type):$ae(e.types)}function xae(e){return e.prototype.read?(t,r,i)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void ex.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const s=new e;return s.read(t,i),s}:e.fromJSON}function YU(e,t,r,i){return i!==0&&Array.isArray(t)?t.map(n=>YU(e,n,r,i-1)):e(t,void 0,r)}function Mae(e){var n;const t=XC(e),r=YU.bind(null,t),i=(n=e.ndimArray)!=null?n:0;return(s,a,o)=>{if(s==null)return s;s=r(s,o,i);let l=i,c=s;for(;l>0&&Array.isArray(c);)l--,c=c[0];if(c!==void 0)for(let d=0;d<l;d++)s=[s];return s}}function iP(e){const t=XC(e);return(r,i,n)=>{if(r==null)return r;if(Array.isArray(r)){const a=[];for(const o of r){const l=t(o,void 0,n);l!==void 0&&a.push(l)}return a}const s=t(r,void 0,n);return s!==void 0?[s]:void 0}}function KU(e){if(!QU(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?eE(t.Type):XU(t.Type))}function Iae(e){return"types"in e?XU(e.types):eE(e.type)}function eE(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||KU(e))}function XU(e){for(const t in e.typeMap)if(!eE(e.typeMap[t]))return!1;return!0}function $ae(e){var i;let t=null;const r=(i=e.errorContext)!=null?i:"type";return(n,s,a)=>{if(n==null)return n;const o=typeof n;if(o!=="object")return void ex.error(`Expected JSON value of type 'object' to deserialize, but got '${o}'`);t||(t=Tae(e));const l=e.key;if(typeof l!="string")return;const c=n[l],d=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const h=`Type '${c||"unknown"}' is not supported`;return a&&a.messages&&n&&a.messages.push(new Bi(`${r}:unsupported`,h,{definition:n,context:a})),void ex.error(h)}const p=new d;return p.read(n,a),p}}function Tae(e){var r,i;const t={};for(const n in e.typeMap){const s=e.typeMap[n],a=M2(s.prototype);if(typeof e.key=="function")continue;const o=a.properties[e.key];if(!o)continue;((r=o.json)==null?void 0:r.type)&&Array.isArray(o.json.type)&&o.json.type.length===1&&typeof o.json.type[0]=="string"&&(t[o.json.type[0]]=s);const l=(i=o.json)==null?void 0:i.write;if(!l||!l.writer){t[n]=s;continue}const c=l.target,d=typeof c=="string"?c:e.key,p={};l.writer(n,p,d),p[d]&&(t[p[d]]=s)}return t}function Cae(e){if(e.json||(e.json={}),sP(e.json),aP(e.json),nP(e.json),e.json.origins)for(const t in e.json.origins)sP(e.json.origins[t]),aP(e.json.origins[t]),nP(e.json.origins[t]);return!0}function nP(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function sP(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function aP(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}const Eae=ae.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function oP(e,t){var i;if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(i=e==null?void 0:e.ndimArray)!=null?i:0;e&&(r===1||"type"in e&&QU(e.type))?t.write.writer=Lae:r>1?t.write.writer=Rae(r):t.types?Array.isArray(t.types)?t.write.writer=Aae(t.types[0]):t.write.writer=kae(t.types):t.write.writer=P1}function kae(e){return(t,r,i,n)=>t?eG(t,e,n)?P1(t,r,i,n):void 0:P1(t,r,i,n)}function eG(e,t,r){var i,n;for(const s in t.typeMap)if(e instanceof t.typeMap[s])return!0;if(r!=null&&r.messages){const s=(i=t.errorContext)!=null?i:"type",a=`Values of type '${(n=typeof t.key!="function"?e[t.key]:e.declaredClass)!=null?n:"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new R(`${s}:unsupported`,a,{definition:e,context:r})),Eae.error(a)}return!1}function Aae(e){return(t,r,i,n)=>!t||!Array.isArray(t)?P1(t,r,i,n):P1(t.filter(s=>eG(s,e,n)),r,i,n)}function P1(e,t,r,i){Nn(r,l4(e,i),t)}function l4(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?c4(e):e}function c4(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Lae(e,t,r,i){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map(s=>l4(s,i)),typeof n.toArray=="function"&&(n=n.toArray())):n=[l4(e,i)],Nn(r,n,t)}function tG(e,t,r){return r!==0&&Array.isArray(e)?e.map(i=>tG(i,t,r-1)):l4(e,t)}function Rae(e){return(t,r,i,n)=>{let s;if(t===null)s=null;else{s=tG(t,n,e);let a=e,o=s;for(;a>0&&Array.isArray(o);)a--,o=o[0];if(o!==void 0)for(let l=0;l<a;l++)s=[s]}Nn(i,s,r)}}function tx(e,t){return tE(e,"read",t)}function rG(e,t){return tE(e,"write",t)}function tE(e,t,r){let i=e&&e.json;if(e&&e.json&&e.json.origins&&r){const n=e.json.origins[r.origin];n&&(t==="any"||t in n)&&(i=n)}return i}function Pae(e){const t=Oae(e);if(e.json.origins)for(const r in e.json.origins){const i=e.json.origins[r],n=i.types?Fae(i):t;rP(n,i,!1),i.types&&!i.write&&e.json.write&&e.json.write.enabled&&(i.write={...e.json.write}),oP(n,i)}rP(t,e.json,!0),oP(t,e.json)}function Oae(e){return e.json.types?rx(e.json):e.type?iG(e):rx(e)}function Fae(e){return e.type?iG(e):rx(e)}function iG(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!HU(r);)r=r[0],t++;return{type:r,ndimArray:t}}function rx(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function Dae(e){Cae(e)&&(Sae(e),Pae(e))}const U8=new Set,G8=new Set;function E(e){return t=>{t.prototype.declaredClass=e,jae(t);const r=[],i=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!U8.has(n.initialize)&&(U8.add(n.initialize),r.push(n.initialize)),n.hasOwnProperty("destroy")&&!G8.has(n.destroy)&&(G8.add(n.destroy),i.push(n.destroy)),n=Object.getPrototypeOf(n);U8.clear(),G8.clear();class s extends t{constructor(...o){if(super(...o),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),i.length){let l=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0;for(let c=0;c<i.length;c++)i[c].call(this)}}})}this.postscript(...o)}}}return s.__accessorMetadata__=M2(t.prototype),s.prototype.declaredClass=e,s}}function Nae(e,t){return t.get==null?function(){const r=this.__accessor__.properties.get(e);if(r===void 0)return;Ne(r);const i=this.__accessor__.store;return i.has(e)?i.get(e):r.metadata.value}:function(){const r=this.__accessor__.properties.get(e);if(r!==void 0)return r.getComputed()}}function jae(e){const t=e.prototype,r=M2(t).properties,i={};for(const n of Object.getOwnPropertyNames(r)){const s=r[n];Dae(s),i[n]={enumerable:!0,configurable:!0,get:Nae(n,s),set(a){const o=this.__accessor__;if(o!==void 0){if(!Object.isFrozen(this)){if(o.initialized&&s.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${n}' of ${this.declaredClass}`);if(o.lifecycle===Ho.CONSTRUCTED&&s.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${n}' of ${this.declaredClass}`);o.set(n,a)}}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,i)}var nG;function Vae(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return((t=e.constructor)==null?void 0:t.__accessorMetadata__)||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const $g=Symbol("Accessor-Handles");class ye{constructor(...t){if(this[nG]=null,this.constructor===ye)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new Lse(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:i,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class a extends s{constructor(...l){super(...l),this.inherited=null,n&&n.apply(this,l)}}M2(a.prototype);for(const o in t){const l=t[o];a.prototype[o]=typeof l=="function"?function(...c){const d=this.inherited;let p;this.inherited=function(...h){if(s.prototype[o])return s.prototype[o].apply(this,h)};try{p=l.apply(this,c)}catch(h){throw this.inherited=d,h}return this.inherited=d,p}:t[o]}for(const o in r){const l=Vae(r[o]);f(l)(a.prototype,o)}return E(i)(a)}postscript(t){const r=this.__accessor__,i=r.ctorArgs||t;r.initialize(),i&&(this.set(i),r.ctorArgs=null),r.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(qo(this[$g],t=>{t.forEach(r=>r.remove())}),this[$g]=null,rae(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===Ho.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return Z9(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return K9(this,t,r),this}watch(t,r,i){return lae(this,t,r,i)}own(t){let r=this[$g];if(B(r)&&(r=this[$g]=new Set),VS(t))for(const i of t)r.add(i);else r.add(t)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,r){return this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}}nG=$g;class X0{constructor(){this._emitter=new X0.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}}(function(e){class t{constructor(n=null){this.target=n,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(n,s){const a=this._listenersMap&&this._listenersMap.get(n);if(!a)return!1;const o=this.target||this;return[...a].forEach(l=>{l.call(o,s)}),a.length>0}on(n,s){if(Array.isArray(n)){const o=n.map(l=>this.on(l,s));return U6(o)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const a=this._listenersMap.get(n)||[];return a.push(s),this._listenersMap.set(n,a),{remove:()=>{const o=this._listenersMap&&this._listenersMap.get(n)||[],l=o.indexOf(s);l>=0&&o.splice(l,1)}}}once(n,s){const a=this.on(n,o=>{a.remove(),s.call(null,o)});return a}hasEventListener(n){const s=this._listenersMap&&this._listenersMap.get(n);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=i=>{let n=class extends i{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,a){return this._emitter.emit(s,a)}on(s,a){return this._emitter.on(s,a)}once(s,a){return this._emitter.once(s,a)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return n=u([E("esri.core.Evented")],n),n};let r=class extends ye{constructor(){super(...arguments),this._emitter=new X0.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,n){return this._emitter.emit(i,n)}on(i,n){return this._emitter.on(i,n)}once(i,n){return this._emitter.once(i,n)}hasEventListener(i){return this._emitter.hasEventListener(i)}};r=u([E("esri.core.Evented")],r),e.EventedAccessor=r})(X0||(X0={}));const Sc=X0;var dt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(dt||(dt={}));function rE(e){return(t,r)=>{t[r]=e}}class sG{constructor(){this._observers=[]}observe(t){return this._observers.includes(t)||this._observers.push(t),new $U(this._observers,t)}notify(){const t=this._observers.slice();for(let r=0;r<t.length;++r){const i=t[r];i.onInvalidated(),i.onCommitted()}}}var Kl;class zae{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const ks=new co(zae,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),Bae=()=>{};function q8(e){return e?e instanceof Lf?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function H8(e){if(e&&e.length)return e[0]}function Uae(e,t,r,i){const n=Math.min(e.length-r,t.length-i);let s=0;for(;s<n&&e[r+s]===t[i+s];)s++;return s}function aG(e,t,r,i){t&&t.forEach((n,s,a)=>{e.push(n),aG(e,r.call(i,n,s,a),r,i)})}const Cc=new Set,Ec=new Set,kc=new Set,W8=new Map;let Gae=0,Lf=Kl=class extends Sc.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new sG,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Gae++})}static isCollection(e){return e!=null&&e instanceof Kl}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Kl?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return Ne(this._observable),this._items}set items(e){this._emitBeforeChanges(dt.ADD)||(this._splice(0,this.length,q8(e)),this._emitAfterChanges(dt.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,i={removed:!1,callback:t};return r.push(i),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=Bae,i.removed=!0,r.splice(r.indexOf(i),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if(Ne(this._observable),this._emitBeforeChanges(dt.ADD))return this;const r=this.getNextIndex(t!=null?t:null);return this._splice(r,0,[e]),this._emitAfterChanges(dt.ADD),this}addMany(e,t=this._items.length){if(Ne(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(dt.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,q8(e)),this._emitAfterChanges(dt.ADD),this}at(e){if(Ne(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Ne(this._observable),!this.length||this._emitBeforeChanges(dt.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(dt.REMOVE),e}clone(){return Ne(this._observable),this._createNewInstance({items:this._items.map(D)})}concat(...e){Ne(this._observable);const t=e.map(q8);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Ne(this._observable),!this.length||this._emitBeforeChanges(dt.REMOVE))return;const r=this._splice(0,this.length),i=r.length;for(let n=0;n<i;n++)e.call(t,r[n],n,r);this._emitAfterChanges(dt.REMOVE)}every(e,t){return Ne(this._observable),this._items.every(e,t)}filter(e,t){let r;return Ne(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Ne(this._observable),this._items.find(e,t)}findIndex(e,t){return Ne(this._observable),this._items.findIndex(e,t)}flatten(e,t){Ne(this._observable);const r=[];return aG(r,this,e,t),new Kl(r)}forEach(e,t){return Ne(this._observable),this._items.forEach(e,t)}getItemAt(e){return Ne(this._observable),this._items[e]}getNextIndex(e){Ne(this._observable);const t=this.length;return(e=e==null?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Ne(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Ne(this._observable),this._items.indexOf(e,t)}join(e=","){return Ne(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Ne(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Ne(this._observable);const r=this._items.map(e,t);return new Kl({items:r})}reorder(e,t=this.length-1){Ne(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(dt.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(dt.MOVE)}return e}}pop(){if(Ne(this._observable),!this.length||this._emitBeforeChanges(dt.REMOVE))return;const e=H8(this._splice(this.length-1,1));return this._emitAfterChanges(dt.REMOVE),e}push(...e){return Ne(this._observable),this._emitBeforeChanges(dt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(dt.ADD)),this.length}reduce(e,t){Ne(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Ne(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Ne(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Ne(this._observable),e<0||e>=this.length||this._emitBeforeChanges(dt.REMOVE))return;const t=H8(this._splice(e,1));return this._emitAfterChanges(dt.REMOVE),t}removeMany(e){if(Ne(this._observable),!e||!e.length||this._emitBeforeChanges(dt.REMOVE))return[];const t=e instanceof Kl?e.toArray():e,r=this._items,i=[],n=t.length;for(let s=0;s<n;s++){const a=t[s],o=r.indexOf(a);if(o>-1){const l=1+Uae(t,r,s+1,o+1),c=this._splice(o,l);c&&c.length>0&&i.push.apply(i,c),s+=l-1}}return this._emitAfterChanges(dt.REMOVE),i}reverse(){if(Ne(this._observable),this._emitBeforeChanges(dt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(dt.MOVE),this}shift(){if(Ne(this._observable),!this.length||this._emitBeforeChanges(dt.REMOVE))return;const e=H8(this._splice(0,1));return this._emitAfterChanges(dt.REMOVE),e}slice(e=0,t=this.length){return Ne(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Ne(this._observable),this._items.some(e,t)}sort(e){if(Ne(this._observable),!this.length||this._emitBeforeChanges(dt.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(dt.MOVE),this}splice(e,t,...r){Ne(this._observable);const i=(t?dt.REMOVE:0)|(r.length?dt.ADD:0);if(this._emitBeforeChanges(i))return[];const n=this._splice(e,t,r)||[];return this._emitAfterChanges(i),n}toArray(){return Ne(this._observable),this._items.slice()}toJSON(){return Ne(this._observable),this.toArray()}toLocaleString(){return Ne(this._observable),this._items.toLocaleString()}toString(){return Ne(this._observable),this._items.toString()}unshift(...e){return Ne(this._observable),!e.length||this._emitBeforeChanges(dt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(dt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const i=this._items,n=this.itemType;let s,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=sy(()=>this._dispatchChange())),t){if(a=i.splice(e,t),this.hasEventListener("before-remove")){const o=ks.acquire();o.target=this,o.cancellable=!0;for(let l=0,c=a.length;l<c;l++)s=a[l],o.reset(s),this.emit("before-remove",o),o.defaultPrevented&&(a.splice(l,1),i.splice(e,0,s),e+=1,l-=1,c-=1);ks.release(o)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const o=ks.acquire();o.target=this,o.cancellable=!1;const l=a.length;for(let c=0;c<l;c++)o.reset(a[c]),this.emit("after-remove",o);ks.release(o)}}if(r&&r.length){if(n){const d=[];for(const p of r){const h=n.ensureType(p);h==null&&p!=null||d.push(h)}r=d}const o=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(o||l){const d=ks.acquire();d.target=this,d.cancellable=!0;const p=ks.acquire();p.target=this,p.cancellable=!1;for(const h of r)o?(d.reset(h),this.emit("before-add",d),d.defaultPrevented||(c?i.push(h):i.splice(e++,0,h),this._set("length",i.length),l&&(p.reset(h),this.emit("after-add",p)))):(c?i.push(h):i.splice(e++,0,h),this._set("length",i.length),p.reset(h),this.emit("after-add",p));ks.release(p),ks.release(d)}else{if(c)for(const d of r)i.push(d);else i.splice(e,0,...r);this._set("length",i.length)}}return(r&&r.length||a&&a.length)&&this._notifyChangeEvent(r,a),a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=ks.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,ks.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=ks.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),ks.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Cc.clear(),Ec.clear(),kc.clear();for(const{added:l,removed:c}of r){if(l)if(kc.size===0&&Ec.size===0)for(const d of l)Cc.add(d);else for(const d of l)Ec.has(d)?(kc.add(d),Ec.delete(d)):kc.has(d)||Cc.add(d);if(c)if(kc.size===0&&Cc.size===0)for(const d of c)Ec.add(d);else for(const d of c)Cc.has(d)?Cc.delete(d):(kc.delete(d),Ec.add(d))}const i=sn.acquire();Cc.forEach(l=>{i.push(l)});const n=sn.acquire();Ec.forEach(l=>{n.push(l)});const s=this._items,a=t.items,o=sn.acquire();if(kc.forEach(l=>{a.indexOf(l)!==s.indexOf(l)&&o.push(l)}),t.listeners&&(i.length||n.length||o.length)){const l={target:this,added:i,removed:n,moved:o},c=t.listeners.length;for(let d=0;d<c;d++){const p=t.listeners[d];p.removed||p.callback.call(this,l)}}sn.release(i),sn.release(n),sn.release(o)}Cc.clear(),Ec.clear(),kc.clear()}};Lf.ofType=e=>{if(!e)return Kl;if(W8.has(e))return W8.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const n=e.typeMap[i].prototype.declaredClass;t?t+=` | ${n}`:t=n}let r=class extends Kl{};return u([rE({Type:e,ensureType:typeof e=="function"?_r(e):Xo(e)})],r.prototype,"itemType",void 0),r=u([E(`esri.core.Collection<${t}>`)],r),W8.set(e,r),r},u([f()],Lf.prototype,"length",void 0),u([f()],Lf.prototype,"items",null),Lf=Kl=u([E("esri.core.Collection")],Lf);const Se=Lf;function Mp(e,t,r=Se){return t||(t=new r),t===e||(t.removeAll(),qae(e)?t.addMany(e):e&&t.add(e)),t}function oG(e){return e}function qae(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}class iE{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new iE;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,D(i.value),i.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const i=this._values.get(t);return r==null||(i==null?void 0:i.origin)===r?i==null?void 0:i.value:void 0}originOf(t){var r,i;return(i=(r=this._values.get(t))==null?void 0:r.origin)!=null?i:Fe.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(i=>{var n;return((n=this._values.get(i))==null?void 0:n.origin)===t})}set(t,r,i){if((i=this._normalizeOrigin(i))===Fe.DEFAULTS){const n=this._values.get(t);if(n&&n.origin!=null&&n.origin>i)return}this._values.set(t,new Hae(r,i))}delete(t,r){var i;(r=this._normalizeOrigin(r))!=null&&((i=this._values.get(t))==null?void 0:i.origin)!==r||this._values.delete(t)}has(t,r){var i;return(r=this._normalizeOrigin(r))!=null?((i=this._values.get(t))==null?void 0:i.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},i)=>t(r,i))}_normalizeOrigin(t){if(t!=null)return t===Fe.DEFAULTS?t:Fe.USER}}class Hae{constructor(t,r){this.value=t,this.origin=r}}function lG(e,t,r){t.keys().forEach(n=>{r.set(n,t.get(n),Fe.DEFAULTS)});const i=e.metadatas;Object.keys(i).forEach(n=>{e.internalGet(n)&&r.set(n,e.internalGet(n),Fe.DEFAULTS)})}function Wae(e,t,r){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const i=e.read.source;if(typeof i=="string"){if(i===t||i.includes(".")&&i.indexOf(t)===0&&UR(i,r))return!0}else for(const n of i)if(n===t||n.includes(".")&&n.indexOf(t)===0&&UR(n,r))return!0;return!1}function Jae(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Zae(e,t,r,i,n){let s=tx(t[r],n);Jae(s)&&(e[r]=!0);for(const a of Object.getOwnPropertyNames(t))s=tx(t[a],n),Wae(s,r,i)&&(e[a]=!0)}function Qae(e,t,r,i){const n=r.metadatas,s=tE(n[t],"any",i),a=s&&s.default;if(a===void 0)return;const o=typeof a=="function"?a.call(e,t,i):a;o!==void 0&&r.set(t,o)}const cG={origin:"service"};function uG(e,t,r=cG){if(!t||typeof t!="object")return;const i=Vi(e),n=i.metadatas,s={};for(const a of Object.getOwnPropertyNames(t))Zae(s,n,a,t,r);i.setDefaultOrigin(r.origin);for(const a of Object.getOwnPropertyNames(s)){const o=tx(n[a],r).read,l=o&&o.source;let c;c=l&&typeof l=="string"?x2(t,l):t[a],o&&o.reader&&(c=o.reader.call(e,c,t,r)),c!==void 0&&i.set(a,c)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(n))s[a]||Qae(e,a,i,r)}i.setDefaultOrigin("user")}function Yae(e,t,r,i=cG){var s;const n={...i,messages:[]};r(n),(s=n.messages)==null||s.forEach(a=>{a.type!=="warning"||e.loaded?i&&i.messages&&i.messages.push(a):e.loadWarnings.push(a)})}const Kae=ae.getLogger("esri.core.accessorSupport.write");function Xae(e,t,r,i,n){var a,o;const s={};return(o=(a=t.write)==null?void 0:a.writer)==null||o.call(e,i,s,r,n),s}function dG(e,t,r,i,n,s){if(!i||!i.write)return!1;const a=e.get(r);if(!n&&i.write.overridePolicy){const o=i.write.overridePolicy.call(e,a,r,s);o!==void 0&&(n=o)}if(n||(n=i.write),!n||n.enabled===!1)return!1;if((a===null&&!n.allowNull&&!n.writerEnsuresNonNull||a===void 0)&&n.isRequired){const o=new R("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return o&&s&&s.messages?s.messages.push(o):o&&!s&&Kae.error(o.name,o.message),!1}return!(a===void 0||a===null&&!n.allowNull&&!n.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(r)===Fe.DEFAULTS)&&eoe(e,r,s,i,a)||!n.ignoreOrigin&&s&&s.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<ju(s.origin))}function eoe(e,t,r,i,n){const s=i.default;if(s===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(n);if(typeof s=="function"){if(Array.isArray(n)){const a=s.call(e,t,r);return GC(a,n)}return!1}return s===n}function toe(e,t,r,i){const n=Vi(e),s=n.metadatas,a=rG(s[t],i);return!!a&&dG(e,n,t,a,r,i)}function fG(e,t,r){var s,a;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Xv(t,e.toJSON(r));const i=Vi(e),n=i.metadatas;for(const o in n){const l=rG(n[o],r);if(!dG(e,i,o,l,void 0,r))continue;const c=e.get(o),d=Xae(e,l,l.write&&typeof l.write.target=="string"?l.write.target:o,c,r);Object.keys(d).length>0&&(t=Xv(t,d),(a=(s=r==null?void 0:r.resources)==null?void 0:s.pendingOperations)!=null&&a.length&&Promise.all(r.resources.pendingOperations).then(()=>Xv(t,d)),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:o,oldOrigin:Tse(i.store.originOf(o)),newOrigin:r.origin}))}return t}const T2=e=>{let t=class extends e{constructor(...r){super(...r);const i=Vi(this),n=i.store,s=new iE;i.store=s,lG(i,n,s)}read(r,i){uG(this,r,i)}write(r={},i){return fG(this,r,i)}toJSON(r){return this.write({},r)}static fromJSON(r,i){return roe.call(this,r,i)}};return t=u([E("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function roe(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let Z=class extends T2(ye){};Z=u([E("esri.core.JSONSupport")],Z);var Iu;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Iu||(Iu={}));class ioe{constructor(t){this.instance=t,this._resolver=yc(),this._status=Iu.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Iu.RESOLVED,this._cleanUp()},()=>{this._status=Iu.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Iu.RESOLVED}isRejected(){return this._status===Iu.REJECTED}isFulfilled(){return this._status!==Iu.PENDING}abort(){this._resolver.reject(Nt())}when(t,r){return this._resolver.promise.then(t,r)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=yc(),r=[...this._resolvingPromises,t.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve(this.instance)},n=>{this.isFulfilled()||this._allPromise!==i||zi(n)||this._resolver.reject(n)}),t.resolve()}}const C2=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new ioe(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,i){return new Promise((n,s)=>{this._promiseProps.when(n,s)}).then(r,i)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=u([E("esri.core.Promise")],t),t};let u4=class extends C2(ye){};u4=u([E("esri.core.Promise")],u4);const noe="not-loaded",soe="loading",aoe="failed",lP="loaded",pG=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const n=this.load.bind(this);this.load=s=>{const a=new Promise((o,l)=>{const c=QC(s,l);this.destroyed&&l(new R("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(o,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===noe){this._set("loadStatus",soe);const o=this._loadController=new AbortController;n({signal:o.signal}),ca(o.signal,()=>{this._promiseProps.abort()})}return i(),a}})),this.when(()=>{this._set("loadStatus",lP),this._loadController=null},i=>{this._set("loadStatus",aoe),this._set("loadError",i),this._loadController=null})}get loaded(){return this.loadStatus===lP}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new R("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort()),this}};return u([f({readOnly:!0})],t.prototype,"loaded",null),u([f({readOnly:!0})],t.prototype,"loadError",void 0),u([f({clonable:!1})],t.prototype,"loadStatus",void 0),u([f({type:[Bi],readOnly:!0})],t.prototype,"loadWarnings",null),t=u([E("esri.core.Loadable")],t),t};let Tg=class extends pG(u4){};Tg=u([E("esri.core.Loadable")],Tg),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=pG,e.isLoadable=t}(Tg||(Tg={}));const jn=Tg;function ooe(e,t,r){return Kt(e.map((i,n)=>t.apply(r,[i,n])))}async function loe(e,t,r){return(await Kt(e.map((i,n)=>t.apply(r,[i,n])))).map(i=>i.value)}async function X6(e){if(B(e))return{ok:!1,error:new Error("no promise provided")};try{return{ok:!0,value:await e}}catch(t){return{ok:!1,error:t}}}async function WAe(e){try{return{ok:!0,value:await e}}catch(t){return ny(t),{ok:!1,error:t}}}async function hG(e,t){return await e.load(),coe(e,t)}async function coe(e,t){const r=[],i=(...s)=>{for(const a of s)B(a)||(Array.isArray(a)?i(...a):Se.isCollection(a)?a.forEach(o=>i(o)):jn.isLoadable(a)&&r.push(a))};t(i);let n=null;if(await loe(r,async s=>{(await X6(uoe(s)?s.loadAll():s.load())).ok!==!1||n||(n=s)}),n)throw n.loadError;return e}function uoe(e){return"loadAll"in e&&typeof e.loadAll=="function"}const doe=ae.getLogger("esri.core.urlUtils"),oy=rt.request,cP="esri/config: esriConfig.request.proxyUrl is not set.",mG=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,yG=/^\s*http:/i,foe=/^\s*https:/i,poe=/^\s*file:/i,hoe=/:\d+$/,moe=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,yoe=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),goe=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class em{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(yoe);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(goe),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}}const $3={},boe=new em(rt.applicationUrl);let Oi=boe;const voe=woe();let nE=voe;const sE=()=>Oi,JAe=()=>nE;function woe(){const e=Oi.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${Oi.scheme}://${Oi.host}${Oi.port!=null?`:${Oi.port}`:""}`}${t}`}function jt(e){const t={path:null,query:null},r=new em(e),i=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,i),t.query=gG(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function gG(e){const t=e.split("&"),r={};for(const i of t){if(!i)continue;const n=i.indexOf("=");let s,a;n<0?(s=decodeURIComponent(i),a=""):(s=decodeURIComponent(i.slice(0,n)),a=decodeURIComponent(i.slice(n+1)));let o=r[s];typeof o=="string"&&(o=r[s]=[o]),Array.isArray(o)?o.push(a):r[s]=a}return r}function uP(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function O1(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const i=e[r];if(i==null)return"";const n=encodeURIComponent(r)+"=",s=t&&t[r];return s?n+encodeURIComponent(s(i)):Array.isArray(i)?i.map(a=>uP(a)?n+encodeURIComponent(JSON.stringify(a)):n+encodeURIComponent(a)).join("&"):uP(i)?n+encodeURIComponent(JSON.stringify(i)):n+encodeURIComponent(i)}).filter(r=>r).join("&"):""}function _oe(e=!1){let t,r=oy.proxyUrl;if(typeof e=="string"){t=Coe(e);const i=ew(e);i&&(r=i.proxyUrl)}else t=!!e;if(!r)throw doe.warn(cP),new R("urlutils:proxy-not-set",cP);return t&&ix()&&(r=uE(r)),jt(r)}function Soe(e){const t=ew(e);let r,i;if(t){const n=aE(t.proxyUrl);r=n.path,i=n.query?gG(n.query):null}if(r){const n=jt(e);e=r+"?"+n.path;const s=O1({...i,...n.query});s&&(e=`${e}?${s}`)}return e}const Gy={path:"",query:""};function aE(e){const t=e.indexOf("?");return t!==-1?(Gy.path=e.slice(0,t),Gy.query=e.slice(t+1)):(Gy.path=e,Gy.query=null),Gy}function bG(e){return e=(e=d4(e=Roe(e=aE(e).path),!0)).toLowerCase()}function xoe(e){const t={proxyUrl:e.proxyUrl,urlPrefix:bG(e.urlPrefix)},r=oy.proxyRules,i=t.urlPrefix;let n=r.length;for(let s=0;s<r.length;s++){const a=r[s].urlPrefix;if(i.indexOf(a)===0){if(i.length===a.length)return-1;n=s;break}a.indexOf(i)===0&&(n=s+1)}return r.splice(n,0,t),n}function ew(e){const t=oy.proxyRules,r=bG(e);for(let i=0;i<t.length;i++)if(r.indexOf(t[i].urlPrefix)===0)return t[i]}function vG(e,t){return e=dP(e),t=dP(t),d4(e)===d4(t)}function dP(e){const t=(e=na(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function wG(e){const t=i=>i==null||i instanceof RegExp&&i.test(e)||typeof i=="string"&&e.startsWith(i),r=oy.interceptors;if(r){for(const i of r)if(Array.isArray(i.urls)){if(i.urls.some(t))return i}else if(t(i.urls))return i}return null}function F1(e,t,r=!1){const i=sx(e),n=sx(t);return!(!r&&i.scheme!==n.scheme)&&i.host!=null&&n.host!=null&&i.host.toLowerCase()===n.host.toLowerCase()&&i.port===n.port}function oE(e){if(typeof e=="string"){if(!ms(e))return!0;e=sx(e)}if(F1(e,Oi))return!0;const t=oy.trustedServers||[];for(let r=0;r<t.length;r++){const i=Moe(t[r]);for(let n=0;n<i.length;n++)if(F1(e,i[n]))return!0}return!1}function Moe(e){return $3[e]||(cE(e)||el(e)?$3[e]=[new em(Ya(e))]:$3[e]=[new em(`http://${e}`),new em(`https://${e}`)]),$3[e]}function Ya(e,t=nE,r){return el(e)?r&&r.preserveProtocolRelative?e:Oi.scheme==="http"&&Oi.authority===no(e).slice(2)?`http:${e}`:`https:${e}`:cE(e)?e:hd(e[0]==="/"?Loe(t):t,e)}function lE(e,t=nE,r){if(!ms(e))return e;const i=na(e),n=i.toLowerCase(),s=na(t).toLowerCase().replace(/\/+$/,""),a=r?na(r).toLowerCase().replace(/\/+$/,""):null;if(a&&s.indexOf(a)!==0)return e;const o=(p,h,m)=>(m=p.indexOf(h,m))===-1?p.length:m;let l=o(n,"/",n.indexOf("//")+2),c=-1;for(;n.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==n.length);)l=o(n,"/",l+1);if(c===-1||a&&c<a.length)return e;e=i.slice(c);const d=s.slice(c-1).replace(/[^/]+/g,"").length;if(d>0)for(let p=0;p<d;p++)e=`../${e}`;else e=`./${e}`;return e}function na(e){return e=Foe(e=Ooe(e=Poe(e=Ya(e=e.trim()))))}function hd(...e){const t=e.filter(C);if(!t||!t.length)return;const r=[];if(ms(t[0])){const n=t[0],s=n.indexOf("//");s!==-1&&(r.push(n.slice(0,s+1)),koe(t[0])&&(r[0]+="/"),t[0]=n.slice(s+2))}else t[0][0]==="/"&&r.push("");const i=t.reduce((n,s)=>s?n.concat(s.split("/")):n,[]);for(let n=0;n<i.length;n++){const s=i[n];s===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!s&&n===i.length-1||s&&(s!=="."||r.length===0))&&r.push(s)}return r.join("/")}function no(e,t=!1){if(tw(e)||zp(e))return null;let r=e.indexOf("://");if(r===-1&&el(e))r=2;else{if(r===-1)return null;r+=3}const i=e.indexOf("/",r);return i!==-1&&(e=e.slice(0,i)),t&&(e=d4(e,!0)),e}function ms(e){return el(e)||cE(e)}function tw(e){return e!=null&&e.slice(0,5)==="blob:"}function zp(e){return e.slice(0,5)==="data:"}function ZAe(e){const t=_G(e);if(!t||!t.isBase64)return null;const r=atob(t.data),i=new Uint8Array(r.length);for(let n=0;n<r.length;n++)i[n]=r.charCodeAt(n);return i.buffer}function QAe(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const Ioe=/^data:(.*?)(;base64)?,(.*)$/;function _G(e){const t=e.match(Ioe);if(!t)return null;const[,r,i,n]=t;return{mediaType:r,isBase64:!!i,data:n}}function SG(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function YAe(e,t){$oe(e,t)||Toe(e,t)}function $oe(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const i=URL.createObjectURL(e);return r.download=t,r.href=i,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),!0}function Toe(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function el(e){return e!=null&&e!==void 0&&e[0]==="/"&&e[1]==="/"}function cE(e){return mG.test(e)}function Coe(e){return foe.test(e)||Oi.scheme==="https"&&el(e)}function Eoe(e){return yG.test(e)||Oi.scheme==="http"&&el(e)}function koe(e){return poe.test(e)}function uE(e){return el(e)?`https:${e}`:e.replace(yG,"https:")}function Aoe(){return Oi.scheme==="http"}function ix(){return Oi.scheme==="https"}function d4(e,t=!1){return el(e)?e.slice(2):(e=e.replace(mG,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function Loe(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function dE(e){let t=0;if(ms(e)){const i=e.indexOf("//");i!==-1&&(t=i+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function KAe(e,t){if(!e)return"";const r=jt(e).path.replace(/\/+$/,""),i=r.substring(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return i;const n=new RegExp(`.(${t.join("|")})$`,"ig");return i.replace(n,"")}function Roe(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function xG(e){return e.replace(/\/+$/,"")}function Poe(e){if(/^https?:\/\//i.test(e)){const t=aE(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function Ooe(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Foe(e){const t=oy.httpsDomains;if(!Eoe(e))return e;const r=e.indexOf("/",7);let i;if(i=r===-1?e:e.slice(0,r),i=i.toLowerCase().slice(7),hoe.test(i)){if(!i.endsWith(":80"))return e;i=i.slice(0,-3),e=e.replace(":80","")}return Aoe()&&i===Oi.authority&&!moe.test(e)||(ix()&&i===Oi.authority||t&&t.some(n=>i===n||i.endsWith(`.${n}`))||ix()&&!ew(e))&&(e=uE(e)),e}function nx(e,t,r){if(!(t&&r&&e&&ms(e)))return e;const i=e.indexOf("//"),n=e.indexOf("/",i+2),s=e.indexOf(":",i+2),a=Math.min(n<0?e.length:n,s<0?e.length:s);return e.slice(i+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,i+2)}${r}${e.slice(a)}`}function sx(e){return typeof e=="string"?new em(Ya(e)):(e.scheme||(e.scheme=Oi.scheme),e)}function XAe(e){return Noe.test(e)}function MG(e,t){const r=jt(e),i=Object.keys(r.query||{});return i.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function IG(e,t,r){const i=jt(e),n=i.query||{};return n[t]=String(r),`${i.path}?${O1(n)}`}function i5(e,t){const r=jt(e),i=r.query||{};for(const s in t)i[s]=t[s];const n=O1(i);return n?`${r.path}?${n}`:r.path}function eLe(e){if(B(e))return null;const t=e.match(Doe);return t?t[1]:null}const Doe=/.*?\.([^\/]*)$/,Noe=/(^data:image\/svg|\.svg$)/i;function ce(e,t,r){let i,n;return t===void 0?(n=e,i=[void 0]):typeof t!="string"?(n=e,i=[void 0],r=t):(n=t,i=Array.isArray(e)?e:[e]),(s,a)=>{const o=s.constructor.prototype;for(const l of i){const c=JU(s,l,n);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=o[a]}}}var Xs;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Xs||(Xs={}));let y;const k={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(y=2e3;y<=2045;y++)k[y]=0;for(y=2056;y<=2065;y++)k[y]=0;for(y=2067;y<=2135;y++)k[y]=0;for(y=2137;y<=2154;y++)k[y]=0;for(y=2161;y<=2170;y++)k[y]=0;for(y=2172;y<=2193;y++)k[y]=0;for(y=2195;y<=2198;y++)k[y]=0;for(y=2200;y<=2203;y++)k[y]=0;for(y=2205;y<=2217;y++)k[y]=0;for(y=2222;y<=2224;y++)k[y]=1;for(y=2225;y<=2250;y++)k[y]=2;for(y=2251;y<=2253;y++)k[y]=1;for(y=2257;y<=2264;y++)k[y]=2;for(y=2274;y<=2279;y++)k[y]=2;for(y=2280;y<=2282;y++)k[y]=1;for(y=2283;y<=2289;y++)k[y]=2;for(y=2290;y<=2292;y++)k[y]=0;for(y=2308;y<=2313;y++)k[y]=0;for(y=2315;y<=2491;y++)k[y]=0;for(y=2494;y<=2866;y++)k[y]=0;for(y=2867;y<=2869;y++)k[y]=1;for(y=2870;y<=2888;y++)k[y]=2;for(y=2891;y<=2895;y++)k[y]=2;for(y=2896;y<=2898;y++)k[y]=1;for(y=2902;y<=2908;y++)k[y]=2;for(y=2915;y<=2920;y++)k[y]=2;for(y=2921;y<=2923;y++)k[y]=1;for(y=2924;y<=2930;y++)k[y]=2;for(y=2931;y<=2962;y++)k[y]=0;for(y=2964;y<=2968;y++)k[y]=2;for(y=2969;y<=2973;y++)k[y]=0;for(y=2975;y<=2991;y++)k[y]=0;for(y=2995;y<=3051;y++)k[y]=0;for(y=3054;y<=3079;y++)k[y]=0;for(y=3081;y<=3088;y++)k[y]=0;for(y=3092;y<=3101;y++)k[y]=0;for(y=3106;y<=3138;y++)k[y]=0;for(y=3146;y<=3151;y++)k[y]=0;for(y=3153;y<=3166;y++)k[y]=0;for(y=3168;y<=3172;y++)k[y]=0;for(y=3174;y<=3203;y++)k[y]=0;for(y=3294;y<=3358;y++)k[y]=0;for(y=3367;y<=3403;y++)k[y]=0;for(y=3408;y<=3416;y++)k[y]=0;for(y=3417;y<=3438;y++)k[y]=2;for(y=3441;y<=3446;y++)k[y]=2;for(y=3447;y<=3450;y++)k[y]=0;for(y=3451;y<=3459;y++)k[y]=2;for(y=3460;y<=3478;y++)k[y]=0;for(y=3554;y<=3559;y++)k[y]=0;for(y=3560;y<=3570;y++)k[y]=2;for(y=3571;y<=3581;y++)k[y]=0;for(y=3594;y<=3597;y++)k[y]=0;for(y=3601;y<=3604;y++)k[y]=0;for(y=3637;y<=3639;y++)k[y]=0;for(y=3665;y<=3667;y++)k[y]=0;for(y=3693;y<=3695;y++)k[y]=0;for(y=3701;y<=3727;y++)k[y]=0;for(y=3728;y<=3739;y++)k[y]=2;for(y=3740;y<=3751;y++)k[y]=0;for(y=3753;y<=3760;y++)k[y]=2;for(y=3761;y<=3773;y++)k[y]=0;for(y=3775;y<=3777;y++)k[y]=0;for(y=3779;y<=3781;y++)k[y]=0;for(y=3783;y<=3785;y++)k[y]=0;for(y=3788;y<=3791;y++)k[y]=0;for(y=3797;y<=3802;y++)k[y]=0;for(y=3814;y<=3816;y++)k[y]=0;for(y=3825;y<=3829;y++)k[y]=0;for(y=3832;y<=3841;y++)k[y]=0;for(y=3844;y<=3852;y++)k[y]=0;for(y=3873;y<=3885;y++)k[y]=0;for(y=3890;y<=3893;y++)k[y]=0;for(y=3907;y<=3912;y++)k[y]=0;for(y=3942;y<=3950;y++)k[y]=0;for(y=3968;y<=3970;y++)k[y]=0;for(y=3973;y<=3976;y++)k[y]=0;for(y=3986;y<=3989;y++)k[y]=0;for(y=3994;y<=3997;y++)k[y]=0;for(y=4048;y<=4051;y++)k[y]=0;for(y=4056;y<=4063;y++)k[y]=0;for(y=4093;y<=4096;y++)k[y]=0;for(y=4390;y<=4398;y++)k[y]=0;for(y=4399;y<=4413;y++)k[y]=2;for(y=4418;y<=4433;y++)k[y]=2;for(y=4455;y<=4457;y++)k[y]=2;for(y=4484;y<=4489;y++)k[y]=0;for(y=4491;y<=4554;y++)k[y]=0;for(y=4568;y<=4589;y++)k[y]=0;for(y=4652;y<=4656;y++)k[y]=0;for(y=4766;y<=4800;y++)k[y]=0;for(y=5014;y<=5016;y++)k[y]=0;for(y=5069;y<=5072;y++)k[y]=0;for(y=5105;y<=5130;y++)k[y]=0;for(y=5173;y<=5188;y++)k[y]=0;for(y=5253;y<=5259;y++)k[y]=0;for(y=5269;y<=5275;y++)k[y]=0;for(y=5292;y<=5311;y++)k[y]=0;for(y=5329;y<=5331;y++)k[y]=0;for(y=5343;y<=5349;y++)k[y]=0;for(y=5355;y<=5357;y++)k[y]=0;for(y=5387;y<=5389;y++)k[y]=0;for(y=5459;y<=5463;y++)k[y]=0;for(y=5479;y<=5482;y++)k[y]=0;for(y=5518;y<=5520;y++)k[y]=0;for(y=5530;y<=5539;y++)k[y]=0;for(y=5550;y<=5552;y++)k[y]=0;for(y=5562;y<=5583;y++)k[y]=0;for(y=5623;y<=5625;y++)k[y]=2;for(y=5631;y<=5639;y++)k[y]=0;for(y=5649;y<=5653;y++)k[y]=0;for(y=5663;y<=5680;y++)k[y]=0;for(y=5682;y<=5685;y++)k[y]=0;for(y=5875;y<=5877;y++)k[y]=0;for(y=5896;y<=5899;y++)k[y]=0;for(y=5921;y<=5940;y++)k[y]=0;for(y=6050;y<=6125;y++)k[y]=0;for(y=6244;y<=6275;y++)k[y]=0;for(y=6328;y<=6348;y++)k[y]=0;for(y=6350;y<=6356;y++)k[y]=0;for(y=6366;y<=6372;y++)k[y]=0;for(y=6381;y<=6387;y++)k[y]=0;for(y=6393;y<=6404;y++)k[y]=0;for(y=6480;y<=6483;y++)k[y]=0;for(y=6511;y<=6514;y++)k[y]=0;for(y=6579;y<=6581;y++)k[y]=0;for(y=6619;y<=6624;y++)k[y]=0;for(y=6625;y<=6627;y++)k[y]=2;for(y=6628;y<=6632;y++)k[y]=0;for(y=6634;y<=6637;y++)k[y]=0;for(y=6669;y<=6692;y++)k[y]=0;for(y=6707;y<=6709;y++)k[y]=0;for(y=6720;y<=6723;y++)k[y]=0;for(y=6732;y<=6738;y++)k[y]=0;for(y=6931;y<=6933;y++)k[y]=0;for(y=6956;y<=6959;y++)k[y]=0;for(y=7005;y<=7007;y++)k[y]=0;for(y=7057;y<=7070;y++)k[y]=2;for(y=7074;y<=7082;y++)k[y]=0;for(y=7109;y<=7118;y++)k[y]=0;for(y=7119;y<=7127;y++)k[y]=1;for(y=7374;y<=7376;y++)k[y]=0;for(y=7528;y<=7586;y++)k[y]=0;for(y=7587;y<=7645;y++)k[y]=2;for(y=7692;y<=7696;y++)k[y]=0;for(y=7755;y<=7787;y++)k[y]=0;for(y=7791;y<=7795;y++)k[y]=0;for(y=7799;y<=7801;y++)k[y]=0;for(y=7803;y<=7805;y++)k[y]=0;for(y=7825;y<=7831;y++)k[y]=0;for(y=7845;y<=7859;y++)k[y]=0;for(y=8013;y<=8032;y++)k[y]=0;for(y=8065;y<=8068;y++)k[y]=1;for(y=8518;y<=8529;y++)k[y]=2;for(y=8533;y<=8536;y++)k[y]=2;for(y=8538;y<=8540;y++)k[y]=2;for(y=8677;y<=8679;y++)k[y]=0;for(y=8836;y<=8840;y++)k[y]=0;for(y=8857;y<=8859;y++)k[y]=0;for(y=8908;y<=8910;y++)k[y]=0;for(y=9154;y<=9159;y++)k[y]=0;for(y=9205;y<=9218;y++)k[y]=0;for(y=9271;y<=9273;y++)k[y]=0;for(y=9295;y<=9297;y++)k[y]=0;for(y=9356;y<=9360;y++)k[y]=0;for(y=9404;y<=9407;y++)k[y]=0;for(y=9476;y<=9482;y++)k[y]=0;for(y=9487;y<=9494;y++)k[y]=0;for(y=9697;y<=9699;y++)k[y]=0;for(y=20002;y<=20032;y++)k[y]=0;for(y=20062;y<=20092;y++)k[y]=0;for(y=20135;y<=20138;y++)k[y]=0;for(y=20248;y<=20258;y++)k[y]=0;for(y=20348;y<=20358;y++)k[y]=0;for(y=20436;y<=20440;y++)k[y]=0;for(y=20822;y<=20824;y++)k[y]=0;for(y=20904;y<=20932;y++)k[y]=0;for(y=20934;y<=20936;y++)k[y]=0;for(y=21004;y<=21032;y++)k[y]=0;for(y=21035;y<=21037;y++)k[y]=0;for(y=21095;y<=21097;y++)k[y]=0;for(y=21148;y<=21150;y++)k[y]=0;for(y=21207;y<=21264;y++)k[y]=0;for(y=21307;y<=21364;y++)k[y]=0;for(y=21413;y<=21423;y++)k[y]=0;for(y=21453;y<=21463;y++)k[y]=0;for(y=21473;y<=21483;y++)k[y]=0;for(y=21780;y<=21782;y++)k[y]=0;for(y=21891;y<=21894;y++)k[y]=0;for(y=21896;y<=21899;y++)k[y]=0;for(y=22171;y<=22177;y++)k[y]=0;for(y=22181;y<=22187;y++)k[y]=0;for(y=22191;y<=22197;y++)k[y]=0;for(y=22234;y<=22236;y++)k[y]=0;for(y=22521;y<=22525;y++)k[y]=0;for(y=22991;y<=22994;y++)k[y]=0;for(y=23028;y<=23038;y++)k[y]=0;for(y=23830;y<=23853;y++)k[y]=0;for(y=23866;y<=23872;y++)k[y]=0;for(y=23877;y<=23884;y++)k[y]=0;for(y=23886;y<=23894;y++)k[y]=0;for(y=23946;y<=23948;y++)k[y]=0;for(y=24311;y<=24313;y++)k[y]=0;for(y=24342;y<=24347;y++)k[y]=0;for(y=24370;y<=24374;y++)k[y]=10;for(y=24375;y<=24381;y++)k[y]=0;for(y=24718;y<=24721;y++)k[y]=0;for(y=24817;y<=24821;y++)k[y]=0;for(y=24877;y<=24882;y++)k[y]=0;for(y=24891;y<=24893;y++)k[y]=0;for(y=25391;y<=25395;y++)k[y]=0;for(y=25828;y<=25838;y++)k[y]=0;for(y=26191;y<=26195;y++)k[y]=0;for(y=26391;y<=26393;y++)k[y]=0;for(y=26701;y<=26722;y++)k[y]=0;for(y=26729;y<=26799;y++)k[y]=2;for(y=26801;y<=26803;y++)k[y]=2;for(y=26811;y<=26813;y++)k[y]=2;for(y=26847;y<=26870;y++)k[y]=2;for(y=26891;y<=26899;y++)k[y]=0;for(y=26901;y<=26923;y++)k[y]=0;for(y=26929;y<=26946;y++)k[y]=0;for(y=26948;y<=26998;y++)k[y]=0;for(y=27037;y<=27040;y++)k[y]=0;for(y=27205;y<=27232;y++)k[y]=0;for(y=27258;y<=27260;y++)k[y]=0;for(y=27391;y<=27398;y++)k[y]=0;for(y=27561;y<=27564;y++)k[y]=0;for(y=27571;y<=27574;y++)k[y]=0;for(y=27581;y<=27584;y++)k[y]=0;for(y=27591;y<=27594;y++)k[y]=0;for(y=28191;y<=28193;y++)k[y]=0;for(y=28348;y<=28358;y++)k[y]=0;for(y=28402;y<=28432;y++)k[y]=0;for(y=28462;y<=28492;y++)k[y]=0;for(y=29118;y<=29122;y++)k[y]=0;for(y=29168;y<=29172;y++)k[y]=0;for(y=29177;y<=29185;y++)k[y]=0;for(y=29187;y<=29195;y++)k[y]=0;for(y=29900;y<=29903;y++)k[y]=0;for(y=30161;y<=30179;y++)k[y]=0;for(y=30491;y<=30494;y++)k[y]=0;for(y=30729;y<=30732;y++)k[y]=0;for(y=31251;y<=31259;y++)k[y]=0;for(y=31265;y<=31268;y++)k[y]=0;for(y=31275;y<=31279;y++)k[y]=0;for(y=31281;y<=31297;y++)k[y]=0;for(y=31461;y<=31469;y++)k[y]=0;for(y=31491;y<=31495;y++)k[y]=0;for(y=31917;y<=31922;y++)k[y]=0;for(y=31965;y<=32e3;y++)k[y]=0;for(y=32001;y<=32003;y++)k[y]=2;for(y=32005;y<=32031;y++)k[y]=2;for(y=32033;y<=32060;y++)k[y]=2;for(y=32064;y<=32067;y++)k[y]=2;for(y=32074;y<=32077;y++)k[y]=2;for(y=32081;y<=32086;y++)k[y]=0;for(y=32107;y<=32130;y++)k[y]=0;for(y=32133;y<=32158;y++)k[y]=0;for(y=32164;y<=32167;y++)k[y]=2;for(y=32180;y<=32199;y++)k[y]=0;for(y=32201;y<=32260;y++)k[y]=0;for(y=32301;y<=32360;y++)k[y]=0;for(y=32601;y<=32662;y++)k[y]=0;for(y=32664;y<=32667;y++)k[y]=2;for(y=32701;y<=32761;y++)k[y]=0;for(y=53001;y<=53004;y++)k[y]=0;for(y=53008;y<=53019;y++)k[y]=0;for(y=53021;y<=53032;y++)k[y]=0;for(y=53034;y<=53037;y++)k[y]=0;for(y=53042;y<=53046;y++)k[y]=0;for(y=53074;y<=53080;y++)k[y]=0;for(y=54001;y<=54004;y++)k[y]=0;for(y=54008;y<=54019;y++)k[y]=0;for(y=54021;y<=54032;y++)k[y]=0;for(y=54034;y<=54037;y++)k[y]=0;for(y=54042;y<=54046;y++)k[y]=0;for(y=54048;y<=54053;y++)k[y]=0;for(y=54074;y<=54080;y++)k[y]=0;for(y=54098;y<=54101;y++)k[y]=0;for(y=102001;y<=102040;y++)k[y]=0;for(y=102042;y<=102063;y++)k[y]=0;for(y=102065;y<=102067;y++)k[y]=0;for(y=102070;y<=102117;y++)k[y]=0;for(y=102122;y<=102216;y++)k[y]=0;for(y=102221;y<=102377;y++)k[y]=0;for(y=102382;y<=102388;y++)k[y]=0;for(y=102389;y<=102398;y++)k[y]=2;for(y=102399;y<=102444;y++)k[y]=0;for(y=102445;y<=102447;y++)k[y]=2;for(y=102448;y<=102458;y++)k[y]=0;for(y=102459;y<=102468;y++)k[y]=2;for(y=102469;y<=102499;y++)k[y]=0;for(y=102500;y<=102519;y++)k[y]=1;for(y=102520;y<=102524;y++)k[y]=0;for(y=102525;y<=102529;y++)k[y]=2;for(y=102530;y<=102588;y++)k[y]=0;for(y=102590;y<=102598;y++)k[y]=0;for(y=102601;y<=102603;y++)k[y]=0;for(y=102605;y<=102628;y++)k[y]=0;for(y=102629;y<=102646;y++)k[y]=2;for(y=102648;y<=102700;y++)k[y]=2;for(y=102701;y<=102703;y++)k[y]=0;for(y=102707;y<=102730;y++)k[y]=2;for(y=102733;y<=102758;y++)k[y]=2;for(y=102767;y<=102900;y++)k[y]=0;for(y=102901;y<=102933;y++)k[y]=2;for(y=102934;y<=102950;y++)k[y]=13;for(y=102951;y<=102955;y++)k[y]=0;for(y=102961;y<=102963;y++)k[y]=0;for(y=102965;y<=102969;y++)k[y]=0;for(y=102971;y<=102973;y++)k[y]=0;for(y=102975;y<=102989;y++)k[y]=0;for(y=102990;y<=102992;y++)k[y]=1;for(y=102997;y<=103002;y++)k[y]=0;for(y=103003;y<=103008;y++)k[y]=2;for(y=103009;y<=103011;y++)k[y]=0;for(y=103012;y<=103014;y++)k[y]=2;for(y=103019;y<=103021;y++)k[y]=0;for(y=103022;y<=103024;y++)k[y]=2;for(y=103029;y<=103031;y++)k[y]=0;for(y=103032;y<=103034;y++)k[y]=2;for(y=103065;y<=103068;y++)k[y]=0;for(y=103074;y<=103076;y++)k[y]=0;for(y=103077;y<=103079;y++)k[y]=1;for(y=103080;y<=103082;y++)k[y]=0;for(y=103083;y<=103085;y++)k[y]=2;for(y=103090;y<=103093;y++)k[y]=0;for(y=103097;y<=103099;y++)k[y]=0;for(y=103100;y<=103102;y++)k[y]=2;for(y=103107;y<=103109;y++)k[y]=0;for(y=103110;y<=103112;y++)k[y]=2;for(y=103113;y<=103116;y++)k[y]=0;for(y=103117;y<=103120;y++)k[y]=2;for(y=103153;y<=103157;y++)k[y]=0;for(y=103158;y<=103162;y++)k[y]=2;for(y=103163;y<=103165;y++)k[y]=0;for(y=103166;y<=103168;y++)k[y]=1;for(y=103169;y<=103171;y++)k[y]=2;for(y=103186;y<=103188;y++)k[y]=0;for(y=103189;y<=103191;y++)k[y]=2;for(y=103192;y<=103195;y++)k[y]=0;for(y=103196;y<=103199;y++)k[y]=2;for(y=103200;y<=103224;y++)k[y]=0;for(y=103225;y<=103227;y++)k[y]=1;for(y=103232;y<=103237;y++)k[y]=0;for(y=103238;y<=103243;y++)k[y]=2;for(y=103244;y<=103246;y++)k[y]=0;for(y=103247;y<=103249;y++)k[y]=2;for(y=103254;y<=103256;y++)k[y]=0;for(y=103257;y<=103259;y++)k[y]=2;for(y=103264;y<=103266;y++)k[y]=0;for(y=103267;y<=103269;y++)k[y]=2;for(y=103300;y<=103375;y++)k[y]=0;for(y=103381;y<=103383;y++)k[y]=0;for(y=103384;y<=103386;y++)k[y]=1;for(y=103387;y<=103389;y++)k[y]=0;for(y=103390;y<=103392;y++)k[y]=2;for(y=103397;y<=103399;y++)k[y]=0;for(y=103400;y<=103471;y++)k[y]=2;for(y=103476;y<=103478;y++)k[y]=0;for(y=103479;y<=103481;y++)k[y]=2;for(y=103486;y<=103488;y++)k[y]=0;for(y=103489;y<=103491;y++)k[y]=2;for(y=103492;y<=103495;y++)k[y]=0;for(y=103496;y<=103499;y++)k[y]=2;for(y=103528;y<=103543;y++)k[y]=0;for(y=103544;y<=103548;y++)k[y]=2;for(y=103549;y<=103551;y++)k[y]=0;for(y=103552;y<=103554;y++)k[y]=1;for(y=103555;y<=103557;y++)k[y]=2;for(y=103558;y<=103560;y++)k[y]=0;for(y=103571;y<=103573;y++)k[y]=0;for(y=103574;y<=103576;y++)k[y]=2;for(y=103577;y<=103580;y++)k[y]=0;for(y=103581;y<=103583;y++)k[y]=2;for(y=103595;y<=103694;y++)k[y]=0;for(y=103696;y<=103699;y++)k[y]=0;for(y=103700;y<=103793;y++)k[y]=2;for(y=103794;y<=103887;y++)k[y]=0;for(y=103900;y<=103971;y++)k[y]=2;const joe={102113:!0,102100:!0,3857:!0,3785:!0},Voe={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},fP='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',T3=[-20037508342788905e-9,20037508342788905e-9],C3=[-20037508342787e-6,20037508342787e-6],$G={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:T3,origin:C3,dx:1e-5},102100:{wkTemplate:fP,valid:T3,origin:C3,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:T3,origin:C3,dx:1e-5},3857:{wkTemplate:fP,valid:T3,origin:C3,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function bi(e,t){return!B(e)&&!B(t)&&(e===t||(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||Ip(e)&&Ip(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function ys(e){return Ui(e)&&e.wkid&&$G[e.wkid]||null}function TG(e){return!!Ui(e)&&(e.wkid?k[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function zoe(e){return!(ly(e)||cy(e))}function D1(e){return Ui(e)&&e.wkid===4326}function tLe(e){return Ui(e)&&e.wkid===Xs.CGCS2000}function Ip(e){return Ui(e)&&e.wkid!=null&&joe[e.wkid]===!0}function Boe(e){return Ui(e)&&e.wkid===32662}function fE(e){return e===Xs.GCSMARS2000||e===Xs.GCSMARS2000_SPHERE}function ly(e){return Ui(e)&&e.wkid!=null&&fE(e.wkid)}function pE(e){return e===Xs.GCSMOON2000}function cy(e){return Ui(e)&&e.wkid!=null&&pE(e.wkid)}function CG(e){return Ui(e)&&e.wkid!=null&&Voe[e.wkid]===!0}function Ui(e){return C(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const Uoe={wkid:4326,wkt:Ko($G[4326].wkTemplate,{Central_Meridian:"0.0"})},Goe={wkid:102100,latestWkid:3857},qoe={wkid:32662};var wo;let vt=wo=class extends Z{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return wo.WebMercator;if(e.wkid===4326)return wo.WGS84}const t=new wo;return t.read(e),t}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return D1(this)}get isWebMercator(){return Ip(this)}get isGeographic(){return TG(this)}get isWrappable(){return CG(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===wo.WGS84)return wo.WGS84;if(this===wo.WebMercator)return wo.WebMercator;const e=new wo;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=D(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return t==null||i?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===t&&n.referenceServiceName===r:n.id===t}return bi(this,e)}toJSON(e){return this.write(void 0,e)}};vt.GCS_NAD_1927=null,vt.WGS84=null,vt.WebMercator=null,vt.PlateCarree=null,u([f({readOnly:!0})],vt.prototype,"isWGS84",null),u([f({readOnly:!0})],vt.prototype,"isWebMercator",null),u([f({readOnly:!0})],vt.prototype,"isGeographic",null),u([f({readOnly:!0})],vt.prototype,"isWrappable",null),u([f({type:Xe,json:{write:!0}})],vt.prototype,"latestWkid",void 0),u([f({type:Xe,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],vt.prototype,"wkid",void 0),u([f({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],vt.prototype,"wkt",void 0),u([ce("wkt"),ce("web-scene","wkt")],vt.prototype,"writeWkt",null),u([f({type:Xe,json:{write:!0}})],vt.prototype,"vcsWkid",void 0),u([f({type:Xe,json:{write:!0}})],vt.prototype,"latestVcsWkid",void 0),u([f()],vt.prototype,"imageCoordinateSystem",void 0),vt=wo=u([E("esri.geometry.SpatialReference")],vt),vt.prototype.toJSON.isDefaultToJSON=!0,vt.GCS_NAD_1927=new vt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),vt.WGS84=new vt(Uoe),vt.WebMercator=new vt(Goe),vt.PlateCarree=new vt(qoe),Object.freeze&&(Object.freeze(vt.GCS_NAD_1927),Object.freeze(vt.WGS84),Object.freeze(vt.WebMercator));const Ce=vt,EG="20220708",kG="7fd01dbc0e83d753fcf101c8ff2a8d215430252d",AG="4.24",Hoe={async request(e,t){var o;const{default:r}=await Y(()=>Promise.resolve().then(()=>cle),void 0,import.meta.url),i=e.options,n=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=n==="native"||n==="native-request-init"?"native-request-init":["blob","json","text"].includes(n)&&((o=wG(e.url))==null?void 0:o.after)?n:"array-buffer";const s=await r(e.url,i),a={data:s.data,ssl:s.ssl};switch(s.requestOptions.responseType){case"native-request-init":return delete a.data.signal,a;case"blob":a.data=await a.data.arrayBuffer();break;case"json":a.data=new TextEncoder().encode(JSON.stringify(a.data)).buffer;break;case"text":a.data=new TextEncoder().encode(a.data).buffer}return{result:a,transferList:[a.data]}}};let Dt;function rLe(e){Dt=e}function LG(e){const t=Dt&&Dt.findCredential(e);return t&&t.token?IG(e,"token",t.token):e}W("host-webworker")||(W("edge")||W("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const Woe=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function RG(e){const t=no(e,!0);return t&&t.endsWith(".arcgis.com")&&!Woe.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function Joe(e,t,r=!1,i){return new Promise((n,s)=>{if(la(i))return void s(pP());let a=()=>{c(),s(new Error(`Unable to load ${t}`))},o=()=>{const d=e;c(),n(d)},l=()=>{if(!e)return;const d=e;c(),d.src="",s(pP())};const c=()=>{W("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",o)),a=null,o=null,e=null,C(i)&&i.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};C(i)&&i.addEventListener("abort",l),W("esri-image-decode")?e.decode().then(o,a):(e.addEventListener("error",a),e.addEventListener("load",o))})}function pP(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}function Zoe(e){rt.request.crossOriginNoCorsDomains||(rt.request.crossOriginNoCorsDomains={});const t=rt.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[no(r)]=0:(t[no("http://"+r)]=0,t[no("https://"+r)]=0)}function Qoe(e){const t=rt.request.crossOriginNoCorsDomains;if(t){let r=no(e);if(r)return r=r.toLowerCase(),!F1(r,sE())&&t[r]<Date.now()-36e5}return!1}async function Yoe(e){var i;const t=rt.request.crossOriginNoCorsDomains;t&&(t[no(e).toLowerCase()]=Date.now());const r=jt(e);e=r.path,((i=r.query)==null?void 0:i.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function $e(e,t){var c;const r=zp(e),i=tw(e);i||r||(e=na(e));const n={url:e,requestOptions:{...t}};let s=wG(e);if(s){const d=await sle(s,n);if(d!=null)return{data:d,getHeader:hE,requestOptions:n.requestOptions,url:n.url};s.after||s.error||(s=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"){if(W("host-webworker")||W("host-node"))throw Ka("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n)}else if(r)throw Ka("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),n);if(t.method==="head"){if(t.body)throw Ka("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(r||i)throw Ka("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await rle(),f4)return f4.execute(e,t);const a=new AbortController;ca(t,()=>a.abort());const o={controller:a,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:s,params:n,redoRequest:!1,useIdentity:Ha.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},l=await ole(o);return(c=s==null?void 0:s.after)==null||c.call(s,l),l}let f4;const Ha=rt.request,PG="FormData"in globalThis,Koe=[499,498,403,401],Xoe=["COM_0056","COM_0057","SB_0008"],ele=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],hE=()=>null,ax=Symbol();function tle(e){const t=no(e);t&&!$e._corsServers.includes(t)&&$e._corsServers.push(t)}function hP(e){const t=no(e);return!t||t.endsWith(".arcgis.com")||$e._corsServers.includes(t)||oE(t)}function Ka(e,t,r,i){let n="Error";const s={url:r.url,requestOptions:r.requestOptions,getHeader:hE,ssl:!1};if(t instanceof R)return t.details?(t.details=D(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const a=i&&(c=>i.headers.get(c)),o=i&&i.status,l=t.message;l&&(n=l),a&&(s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||o||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=ax in t?t[ax]:t}return zi(t)?Nt():new R(e,n,s)}async function rle(){W("host-webworker")?f4||(f4=await Y(()=>import("./request.7640c7eb.js"),[],import.meta.url)):$e._abortableFetch||($e._abortableFetch=globalThis.fetch.bind(globalThis))}async function ox(){Dt||await Y(()=>import("./IdentityManager.5c79f3af.js"),[],import.meta.url)}async function ile(e){var o;const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,n=r.body;let s=null,a=null;if(PG&&"HTMLFormElement"in globalThis&&(n instanceof FormData?s=n:n instanceof HTMLFormElement&&(s=new FormData(n))),typeof n=="string"&&(a=n),e.fetchOptions={cache:r.cacheBust&&!$e._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:Ha.priority,redirect:"follow",signal:i},(s||a)&&(e.fetchOptions.body=s||a),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||((o=r.query)==null?void 0:o.token)||(s==null?void 0:s.get("token"))),!e.hasToken&&rt.apiKey&&RG(t)&&(r.query||(r.query={}),r.query.token=rt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!OG(t)&&!la(i)){let l;r.authMode==="immediate"?(await ox(),l=await Dt.getCredential(t,{signal:i}),e.credential=l):r.authMode==="no-prompt"?(await ox(),l=await Dt.getCredential(t,{prompt:!1,signal:i}).catch(()=>{}),e.credential=l):Dt&&(l=Dt.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function OG(e){return ele.some(t=>t.test(e))}async function nle(e){let t=e.params.url;const r=e.params.requestOptions,i=e.fetchOptions,n=tw(t)||zp(t),s=r.responseType||"json",a=n?0:r.timeout!=null?r.timeout:Ha.timeout;let o=!1;if(!n){e.useSSL&&(t=uE(t)),r.cacheBust&&i.cache==="default"&&(t=IG(t,"request.preventCache",Date.now()));let h={...r.query};e.credentialToken&&(h.token=e.credentialToken);let m=O1(h);W("esri-url-encodes-apostrophe")&&(m=m.replace(/'/g,"%27"));const g=t.length+1+m.length;let b;o=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||g>Ha.maxUrlLength;const w=r.useProxy||!!ew(t);if(w){const v=_oe(t);b=v.path,!o&&b.length+1+g>Ha.maxUrlLength&&(o=!0),v.query&&(h={...v.query,...h})}if(i.method==="HEAD"&&(o||w)){if(o)throw g>Ha.maxUrlLength?Ka("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Ka("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(w)throw Ka("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(o?(i.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=i5(t,h):(i.body=O1(h),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=i5(t,h),w&&(e.useProxy=!0,t=`${b}?${t}`),h.token&&PG&&i.body instanceof FormData&&!/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)&&i.body.set("token",h.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!F1(t,sE())){if(oE(t))e.withCredentials=!0;else if(Dt){const v=Dt.findServerInfo(t);v&&v.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(i.credentials="include",Qoe(t)&&await Yoe(o?i5(t,h):t))}let l,c,d=0,p=!1;a>0&&(d=setTimeout(()=>{p=!0,e.controller.abort()},a));try{if(r.responseType==="native-request-init")c=i,c.url=t;else if(r.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||o||ale(r.headers)||!n&&!e.useProxy&&Ha.proxyUrl&&!hP(t)){if(l=await $e._abortableFetch(t,i),e.useProxy||tle(t),r.responseType==="native")c=l;else if(i.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(d&&(clearTimeout(d),d=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=mP(c,"application/xml");break;case"document":c=mP(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const h=l.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(h)&&c[s==="blob"?"size":"byteLength"]<=750)try{const m=await new Response(c).json();m.error&&(c=m)}catch{}}s==="image"&&c instanceof Blob&&(c=await yP(URL.createObjectURL(c),e,!0))}}else c=await l.text()}else c=await yP(t,e)}catch(h){if(h.name==="AbortError")throw p?new Error("Timeout exceeded"):Nt("Request canceled");if(!(!l&&h instanceof TypeError&&Ha.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||hP(t))throw h;e.redoRequest=!0,xoe({proxyUrl:Ha.proxyUrl,urlPrefix:no(t)})}finally{d&&clearTimeout(d)}return[l,c]}async function sle(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(n){r=Ka("request:interceptor",n,t)}if((i instanceof Error||i instanceof R)&&(r=Ka("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function ale(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function mP(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function ole(e){var s;let t,r;await ile(e);try{do[t,r]=await nle(e);while(!await lle(e,t,r))}catch(a){const o=Ka("request:server",a,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(o),o}const i=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&((s=r.user)==null?void 0:s.username)&&!oE(i)){const a=no(i,!0);a&&Ha.trustedServers.push(a)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&Zoe(r.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&Dt){const a=Dt.findServerInfo(n.server);let o=a&&a.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const l=Dt.findCredential(o,n.userId);l&&Dt._getIdenticalSvcIdx(o,l)===-1&&l.resources.unshift(o)}}return{data:r,getHeader:t?a=>t.headers.get(a):hE,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function lle(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||i.responseType==="native"||i.responseType==="native-request-init")return!0;let n,s,a,o;if(!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[ax]=r,n;r!=null&&r.error&&(n=r.error),n&&(s=Number(n.code),a=n.hasOwnProperty("subcode")?Number(n.subcode):null,o=n.messageCode,o=o&&o.toUpperCase());const l=i.authMode;if(s===403&&(a===4||n.message&&n.message.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&Koe.includes(s)&&!OG(e.params.url)&&(s!==403||!Xoe.includes(o)&&(a==null||a===2&&e.credentialToken))){await ox();try{const c=await Dt.getCredential(e.params.url,{error:Ka("request:server",n,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=null,e.credentialToken=null,!1;n=c}}if(n)throw n;return!0}function yP(e,t,r=!1){const i=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=Ha.priority,n.src=e,Joe(n,e,r,i)}$e._abortableFetch=null,$e._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const cle=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"}));function ie(e,t,r){let i,n;return t===void 0||Array.isArray(t)?(n=e,r=t,i=[void 0]):(n=t,i=Array.isArray(e)?e:[e]),(s,a)=>{const o=s.constructor.prototype;i.forEach(l=>{const c=JU(s,l,n);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=o[a],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let _o=class extends Z{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ce.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof Ce)return e;if(e!=null){const r=new Ce;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};u([f()],_o.prototype,"type",void 0),u([f({readOnly:!0})],_o.prototype,"cache",null),u([f({readOnly:!0})],_o.prototype,"extent",null),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],_o.prototype,"hasM",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],_o.prototype,"hasZ",void 0),u([f({type:Ce,json:{write:!0}})],_o.prototype,"spatialReference",void 0),u([ie("spatialReference")],_o.prototype,"readSpatialReference",null),_o=u([E("esri.geometry.Geometry")],_o);const Vn=_o,ule=Object.prototype.toString;function dle(e){const t="__accessorMetadata__"in e?_r(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return fle.apply(this,r)}}function fle(e,t,r,i){G6(e,t).cast=i}function ple(e){return(t,r)=>{G6(t,e).cast=t[r]}}function Ze(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&ule.call(e[0])==="[object Function]"?dle(e[0]):e.length===1&&typeof e[0]=="string"?ple(e[0]):void 0}function hle(e,t,r,i){var n;return e.x=e.x+t,e.y=e.y+r,i!=null&&(e.z=((n=e.z)!=null?n:0)+i),e}function mle(e,t){const r=e.x-t.x,i=e.y-t.y,n=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+i*i+n*n)}class mE{constructor(t,r,i,n){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=n||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const Tt=new mE(6378137,1/298.257223563,3e5,.006694379990137799),cc=new mE(3396190,1/169.8944472236118,23e4),md=new mE(1737400,0,0),yle=57.29577951308232,gle=.017453292519943;function gP(e){return e*yle}function bP(e){return e*gle}function vP(e){return e/Tt.radius}function wP(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Tt.radius))}function lx(e){return e.wkid!=null||e.wkt!=null}const J8=[0,0];function p4(e,t,r,i,n){const s=e,a=n;if(a.spatialReference=r,"x"in s&&"x"in a)[a.x,a.y]=t(s.x,s.y,J8,i);else if("xmin"in s&&"xmin"in a)[a.xmin,a.ymin]=t(s.xmin,s.ymin,J8,i),[a.xmax,a.ymax]=t(s.xmax,s.ymax,J8,i);else if("paths"in s&&"paths"in a||"rings"in s&&"rings"in a){const o="paths"in s?s.paths:s.rings,l=[];let c;for(let d=0;d<o.length;d++){const p=o[d];c=[],l.push(c);for(let h=0;h<p.length;h++)c.push(t(p[h][0],p[h][1],[0,0],i)),p[h].length>2&&c[h].push(p[h][2]),p[h].length>3&&c[h].push(p[h][3])}"paths"in a?a.paths=l:a.rings=l}else if("points"in s&&"points"in a){const o=s.points,l=[];for(let c=0;c<o.length;c++)l[c]=t(o[c][0],o[c][1],[0,0],i),o[c].length>2&&l[c].push(o[c][2]),o[c].length>3&&l[c].push(o[c][3]);a.points=l}return n}function n5(e,t){const r=e&&(lx(e)?e:e.spatialReference),i=t&&(lx(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!i)&&(!!bi(i,r)||Ip(i)&&D1(r)||Ip(r)&&D1(i))}function rw(e,t){if(B(e))return null;const r=e.spatialReference,i=t&&(lx(t)?t:t.spatialReference);return n5(r,i)?bi(r,i)?D(e):Ip(i)?p4(e,E0,Ce.WebMercator,!1,D(e)):D1(i)?p4(e,jb,Ce.WGS84,!1,D(e)):null:null}function E0(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=bP(t);return r[0]=bP(e)*Tt.radius,r[1]=Tt.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function jb(e,t,r=[0,0],i=!1){const n=gP(e/Tt.radius);return r[0]=i?n:n-360*Math.floor((n+180)/360),r[1]=gP(Math.PI/2-2*Math.atan(Math.exp(-t/Tt.radius))),r}function rd(e,t=!1,r=D(e)){return p4(e,E0,Ce.WebMercator,t,r)}function Cg(e,t=!1,r=D(e)){return p4(e,jb,Ce.WGS84,t,r)}var s5;const qy=[0,0];function _P(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}const E3=ae.getLogger("esri.geometry.Point");let Ji=s5=class extends Vn{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(e,t,r,i,n){let s;if(Array.isArray(e))s=e,n=t,e=s[0],t=s[1],r=s[2],i=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,r=s.z,i=s.m,(n=s.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new Ce(n)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)E3.warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)E3.warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&n&&n.isWebMercator){const o=E0(s.longitude,s.latitude,qy);e=o[0],t=o[1]}}}else _P(r)?(n=r,r=null):_P(i)&&(n=i,i=null);const a={x:e,y:t};return a.x==null&&a.y!=null?E3.warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&E3.warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(a.spatialReference=n),r!=null&&(a.z=r),i!=null&&(a.m=i),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return jb(t,r,qy)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;t&&(t.isWebMercator?this._set("y",E0(r,e,qy)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return jb(e,t,qy)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",E0(e,t,qy)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new s5;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return s5.copy(e,this),this}equals(e){if(B(e))return!1;const{x:t,y:r,z:i,m:n,spatialReference:s}=this,{z:a,m:o}=e;let{x:l,y:c,spatialReference:d}=e;if(!s.equals(d))if(s.isWebMercator&&d.isWGS84)[l,c]=E0(l,c),d=s;else{if(!s.isWGS84||!d.isWebMercator)return!1;[l,c]=jb(l,c),d=s}return t===l&&r===c&&i===a&&n===o&&s.wkid===d.wkid}offset(e,t,r){return hle(this,e,t,r)}normalize(){if(!this.spatialReference)return this;const e=ys(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,n=2*i;let s;return t>i?(s=Math.ceil(Math.abs(t-i)/n),t-=s*n):t<r&&(s=Math.ceil(Math.abs(t-r)/n),t+=s*n),this._set("x",t),this}distance(e){return mle(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([f({readOnly:!0})],Ji.prototype,"cache",null),u([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ji.prototype,"hasM",null),u([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ji.prototype,"hasZ",null),u([f({type:Number})],Ji.prototype,"latitude",null),u([f({type:Number})],Ji.prototype,"longitude",null),u([f({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Ze(e=>isNaN(e)?e:ds(e))],Ji.prototype,"x",void 0),u([ce("x")],Ji.prototype,"writeX",null),u([ie("x")],Ji.prototype,"readX",null),u([f({type:Number,json:{write:!0}})],Ji.prototype,"y",void 0),u([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ji.prototype,"z",void 0),u([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ji.prototype,"m",void 0),Ji=s5=u([E("esri.geometry.Point")],Ji),Ji.prototype.toJSON.isDefaultToJSON=!0;const be=Ji,Z8=[0,0];function iw(e,t){return!!C(t)&&Xi(e,t.x,t.y,t.z)}function iLe(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!Tm(e,r))return!1;return!0}function ble(e,t){const{xmin:r,ymin:i,zmin:n,xmax:s,ymax:a,zmax:o}=t;return e.hasZ&&t.hasZ?Xi(e,r,i,n)&&Xi(e,r,a,n)&&Xi(e,s,a,n)&&Xi(e,s,i,n)&&Xi(e,r,i,o)&&Xi(e,r,a,o)&&Xi(e,s,a,o)&&Xi(e,s,i,o):Xi(e,r,i)&&Xi(e,r,a)&&Xi(e,s,a)&&Xi(e,s,i)}function Tm(e,t){return Xi(e,t[0],t[1])}function vle(e,t){return Xi(e,t[0],t[1],t[2])}function Xi(e,t,r,i){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(i==null||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function FG(e,t){return Z8[1]=t.y,Z8[0]=t.x,wle(e,Z8)}function wle(e,t){return DG(e.rings,t)}function DG(e,t){if(!e)return!1;if(_le(e))return SP(!1,e,t);let r=!1;for(let i=0,n=e.length;i<n;i++)r=SP(r,e[i],t);return r}function _le(e){return!Array.isArray(e[0][0])}function SP(e,t,r){const[i,n]=r;let s=e,a=0;for(let o=0,l=t.length;o<l;o++){a++,a===l&&(a=0);const[c,d]=t[o],[p,h]=t[a];(d<n&&h>=n||h<n&&d>=n)&&c+(n-d)/(h-d)*(p-c)<i&&(s=!s)}return s}function Sle(e,t){return iw(e,t)}function xle(e,t){const r=e.hasZ&&t.hasZ;let i,n,s;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function Mle(e,t){const{points:r,hasZ:i}=t,n=i?vle:Tm;for(const s of r)if(n(e,s))return!0;return!1}const $p=[0,0],Tp=[0,0],Cp=[0,0],Ep=[0,0],Ile=[$p,Tp,Cp,Ep],NG=[[Cp,$p],[$p,Tp],[Tp,Ep],[Ep,Cp]];function $le(e,t){return Tle(e,t.rings)}function Tle(e,t){$p[0]=e.xmin,$p[1]=e.ymax,Tp[0]=e.xmax,Tp[1]=e.ymax,Cp[0]=e.xmin,Cp[1]=e.ymin,Ep[0]=e.xmax,Ep[1]=e.ymin;for(const r of Ile)if(DG(t,r))return!0;for(const r of t){if(!r.length)continue;let i=r[0];if(Tm(e,i))return!0;for(let n=1;n<r.length;n++){const s=r[n];if(Tm(e,s)||jG(i,s,NG))return!0;i=s}}return!1}function Cle(e,t){$p[0]=e.xmin,$p[1]=e.ymax,Tp[0]=e.xmax,Tp[1]=e.ymax,Cp[0]=e.xmin,Cp[1]=e.ymin,Ep[0]=e.xmax,Ep[1]=e.ymin;const r=t.paths;for(const i of r){if(!r.length)continue;let n=i[0];if(Tm(e,n))return!0;for(let s=1;s<i.length;s++){const a=i[s];if(Tm(e,a)||jG(n,a,NG))return!0;n=a}}return!1}const Kr=[0,0];function Ele(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const s=r[n],a=r[n+1];for(let o=t+1;o<e.length;o++)for(let l=0;l<e[o].length-1;l++){const c=e[o][l],d=e[o][l+1];if(cx(s,a,c,d,Kr)&&!(Kr[0]===s[0]&&Kr[1]===s[1]||Kr[0]===c[0]&&Kr[1]===c[1]||Kr[0]===a[0]&&Kr[1]===a[1]||Kr[0]===d[0]&&Kr[1]===d[1]))return!0}}const i=r.length;if(!(i<=4))for(let n=0;n<i-3;n++){let s=i-1;n===0&&(s=i-2);const a=r[n],o=r[n+1];for(let l=n+2;l<s;l++){const c=r[l],d=r[l+1];if(cx(a,o,c,d,Kr)&&!(Kr[0]===a[0]&&Kr[1]===a[1]||Kr[0]===c[0]&&Kr[1]===c[1]||Kr[0]===o[0]&&Kr[1]===o[1]||Kr[0]===d[0]&&Kr[1]===d[1]))return!0}}}return!1}function jG(e,t,r){for(let i=0;i<r.length;i++)if(cx(e,t,r[i][0],r[i][1]))return!0;return!1}function cx(e,t,r,i,n){const[s,a]=e,[o,l]=t,[c,d]=r,[p,h]=i,m=p-c,g=s-c,b=o-s,w=h-d,v=a-d,_=l-a,S=w*b-m*_;if(S===0)return!1;const x=(m*v-w*g)/S,M=(b*v-_*g)/S;return x>=0&&x<=1&&M>=0&&M<=1&&(n&&(n[0]=s+x*(o-s),n[1]=a+x*(l-a)),!0)}function kle(e){switch(e){case"esriGeometryEnvelope":case"extent":return xle;case"esriGeometryMultipoint":case"multipoint":return Mle;case"esriGeometryPoint":case"point":return Sle;case"esriGeometryPolygon":case"polygon":return $le;case"esriGeometryPolyline":case"polyline":return Cle}}var Ps;function Ale(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Ac(e,t,r){return t==null?r:r==null?t:e(t,r)}let jr=Ps=class extends Vn{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,i,n){return Ale(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Ce.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:i,spatialReference:n==null?Ce.WGS84:n}}static fromBounds(e,t){return new Ps({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Ps({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new be({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Ps;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&n5(t,r)&&(e=t.isWebMercator?rd(e):Cg(e,!0)),e.type==="point"?iw(this,e):e.type==="extent"&&ble(this,e)}equals(e){if(this===e)return!0;if(B(e))return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&n5(t,r)&&(e=t.isWebMercator?rd(e):Cg(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,i=this.height*t;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if(B(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&n5(t,r)&&(e=t.isWebMercator?rd(e):Cg(e,!0)),kle(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ac(Math.min,this.zmin,e.zmin),this.zmax=Ac(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ac(Math.min,this.mmin,e.mmin),this.mmax=Ac(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:B(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ac(Math.max,this.zmin,e.zmin),this.zmax=Ac(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ac(Math.max,this.mmin,e.mmin),this.mmax=Ac(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=ys(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const i=t.isWebMercator?Cg(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(i.x=this._normalizeX(i.x,e).x),this.spatialReference=new Ce(Ko(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,i]=e.valid,n=this.xmin,s=this.xmax;return n>=r&&n<=i&&s>=r&&s<=i||(t=this.center),t}_normalize(e,t,r){const i=this.spatialReference;if(!i)return this;if(!(r=r||ys(i)))return this;const n=this._getParts(r).map(o=>o.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return n;let s=!0,a=!0;return n.forEach(o=>{o.hasZ||(s=!1),o.hasM||(a=!1)}),{rings:n.map(o=>{const l=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s){const c=(o.zmax-o.zmin)/2;for(let d=0;d<l.length;d++)l[d].push(c)}if(a){const c=(o.mmax-o.mmin)/2;for(let d=0;d<l.length;d++)l[d].push(c)}return l}),hasZ:s,hasM:a,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:s,spatialReference:a}=this,o=this.width,l=this.xmin,c=this.xmax;let d;e=e||ys(a);const[p,h]=e.valid;d=this._normalizeX(this.xmin,e);const m=d.x,g=d.frameId;d=this._normalizeX(this.xmax,e);const b=d.x,w=d.frameId,v=m===b&&o>0;if(o>2*h){const _=new Ps(l<c?m:b,n,h,s,a),S=new Ps(p,n,l<c?b:m,s,a),x=new Ps(0,n,h,s,a),M=new Ps(p,n,0,s,a),I=[],$=[];_.contains(x)&&I.push(g),_.contains(M)&&$.push(g),S.contains(x)&&I.push(w),S.contains(M)&&$.push(w);for(let T=g+1;T<w;T++)I.push(T),$.push(T);t.push({extent:_,frameIds:[g]},{extent:S,frameIds:[w]},{extent:x,frameIds:I},{extent:M,frameIds:$})}else m>b||v?t.push({extent:new Ps(m,n,h,s,a),frameIds:[g]},{extent:new Ps(p,n,b,s,a),frameIds:[w]}):t.push({extent:new Ps(m,n,b,s,a),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,i=this.hasM;if(r||i){const n={};r&&(n.zmin=this.zmin,n.zmax=this.zmax),i&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(n)}return t}_normalizeX(e,t){const[r,i]=t.valid,n=2*i;let s,a=0;return e>i?(s=Math.ceil(Math.abs(e-i)/n),e-=s*n,a=s):e<r&&(s=Math.ceil(Math.abs(e-r)/n),e+=s*n,a=-s),{x:e,frameId:a}}};u([f({readOnly:!0})],jr.prototype,"cache",null),u([f({readOnly:!0})],jr.prototype,"center",null),u([f({readOnly:!0})],jr.prototype,"extent",null),u([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],jr.prototype,"hasM",null),u([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],jr.prototype,"hasZ",null),u([f({readOnly:!0})],jr.prototype,"height",null),u([f({readOnly:!0})],jr.prototype,"width",null),u([f({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],jr.prototype,"xmin",void 0),u([f({type:Number,json:{write:!0}})],jr.prototype,"ymin",void 0),u([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],jr.prototype,"mmin",void 0),u([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],jr.prototype,"zmin",void 0),u([f({type:Number,json:{write:!0}})],jr.prototype,"xmax",void 0),u([f({type:Number,json:{write:!0}})],jr.prototype,"ymax",void 0),u([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],jr.prototype,"mmax",void 0),u([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],jr.prototype,"zmax",void 0),jr=Ps=u([E("esri.geometry.Extent")],jr),jr.prototype.toJSON.isDefaultToJSON=!0;const Ve=jr;let Vb;var HV,WV,JV;const Q8=(JV=(HV=globalThis.esriConfig)==null?void 0:HV.locale)!=null?JV:(WV=globalThis.dojoConfig)==null?void 0:WV.locale;function VG(){var e,t;return(t=Q8!=null?Q8:(e=globalThis.navigator)==null?void 0:e.language)!=null?t:"en"}function gs(){return Vb===void 0&&(Vb=VG()),Vb}const zb=[];function zG(e){return zb.push(e),{remove(){zb.splice(zb.indexOf(e),1)}}}const ux=[];function yE(e){return ux.push(e),{remove(){zb.splice(ux.indexOf(e),1)}}}function Lle(){const e=VG();Vb!==e&&(Vb=e,[...ux].forEach(t=>{t.call(null,e)}),[...zb].forEach(t=>{t.call(null,e)}))}var ZV;(ZV=globalThis.addEventListener)==null||ZV.call(globalThis,"languagechange",Lle);class Le{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=t,this.options=r,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,n,s)=>{const a=this.toJSON(i);a!==void 0&&Nn(s,a,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(this.apiToJSON.hasOwnProperty(t)){const r=this.apiToJSON[t];return this.options.useNumericKeys?+r:r}return this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const i in t)r[t[i]]=i;return r}_getKeysSorted(t){const r=[];for(const i in t)r.push(i);return r.sort(),r}}function ir(){return function(e,t){return new Le(e,{ignoreUnknown:!0,...t})}}var dx;const Rle=new Le({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Os=dx=class extends ye{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new dx({categories:this.categories?D(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,i;if(this.categories&&(r=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a)),this.extent){const a=rw(this.extent,Ce.WGS84);C(a)&&(i=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const s={categories:r,bbox:i,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(a=>Rle.toJSON(a.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};u([f()],Os.prototype,"categories",void 0),u([f()],Os.prototype,"disableExtraQuery",void 0),u([f({type:Ve})],Os.prototype,"extent",void 0),u([f()],Os.prototype,"filter",void 0),u([f()],Os.prototype,"num",void 0),u([f()],Os.prototype,"query",void 0),u([f()],Os.prototype,"sortField",void 0),u([f()],Os.prototype,"sortOrder",null),u([f()],Os.prototype,"start",void 0),Os=dx=u([E("esri.portal.PortalQueryParams")],Os);const ec=Os;let Ud=class extends ye{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([f()],Ud.prototype,"nextQueryParams",void 0),u([f()],Ud.prototype,"queryParams",void 0),u([f()],Ud.prototype,"results",void 0),u([f()],Ud.prototype,"total",void 0),Ud=u([E("esri.portal.PortalQueryResult")],Ud);const Ple=Ud;let xl=class extends Z{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new R("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([f({type:Date})],xl.prototype,"created",void 0),u([f()],xl.prototype,"id",void 0),u([f()],xl.prototype,"portal",void 0),u([f()],xl.prototype,"title",void 0),u([f({readOnly:!0})],xl.prototype,"url",null),u([f()],xl.prototype,"username",void 0),xl=u([E("esri.portal.PortalFolder")],xl);const Ole=xl;let Vr=class extends Z{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new R("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=_r(ec,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new ec,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new ec,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then(r=>{const i=r.contentCategorySetsGroupQuery;if(i){const n=new ec;return n.disableExtraQuery=!0,n.num=1,n.query=i,this.portal.queryGroups(n,t)}throw new R("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const i=r.results[0],n=new ec;return n.num=1,n.query=`typekeywords:"${e}"`,i.queryItems(n,t)}throw new R("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(i=>{const n=i&&i.categorySchema;return n&&n.length?n:[]}):[])}};u([f()],Vr.prototype,"access",void 0),u([f({type:Date})],Vr.prototype,"created",void 0),u([f()],Vr.prototype,"description",void 0),u([f()],Vr.prototype,"id",void 0),u([f()],Vr.prototype,"isInvitationOnly",void 0),u([f({type:Date})],Vr.prototype,"modified",void 0),u([f()],Vr.prototype,"owner",void 0),u([f()],Vr.prototype,"portal",void 0),u([f()],Vr.prototype,"snippet",void 0),u([f()],Vr.prototype,"sortField",void 0),u([f()],Vr.prototype,"sortOrder",void 0),u([f()],Vr.prototype,"tags",void 0),u([f()],Vr.prototype,"thumbnail",void 0),u([f({readOnly:!0})],Vr.prototype,"thumbnailUrl",null),u([f()],Vr.prototype,"title",void 0),u([f({readOnly:!0})],Vr.prototype,"url",null),Vr=u([E("esri.portal.PortalGroup")],Vr);const fx=Vr,Fle=Object.freeze(Object.defineProperty({__proto__:null,default:fx},Symbol.toStringTag,{value:"Module"}));var px;let Ct=px=class extends Z{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,i=e&&e.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),r!=null&&(typeof r=="string"?n.query.text=r:typeof r=="object"&&(n.query.text=JSON.stringify(r))));let s=this.userContentUrl;return i&&(s+="/"+(typeof i=="string"?i:i.id)),this.portal._request(s+"/addItem",n).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map(i=>i.id);if(r.length){const i={method:"post",query:{items:r.join(",")}};return this.portal._request(t,i).then(()=>{e.forEach(n=>{n.id=null,n.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal._request(this.userContentUrl,e).then(t=>{let r;return r=t&&t.folders?t.folders.map(i=>{const n=Ole.fromJSON(i);return n.portal=this.portal,n}):[],r})}fetchGroups(){return this.portal._request(this.url).then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const i=fx.fromJSON(r);return i.portal=this.portal,i}):[],t})}fetchItems(e){e||(e={});let t,r=this.userContentUrl;return e.folder&&(r+="/"+e.folder.id),Y(()=>Promise.resolve().then(()=>BG),void 0,import.meta.url).then(({default:i})=>{t=i;const n={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(r,{query:n})}).then(i=>{let n;return i&&i.items?(n=i.items.map(s=>{const a=t.fromJSON(s);return a.portal=this.portal,a}),Promise.all(n.map(s=>s.load())).catch(s=>s).then(()=>({items:n,nextStart:i.nextStart,total:i.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new fx({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new R("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new R("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new px;return t.sourceJSON=e,t.read(e),t}};u([f()],Ct.prototype,"access",void 0),u([f({type:Date})],Ct.prototype,"created",void 0),u([f()],Ct.prototype,"culture",void 0),u([f()],Ct.prototype,"description",void 0),u([f()],Ct.prototype,"email",void 0),u([f()],Ct.prototype,"favGroupId",void 0),u([f()],Ct.prototype,"fullName",void 0),u([f({type:Date})],Ct.prototype,"modified",void 0),u([f()],Ct.prototype,"orgId",void 0),u([f()],Ct.prototype,"portal",void 0),u([f()],Ct.prototype,"preferredView",void 0),u([f()],Ct.prototype,"privileges",void 0),u([f()],Ct.prototype,"region",void 0),u([f()],Ct.prototype,"role",void 0),u([f()],Ct.prototype,"roleId",void 0),u([f()],Ct.prototype,"sourceJSON",void 0),u([f()],Ct.prototype,"thumbnail",void 0),u([f({readOnly:!0})],Ct.prototype,"thumbnailUrl",null),u([f()],Ct.prototype,"units",void 0),u([f({readOnly:!0})],Ct.prototype,"userContentUrl",null),u([f({readOnly:!0})],Ct.prototype,"url",null),u([f()],Ct.prototype,"username",void 0),u([f()],Ct.prototype,"userType",void 0),Ct=px=u([E("esri.portal.PortalUser")],Ct);const gE=Ct,Dle=Object.freeze(Object.defineProperty({__proto__:null,default:gE},Symbol.toStringTag,{value:"Module"}));var Zn;let Y8;const xP={PortalGroup:()=>Y(()=>Promise.resolve().then(()=>Fle),void 0,import.meta.url),PortalItem:()=>Y(()=>Promise.resolve().then(()=>BG),void 0,import.meta.url),PortalUser:()=>Y(()=>Promise.resolve().then(()=>Dle),void 0,import.meta.url)};let pe=Zn=class extends T2(jn){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=rt.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)rt.request.trustedServers.includes(t)||rt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=gE.fromJSON(e),t.portal=this),t}load(e){const t=Y(()=>Promise.resolve().then(()=>rce),void 0,import.meta.url).then(({default:r})=>{Ge(e),Y8=r}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e)).then(r=>{if(Dt){const i=Dt;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==Zn.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=i.on("credential-create",()=>{i.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Y(()=>import("./ElevationLayer.5a6614d0.js"),["ElevationLayer.5a6614d0.js","ArcGISCachedService.1843dea9.js","TilemapCache.ead7c1e4.js"],import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}fetchBasemaps(e,t){const r=new ec;return r.query=e||(rt.apiKey&&RG(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then(i=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',i.total){const n=i.results[0];return r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc",n.queryItems(r,t)}return null}).then(i=>{let n;return n=i&&i.total?i.results.filter(s=>s.type==="Web Map").map(s=>new Y8({portalItem:s})):[],n})}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):la(e)?Promise.reject(Nt()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new ec;if(r.num=100,r.sortField="title",t&&t.length){const i=[];for(const n of t)i.push(`(title:"${n.title}" AND owner:${n.owner})`);return r.query=i.join(" OR "),this.queryGroups(r,e).then(n=>n.results)}return la(e)?Promise.reject(Nt()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||gs();return this._request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||gs();return this._request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Zn._default&&!Zn._default.destroyed||(Zn._default=new Zn),Zn._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new R("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Zn({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new R("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new R("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const i=this.restUrl+"/portals/self",n={authMode:e,query:{culture:gs().toLowerCase()},...r};return n.authMode==="auto"&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this._request(i,n)}_queryPortal(e,t,r,i){const n=_r(ec,t),s=a=>this._request(this.restUrl+e,{...n.toRequestOptions(this),...i}).then(o=>{const l=n.clone();return l.start=o.nextStart,new Ple({nextQueryParams:l,queryParams:n,total:o.total,results:Zn._resultsToTypedArray(a,{portal:this},o,i)})}).then(o=>Promise.all(o.results.map(l=>typeof l.when=="function"?l.when():o)).then(()=>o,l=>(ny(l),o)));return r&&xP[r]?xP[r]().then(({default:a})=>(Ge(i),s(a))):s()}_signIn(){if(this.authMode===Zn.AUTH_MODE_ANONYMOUS)return Promise.reject(new R("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Dt?Dt.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then(i=>{const n=Zn._resultsToTypedArray(r,{portal:this},i);return Promise.all(n.map(s=>typeof s.when=="function"?s.when():i)).then(()=>n,()=>n)})}_readBasemap(e){if(e){const t=Y8.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const r={f:"json",...t.query},{authMode:i=this.authMode===Zn.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:n=null,cacheBust:s=!1,method:a="auto",responseType:o="json",signal:l}=t,c={authMode:i,body:n,cacheBust:s,method:a,query:r,responseType:o,timeout:0,signal:l};return $e(this._normalizeSSL(e),c).then(d=>d.data)}static _resultsToTypedArray(e,t,r,i){let n;if(r){const s=C(i)?i.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(n=n.map(a=>{const o=Object.assign(e?e.fromJSON(a):a,t);return typeof o.load=="function"&&o.load(s),o}))}else n=[];return n}};pe.AUTH_MODE_ANONYMOUS="anonymous",pe.AUTH_MODE_AUTO="auto",pe.AUTH_MODE_IMMEDIATE="immediate",u([f()],pe.prototype,"access",void 0),u([f()],pe.prototype,"allSSL",void 0),u([f()],pe.prototype,"authMode",void 0),u([f()],pe.prototype,"authorizedCrossOriginDomains",void 0),u([ie("authorizedCrossOriginDomains")],pe.prototype,"readAuthorizedCrossOriginDomains",null),u([f()],pe.prototype,"basemapGalleryGroupQuery",void 0),u([f()],pe.prototype,"bingKey",void 0),u([f()],pe.prototype,"canListApps",void 0),u([f()],pe.prototype,"canListData",void 0),u([f()],pe.prototype,"canListPreProvisionedItems",void 0),u([f()],pe.prototype,"canProvisionDirectPurchase",void 0),u([f()],pe.prototype,"canSearchPublic",void 0),u([f()],pe.prototype,"canShareBingPublic",void 0),u([f()],pe.prototype,"canSharePublic",void 0),u([f()],pe.prototype,"canSignInArcGIS",void 0),u([f()],pe.prototype,"canSignInIDP",void 0),u([f()],pe.prototype,"colorSetsGroupQuery",void 0),u([f()],pe.prototype,"commentsEnabled",void 0),u([f({type:Date})],pe.prototype,"created",void 0),u([f()],pe.prototype,"credential",void 0),u([f()],pe.prototype,"culture",void 0),u([f()],pe.prototype,"currentVersion",void 0),u([f()],pe.prototype,"customBaseUrl",void 0),u([f()],pe.prototype,"defaultBasemap",void 0),u([ie("defaultBasemap")],pe.prototype,"readDefaultBasemap",null),u([f()],pe.prototype,"defaultDevBasemap",void 0),u([ie("defaultDevBasemap")],pe.prototype,"readDefaultDevBasemap",null),u([f({type:Ve})],pe.prototype,"defaultExtent",void 0),u([f()],pe.prototype,"defaultVectorBasemap",void 0),u([ie("defaultVectorBasemap")],pe.prototype,"readDefaultVectorBasemap",null),u([f()],pe.prototype,"description",void 0),u([f()],pe.prototype,"devBasemapGalleryGroupQuery",void 0),u([f()],pe.prototype,"eueiEnabled",void 0),u([f({readOnly:!0})],pe.prototype,"extraQuery",null),u([f()],pe.prototype,"featuredGroups",void 0),u([f()],pe.prototype,"featuredItemsGroupQuery",void 0),u([f()],pe.prototype,"galleryTemplatesGroupQuery",void 0),u([f()],pe.prototype,"livingAtlasGroupQuery",void 0),u([f()],pe.prototype,"hasCategorySchema",void 0),u([f()],pe.prototype,"helpBase",void 0),u([f()],pe.prototype,"helperServices",void 0),u([f()],pe.prototype,"helpMap",void 0),u([f()],pe.prototype,"homePageFeaturedContent",void 0),u([f()],pe.prototype,"homePageFeaturedContentCount",void 0),u([f()],pe.prototype,"httpPort",void 0),u([f()],pe.prototype,"httpsPort",void 0),u([f()],pe.prototype,"id",void 0),u([f()],pe.prototype,"ipCntryCode",void 0),u([f({readOnly:!0})],pe.prototype,"isOrganization",null),u([f()],pe.prototype,"isPortal",void 0),u([f()],pe.prototype,"isReadOnly",void 0),u([f()],pe.prototype,"layerTemplatesGroupQuery",void 0),u([f()],pe.prototype,"maxTokenExpirationMinutes",void 0),u([f({type:Date})],pe.prototype,"modified",void 0),u([f()],pe.prototype,"name",void 0),u([f()],pe.prototype,"portalHostname",void 0),u([f()],pe.prototype,"portalMode",void 0),u([f()],pe.prototype,"portalProperties",void 0),u([f()],pe.prototype,"region",void 0),u([f({readOnly:!0})],pe.prototype,"restUrl",null),u([f()],pe.prototype,"rotatorPanels",void 0),u([f()],pe.prototype,"showHomePageDescription",void 0),u([f()],pe.prototype,"sourceJSON",void 0),u([f()],pe.prototype,"staticImagesUrl",void 0),u([f({json:{name:"2DStylesGroupQuery"}})],pe.prototype,"stylesGroupQuery2d",void 0),u([f({json:{name:"stylesGroupQuery"}})],pe.prototype,"stylesGroupQuery3d",void 0),u([f()],pe.prototype,"supportsHostedServices",void 0),u([f()],pe.prototype,"symbolSetsGroupQuery",void 0),u([f()],pe.prototype,"templatesGroupQuery",void 0),u([f()],pe.prototype,"thumbnail",void 0),u([f({readOnly:!0})],pe.prototype,"thumbnailUrl",null),u([f()],pe.prototype,"units",void 0),u([f()],pe.prototype,"url",void 0),u([f()],pe.prototype,"urlKey",void 0),u([ie("urlKey")],pe.prototype,"readUrlKey",null),u([f()],pe.prototype,"user",void 0),u([ie("user")],pe.prototype,"readUser",null),u([f()],pe.prototype,"useStandardizedQuery",void 0),u([f()],pe.prototype,"useVectorBasemaps",void 0),u([f()],pe.prototype,"vectorBasemapGalleryGroupQuery",void 0),pe=Zn=u([E("esri.portal.Portal")],pe);const ai=pe,Nle=ae.getLogger("esri.assets");function Qe(e){if(!rt.assetsPath)throw Nle.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new R("assets:path-not-set","config.assetsPath is not set");return hd(rt.assetsPath,e)}const jle=ae.getLogger("esri.portal.PortalItemResource");let qc=class extends ye{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this._normalizePath(e.path,e.portalItem)}:e}set path(e){C(e)&&ms(e)?jle.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if(B(r))throw new R("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:UC(t,"signal")})}async update(e,t){return(await Y(()=>import("./resourceUtils.a394d8e3.js"),[],import.meta.url)).addOrUpdateResource(this,"update",e,t)}hasPath(){return C(this.path)}_normalizePath(e,t){return B(e)?e:(e=e.replace(/^\/+/,""),C(t)&&ms(e)&&(e=lE(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};u([f()],qc.prototype,"portalItem",void 0),u([f({type:String,value:null})],qc.prototype,"path",null),u([Ze("path")],qc.prototype,"_castPath",null),u([f({type:String,readOnly:!0})],qc.prototype,"url",null),u([f({type:String,readOnly:!0})],qc.prototype,"itemRelativeUrl",null),qc=u([E("esri.portal.PortalItemResource")],qc);const Vle=qc;let Eg=class extends ye{constructor(e){super(e),this.created=null,this.rating=null}};u([f()],Eg.prototype,"created",void 0),u([f()],Eg.prototype,"rating",void 0),Eg=u([E("esri.portal.PortalRating")],Eg);const K8=Eg;var Ih;let ze=Ih=class extends T2(jn){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return zo(Ih,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geocoding Service"?r="Locator":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?r=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")&&(r="Instant App"),r}readExtent(e){return e&&e.length?new Ve(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",i="16";let n,s=!1,a=!1,o=!1,l=!1,c=!1,d=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.includes("Table"),o=t.includes("Route Layer"),l=t.includes("Markup"),c=t.includes("Spatiotemporal"),d=t.includes("UtilityNetwork"),n=c&&a?"spatiotemporaltable":a?"table":o?"routelayer":l?"markup":c?"spatiotemporal":s?"featureshosted":d?"utilitynetwork":"features"):n=e==="map service"||e==="wms"||e==="wmts"?s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="video service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"?t.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":e==="geodata service"?"geodataservice":"layers"):n=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":e==="notebook code snippets"?"notebookcodesnippets":e==="suitability model"?"suitabilitymodel":e==="esri classifier definition"?"classifierdefinition":e==="esri classification schema"?"classificationschema":e==="insights data engineering workbook"?"dataengineeringworkbook":e==="insights data engineering model"?"dataengineeringmodel":e==="deep learning studio project"?"deeplearningproject":"maps",n?Qe(r+n+i+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].includes(this.type)}get itemUrl(){const e=this.get("portal.restUrl");return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=ai.getDefault());const t=this.portal.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:C(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof K8&&(e=e.rating),isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then(()=>new K8({rating:e,created:new Date}))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:D(this.applicationProxies),avgRating:this.avgRating,categories:D(this.categories),created:D(this.created),culture:this.culture,description:this.description,extent:D(this.extent),groupCategories:D(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:D(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:D(this.screenshots),size:this.size,snippet:this.snippet,spatialReference:this.spatialReference,tags:D(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:D(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new Ih({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const r of["tags","typeKeywords","categories"])e[r]&&(e[r]=e[r].join(", "));const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then(t=>t.rating!=null?(t.created=new Date(t.created),new K8(t)):null)}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Ih)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const i in r.query)r.query[i]===null&&(r.query[i]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new R("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e.thumbnail,r=e.filename,i={method:"post"};if(typeof t=="string")zp(t)?i.query={data:t}:i.query={url:Ya(t)},C(r)&&(i.query.filename=r);else{const n=new FormData;C(r)?n.append("file",t,r):n.append("file",t),i.body=n}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,i).then(()=>this.reload())}):Promise.reject(new R("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await Y(()=>import("./resourceUtils.a394d8e3.js"),[],import.meta.url)).fetchResources(this,e,t)}async addResource(e,t,r){const i=await Y(()=>import("./resourceUtils.a394d8e3.js"),[],import.meta.url);return e.portalItem=this,i.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await Y(()=>import("./resourceUtils.a394d8e3.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new R("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await Y(()=>import("./resourceUtils.a394d8e3.js"),[],import.meta.url)).removeAllResources(this,e)}resourceFromPath(e){return new Vle({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:D(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,spatialReference:this.spatialReference,tags:D(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:D(this.typeKeywords),url:this.url};return lU(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Ih({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};u([f({type:["private","shared","org","public"]})],ze.prototype,"access",void 0),u([f()],ze.prototype,"accessInformation",void 0),u([f({type:String})],ze.prototype,"apiKey",void 0),u([f({json:{read:{source:"appProxies"}}})],ze.prototype,"applicationProxies",void 0),u([f()],ze.prototype,"avgRating",void 0),u([f()],ze.prototype,"categories",void 0),u([f({type:Date})],ze.prototype,"created",void 0),u([f()],ze.prototype,"culture",void 0),u([f()],ze.prototype,"description",void 0),u([f({readOnly:!0})],ze.prototype,"displayName",null),u([f({type:Ve})],ze.prototype,"extent",void 0),u([ie("extent")],ze.prototype,"readExtent",null),u([f()],ze.prototype,"groupCategories",void 0),u([f({readOnly:!0})],ze.prototype,"iconUrl",null),u([f()],ze.prototype,"id",void 0),u([f({readOnly:!0})],ze.prototype,"isLayer",null),u([f()],ze.prototype,"itemControl",void 0),u([f({readOnly:!0})],ze.prototype,"itemUrl",null),u([f()],ze.prototype,"licenseInfo",void 0),u([f({type:Date})],ze.prototype,"modified",void 0),u([f()],ze.prototype,"name",void 0),u([f()],ze.prototype,"numComments",void 0),u([f()],ze.prototype,"numRatings",void 0),u([f()],ze.prototype,"numViews",void 0),u([f()],ze.prototype,"owner",void 0),u([f()],ze.prototype,"ownerFolder",void 0),u([f({type:ai})],ze.prototype,"portal",void 0),u([f()],ze.prototype,"screenshots",void 0),u([f()],ze.prototype,"size",void 0),u([f()],ze.prototype,"snippet",void 0),u([f()],ze.prototype,"sourceJSON",void 0),u([f({type:String})],ze.prototype,"spatialReference",void 0),u([f()],ze.prototype,"tags",void 0),u([f()],ze.prototype,"thumbnail",void 0),u([f({readOnly:!0})],ze.prototype,"thumbnailUrl",null),u([f()],ze.prototype,"title",void 0),u([f()],ze.prototype,"type",void 0),u([f()],ze.prototype,"typeKeywords",void 0),u([f({type:String,json:{read(e,t){var i;if(t.type!=="KML")return e;const r=(i=this.portal)==null?void 0:i.restUrl;return e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null),e}}})],ze.prototype,"url",void 0),u([f({readOnly:!0})],ze.prototype,"userItemUrl",null),ze=Ih=u([E("esri.portal.PortalItem")],ze);const h4=ze,BG=Object.freeze(Object.defineProperty({__proto__:null,default:h4},Symbol.toStringTag,{value:"Module"})),MP=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,zle={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function IP(e){var t;return(t=zle[e])!=null?t:!1}const kg=[],tm=new Map;function $P(e){for(const t of tm.keys())UG(e.pattern,t)&&tm.delete(t)}function Ble(e){return kg.includes(e)||($P(e),kg.unshift(e)),{remove(){const t=kg.indexOf(e);t>-1&&(kg.splice(t,1),$P(e))}}}async function bE(e){const t=gs();tm.has(e)||tm.set(e,Gle(e,t));const r=tm.get(e);return await qle.add(r),r}function Ule(e){if(!MP.test(e))return null;const[,t,r]=MP.exec(e),i=t+(r?"-"+r.toUpperCase():"");return IP(i)?i:IP(t)?t:null}async function Gle(e,t){const r=[];for(const i of kg)if(UG(i.pattern,e))try{return await i.fetchMessageBundle(e,t)}catch(n){r.push(n)}throw r.length?new R("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new R("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function UG(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}yE(()=>{tm.clear()});const qle=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=yc())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function Hle(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e,r=await bE("esri/t9n/basemaps");return r[e]||r[t]}const N1={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return Qe("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return Qe("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Qe("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Qe("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return Qe("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Qe("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return Qe("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Qe("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Qe("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Qe("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Qe("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Qe("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Qe("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Qe("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Qe("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Qe("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};function TP(e){const t=e==null?void 0:e.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function Wle(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}function vE(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function nLe(e){var t;return(e==null?void 0:e.type)==="feature"&&((t=e.source)==null?void 0:t.type)==="feature-layer"}function Jle(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const r=e.activeLayer.tileMatrixSets;if(r)return r}return null}const Zle=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),Qle=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","route","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function Yle(e){return e.layerContainerType==="basemap"?Zle:e.layerContainerType==="operational-layers"?Qle:null}function Kle(e,t){if(t.restrictedWebMapWriting){const r=Yle(t);return!C(r)||r.has(e.type)&&!vE(e)}return!0}function Xle(e,t){if(vE(e)){const r=iy("featureCollection.layers",t),i=r&&r[0]&&r[0].layerDefinition;i&&X8(e,i)}else e.type==="stream"?X8(e,t.layerDefinition=t.layerDefinition||{}):e.type!=="group"&&X8(e,t)}function X8(e,t){"maxScale"in e&&(t.maxScale=c4(e.maxScale)),"minScale"in e&&(t.minScale=c4(e.minScale))}function ece(e,t){if(Xle(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=c4(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts")if(vE(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function CP(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new R("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(Kle(e,r)){const i={};return e.write(i,r)?i:null}return C(t)&&ece(e,t=D(t)),t}var a5;let tce=0;const e7=ae.getLogger("esri.Basemap");let Fs=a5=class extends T2(jn){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+tce++,this.baseLayers=new Se,this.referenceLayers=new Se;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type==="elevation"&&e7.error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=i=>{i.parent=null};this.baseLayers.on("after-add",i=>t(i.item)),this.referenceLayers.on("after-add",i=>t(i.item)),this.baseLayers.on("after-remove",i=>r(i.item)),this.referenceLayers.on("after-remove",i=>r(i.item))}initialize(){this.when().catch(e=>{e7.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var r;const e=this.baseLayers.removeAll();for(const i of e)i.destroy();const t=this.referenceLayers.removeAll();for(const i of t)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),(r=this.portalItem)==null||r.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Mp(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const i=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(n=>{const s=CP(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);C(s)&&i.push(s)}),this.referenceLayers.forEach(n=>{const s=CP(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);C(s)&&(s.isReference=!0,i.push(s))})),t.baseMapLayers=i}set referenceLayers(e){this._set("referenceLayers",Mp(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return hG(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new a5({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const i=D(r);return i.url&&el(i.url)&&(i.url=`https:${i.url}`),i.templateUrl&&el(i.templateUrl)&&(i.templateUrl=`https:${i.templateUrl}`),i})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r}=this;Ge(e);const i=[];if(t){const n=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,n,e)),t.data.id&&!t.data.title){const s=t.data.id;i.push(Hle(s).then(a=>{a&&this.read({title:a},t.context)}))}}else r&&i.push(this._loadFromItem(r,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){const i=this.resourceInfo&&this.resourceInfo.context,n=this.portalItem&&this.portalItem.portal||i&&i.portal||null,s=i&&i.origin==="web-scene"?"web-scene":"web-map",{populateOperationalLayers:a}=await Y(()=>import("./layersCreator.53568ffe.js"),["layersCreator.53568ffe.js","lazyLayerLoader.d60fff42.js","portalLayers.6ce1dcb7.js","layersLoader.e71b579c.js","jsonContext.3563f828.js","portalItemUtils.f3eef975.js"],import.meta.url),o=[];if(Ge(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const l={context:{origin:s,url:t,portal:n,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},c=a(this.baseLayers,e.baseMapLayers.filter(p=>!p.isReference),l);o.push(c);const d=a(this.referenceLayers,e.baseMapLayers.filter(p=>p.isReference),l);o.push(d)}await Kt(o)}async _loadFromItem(e,t){const r=await e.load(t),i=await r.fetchData("json",t),n=jt(e.itemUrl);return this._set("resourceInfo",{data:i.baseMap,context:{origin:"web-map",portal:e.portal||ai.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||ai.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}static fromId(e){const t=N1[e];if(t){if(t.deprecated){let r=null;e==="dark-gray"?r="dark-gray-vector":e==="gray"?r="gray-vector":e==="streets"?r="streets-vector":e==="topo"&&(r="topo-vector"),CU(e7,`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:r,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return a5.fromJSON(t)}return null}};u([f({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,i){this._writeBaseLayers(e,t,i)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Se}},writer(e,t,r,i){this._writeBaseLayers(e,t,i)}}}}}})],Fs.prototype,"baseLayers",null),u([f({type:String,json:{origins:{"web-scene":{write:!0}}}})],Fs.prototype,"id",void 0),u([f({type:h4})],Fs.prototype,"portalItem",void 0),u([f()],Fs.prototype,"referenceLayers",null),u([f({readOnly:!0})],Fs.prototype,"resourceInfo",void 0),u([f({type:Ce})],Fs.prototype,"spatialReference",void 0),u([f()],Fs.prototype,"thumbnailUrl",void 0),u([f({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Fs.prototype,"title",void 0),u([ce("title")],Fs.prototype,"writeTitle",null),Fs=a5=u([E("esri.Basemap")],Fs);const Yo=Fs,rce=Object.freeze(Object.defineProperty({__proto__:null,default:Yo},Symbol.toStringTag,{value:"Module"})),m4={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function GG(e){return m4[e]||m4[e.toLowerCase()]}function wE(e){var t;return(t=m4[e])!=null?t:m4[e.toLowerCase()]}function ice(e){return[...wE(e)]}function t7(e,t,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?e+(t-e)*i:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function qG(e,t,r,i=1){const n=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,a=2*r-s;return[Math.round(255*t7(a,s,n+1/3)),Math.round(255*t7(a,s,n)),Math.round(255*t7(a,s,n-1/3)),i]}function nce(e){const t=e.length>5,r=t?8:4,i=(1<<r)-1,n=t?1:17,s=t?e.length===9:e.length===5;let a=Number("0x"+e.substr(1));if(isNaN(a))return null;const o=[0,0,0,1];let l;return s&&(l=a&i,a>>=r,o[3]=n*l/255),l=a&i,a>>=r,o[2]=n*l,l=a&i,a>>=r,o[1]=n*l,l=a&i,a>>=r,o[0]=n*l,o}function Bn(){return[0,0,0]}function sce(e){return[e[0],e[1],e[2]]}function uy(e,t,r){return[e,t,r]}function ace(e){const t=Bn(),r=Math.min(3,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function oce(e,t){return new Float64Array(e,t,3)}function HG(){return Bn()}function WG(){return uy(1,1,1)}function JG(){return uy(1,0,0)}function ZG(){return uy(0,1,0)}function QG(){return uy(0,0,1)}const lce=HG(),YG=WG(),cce=JG(),uce=ZG(),dce=QG();Object.freeze(Object.defineProperty({__proto__:null,create:Bn,clone:sce,fromValues:uy,fromArray:ace,createView:oce,zeros:HG,ones:WG,unitX:JG,unitY:ZG,unitZ:QG,ZEROS:lce,ONES:YG,UNIT_X:cce,UNIT_Y:uce,UNIT_Z:dce},Symbol.toStringTag,{value:"Module"}));const Oe=1e-6,Vu=Math.random,fce=Math.PI/180,pce=180/Math.PI;function _E(e){return e*fce}function hce(e){return e*pce}function mce(e,t){return Math.abs(e-t)<=Oe*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,EPSILON:Oe,RANDOM:Vu,toRadian:_E,toDegree:hce,equals:mce},Symbol.toStringTag,{value:"Module"}));function SE(e){const t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function y4(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function KG(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function XG(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Bb(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function eq(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function tq(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function yce(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function gce(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function bce(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function vce(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function wce(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function _ce(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function Sce(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function xE(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function xce(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e}function rq(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}function iq(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n}function nq(e){const t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function Mce(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Ice(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function hx(e,t){const r=t[0],i=t[1],n=t[2];let s=r*r+i*i+n*n;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function g4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function $ce(e,t,r){const i=t[0],n=t[1],s=t[2],a=r[0],o=r[1],l=r[2];return e[0]=n*l-s*o,e[1]=s*a-i*l,e[2]=i*o-n*a,e}function Tce(e,t,r,i){const n=t[0],s=t[1],a=t[2];return e[0]=n+i*(r[0]-n),e[1]=s+i*(r[1]-s),e[2]=a+i*(r[2]-a),e}function Cce(e,t,r,i,n,s){const a=s*s,o=a*(2*s-3)+1,l=a*(s-2)+s,c=a*(s-1),d=a*(3-2*s);return e[0]=t[0]*o+r[0]*l+i[0]*c+n[0]*d,e[1]=t[1]*o+r[1]*l+i[1]*c+n[1]*d,e[2]=t[2]*o+r[2]*l+i[2]*c+n[2]*d,e}function Ece(e,t,r,i,n,s){const a=1-s,o=a*a,l=s*s,c=o*a,d=3*s*o,p=3*l*a,h=l*s;return e[0]=t[0]*c+r[0]*d+i[0]*p+n[0]*h,e[1]=t[1]*c+r[1]*d+i[1]*p+n[1]*h,e[2]=t[2]*c+r[2]*d+i[2]*p+n[2]*h,e}function kce(e,t){t=t||1;const r=2*Vu()*Math.PI,i=2*Vu()-1,n=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(r)*n,e[1]=Math.sin(r)*n,e[2]=i*t,e}function Ace(e,t,r){const i=t[0],n=t[1],s=t[2];return e[0]=r[0]*i+r[4]*n+r[8]*s+r[12],e[1]=r[1]*i+r[5]*n+r[9]*s+r[13],e[2]=r[2]*i+r[6]*n+r[10]*s+r[14],e}function Lce(e,t,r){const i=t[0],n=t[1],s=t[2];return e[0]=i*r[0]+n*r[3]+s*r[6],e[1]=i*r[1]+n*r[4]+s*r[7],e[2]=i*r[2]+n*r[5]+s*r[8],e}function Rce(e,t,r){const i=r[0],n=r[1],s=r[2],a=r[3],o=t[0],l=t[1],c=t[2];let d=n*c-s*l,p=s*o-i*c,h=i*l-n*o,m=n*h-s*p,g=s*d-i*h,b=i*p-n*d;const w=2*a;return d*=w,p*=w,h*=w,m*=2,g*=2,b*=2,e[0]=o+d+m,e[1]=l+p+g,e[2]=c+h+b,e}function Pce(e,t,r,i){const n=[],s=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],s[0]=n[0],s[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),s[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function Oce(e,t,r,i){const n=[],s=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],s[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),s[1]=n[1],s[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function Fce(e,t,r,i){const n=[],s=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],s[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),s[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),s[2]=n[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function Dce(e,t){y4(k3,e),y4(A3,t),hx(k3,k3),hx(A3,A3);const r=g4(k3,A3);return r>1?0:r<-1?Math.PI:Math.acos(r)}const k3=Bn(),A3=Bn();function Nce(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function jce(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Vce(e,t){if(e===t)return!0;const r=e[0],i=e[1],n=e[2],s=t[0],a=t[1],o=t[2];return Math.abs(r-s)<=Oe*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-a)<=Oe*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-o)<=Oe*Math.max(1,Math.abs(n),Math.abs(o))}function zce(e,t,r){const i=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2];let a=i*i+n*n+s*s;return a>0?(a=1/Math.sqrt(a),e[0]=i*a,e[1]=n*a,e[2]=s*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const Bce=Bb,Uce=eq,Gce=tq,qce=rq,Hce=iq,Wce=SE,Jce=nq;Object.freeze(Object.defineProperty({__proto__:null,length:SE,copy:y4,set:KG,add:XG,subtract:Bb,multiply:eq,divide:tq,ceil:yce,floor:gce,abs:bce,sign:vce,min:wce,max:_ce,round:Sce,scale:xE,scaleAndAdd:xce,distance:rq,squaredDistance:iq,squaredLength:nq,negate:Mce,inverse:Ice,normalize:hx,dot:g4,cross:$ce,lerp:Tce,hermite:Cce,bezier:Ece,random:kce,transformMat4:Ace,transformMat3:Lce,transformQuat:Rce,rotateX:Pce,rotateY:Oce,rotateZ:Fce,angle:Dce,str:Nce,exactEquals:jce,equals:Vce,direction:zce,sub:Bce,mul:Uce,div:Gce,dist:qce,sqrDist:Hce,len:Wce,sqrLen:Jce},Symbol.toStringTag,{value:"Module"}));function Zce(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Qce(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function Yce(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function sq(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function aq(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function oq(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function Kce(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Xce(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function eue(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function tue(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function rue(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function iue(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function nue(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}function lq(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+i*i+n*n+s*s)}function cq(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],s=t[3]-e[3];return r*r+i*i+n*n+s*s}function uq(e){const t=e[0],r=e[1],i=e[2],n=e[3];return Math.sqrt(t*t+r*r+i*i+n*n)}function dq(e){const t=e[0],r=e[1],i=e[2],n=e[3];return t*t+r*r+i*i+n*n}function sue(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function aue(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function oue(e,t){const r=t[0],i=t[1],n=t[2],s=t[3];let a=r*r+i*i+n*n+s*s;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=i*a,e[2]=n*a,e[3]=s*a),e}function lue(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function fq(e,t,r,i){const n=t[0],s=t[1],a=t[2],o=t[3];return e[0]=n+i*(r[0]-n),e[1]=s+i*(r[1]-s),e[2]=a+i*(r[2]-a),e[3]=o+i*(r[3]-o),e}function cue(e,t){let r,i,n,s,a,o;t=t||1;do r=2*Vu()-1,i=2*Vu()-1,a=r*r+i*i;while(a>=1);do n=2*Vu()-1,s=2*Vu()-1,o=n*n+s*s;while(o>=1);const l=Math.sqrt((1-a)/o);return e[0]=t*r,e[1]=t*i,e[2]=t*n*l,e[3]=t*s*l,e}function uue(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3];return e[0]=r[0]*i+r[4]*n+r[8]*s+r[12]*a,e[1]=r[1]*i+r[5]*n+r[9]*s+r[13]*a,e[2]=r[2]*i+r[6]*n+r[10]*s+r[14]*a,e[3]=r[3]*i+r[7]*n+r[11]*s+r[15]*a,e}function due(e,t,r){const i=t[0],n=t[1],s=t[2],a=r[0],o=r[1],l=r[2],c=r[3],d=c*i+o*s-l*n,p=c*n+l*i-a*s,h=c*s+a*n-o*i,m=-a*i-o*n-l*s;return e[0]=d*c+m*-a+p*-l-h*-o,e[1]=p*c+m*-o+h*-a-d*-l,e[2]=h*c+m*-l+d*-o-p*-a,e[3]=t[3],e}function fue(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function pue(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function hue(e,t){const r=e[0],i=e[1],n=e[2],s=e[3],a=t[0],o=t[1],l=t[2],c=t[3];return Math.abs(r-a)<=Oe*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-o)<=Oe*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-l)<=Oe*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(s-c)<=Oe*Math.max(1,Math.abs(s),Math.abs(c))}const mue=sq,yue=aq,gue=oq,bue=lq,vue=cq,wue=uq,_ue=dq;Object.freeze(Object.defineProperty({__proto__:null,copy:Zce,set:Qce,add:Yce,subtract:sq,multiply:aq,divide:oq,ceil:Kce,floor:Xce,min:eue,max:tue,round:rue,scale:iue,scaleAndAdd:nue,distance:lq,squaredDistance:cq,length:uq,squaredLength:dq,negate:sue,inverse:aue,normalize:oue,dot:lue,lerp:fq,random:cue,transformMat4:uue,transformQuat:due,str:fue,exactEquals:pue,equals:hue,sub:mue,mul:yue,div:gue,dist:bue,sqrDist:vue,len:wue,sqrLen:_ue},Symbol.toStringTag,{value:"Module"}));const EP=new Float32Array(1);function sLe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function zn(e,t,r){return Math.min(Math.max(e,t),r)}function aLe(e){return(e&e-1)==0}function oLe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function lLe(e,t,r){return e+(t-e)*r}function k0(e){return e*Math.PI/180}function pq(e){return 180*e/Math.PI}function cLe(e){return Math.acos(zn(e,-1,1))}function hq(e){return Math.asin(zn(e,-1,1))}function Sue(e,t,r=1e-6){if(isNaN(e)||isNaN(t))return!1;if(e===t)return!0;const i=Math.abs(e-t),n=Math.abs(e),s=Math.abs(t);if(e===0||t===0||n<1e-12&&s<1e-12){if(i>.01*r)return!1}else if(i/(n+s)>r)return!1;return!0}function rm(e,t,r=1e-6){return isNaN(e)||isNaN(t)?!1:(e>t?e-t:t-e)<=r}function xue(e){return mq(Math.max(-mx,Math.min(e,mx)))}function mq(e){return EP[0]=e,EP[0]}function uLe(e,t){const r=SE(e),i=hq(e[2]/r),n=Math.atan2(e[1]/r,e[0]/r);return KG(t,r,i,n),t}function dLe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],i=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(rm(t,1)&&rm(r,1)&&rm(i,1))}const mx=mq(34028234663852886e22);function L3(e){return zn(KC(e),0,255)}function R3(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}class br{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,r,i,n=new br){return n.r=Math.round(t.r+(r.r-t.r)*i),n.g=Math.round(t.g+(r.g-t.g)*i),n.b=Math.round(t.b+(r.b-t.b)*i),n.a=t.a+(r.a-t.a)*i,n._sanitize()}static fromRgb(t,r){const i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(i){const n=i[2].split(/\s*,\s*/),s=i[1];if(s==="rgb"&&n.length===3||s==="rgba"&&n.length===4){const a=n[0];if(a.charAt(a.length-1)==="%"){const o=n.map(l=>2.56*parseFloat(l));return n.length===4&&(o[3]=parseFloat(n[3])),br.fromArray(o,r)}return br.fromArray(n.map(o=>parseFloat(o)),r)}if(s==="hsl"&&n.length===3||s==="hsla"&&n.length===4)return br.fromArray(qG(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])),r)}return null}static fromHex(t,r=new br){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const i=t.length===4?4:8,n=(1<<i)-1;let s=Number("0x"+t.substr(1));return isNaN(s)?null:(["b","g","r"].forEach(a=>{const o=s&n;s>>=i,r[a]=i===4?17*o:o}),r.a=1,r)}static fromArray(t,r=new br){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const i=GG(t)?wE(t):null;return i&&br.fromArray(i,r)||br.fromRgb(t,r)||br.fromHex(t,r)}static fromJSON(t){return t&&new br([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return C(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return C(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){var r,i,n,s;return typeof t=="string"?br.fromString(t,this):Array.isArray(t)?br.fromArray(t,this):(this._set((r=t.r)!=null?r:0,(i=t.g)!=null?i:0,(n=t.b)!=null?n:0,(s=t.a)!=null?s:1),t instanceof br||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),i=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${i.length<2?"0"+i:i}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=br.AlphaMode.ALWAYS){const r=L3(this.r),i=L3(this.g),n=L3(this.b);return t===br.AlphaMode.ALWAYS||this.a!==1?[r,i,n,L3(255*this.a)]:[r,i,n]}clone(){return new br(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return C(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(R3(this.r,0,255)),this.g=Math.round(R3(this.g,0,255)),this.b=Math.round(R3(this.b,0,255)),this.a=R3(this.a,0,1),this}_set(t,r,i,n){this.r=t,this.g=r,this.b=i,this.a=n}}br.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(br||(br={}));const re=br;function fLe(e){}function Mue(e){return()=>e}function ge(e,t={}){var n;const r=e instanceof Le?e:new Le(e,t),i={type:(n=t==null?void 0:t.ignoreUnknown)==null||n?r.apiValues:String,json:{type:r.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(i.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(i.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(i.json.name=t.name),f(i)}var yx;let o5=yx=class extends Z{constructor(e){super(e),this.type="none"}clone(){return new yx({type:this.type})}};u([ge({none:"none",stayAbove:"stay-above"})],o5.prototype,"type",void 0),o5=yx=u([E("esri.ground.NavigationConstraint")],o5);function nw(e){const t=KC(100*(1-e));return Math.max(0,Math.min(t,100))}function j1(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var gx;const kP=ae.getLogger("esri.Ground");let Ml=gx=class extends T2(jn){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Se;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type!=="elevation"&&i.type!=="base-elevation"&&kP.error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=i=>{i.parent=null};this.layers.on("after-add",i=>t(i.item)),this.layers.on("after-remove",i=>r(i.item))}initialize(){this.when().catch(e=>{kP.error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",Mp(e,this._get("layers")))}writeLayers(e,t,r,i){const n=[];e&&(i={...i,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const a={};Mue(s)().write(a,i)&&n.push(a)}else i&&i.messages&&i.messages.push(new R("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=n}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return hG(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await Y(()=>import("./ElevationQuery.ebfa8727.js"),[],import.meta.url);Ge(t);const i=new r,n=this.layers.filter(AP).toArray();return i.queryAll(n,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await Y(()=>import("./ElevationQuery.ebfa8727.js"),[],import.meta.url);Ge(t);const i=new r,n=this.layers.filter(AP).toArray();return i.createSamplerAll(n,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:D(this.surfaceColor),navigationConstraint:D(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new gx({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}_loadLayersFromJSON(e,t,r){const i=t&&t.origin||"web-scene",n=t&&t.portal||null,s=t&&t.url||null;return Y(()=>import("./layersCreator.53568ffe.js"),["layersCreator.53568ffe.js","lazyLayerLoader.d60fff42.js","portalLayers.6ce1dcb7.js","layersLoader.e71b579c.js","jsonContext.3563f828.js","portalItemUtils.f3eef975.js"],import.meta.url).then(({populateOperationalLayers:a})=>{Ge(r);const o=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:i,url:s,portal:n,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};o.push(a(this.layers,e.layers,l))}return Kt(o)}).then(()=>{})}};function Iue(e){return e&&"createElevationSampler"in e}function AP(e){return e.type==="elevation"||Iue(e)}u([f({json:{read:!1}})],Ml.prototype,"layers",null),u([ce("layers")],Ml.prototype,"writeLayers",null),u([f({readOnly:!0})],Ml.prototype,"resourceInfo",void 0),u([f({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Xe,read:{reader:j1,source:"transparency"},write:{writer:(e,t)=>{t.transparency=nw(e)},target:"transparency"}}})],Ml.prototype,"opacity",void 0),u([f({type:re,json:{type:[Xe],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Ml.prototype,"surfaceColor",void 0),u([f({type:o5,json:{write:!0}})],Ml.prototype,"navigationConstraint",void 0),Ml=gx=u([E("esri.Ground")],Ml);const b4=Ml;let l5=class extends ye{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!Se.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||Se.isCollection(e)?e.forEach(i=>this._isHandle(i)&&r.push(i)):r.push(e),this.notifyChange("size"),this}forEach(e,t){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||Se.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};u([f({readOnly:!0})],l5.prototype,"size",null),l5=u([E("esri.core.Handles")],l5);const hr=l5;function ee(e,t,r={}){return ME(e,t,r,yq)}function Gi(e,t,r={}){return ME(e,t,r,gq)}function ME(e,t,r={},i){let n=null;const s=r.once?(a,o)=>{i(a)&&(On(n),t(a,o))}:(a,o)=>{i(a)&&t(a,o)};if(n=dae(e,s,r.sync,r.equals),r.initial){const a=e();s(a,a)}return n}function Fn(e,t,r,i={}){let n=null,s=null,a=null;function o(){var d;n&&s&&(s.remove(),(d=i.onListenerRemove)==null||d.call(i,n),n=null,s=null)}function l(d){i.once&&i.once&&On(a),r(d)}const c=ee(e,(d,p)=>{var h;o(),H6(d)&&(n=d,s=W6(d,t,l),(h=i.onListenerAdd)==null||h.call(i,d))},{sync:i.sync,initial:!0});return a=ry(()=>{c.remove(),o()}),a}function Xa(e,t){return $ue(e,gq,t)}function $ue(e,t,r){if(la(r))return Promise.reject(Nt());const i=e();if(t!=null&&t(i))return Promise.resolve(i);let n=null;function s(){n=On(n)}return new Promise((a,o)=>{n=U6([ca(r,()=>{s(),o(Nt())}),ME(e,l=>{s(),a(l)},{sync:!1,once:!0},t!=null?t:yq)])})}function yq(e){return!0}function gq(e){return!!e}function Tue(e,t,r={}){let i=!1;const n=ee(e,(s,a)=>{i||t(s,a)},r);return{remove(){n.remove()},pause(){i=!0},resume(){i=!1}}}const Cm={sync:!0},Ke={initial:!0},Gd={sync:!0,initial:!0};let im=class extends ye{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new hr,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r={}){return this._installWatch(e,t,r,ee)}addWhen(e,t,r={}){return this._installWatch(e,t,r,Gi)}addOnCollectionChange(e,t,{initial:r=!1,final:i=!1}={}){const n=++this.handleId;return this.handles.add([Fn(e,"after-changes",this._createSyncUpdatingCallback(),Cm),Fn(e,"change",t,{onListenerAdd:r?s=>t({added:s.toArray(),removed:[]}):void 0,onListenerRemove:i?s=>t({added:[],removed:s.toArray()}):void 0})],n),{remove:()=>this.handles.remove(n)}}addPromise(e){if(B(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(this.pendingPromises.size!==0||this.handles.has(P3)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,r={},i){const n=++this.handleId;r.sync||this._installSyncUpdatingWatch(e,n);const s=i(e,t,r);return this.handles.add(s,n),{remove:()=>this.handles.remove(n)}}_installSyncUpdatingWatch(e,t){const r=this._createSyncUpdatingCallback(),i=ee(e,r,{sync:!0,equals:()=>!1});return this.handles.add(i,t),i}_createSyncUpdatingCallback(){return()=>{this.handles.remove(P3),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(sy(()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(P3))}),P3)}}};u([f({readOnly:!0})],im.prototype,"updating",void 0),im=u([E("esri.core.support.WatchUpdatingTracking")],im);const P3=-42;var LP;(function(e){e[e.NONE=0]="NONE",e[e.SYNC=1]="SYNC",e[e.INIT=2]="INIT"})(LP||(LP={}));const ll=e=>{let t=class extends e{destroy(){var r,i;this.destroyed||((r=this._get("handles"))==null||r.destroy(),(i=this._get("updatingHandles"))==null||i.destroy())}get handles(){return this._get("handles")||new hr}get updatingHandles(){return this._get("updatingHandles")||new im}};return u([f({readOnly:!0})],t.prototype,"handles",null),u([f({readOnly:!0})],t.prototype,"updatingHandles",null),t=u([E("esri.core.HandleOwner")],t),t};let V1=class extends ll(ye){};V1=u([E("esri.core.HandleOwner")],V1);let $h=class extends ll(Se){constructor(e){super(e),this.getCollections=null}initialize(){this.handles.add(jU(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const e=C(this.getCollections)?this.getCollections():null;if(B(e))return void this.removeAll();let t=0;for(const r of e)C(r)&&(t=this._processCollection(t,r));this.splice(t,this.length)}_createNewInstance(e){return new Se(e)}_processCollection(e,t){if(!t)return e;const r=this.itemFilterFunction?this.itemFilterFunction:i=>!!i;for(const i of t)if(i){if(r(i)){const n=this.indexOf(i,e);n>=0?n!==e&&this.reorder(i,e):this.add(i,e),++e}if(this.getChildrenFunction){const n=this.getChildrenFunction(i);if(Array.isArray(n))for(const s of n)e=this._processCollection(e,s);else e=this._processCollection(e,n)}}return e}};u([f()],$h.prototype,"getCollections",void 0),u([f()],$h.prototype,"getChildrenFunction",void 0),u([f()],$h.prototype,"itemFilterFunction",void 0),$h=u([E("esri.core.CollectionFlattener")],$h);const Em=$h;function Cue(e){var t;return!!(e&&e.loaded&&"capabilities"in e&&((t=e==null?void 0:e.capabilities)==null?void 0:t.operations)&&"supportsEditing"in e.capabilities.operations&&e.capabilities.operations.supportsEditing===!0)&&!("editingEnabled"in e&&!e.editingEnabled)}const RP=ae.getLogger("esri.support.basemapUtils");function Eue(){return{}}function kue(e){for(const t in e){const r=e[t];(r==null?void 0:r.destroyed)===!1&&r.destroy(),delete e[t]}}function Aue(e,t){let r;if(typeof e=="string"){if(!(e in N1)){const i=Object.entries(N1).filter(([n,s])=>rt.apiKey&&!s.classic||!rt.apiKey&&s.classic&&!s.deprecated).map(([n])=>`"${n}"`).join(", ");return RP.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${i}`),null}t&&(r=t[e]),r||(r=Yo.fromId(e),t&&(t[e]=r))}else r=_r(Yo,e);return r!=null&&r.destroyed&&(RP.warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function Lue(e){let t=null;const r=bx(e),i=!r.baseLayers.length;for(const n in N1){const s=vq(r,bq(N1[n]),{mustMatchReferences:i});if(s==="equal"){t=n;break}s==="base-layers-equal"&&(t=n)}return t}function Rue(e,t){return e===t?!0:vq(bx(e),bx(t),{mustMatchReferences:!0})==="equal"}function Pue(e,t){var n,s,a;if(B(t)||B(e))return{spatialReference:null,updating:!1};if(t.loadStatus==="not-loaded")return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(t.baseLayers.length===0)return{spatialReference:null,updating:!1};const r=t.baseLayers.getItemAt(0);switch(r.loadStatus){case"not-loaded":r.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const i=(("supportedSpatialReferences"in r?r.supportedSpatialReferences:null)||["tileInfo"in r?(n=r.tileInfo)==null?void 0:n.spatialReference:r.spatialReference]).filter(Boolean);return e.spatialReference?{spatialReference:(a=(s=i.find(o=>e.spatialReference.equals(o)))!=null?s:i[0])!=null?a:null,updating:!1}:{spatialReference:i[0],updating:!1}}function bx(e){return e?!e.loaded&&e.resourceInfo?bq(e.resourceInfo.data):{baseLayers:PP(e.baseLayers),referenceLayers:PP(e.referenceLayers)}:null}function PP(e){return(Se.isCollection(e)?e.toArray():e).map(Oue)}function Oue(e){var t,r;return{type:e.type,url:wq("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&e.minScale!=null?e.minScale:0,maxScale:"maxScale"in e&&e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visible==null||!!e.visible,sublayers:e.type!=="map-image"&&e.type!=="wms"||!C(e.sublayers)||(t=e.sublayers)==null?void 0:t.map(i=>({id:i.id,visible:i.visible})),activeLayerId:e.type==="wmts"?(r=e.activeLayer)==null?void 0:r.id:void 0}}function bq(e){return e?{baseLayers:OP(e.baseMapLayers.filter(t=>!t.isReference)),referenceLayers:OP(e.baseMapLayers.filter(t=>t.isReference))}:null}function OP(e){return e.map(t=>Fue(t))}function Fue(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:wq(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale!=null?e.minScale:0,maxScale:e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visibility==null||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function vq(e,t,r){return e!=null!=(t!=null)?"not-equal":e?FP(e.baseLayers,t.baseLayers)?FP(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function FP(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Due(e[r],t[r]))return!1;return!0}function Due(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity)return!1;if(C(e.activeLayerId)||C(t.activeLayerId))return e.activeLayerId===t.activeLayerId;if(C(e.sublayers)||C(t.sublayers)){if(B(e.sublayers)||B(t.sublayers)||e.sublayers.length!==t.sublayers.length)return!1;for(let r=0;r<e.sublayers.length;r++){const i=e.sublayers.at(r),n=t.sublayers.at(r);if(i.id!==n.id||i.visible!==n.visible)return!1}}return!0}function wq(e){return e?na(e).replace(/^\s*https?:/i,"").toLowerCase():""}function Nue(e){return new Em({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return r&&"tables"in r&&r.tables.includes(t)}})}const jue=ae.getLogger("esri.support.groundUtils"),DP={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function Vue(e){let t=null;if(typeof e=="string")if(e in DP){const r=DP[e];t=new b4({resourceInfo:{data:{layers:[r]}}})}else jue.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=_r(b4,e);return t}function km(e,t,r=!1){let{hasM:i,hasZ:n}=e;Array.isArray(t)?t.length!==4||i||n?t.length===3&&r&&!i?(n=!0,i=!1):t.length===3&&i&&n&&(i=!1,n=!1):(i=!0,n=!0):(n=!n&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=i}var vx;function NP(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function zue(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Hc=vx=class extends Vn{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):zue(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const i=r.points&&r.points[0];return i&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=i.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=i.length>3:r.hasM===void 0&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Ve,r=this.hasZ,i=this.hasM,n=r?3:2,s=e[0],a=NP(Math.min),o=NP(Math.max);let l,c,d,p,[h,m]=s,[g,b]=s;for(let w=0,v=e.length;w<v;w++){const _=e[w],[S,x]=_;if(h=a(h,S),m=a(m,x),g=o(g,S),b=o(b,x),r&&_.length>2){const M=_[2];l=a(l,M),d=o(d,M)}if(i&&_.length>n){const M=_[n];c=a(c,M),p=o(p,M)}}return t.xmin=h,t.ymin=m,t.xmax=g,t.ymax=b,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=d):(t.zmin=null,t.zmax=null),i?(t.mmin=c,t.mmax=p):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=D(this.points)}addPoint(e){return km(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:D(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new vx(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=t[2],i=3),this.hasM&&(r.m=t[i]),new be(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new be(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(km(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};u([f({readOnly:!0})],Hc.prototype,"cache",null),u([f()],Hc.prototype,"extent",null),u([f({type:[[Number]],json:{write:{isRequired:!0}}})],Hc.prototype,"points",void 0),u([ce("points")],Hc.prototype,"writePoints",null),Hc=vx=u([E("esri.geometry.Multipoint")],Hc),Hc.prototype.toJSON.isDefaultToJSON=!0;const Bp=Hc;function IE(e,t){const r=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}return Math.sqrt(r*r+i*i)}function Bue(e,t,r){const i=e[0]+r*(t[0]-e[0]),n=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[i,n,e[2]+r*(t[2]-e[2])]:[i,n]}function Uue(e,t,r,i){const[n,s]=t,[a,o]=r[i],[l,c]=r[i+1],d=l-a,p=c-o,h=d*d+p*p,m=(n-a)*d+(s-o)*p,g=Math.min(1,Math.max(0,m/h));return e[0]=a+d*g,e[1]=o+p*g,e}function Gue(e,t){return Bue(e,t,.5)}function que(e){const t=e.length;let r=0;for(let i=0;i<t-1;++i)r+=IE(e[i],e[i+1]);return r}function $E(e,t,r){const i=e.length;let n=0,s=0,a=0;for(let o=0;o<i;o++){const l=e[o],c=e[(o+1)%i];let d=2;n+=l[0]*c[1]-c[0]*l[1],l.length>2&&c.length>2&&r&&(s+=l[0]*c[2]-c[0]*l[2],d=3),l.length>d&&c.length>d&&t&&(a+=l[0]*c[d]-c[0]*l[d])}return n<=0&&s<=0&&a<=0}function pLe(e){if("rings"in e){for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(e.rings.length>0&&!$E(e.rings[0],e.hasM,e.hasZ))for(let t=0;t<e.rings.length;++t)e.rings[t]=e.rings[t].reverse()}}function hLe(e){if("rings"in e)for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]])}function mLe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Hue(e){return e?Wue(e.rings,e.hasZ):null}function Wue(e,t){if(!e||!e.length)return null;const r=[],i=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,a=e.length;s<a;s++){const o=Jue(e[s],t,n);o&&i.push(o)}if(i.sort((s,a)=>{let o=s[2]-a[2];return o===0&&t&&(o=s[4]-a[4]),o}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){const s=e[0]&&e[0].length?Zue(e[0],t):null;if(!s)return null;r[0]=s[0],r[1]=s[1],t&&s.length>2&&(r[2]=s[2])}return r}function Jue(e,t,r){let i=0,n=0,s=0,a=0,o=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,d=e.length&&t?e[0][2]:0;for(let h=0;h<e.length;h++){const m=e[h],g=e[(h+1)%e.length],[b,w,v]=m,_=b-l,S=w-c,x=t?v-d:void 0,[M,I,$]=g,T=M-l,A=I-c,P=t?$-d:void 0,F=_*A-T*S;if(a+=F,i+=(_+T)*F,n+=(S+A)*F,t&&m.length>2&&g.length>2){const j=_*P-T*x;s+=(x+P)*j,o+=j}b<r[0]&&(r[0]=b),b>r[1]&&(r[1]=b),w<r[2]&&(r[2]=w),w>r[3]&&(r[3]=w),t&&(v<r[4]&&(r[4]=v),v>r[5]&&(r[5]=v))}if(a>0&&(a*=-1),o>0&&(o*=-1),!a)return null;a*=.5,o*=.5;const p=[i/(6*a)+l,n/(6*a)+c,a];return t&&(r[4]===r[5]||o===0?(p[3]=(r[4]+r[5])/2,p[4]=0):(p[3]=s/(6*o)+d,p[4]=o)),p}function Zue(e,t){const r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,s=0,a=0,o=0;for(let l=0,c=e.length;l<c-1;l++){const d=e[l],p=e[l+1];if(d&&p){r[0]=d[0],r[1]=d[1],i[0]=p[0],i[1]=p[1],t&&d.length>2&&p.length>2&&(r[2]=d[2],i[2]=p[2]);const h=IE(r,i);if(h){n+=h;const m=Gue(d,p);s+=h*m[0],a+=h*m[1],t&&m.length>2&&(o+=h*m[2])}}}return n>0?t?[s/n,a/n,o/n]:[s/n,a/n]:e.length?e[0]:null}function _q(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Sq(e){return e.points!==void 0}function xq(e){return e.x!==void 0&&e.y!==void 0}function Mq(e){return e.paths!==void 0}function Iq(e){return e.rings!==void 0}function $q(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}const zu=$q(Math.min),Bu=$q(Math.max);function yLe(e,t){return Mq(t)?Am(e,t.paths,!1,!1):Iq(t)?Am(e,t.rings,!1,!1):Sq(t)?TE(e,t.points,!1,!1,!1,!1):_q(t)?Tq(e,t):(xq(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function gLe(e,t){return Mq(t)?Am(e,t.paths,!0,!1):Iq(t)?Am(e,t.rings,!0,!1):Sq(t)?TE(e,t.points,!0,!1,!0,!1):_q(t)?Tq(e,t,!0,!1,!0,!1):(xq(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Am(e,t,r,i){const n=r?3:2;if(!t.length||!t[0].length)return null;let s,a,o,l,[c,d]=t[0][0],[p,h]=t[0][0];for(let m=0;m<t.length;m++){const g=t[m];for(let b=0;b<g.length;b++){const w=g[b],[v,_]=w;if(c=zu(c,v),d=zu(d,_),p=Bu(p,v),h=Bu(h,_),r&&w.length>2){const S=w[2];s=zu(s,S),a=Bu(a,S)}if(i&&w.length>n){const S=w[n];o=zu(s,S),l=Bu(a,S)}}}return r?i?(e[0]=c,e[1]=d,e[2]=s,e[3]=o,e[4]=p,e[5]=h,e[6]=a,e[7]=l,e.length=8,e):(e[0]=c,e[1]=d,e[2]=s,e[3]=p,e[4]=h,e[5]=a,e.length=6,e):i?(e[0]=c,e[1]=d,e[2]=o,e[3]=p,e[4]=h,e[5]=l,e.length=6,e):(e[0]=c,e[1]=d,e[2]=p,e[3]=h,e.length=4,e)}function Tq(e,t,r,i,n,s){const a=t.xmin,o=t.xmax,l=t.ymin,c=t.ymax;let d=t.zmin,p=t.zmax,h=t.mmin,m=t.mmax;return n?(d=d||0,p=p||0,s?(h=h||0,m=m||0,e[0]=a,e[1]=l,e[2]=d,e[3]=h,e[4]=o,e[5]=c,e[6]=p,e[7]=m,e):(e[0]=a,e[1]=l,e[2]=d,e[3]=o,e[4]=c,e[5]=p,e)):s?(h=h||0,m=m||0,e[0]=a,e[1]=l,e[2]=h,e[3]=o,e[4]=c,e[5]=m,e):(e[0]=a,e[1]=l,e[2]=o,e[3]=c,e)}function TE(e,t,r,i,n,s){const a=r?3:2,o=i&&s,l=r&&n;if(!t.length||!t[0].length)return null;let c,d,p,h,[m,g]=t[0],[b,w]=t[0];for(let v=0;v<t.length;v++){const _=t[v],[S,x]=_;if(m=zu(m,S),g=zu(g,x),b=Bu(b,S),w=Bu(w,x),l&&_.length>2){const M=_[2];c=zu(c,M),d=Bu(d,M)}if(o&&_.length>a){const M=_[a];p=zu(c,M),h=Bu(d,M)}}return n?(c=c||0,d=d||0,s?(p=p||0,h=h||0,e[0]=m,e[1]=g,e[2]=c,e[3]=p,e[4]=b,e[5]=w,e[6]=d,e[7]=h,e):(e[0]=m,e[1]=g,e[2]=c,e[3]=b,e[4]=w,e[5]=d,e)):s?(p=p||0,h=h||0,e[0]=m,e[1]=g,e[2]=p,e[3]=b,e[4]=w,e[5]=h,e):(e[0]=m,e[1]=g,e[2]=b,e[3]=w,e)}function Que(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Yue(e){return e.points!==void 0}function Kue(e){return e.x!==void 0&&e.y!==void 0}function Xue(e){return e.paths!==void 0}function ede(e){return e.rings!==void 0}const CE=[];function Cq(e,t,r,i){return{xmin:e,ymin:t,xmax:r,ymax:i}}function Eq(e,t,r,i,n,s){return{xmin:e,ymin:t,zmin:r,xmax:i,ymax:n,zmax:s}}function kq(e,t,r,i,n,s){return{xmin:e,ymin:t,mmin:r,xmax:i,ymax:n,mmax:s}}function Aq(e,t,r,i,n,s,a,o){return{xmin:e,ymin:t,zmin:r,mmin:i,xmax:n,ymax:s,zmax:a,mmax:o}}function EE(e,t=!1,r=!1){return t?r?Aq(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Eq(e[0],e[1],e[2],e[3],e[4],e[5]):r?kq(e[0],e[1],e[2],e[3],e[4],e[5]):Cq(e[0],e[1],e[2],e[3])}function bLe(e){return e?Que(e)?e:Kue(e)?rde(e):ede(e)?Lq(e):Xue(e)?Rq(e):Yue(e)?tde(e):null:null}function tde(e){const{hasZ:t,hasM:r,points:i}=e;return EE(TE(CE,i,t,r),t,r)}function rde(e){const{x:t,y:r,z:i,m:n}=e,s=n!=null;return i!=null?s?Aq(t,r,i,n,t,r,i,n):Eq(t,r,i,t,r,i):s?kq(t,r,n,t,r,n):Cq(t,r,t,r)}function Lq(e){const{hasZ:t,hasM:r,rings:i}=e,n=Am(CE,i,t,r);return n?EE(n,t,r):null}function Rq(e){const{hasZ:t,hasM:r,paths:i}=e,n=Am(CE,i,t,r);return n?EE(n,t,r):null}var c5;function jP(e){return!Array.isArray(e[0])}let So=c5=class extends Vn{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let i=!1,n=!1;for(const a of t)a.hasZ&&(i=!0),a.hasM&&(n=!0);const s={rings:t.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(i&&a.hasZ){const l=a.zmin+.5*(a.zmax-a.zmin);for(let c=0;c<o.length;c++)o[c].push(l)}if(n&&a.hasM){const l=a.mmin+.5*(a.mmax-a.mmin);for(let c=0;c<o.length;c++)o[c].push(l)}return o}),spatialReference:r};return i&&(s.hasZ=!0),n&&(s.hasM=!0),new c5(s)}normalizeCtorArgs(e,t){let r,i,n=null,s=null;return e&&!Array.isArray(e)?(n=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||Ce.WGS84,n.length&&n[0]&&n[0][0]!=null&&typeof n[0][0]=="number"&&(n=[n]),s=n[0]&&n[0][0],s&&(r===void 0&&i===void 0?(r=s.length>2,i=s.length>3):r===void 0?r=i?s.length>3:s.length>2:i===void 0&&(i=r?s.length>3:s.length>2)),{rings:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Hue(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new be;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Lq(this);if(!t)return null;const r=new Ve(t);return r.spatialReference=e,r}get isSelfIntersecting(){return Ele(this.rings)}writeRings(e,t){t.rings=D(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(jP(e)){const i=[];for(let n=0,s=e.length;n<s;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new c5;return e.spatialReference=this.spatialReference,e.rings=D(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(B(e))return!1;const t=this.spatialReference,r=e.spatialReference;if(C(t)!==C(r)||C(t)&&C(r)&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const i=([n,s,a,o],[l,c,d,p])=>n===l&&s===c&&(a==null&&d==null||a===d)&&(o==null&&p==null||o===p);for(let n=0;n<this.rings.length;n++){const s=this.rings[n],a=e.rings[n];if(!GC(s,a,i))return!1}return!0}contains(e){if(!e)return!1;const t=rw(e,this.spatialReference);return FG(this,C(t)?t:e)}isClockwise(e){let t;return t=jP(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e,$E(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new be(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new be(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new be(r[0],r[1],r[2],r[3],this.spatialReference):new be(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(km(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new be(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new be(n,r));return this.notifyChange("rings"),i}setPoint(e,t,r){return this._validateInputs(e,t)?(km(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const i=this.rings[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([f({readOnly:!0})],So.prototype,"cache",null),u([f({readOnly:!0})],So.prototype,"centroid",null),u([f({readOnly:!0})],So.prototype,"extent",null),u([f({readOnly:!0})],So.prototype,"isSelfIntersecting",null),u([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],So.prototype,"rings",void 0),u([ce("rings")],So.prototype,"writeRings",null),So=c5=u([E("esri.geometry.Polygon")],So),So.prototype.toJSON.isDefaultToJSON=!0;const _s=So;var wx;function ide(e){return!Array.isArray(e[0])}let Wc=wx=class extends Vn{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,i,n=null,s=null;return e&&!Array.isArray(e)?(n=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||Ce.WGS84,n.length&&n[0]&&n[0][0]!=null&&typeof n[0][0]=="number"&&(n=[n]),s=n[0]&&n[0][0],s&&(r===void 0&&i===void 0?(r=s.length>2,i=!1):r===void 0?r=!i&&s.length>3:i===void 0&&(i=!r&&s.length>3)),{paths:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Rq(this);if(!t)return null;const r=new Ve(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=D(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(ide(e)){const i=[];for(let n=0,s=e.length;n<s;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new wx;return e.spatialReference=this.spatialReference,e.paths=D(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new be(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new be(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new be(r[0],r[1],r[2],r[3],this.spatialReference):new be(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(km(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new be(n,r));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new be(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(km(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const i=this.paths[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([f({readOnly:!0})],Wc.prototype,"cache",null),u([f({readOnly:!0})],Wc.prototype,"extent",null),u([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],Wc.prototype,"paths",void 0),u([ce("paths")],Wc.prototype,"writePaths",null),Wc=wx=u([E("esri.geometry.Polyline")],Wc),Wc.prototype.toJSON.isDefaultToJSON=!0;const ps=Wc,kE=ir()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),VP=ir()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function AE(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function sw(e){return e.points!==void 0}function aw(e){return e.x!==void 0&&e.y!==void 0}function ow(e){return e.paths!==void 0}function id(e){return e.rings!==void 0}function tl(e){return B(e)?null:e instanceof Vn?e:aw(e)?be.fromJSON(e):ow(e)?ps.fromJSON(e):id(e)?_s.fromJSON(e):sw(e)?Bp.fromJSON(e):AE(e)?Ve.fromJSON(e):null}function Md(e){return e?aw(e)?"esriGeometryPoint":ow(e)?"esriGeometryPolyline":id(e)?"esriGeometryPolygon":AE(e)?"esriGeometryEnvelope":sw(e)?"esriGeometryMultipoint":null:null}const nde={esriGeometryPoint:be,esriGeometryPolyline:ps,esriGeometryPolygon:_s,esriGeometryEnvelope:Ve,esriGeometryMultipoint:Bp};function sde(e){return e&&nde[e]||null}const xc={base:Vn,key:"type",typeMap:{extent:Ve,multipoint:Bp,point:be,polyline:ps,polygon:_s}};Xo(xc);let ade=0;const LE=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+ade++})}};return t=u([E("esri.core.Identifiable")],t),t};let zP=class extends LE(class{}){};zP=u([E("esri.core.Identifiable")],zP);const ode=ae.getLogger("esri.layers.support.fromPortalItem");async function lde(e){const t="portalItem"in e?e:{portalItem:e},r=await Y(()=>import("./portalLayers.6ce1dcb7.js"),["portalLayers.6ce1dcb7.js","lazyLayerLoader.d60fff42.js","layersLoader.e71b579c.js","jsonContext.3563f828.js","portalItemUtils.f3eef975.js"],import.meta.url);try{return await r.fromItem(t)}catch(i){const n=t&&t.portalItem,s=n&&n.id||"unset",a=n&&n.portal&&n.portal.url||rt.portalUrl;throw ode.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+a+"', id: '"+s+"')",i),i}}let cde=0,zr=class extends Sc.EventedMixin(LE(jn)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Ve(-180,-90,180,90,Ce.WGS84),this.id=Date.now().toString(16)+"-layer-"+cde++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Ce.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e;return(await Y(()=>import("./arcgisLayers.98f9b470.js"),["arcgisLayers.98f9b470.js","lazyLayerLoader.d60fff42.js"],import.meta.url)).fromUrl(t)}static fromPortalItem(e){return lde(e)}initialize(){this.when().catch(e=>{var t,r;zi(e)||ae.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${(t=this.title)!=null?t:"no title"}', id: '${(r=this.id)!=null?r:"no id"}')`,{error:e})})}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){const e=this.url;return e?jt(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await $e(e,{query:{f:"json"},responseType:"json"})).data;throw new R("layer:no-attribution-data","Layer does not have attribution data")}};u([f({type:String})],zr.prototype,"attributionDataUrl",void 0),u([f({type:Ve})],zr.prototype,"fullExtent",void 0),u([f({readOnly:!0})],zr.prototype,"hasAttributionData",null),u([f({type:String,clonable:!1})],zr.prototype,"id",void 0),u([f({type:Boolean,nonNullable:!0})],zr.prototype,"legendEnabled",void 0),u([f({type:["show","hide","hide-children"]})],zr.prototype,"listMode",void 0),u([f({type:Number,range:{min:0,max:1},nonNullable:!0})],zr.prototype,"opacity",void 0),u([f({clonable:!1})],zr.prototype,"parent",void 0),u([f({readOnly:!0})],zr.prototype,"parsedUrl",null),u([f({type:Boolean})],zr.prototype,"popupEnabled",void 0),u([f({type:Boolean})],zr.prototype,"attributionVisible",void 0),u([f({type:Ce})],zr.prototype,"spatialReference",void 0),u([f({type:String})],zr.prototype,"title",void 0),u([f({readOnly:!0,json:{read:!1}})],zr.prototype,"type",void 0),u([f()],zr.prototype,"url",void 0),u([f({type:Boolean,nonNullable:!0})],zr.prototype,"visible",void 0),zr=u([E("esri.layers.Layer")],zr);const Lm=zr;function _x(e,t,r){let i,n;if(e)for(let s=0,a=e.length;s<a;s++){if(i=e.getItemAt(s),i[t]===r)return i;if((i==null?void 0:i.type)==="group"&&(n=_x(i.layers,t,r),n))return n}}const BP=ae.getLogger("esri.support.LayersMixin"),ude=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new Se;const i=a=>{a.parent&&"remove"in a.parent&&a.parent.remove(a)},n=a=>{a.parent=this,this.layerAdded(a),a.type!=="elevation"&&a.type!=="base-elevation"||BP.error(`Layer 'title:${a.title}, id:${a.id}' of type '${a.type}' is not supported as an operational layer and will therefore be ignored.`)},s=a=>{a.parent=null,this.layerRemoved(a)};this.layers.on("before-add",a=>i(a.item)),this.layers.on("after-add",a=>n(a.item)),this.layers.on("after-remove",a=>s(a.item))}destroy(){const r=this.layers.removeAll();for(const i of r)this.layerRemoved(i),i.destroy();this.layers.destroy()}set layers(r){this._set("layers",Mp(r,this._get("layers")))}add(r,i){const n=this.layers;if(i=n.getNextIndex(i),r instanceof Lm){const s=r;s.parent===this?this.reorder(s,i):n.add(s,i)}else _c(r)?r.then(s=>{this.destroyed||this.add(s,i)}):BP.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,i){const n=this.layers;i=n.getNextIndex(i),r.slice().forEach(s=>{s.parent!==this?(n.add(s,i),i+=1):this.reorder(s,i)})}findLayerById(r){return _x(this.layers,"id",r)}findLayerByUid(r){return _x(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,i){return this.layers.reorder(r,i)}layerAdded(r){}layerRemoved(r){}};return u([f()],t.prototype,"layers",null),t=u([E("esri.support.LayersMixin")],t),t},Pq="esri.support.TablesMixin",dde=ae.getLogger(Pq);function Sx(e,t,r){if(e)for(let i=0,n=e.length;i<n;i++){const s=e.getItemAt(i);if(s[t]===r)return s;if((s==null?void 0:s.type)==="group"){const a=Sx(s.tables,t,r);if(a)return a}}}const fde=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new Se,this.tables.on("after-add",i=>{const n=i.item;n.parent&&n.parent!==this&&"tables"in n.parent&&n.parent.tables.remove(n),n.parent=this,n.type!=="feature"&&dde.error(`Layer 'title:${n.title}, id:${n.id}' of type '${n.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",i=>{i.item.parent=null})}destroy(){const r=this.tables.removeAll();for(const i of r)i.destroy();this.tables.destroy()}set tables(r){this._set("tables",Mp(r,this._get("tables")))}findTableById(r){return Sx(this.tables,"id",r)}findTableByUid(r){return Sx(this.tables,"uid",r)}};return u([f()],t.prototype,"tables",null),t=u([E(Pq)],t),t};let xo=class extends fde(ude(Sc.EventedMixin(ye))){constructor(e){super(e),this.allLayers=new Em({getCollections:()=>{var t,r,i;return[(t=this.basemap)==null?void 0:t.baseLayers,(r=this.ground)==null?void 0:r.layers,this.layers,(i=this.basemap)==null?void 0:i.referenceLayers]},getChildrenFunction:t=>"layers"in t?t.layers:null}),this.allTables=Nue(this),this.basemap=null,this.editableLayers=new Em({getCollections:()=>[this.allLayers],itemFilterFunction:Cue}),this.ground=new b4,this._basemapCache=Eue()}destroy(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),(e=this.ground)==null||e.destroy(),(t=this.basemap)==null||t.destroy(),kue(this._basemapCache),this._basemapCache=null}castBasemap(e){return Aue(e,this._basemapCache)}castGround(e){const t=Vue(e);return B(t)?this._get("ground"):t}findLayerById(e){return this.allLayers.find(t=>t.id===e)}findTableById(e){return this.allTables.find(t=>t.id===e)}};u([f({readOnly:!0,dependsOn:[]})],xo.prototype,"allLayers",void 0),u([f({readOnly:!0})],xo.prototype,"allTables",void 0),u([f({type:Yo})],xo.prototype,"basemap",void 0),u([Ze("basemap")],xo.prototype,"castBasemap",null),u([f({readOnly:!0})],xo.prototype,"editableLayers",void 0),u([f({type:b4,nonNullable:!0})],xo.prototype,"ground",void 0),u([Ze("ground")],xo.prototype,"castGround",null),xo=u([E("esri.Map")],xo);const Oq=xo;var Rm;function pde(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>i)return Rm.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(r=>r==null||r.code!==t))return Rm.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Rm||(Rm={}));let r7;function uo(){return r7||(r7=(async()=>{const e=await Y(()=>import("./arcadeUtils.c6cc38f6.js").then(t=>t.t),[],import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),r7}const vLe=(e,t,r)=>E2.create(e,t,r,null,["$feature"]),wLe=(e,t,r)=>E2.create(e,t,r,null,["$feature","$view"]),hde=(e,t,r,i)=>E2.create(e,t,r,i,["$feature","$view"]);class E2{constructor(t,r,i,n,s,a,o,l){this.script=t,this.evaluate=s;const c=Array.isArray(o)?o:o.fields;this.fields=c,this._syntaxTree=n,this._arcade=r,this._arcadeDictionary=i,this._arcadeFeature=a,this._spatialReference=l,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,i,n,s,a){const{arcade:o,Feature:l,Dictionary:c}=await uo(),d=Ce.fromJSON(r),p=o.parseScript(t,a),h=s.reduce((M,I)=>({...M,[I]:null}),{});let m=null;C(n)&&(m=new c(n),m.immutable=!0,h.$config=null);const g=o.scriptUsesGeometryEngine(p)&&o.enableGeometrySupport(),b=o.scriptUsesFeatureSet(p)&&o.enableFeatureSetSupport(),w=o.scriptIsAsync(p)&&o.enableAsyncSupport(),v={vars:h,spatialReference:d,useAsync:!!w},_=new c;_.immutable=!1,_.setField("scale",0);const S=o.compileScript(p,v),x=M=>("$view"in M&&M.$view&&(_.setField("scale",M.$view.scale),M.$view=_),m&&(M.$config=m),S({vars:M,spatialReference:d}));return await Promise.all([g,b,w]),new E2(t,o,c,p,x,new l,i,d)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}const mde=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],yde=["field","normalizationField"];function v4(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(UP(mde,r,t),"visualVariables"in r&&r.visualVariables)for(const i of r.visualVariables)UP(yde,i,t)}}function UP(e,t,r){if(e)for(const i of e){const n=iy(i,t),s=n&&typeof n!="function"&&r.get(n);s&&Nn(i,s.name,t)}}function RE(e,t){if(e!=null&&(t==null?void 0:t.fields.length))if("startField"in e){const r=t.get(e.startField),i=t.get(e.endField);e.startField=r&&r.name||null,e.endField=i&&i.name||null}else{const r=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=r&&r.name||null,e.endTimeField=i&&i.name||null}}const i7=new Set;function Fq(e,t){return e&&t?(i7.clear(),z1(i7,e,t),Array.from(i7).sort()):[]}function z1(e,t,r){var i;if(r)if((i=t==null?void 0:t.fields)!=null&&i.length)if(r.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const n of r)sa(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const n of r)e.add(n)}}function sa(e,t,r){if(typeof r=="string")if(t){const i=t.get(r);i&&e.add(i.name)}else e.add(r)}function _Le(e,t){return B(t)||B(e)?[]:t.includes("*")?e.fields.map(r=>r.name):t}async function un(e,t,r){var s;if(!r)return;const{arcadeUtils:i}=await uo(),n=i.extractFieldNames(r,(s=t==null?void 0:t.fields)==null?void 0:s.map(a=>a.name));for(const a of n)sa(e,t,a)}async function Dq(e,t,r){if(r&&r!=="1=1"){const i=(await Y(()=>import("./WhereClause.38a89403.js"),[],import.meta.url)).WhereClause.create(r,t);if(!i.isStandardized)throw new R("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});z1(e,t,i.fieldNames)}}function gde({displayField:e,fields:t}){return e||(t&&t.length?n7(t,"name-or-title")||n7(t,"unique-identifier")||n7(t,"type-or-category")||bde(t):null)}function bde(e){for(const t of e){if(!t||!t.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function n7(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}async function SLe(e,t){if(!t)return;const r=iy("elevationInfo.featureExpressionInfo",t);return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}async function vde(e,t,r){r.outStatistic.onStatisticValueExpression?un(e,t,r.outStatistic.onStatisticValueExpression):e.add(r.outStatistic.onStatisticField)}async function xLe(e,t,r){var n,s;if(!t||!r||!("fields"in r))return;const i=[];if((n=r.popupTemplate)!=null&&n.expressionInfos&&i.push(...r.popupTemplate.expressionInfos.map(a=>un(e,t.fieldsIndex,a.expression))),Array.isArray((s=r.popupTemplate)==null?void 0:s.content)){const a=r.popupTemplate.content;for(const o of a)o.type==="expression"&&o.expressionInfo&&i.push(un(e,t.fieldsIndex,o.expressionInfo.expression))}r.fields&&i.push(...r.fields.map(a=>vde(e,t.fieldsIndex,a))),await Promise.all(i)}async function MLe(e,t,r){t&&(t.timeInfo&&C(r)&&r.timeExtent&&z1(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&z1(e,t.fieldsIndex,[t.floorInfo.floorField]),C(r)&&C(r.where)&&await Dq(e,t.fieldsIndex,r.where))}async function ILe(e,t,r){t&&r&&await Promise.all(r.map(i=>wde(e,t,i)))}async function wde(e,t,r){t&&r&&(r.valueExpression?await un(e,t.fieldsIndex,r.valueExpression):r.field&&sa(e,t.fieldsIndex,r.field))}function $Le(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?Fq(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}async function TLe(e,t){const{labelingInfo:r,fieldsIndex:i}=t;r&&r.length&&await Promise.all(r.map(n=>_de(e,i,n)))}async function _de(e,t,r){if(!r)return;const i=r.getLabelExpression(),n=r.where;if(i.type==="arcade")await un(e,t,i.expression);else{const s=i.expression.match(/{[^}]*}/g);s&&s.forEach(a=>{sa(e,t,a.slice(1,-1))})}await Dq(e,t,n)}function Sde(e){const t=e.defaultValue;return t!==void 0&&Vq(e,t)?t:e.nullable?null:void 0}function Nq(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function xde(e){return e===null||Nq(e)}const PE="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function Mde(e){return e===null||PE(e)}function jq(e){return e!=null&&typeof e=="string"}function Ide(e){return e===null||jq(e)}function $de(){return!0}function Vq(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?Mde:PE;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?xde:Nq;break;case"string":case"esriFieldTypeString":r=e.nullable?Ide:jq;break;default:r=$de}return arguments.length===1?r:r(t)}const Tde=["integer","small-integer","single","double"],Cde=new Set([...Tde,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function k2(e){return e!=null&&Cde.has(e.type)}function Ede(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function nm(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}var w4,_4;function CLe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function ELe(e,t){return e.nullable&&t===null?null:k2(e)&&!kde(e.type,Number(t))?w4.OUT_OF_RANGE:Vq(e,t)?e.domain?pde(e.domain,t):null:_4.INVALID_TYPE}function kde(e,t){const r=typeof e=="string"?zq(e):e;return!!r&&(r.isInteger?PE(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}function zq(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Ade;case"esriFieldTypeInteger":case"integer":return Lde;case"esriFieldTypeSingle":case"single":return Rde;case"esriFieldTypeDouble":case"double":return Pde}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(w4||(w4={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(_4||(_4={}));const Ade={min:-32768,max:32767,isInteger:!0},Lde={min:-2147483648,max:2147483647,isInteger:!0},Rde={min:-34e37,max:12e37,isInteger:!1},Pde={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function kLe(e,t,r){switch(e){case Rm.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Rm.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case _4.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case w4.OUT_OF_RANGE:{const{min:i,max:n}=zq(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${i} to ${n}`}}}function Ode(e,t){return!Fde(e,t,null)}function Fde(e,t,r){if(!t||!t.attributes||!e){if(C(r))for(const s of e)r.add(s);return!0}const i=t.attributes;let n=!1;for(const s of e)if(!(s in i)){if(n=!0,!C(r))break;r.add(s)}return n}function Bq(e){return["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}let u5=class extends Z{constructor(e){super(e),this.type=null}};u([f({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],u5.prototype,"type",void 0),u5=u([E("esri.popup.content.Content")],u5);const Up=u5;var xx;let qd=xx=class extends Up{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new xx({description:this.description,displayType:this.displayType,title:this.title})}};u([f({type:String,json:{write:!0}})],qd.prototype,"description",void 0),u([f({type:["auto","preview","list"],json:{write:!0}})],qd.prototype,"displayType",void 0),u([f({type:String,json:{write:!0}})],qd.prototype,"title",void 0),u([f({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],qd.prototype,"type",void 0),qd=xx=u([E("esri.popup.content.AttachmentsContent")],qd);const B1=qd;var Mx;let Hd=Mx=class extends Up{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new Mx({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?D(this.outFields):null})}};u([f()],Hd.prototype,"creator",void 0),u([f()],Hd.prototype,"destroyer",void 0),u([f()],Hd.prototype,"outFields",void 0),u([f({type:["custom"],readOnly:!0})],Hd.prototype,"type",void 0),Hd=Mx=u([E("esri.popup.content.CustomContent")],Hd);const Dde=Hd;var Ix;let Th=Ix=class extends Z{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new Ix({title:this.title,expression:this.expression})}};u([f({type:String,json:{write:!0}})],Th.prototype,"title",void 0),u([f({type:String,json:{write:!0}})],Th.prototype,"expression",void 0),u([f({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Th.prototype,"returnType",void 0),Th=Ix=u([E("esri.popup.ElementExpressionInfo")],Th);const Uq=Th;var $x;let Ag=$x=class extends Up{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new $x({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};u([f({type:Uq,json:{write:!0}})],Ag.prototype,"expressionInfo",void 0),u([f({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Ag.prototype,"type",void 0),Ag=$x=u([E("esri.popup.content.ExpressionContent")],Ag);const OE=Ag,U1=ir()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});U1.toJSON.bind(U1);U1.fromJSON.bind(U1);const go={year:"numeric",month:"numeric",day:"numeric"},Hy={year:"numeric",month:"long",day:"numeric"},Wy={year:"numeric",month:"short",day:"numeric"},Jy={year:"numeric",month:"long",weekday:"long",day:"numeric"},Ds={hour:"numeric",minute:"numeric"},ga={...Ds,second:"numeric"},FE={"short-date":go,"short-date-short-time":{...go,...Ds},"short-date-short-time-24":{...go,...Ds,hour12:!1},"short-date-long-time":{...go,...ga},"short-date-long-time-24":{...go,...ga,hour12:!1},"short-date-le":go,"short-date-le-short-time":{...go,...Ds},"short-date-le-short-time-24":{...go,...Ds,hour12:!1},"short-date-le-long-time":{...go,...ga},"short-date-le-long-time-24":{...go,...ga,hour12:!1},"long-month-day-year":Hy,"long-month-day-year-short-time":{...Hy,...Ds},"long-month-day-year-short-time-24":{...Hy,...Ds,hour12:!1},"long-month-day-year-long-time":{...Hy,...ga},"long-month-day-year-long-time-24":{...Hy,...ga,hour12:!1},"day-short-month-year":Wy,"day-short-month-year-short-time":{...Wy,...Ds},"day-short-month-year-short-time-24":{...Wy,...Ds,hour12:!1},"day-short-month-year-long-time":{...Wy,...ga},"day-short-month-year-long-time-24":{...Wy,...ga,hour12:!1},"long-date":Jy,"long-date-short-time":{...Jy,...Ds},"long-date-short-time-24":{...Jy,...Ds,hour12:!1},"long-date-long-time":{...Jy,...ga},"long-date-long-time-24":{...Jy,...ga,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Ds,"long-time":ga},G1=ir()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});G1.apiValues;G1.toJSON.bind(G1);G1.fromJSON.bind(G1);const Nde={ar:"ar-u-nu-latn-ca-gregory"};let d5=new WeakMap,Gq=FE["short-date-short-time"];function jde(e){const t=e||Gq;if(!d5.has(t)){const r=gs(),i=Nde[gs()]||r;d5.set(t,new Intl.DateTimeFormat(i,t))}return d5.get(t)}function lw(e){return FE[e]||null}function rl(e,t){return jde(t).format(e)}yE(()=>{d5=new WeakMap,Gq=FE["short-date-short-time"]});const Vde={ar:"ar-u-nu-latn"};let f5=new WeakMap,qq={};function zde(e){const t=e||qq;if(!f5.has(t)){const r=gs(),i=Vde[gs()]||r;f5.set(t,new Intl.NumberFormat(i,e))}return f5.get(t)}function Hq(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function il(e,t){return e===-0&&(e=0),zde(t).format(e)}yE(()=>{f5=new WeakMap,qq={}});var Tx;let Wd=Tx=class extends Z{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new Tx({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?rl(e,{...lw(this.dateFormat),...this.dateTimeFormatOptions}):il(e,Hq(this))}formatRasterPixelValue(e){let t,r;return e.trim().includes(",")?(t=",",r=t+" ",this._formatDelimitedString(e,t,r,this)):e.trim().includes(";")?(t=";",r=t+" ",this._formatDelimitedString(e,t,r,this)):e.trim().includes(" ")?(t=r=" ",this._formatDelimitedString(e,t,r,this)):this.format(Number(e))}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map(n=>this.format(Number(n))).join(r):e}};u([ge(U1)],Wd.prototype,"dateFormat",void 0),u([f({type:Object,json:{read:!1}})],Wd.prototype,"dateTimeFormatOptions",void 0),u([f({type:Boolean,json:{write:!0}})],Wd.prototype,"digitSeparator",void 0),u([f({type:Xe,json:{write:!0}})],Wd.prototype,"places",void 0),Wd=Tx=u([E("esri.popup.support.FieldInfoFormat")],Wd);const A0=Wd;var Cx;let xa=Cx=class extends Z{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new Cx({fieldName:this.fieldName,format:this.format?D(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};u([f({type:String,json:{write:!0}})],xa.prototype,"fieldName",void 0),u([f({type:A0,json:{write:!0}})],xa.prototype,"format",void 0),u([f({type:Boolean,json:{write:!0,default:!1}})],xa.prototype,"isEditable",void 0),u([f({type:String,json:{write:!0}})],xa.prototype,"label",void 0),u([ge(new Le({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],xa.prototype,"stringFieldOption",void 0),u([f({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],xa.prototype,"statisticType",void 0),u([f({type:String,json:{write:!0}})],xa.prototype,"tooltip",void 0),u([f({type:Boolean,json:{write:!0}})],xa.prototype,"visible",void 0),xa=Cx=u([E("esri.popup.FieldInfo")],xa);const A2=xa;var Ex;let Il=Ex=class extends Up{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new Ex(D({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([f({type:Object,json:{write:!0}})],Il.prototype,"attributes",void 0),u([f({type:String,json:{write:!0}})],Il.prototype,"description",void 0),u([f({type:[A2]})],Il.prototype,"fieldInfos",void 0),u([ce("fieldInfos")],Il.prototype,"writeFieldInfos",null),u([f({type:String,json:{write:!0}})],Il.prototype,"title",void 0),u([f({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Il.prototype,"type",void 0),Il=Ex=u([E("esri.popup.content.FieldsContent")],Il);const Pm=Il;let Jd=class extends Z{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};u([f({type:String,json:{write:!0}})],Jd.prototype,"altText",void 0),u([f({type:String,json:{write:!0}})],Jd.prototype,"caption",void 0),u([f({type:String,json:{write:!0}})],Jd.prototype,"title",void 0),u([f({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Jd.prototype,"type",void 0),Jd=u([E("esri.popup.content.mixins.MediaInfo")],Jd);const DE=Jd;var kx;let Ch=kx=class extends ye{constructor(e){super(e),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new kx({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([f()],Ch.prototype,"fieldName",void 0),u([f()],Ch.prototype,"tooltip",void 0),u([f()],Ch.prototype,"value",void 0),Ch=kx=u([E("esri.popup.content.support.ChartMediaInfoValueSeries")],Ch);const Wq=Ch;var Ax;let Zd=Ax=class extends Z{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Ax({fields:D(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};u([f({type:[String],json:{write:!0}})],Zd.prototype,"fields",void 0),u([f({type:String,json:{write:!0}})],Zd.prototype,"normalizeField",void 0),u([f({type:[Wq],json:{read:!1}})],Zd.prototype,"series",void 0),u([f({type:String,json:{write:!0}})],Zd.prototype,"tooltipField",void 0),Zd=Ax=u([E("esri.popup.content.support.ChartMediaInfoValue")],Zd);const Bde=Zd;let Lg=class extends DE{constructor(e){super(e),this.type=null,this.value=null}};u([f({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Lg.prototype,"type",void 0),u([f({type:Bde,json:{write:!0}})],Lg.prototype,"value",void 0),Lg=u([E("esri.popup.content.mixins.ChartMediaInfo")],Lg);const cw=Lg,uw=ir()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var Lx;let p5=Lx=class extends cw{constructor(e){super(e),this.type="bar-chart"}clone(){return new Lx({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([f({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:uw.write}})],p5.prototype,"type",void 0),p5=Lx=u([E("esri.popup.content.BarChartMediaInfo")],p5);const Jq=p5;var Rx;let h5=Rx=class extends cw{constructor(e){super(e),this.type="column-chart"}clone(){return new Rx({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([f({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:uw.write}})],h5.prototype,"type",void 0),h5=Rx=u([E("esri.popup.content.ColumnChartMediaInfo")],h5);const Zq=h5;var Px;let Rg=Px=class extends Z{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new Px({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([f({type:String,json:{write:!0}})],Rg.prototype,"linkURL",void 0),u([f({type:String,json:{write:!0}})],Rg.prototype,"sourceURL",void 0),Rg=Px=u([E("esri.popup.content.support.ImageMediaInfoValue")],Rg);const Ude=Rg;var Ox;let Eh=Ox=class extends DE{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new Ox({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};u([f({type:Number,json:{write:!0}})],Eh.prototype,"refreshInterval",void 0),u([f({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Eh.prototype,"type",void 0),u([f({type:Ude,json:{write:!0}})],Eh.prototype,"value",void 0),Eh=Ox=u([E("esri.popup.content.ImageMediaInfo")],Eh);const Qq=Eh;var Fx;let m5=Fx=class extends cw{constructor(e){super(e),this.type="line-chart"}clone(){return new Fx({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([f({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:uw.write}})],m5.prototype,"type",void 0),m5=Fx=u([E("esri.popup.content.LineChartMediaInfo")],m5);const Yq=m5;var Dx;let y5=Dx=class extends cw{constructor(e){super(e),this.type="pie-chart"}clone(){return new Dx({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([f({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:uw.write}})],y5.prototype,"type",void 0),y5=Dx=u([E("esri.popup.content.PieChartMediaInfo")],y5);const Kq=y5,Xq={base:DE,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":Jq,"column-chart":Zq,"line-chart":Yq,"pie-chart":Kq,image:Qq}};var Nx;let Ma=Nx=class extends Up{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?Qq.fromJSON(t):t.type==="barchart"?Jq.fromJSON(t):t.type==="columnchart"?Zq.fromJSON(t):t.type==="linechart"?Yq.fromJSON(t):t.type==="piechart"?Kq.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new Nx(D({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([f()],Ma.prototype,"activeMediaInfoIndex",void 0),u([f({type:Object,json:{write:!0}})],Ma.prototype,"attributes",void 0),u([f({type:String,json:{write:!0}})],Ma.prototype,"description",void 0),u([f({types:[Xq]})],Ma.prototype,"mediaInfos",void 0),u([ie("mediaInfos")],Ma.prototype,"readMediaInfos",null),u([ce("mediaInfos")],Ma.prototype,"writeMediaInfos",null),u([f({type:String,json:{write:!0}})],Ma.prototype,"title",void 0),u([f({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Ma.prototype,"type",void 0),Ma=Nx=u([E("esri.popup.content.MediaContent")],Ma);const q1=Ma;var jx;let Pg=jx=class extends Up{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new jx({text:this.text})}};u([f({type:String,json:{write:!0}})],Pg.prototype,"text",void 0),u([f({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Pg.prototype,"type",void 0),Pg=jx=u([E("esri.popup.content.TextContent")],Pg);const Om=Pg,Gde={base:null,key:"type",typeMap:{attachment:B1,media:q1,text:Om,expression:OE,field:Pm}};var Vx;let Qd=Vx=class extends Z{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Vx({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([f({type:String,json:{write:!0}})],Qd.prototype,"name",void 0),u([f({type:String,json:{write:!0}})],Qd.prototype,"title",void 0),u([f({type:String,json:{write:!0}})],Qd.prototype,"expression",void 0),u([f({type:["string","number"],json:{write:!0}})],Qd.prototype,"returnType",void 0),Qd=Vx=u([E("esri.popup.ExpressionInfo")],Qd);const eH=Qd;var zx;let Og=zx=class extends Z{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new zx({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([f({type:Boolean,json:{write:!0}})],Og.prototype,"returnTopmostRaster",void 0),u([f({type:Boolean,json:{write:!0}})],Og.prototype,"showNoDataRecords",void 0),Og=zx=u([E("esri.popup.LayerOptions")],Og);const qde=Og;var Bx;let Fg=Bx=class extends Z{constructor(e){super(e),this.field=null,this.order=null}clone(){return new Bx({field:this.field,order:this.order})}};u([f({type:String,json:{write:!0}})],Fg.prototype,"field",void 0),u([f({type:["asc","desc"],json:{write:!0}})],Fg.prototype,"order",void 0),Fg=Bx=u([E("esri.popup.support.RelatedRecordsInfoFieldOrder")],Fg);const tH=Fg;var Ux;let Dg=Ux=class extends Z{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Ux({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?D(this.orderByFields):null})}};u([f({type:Boolean,json:{write:!0}})],Dg.prototype,"showRelatedRecords",void 0),u([f({type:[tH],json:{write:!0}})],Dg.prototype,"orderByFields",void 0),Dg=Ux=u([E("esri.popup.RelatedRecordsInfo")],Dg);const Hde=Dg;var Gx;let Ia=Gx=class extends LE(ye){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Gx({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([f()],Ia.prototype,"active",void 0),u([f()],Ia.prototype,"className",void 0),u([f()],Ia.prototype,"disabled",void 0),u([f()],Ia.prototype,"id",void 0),u([f()],Ia.prototype,"indicator",void 0),u([f()],Ia.prototype,"title",void 0),u([f()],Ia.prototype,"type",void 0),u([f()],Ia.prototype,"visible",void 0),Ia=Gx=u([E("esri.support.actions.ActionBase")],Ia);const dw=Ia;var qx;let g5=qx=class extends dw{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new qx({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([f()],g5.prototype,"image",void 0),g5=qx=u([E("esri.support.Action.ActionButton")],g5);const dy=g5;var Hx;let Ng=Hx=class extends dw{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new Hx({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([f()],Ng.prototype,"image",void 0),u([f()],Ng.prototype,"value",void 0),Ng=Hx=u([E("esri.support.Action.ActionToggle")],Ng);const rH=Ng;var Wx;const Wde=Se.ofType({key:"type",defaultKeyValue:"button",base:dw,typeMap:{button:dy,toggle:rH}}),Jde={base:Up,key:"type",typeMap:{media:q1,custom:Dde,text:Om,attachments:B1,fields:Pm,expression:OE}},iH="esri.PopupTemplate",Zde=ae.getLogger(iH),Qde=["attachments","fields","media","text","expression"];let Cr=Wx=class extends Z{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(e){return Array.isArray(e)?e.map(t=>Xo(Jde,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||_c(e)?e:(Zde.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}writeContent(e,t,r,i){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(n=>Qde.includes(n.type)).map(n=>n&&n.toJSON(i)),t.popupElements.forEach(n=>{n.type==="attachments"?this._writeAttachmentContent(t):n.type==="media"?this._writeMediaContent(n,t):n.type==="text"&&this._writeTextContent(n,t)})):t.description=e}writeFieldInfos(e,t,r,i){const{content:n}=this,s=Array.isArray(n)?n:null;if(e){const a=s?s.filter(l=>l.type==="fields"):[],o=a.length&&a.every(l=>{var c;return(c=l.fieldInfos)==null?void 0:c.length});t.fieldInfos=e.filter(Boolean).map(l=>{const c=l.toJSON(i);return o&&(c.visible=!1),c})}if(s)for(const a of s)a.type==="fields"&&this._writeFieldsContent(a,t)}writeLayerOptions(e,t,r,i){t[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(i)}writeTitle(e,t){t.title=e||""}clone(){const{actions:e}=this,t=e?D(e.toArray()):[];return new Wx({actions:t,content:Array.isArray(this.content)?D(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?D(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?D(this.fieldInfos):null,layerOptions:this.layerOptions?D(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?D(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?D(this.relatedRecordsInfo):null})}async collectRequiredFields(e,t){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...r,...this._getContentExpressionInfos(this.content,r)]),z1(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=D(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach(i=>{const n=t.fieldInfos.find(s=>s.fieldName.toLowerCase()===i.fieldName.toLowerCase());n?n.visible=!0:t.fieldInfos.push(i)}):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=D(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements({description:e,mediaInfos:t,popupElements:r}){const i={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!t||i.mediaInfos||(n.mediaInfos=t,i.mediaInfos=!0),q1.fromJSON(n)):n.type==="text"?(n.text||!e||i.description||(n.text=e,i.description=!0),Om.fromJSON(n)):n.type==="attachments"?B1.fromJSON(n):n.type==="fields"?Pm.fromJSON(n):n.type==="expression"?OE.fromJSON(n):void 0).filter(Boolean)}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r}){const i=[];return e?i.push(new Om({text:e})):i.push(new Pm),Array.isArray(t)&&t.length&&i.push(q1.fromJSON({mediaInfos:t})),r&&i.push(B1.fromJSON({displayType:"auto"})),i.length?i:e}_getContentElementFields(e){const t=e==null?void 0:e.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos||this.fieldInfos)];if(t==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((i,n)=>[...i,...this._getMediaInfoFields(n)],[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:r,value:i}=e,n=i||{},{fields:s=[],normalizeField:a,tooltipField:o,sourceURL:l,linkURL:c}=n,d=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(c),...s];return a&&d.push(a),o&&d.push(o),d}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((r,i)=>[...r,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,r)=>[...t,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map(i=>un(e,t,i.expression)))}_getFieldInfoFields(e){return e?e.filter(t=>t.visible===void 0||!!t.visible).map(t=>t.fieldName).filter(t=>!t.includes("relationships/")&&!t.includes("expression/")):[]}_getActionsFields(e){return e?e.toArray().reduce((t,r)=>[...t,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:t,title:r,type:i}=e,n=i==="button"||i==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(n)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,r=e.match(t);if(!r)return[];const i=/\{(\w+):.+\}/,n=r.filter(s=>!(s.indexOf("{relationships/")===0||s.indexOf("{expression/")===0)).map(s=>s.replace(i,"{$1}"));return n?n.map(s=>s.slice(1,-1)):[]}};u([f({type:Wde})],Cr.prototype,"actions",void 0),u([f()],Cr.prototype,"content",void 0),u([Ze("content")],Cr.prototype,"castContent",null),u([ie("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Cr.prototype,"readContent",null),u([ce("content",{popupElements:{type:Se.ofType(Gde)},showAttachments:{type:Boolean},mediaInfos:{type:Se.ofType(Xq)},description:{type:String}})],Cr.prototype,"writeContent",null),u([f({type:[eH],json:{write:!0}})],Cr.prototype,"expressionInfos",void 0),u([f({type:[A2]})],Cr.prototype,"fieldInfos",void 0),u([ce("fieldInfos")],Cr.prototype,"writeFieldInfos",null),u([f({type:qde})],Cr.prototype,"layerOptions",void 0),u([ce("layerOptions")],Cr.prototype,"writeLayerOptions",null),u([f({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Cr.prototype,"lastEditInfoEnabled",void 0),u([f()],Cr.prototype,"outFields",void 0),u([f()],Cr.prototype,"overwriteActions",void 0),u([f()],Cr.prototype,"returnGeometry",void 0),u([f({json:{type:String}})],Cr.prototype,"title",void 0),u([ce("title")],Cr.prototype,"writeTitle",null),u([f({type:Hde,json:{write:!0}})],Cr.prototype,"relatedRecordsInfo",void 0),Cr=Wx=u([E(iH)],Cr);const Gp=Cr,GP=new Le({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Yde=0,kh=class extends Z{constructor(e){super(e),this.id="sym"+Yde++,this.type=null,this.color=new re([0,0,0,1])}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([f({type:GP.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:GP.write}}})],kh.prototype,"type",void 0),u([f({type:re,json:{write:{allowNull:!0}}})],kh.prototype,"color",void 0),u([ie("color")],kh.prototype,"readColor",null),kh=u([E("esri.symbols.Symbol")],kh);const pn=kh;var Jx;let Jc=Jx=class extends pn{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const r in e)t[r]=e[r]}async collectRequiredFields(e,t){if(this.data.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const i=r.map(n=>{const s=n.valueExpressionInfo;return un(e,t,s.expression)});await Promise.all(i)}}}clone(){return new Jx({data:D(this.data)})}hash(){return WC(JSON.stringify(this.data)).toString()}};u([f({json:{write:!1}})],Jc.prototype,"color",void 0),u([f({json:{write:!0}})],Jc.prototype,"data",void 0),u([ie("data",["symbol"])],Jc.prototype,"readData",null),u([ce("data",{})],Jc.prototype,"writeData",null),u([ge({CIMSymbolReference:"cim"},{readOnly:!0})],Jc.prototype,"type",void 0),Jc=Jx=u([E("esri.symbols.CIMSymbol")],Jc);const L2=Jc;let Ah=class extends Z{constructor(e){super(e),this.enabled=!0,this.type=null}writeEnabled(e,t,r){e||(t[r]=e)}};u([f({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Ah.prototype,"enabled",void 0),u([ce("enabled")],Ah.prototype,"writeEnabled",null),u([f({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Ah.prototype,"type",void 0),Ah=u([E("esri.symbols.Symbol3DLayer")],Ah);const cl=Ah,Kde=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Xde="screenUtils.toPt: input not recognized!",nH=96;function $t(e){return e?e/72*nH:0}function oi(e){return e?72*e/nH:0}function Ye(e){if(typeof e=="string"){const t=e.match(Kde);if(t){const r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),n=e.charAt(0)==="-",s=i==="px"?oi(r):r;return n?-s:s}return console.warn(Xde),null}return e}function Fi(e=0,t=0){return{x:e,y:t}}function ALe(e=0,t=0){return[e,t]}function efe(e,t){const r=t.transparency!=null?j1(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new re([i[0]||0,i[1]||0,i[2]||0,r]):null}function tfe(e,t){t.color=e.toJSON().slice(0,3);const r=nw(e.a);r!==0&&(t.transparency=r)}const Id={type:re,json:{type:[Xe],default:null,read:{source:["color","transparency"],reader:efe},write:{target:{color:{type:[Xe]},transparency:{type:Xe}},writer:tfe}}},nl={type:Number,cast:Ye,json:{write:!0}};let Yd=class extends Z{constructor(e){super(e),this.color=new re([0,0,0,1]),this.extensionLength=0,this.size=oi(1)}clone(){}cloneProperties(){return{color:D(this.color),size:this.size,extensionLength:this.extensionLength}}};u([f({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Yd.prototype,"type",void 0),u([f(Id)],Yd.prototype,"color",void 0),u([f({...nl,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Yd.prototype,"extensionLength",void 0),u([f(nl)],Yd.prototype,"size",void 0),Yd=u([E("esri.symbols.edges.Edges3D")],Yd);const NE=Yd;var Zx;let b5=Zx=class extends NE{constructor(e){super(e),this.type="sketch"}clone(){return new Zx(this.cloneProperties())}};u([ge({sketch:"sketch"},{readOnly:!0})],b5.prototype,"type",void 0),b5=Zx=u([E("esri.symbols.edges.SketchEdges3D")],b5);const sH=b5;var Qx;let v5=Qx=class extends NE{constructor(e){super(e),this.type="solid"}clone(){return new Qx(this.cloneProperties())}};u([ge({solid:"solid"},{readOnly:!0})],v5.prototype,"type",void 0),v5=Qx=u([E("esri.symbols.support.SolidEdges3D")],v5);const aH=v5,oH={types:{key:"type",base:NE,typeMap:{solid:aH,sketch:sH}},json:{write:!0}};var Yx;let bs=Yx=class extends Z{constructor(e){super(e),this.color=null}clone(){const e={color:C(this.color)?this.color.clone():null};return new Yx(e)}};u([f(Id)],bs.prototype,"color",void 0),bs=Yx=u([E("esri.symbols.support.Symbol3DMaterial")],bs);var Kx;let Zc=Kx=class extends cl{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Kx({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:C(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};u([ge({Extrude:"extrude"},{readOnly:!0})],Zc.prototype,"type",void 0),u([f({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Zc.prototype,"size",void 0),u([f({type:bs,json:{write:!0}})],Zc.prototype,"material",void 0),u([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Zc.prototype,"castShadows",void 0),u([f(oH)],Zc.prototype,"edges",void 0),Zc=Kx=u([E("esri.symbols.ExtrudeSymbol3DLayer")],Zc);const jE=Zc;let jg=class extends pn{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([ge({esriSLS:"simple-line"},{readOnly:!0})],jg.prototype,"type",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],jg.prototype,"width",void 0),jg=u([E("esri.symbols.LineSymbol")],jg);const rfe=jg,ife=["begin","end","begin-end"],lH=["arrow","circle","square","diamond","cross","x"];var Xx;let Mo=Xx=class extends Z{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,i){t[r]=(i==null?void 0:i.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,i){(i==null?void 0:i.origin)==="web-map"||(t[r]=e)}clone(){return new Xx({color:D(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};u([f({type:["begin","end","begin-end"],json:{write:!0}})],Mo.prototype,"placement",void 0),u([ge({"line-marker":"line-marker"},{readOnly:!0}),f({json:{origins:{"web-map":{write:!1}}}})],Mo.prototype,"type",void 0),u([f({type:lH})],Mo.prototype,"style",void 0),u([ce("style")],Mo.prototype,"writeStyle",null),u([f({type:re,value:null,json:{write:{allowNull:!0}}})],Mo.prototype,"color",null),u([ie("color")],Mo.prototype,"readColor",null),u([ce("color")],Mo.prototype,"writeColor",null),Mo=Xx=u([E("esri.symbols.LineSymbolMarker")],Mo);const nfe=Mo;var eM;const s7=new Le({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let $l=eM=class extends rfe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,i,n,s){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),r!=null&&(a.width=Ye(r)),i!=null&&(a.cap=i),n!=null&&(a.join=n),s!=null&&(a.miterLimit=Ye(s)),a}clone(){var e;return new eM({color:D(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};u([ge({esriSLS:"simple-line"},{readOnly:!0})],$l.prototype,"type",void 0),u([f({type:s7.apiValues,json:{read:s7.read,write:s7.write}})],$l.prototype,"style",void 0),u([f({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],$l.prototype,"cap",void 0),u([f({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],$l.prototype,"join",void 0),u([f({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":nfe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],$l.prototype,"marker",void 0),u([f({type:Number,json:{read:!1,write:!1}})],$l.prototype,"miterLimit",void 0),$l=eM=u([E("esri.symbols.SimpleLineSymbol")],$l);const qi=$l;let Vg=class extends pn{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};u([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":qi}},json:{default:null,write:!0}})],Vg.prototype,"outline",void 0),u([f({type:["simple-fill","picture-fill"],readOnly:!0})],Vg.prototype,"type",void 0),Vg=u([E("esri.symbols.FillSymbol")],Vg);const cH=Vg;let w5=class extends Z{constructor(e){super(e)}clone(){}};u([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],w5.prototype,"type",void 0),w5=u([E("esri.symbols.patterns.LinePattern3D")],w5);const uH=w5,sfe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var tM;const afe=ir()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let zg=tM=class extends uH{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new tM(e)}};u([f({type:["style"]})],zg.prototype,"type",void 0),u([ge(afe),f({type:sfe})],zg.prototype,"style",void 0),zg=tM=u([E("esri.symbols.patterns.LineStylePattern3D")],zg);const VE=zg;let _5=class extends Z{constructor(e){super(e)}clone(){}};u([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],_5.prototype,"type",void 0),_5=u([E("esri.symbols.patterns.Pattern3D")],_5);const dH=_5,ofe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var rM;let Bg=rM=class extends dH{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new rM(e)}};u([f({type:["style"]})],Bg.prototype,"type",void 0),u([f({type:ofe,json:{read:!0,write:!0}})],Bg.prototype,"style",void 0),Bg=rM=u([E("esri.symbols.patterns.StylePattern3D")],Bg);const fH=Bg,lfe={types:{key:"type",base:dH,typeMap:{style:fH}},json:{write:!0}},pH={types:{key:"type",base:uH,typeMap:{style:VE}},json:{write:!0}},Ub=new re("white");new re("black");const cfe=new re([255,255,255,0]);function ufe(e){return e.r===0&&e.g===0&&e.b===0}var iM;let Gb=iM=class extends bs{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:C(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new iM(e)}};u([ge({multiply:"multiply",replace:"replace",tint:"tint"})],Gb.prototype,"colorMixMode",void 0),Gb=iM=u([E("esri.symbols.support.Symbol3DFillMaterial")],Gb);function ua(e=vfe){return[e[0],e[1],e[2],e[3]]}function LLe(e){return[e[0],e[1],e[2],e[3]]}function dfe(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function RLe(e,t,r,i,n=ua()){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function ffe(e,t=ua()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function PLe(e,t){return new Ve({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function OLe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function pfe(e){return B(e)||e[0]>=e[2]?0:e[2]-e[0]}function hfe(e){return e[1]>=e[3]?0:e[3]-e[1]}function FLe(e){return pfe(e)*hfe(e)}function mfe(e,t){return yfe(e,t[0],t[1])}function yfe(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function gfe(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function DLe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function bfe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function NLe(e){return e?dfe(e,qP):ua(qP)}const qP=[1/0,1/0,-1/0,-1/0],vfe=[0,0,0,0];function zE(e=Mfe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function BE(e,t,r,i,n,s,a=zE()){return a[0]=e,a[1]=t,a[2]=r,a[3]=i,a[4]=n,a[5]=s,a}function jLe(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new Ve(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function VLe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function zLe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function wfe(e){return e[0]>=e[3]?0:e[3]-e[0]}function _fe(e){return e[1]>=e[4]?0:e[4]-e[1]}function Sfe(e){return e[2]>=e[5]?0:e[5]-e[2]}function BLe(e,t=[0,0,0]){return t[0]=wfe(e),t[1]=_fe(e),t[2]=Sfe(e),t}function ULe(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function GLe(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function xfe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function qLe(e){return e?xfe(e,WP):zE(WP)}function HLe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function HP(e){return e.length===6}function WLe(e,t,r){if(B(e)||B(t))return e===t;if(!HP(e)||!HP(t))return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}const WP=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Mfe=[0,0,0,0,0,0];zE();function JLe(e,{isPrimitive:t,width:r,depth:i,height:n}){const s=t?10:1;if(r==null&&n==null&&i==null)return[s*e[0],s*e[1],s*e[2]];const a=uy(r,i,n);let o;for(let l=0;l<3;l++){const c=a[l];if(c!=null){o=c/e[l];break}}for(let l=0;l<3;l++)a[l]==null&&(a[l]=e[l]*o);return a}const Ife=BE(-.5,-.5,-.5,.5,.5,.5),$fe=BE(-.5,-.5,0,.5,.5,1),Tfe=BE(-.5,-.5,0,.5,.5,.5);function ZLe(e){switch(e){case"sphere":case"cube":case"diamond":return Ife;case"cylinder":case"cone":case"inverted-cone":return $fe;case"tetrahedron":return Tfe;default:return}}const UE=["butt","square","round"],Cfe=[...UE,"none"],hH=["miter","bevel","round"];var nM;let Kd=nM=class extends Z{constructor(e){super(e),this.color=new re([0,0,0,1]),this.size=oi(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:C(this.color)?this.color.clone():null,size:this.size,pattern:C(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new nM(e)}};u([f(Id)],Kd.prototype,"color",void 0),u([f(nl)],Kd.prototype,"size",void 0),u([f(pH)],Kd.prototype,"pattern",void 0),u([f({type:UE,json:{default:"butt",write:{overridePolicy(){return{enabled:C(this.pattern)}}}}})],Kd.prototype,"patternCap",void 0),Kd=nM=u([E("esri.symbols.support.Symbol3DOutline")],Kd);var S5;let Tl=S5=class extends cl{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:C(this.edges)?this.edges.clone():null,enabled:this.enabled,material:C(this.material)?this.material.clone():null,pattern:C(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:C(this.outline)?this.outline.clone():null};return new S5(e)}static fromSimpleFillSymbol(e){var i,n,s,a,o,l;const t=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new VE({style:e.outline.style}):null,r={size:(n=(i=e.outline)==null?void 0:i.width)!=null?n:0,color:((a=(s=e.outline)==null?void 0:s.color)!=null?a:Ub).clone(),pattern:t};return t&&((o=e.outline)==null?void 0:o.cap)&&(r.patternCap=e.outline.cap),new S5({material:new Gb({color:((l=e.color)!=null?l:cfe).clone()}),pattern:e.style&&e.style!=="solid"?new fH({style:e.style}):null,outline:r})}};u([ge({Fill:"fill"},{readOnly:!0})],Tl.prototype,"type",void 0),u([f({type:Gb,json:{write:!0}})],Tl.prototype,"material",void 0),u([f(lfe)],Tl.prototype,"pattern",void 0),u([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Tl.prototype,"castShadows",void 0),u([f({type:Kd,json:{write:!0}})],Tl.prototype,"outline",void 0),u([f(oH)],Tl.prototype,"edges",void 0),Tl=S5=u([E("esri.symbols.FillSymbol3DLayer")],Tl);const Fm=Tl,Efe=["none","underline","line-through"],kfe=["normal","italic","oblique"],Afe=["normal","lighter","bold","bolder"],mH={type:Number,cast:e=>{const t=ds(e);return t===0?1:zn(t,.1,4)},nonNullable:!0},Lfe=["left","right","center"],Rfe=["baseline","top","middle","bottom"],yH={type:Lfe,nonNullable:!0},gH={type:Rfe,nonNullable:!0};var sM;let Cl=sM=class extends Z{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Ye(e)}clone(){return new sM({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([f({type:Efe,json:{default:"none",write:!0}})],Cl.prototype,"decoration",void 0),u([f({type:String,json:{write:!0}})],Cl.prototype,"family",void 0),u([f({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Cl.prototype,"size",void 0),u([Ze("size")],Cl.prototype,"castSize",null),u([f({type:kfe,json:{default:"normal",write:!0}})],Cl.prototype,"style",void 0),u([f({type:Afe,json:{default:"normal",write:!0}})],Cl.prototype,"weight",void 0),Cl=sM=u([E("esri.symbols.Font")],Cl);const fw=Cl;function yd(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=Ya(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=lE(e,t.portalItem.itemUrl);Ofe.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return aM(e,t&&t.portal)}function R2(e,t,r=H1.YES){if(!e)return e;!ms(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let i=Ya(e);if(t){const n=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(n){const s=aM(n,t.portal);i=lE(aM(i,t.portal),s,s),i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=bH(i,t&&t.portal),ms(i)&&(i=na(i)),(t==null?void 0:t.resources)&&(t==null?void 0:t.portalItem)&&!ms(i)&&!zp(i)&&r===H1.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i)}),i}function GE(e,t,r){return yd(e,r)}function kp(e,t,r,i){const n=R2(e,i);n!==void 0&&(t[r]=n)}const Pfe=/\/items\/([^\/]+)\/resources\//,Ofe=/^\.\/resources\//;function Ffe(e){const t=C(e)?e.match(Pfe):null;return C(t)?t[1]:null}function bH(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?nx(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function aM(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,i=sE();return F1(i,`${i.scheme}://${r}`)?nx(e,t.portalHostname,r):nx(e,r,t.portalHostname)}var H1;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(H1||(H1={}));const QLe=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:yd,toJSON:R2,read:GE,write:kp,itemIdFromResourceUrl:Ffe,ensureMainOnlineDomain:bH,get MarkKeep(){return H1}},Symbol.toStringTag,{value:"Module"}));var oM;const Dfe=ir()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Xd=oM=class extends Z{constructor(e){super(e)}readHref(e,t,r){return e?yd(e,r):t.dataURI}writeHref(e,t,r,i){e&&(zp(e)?t.dataURI=e:(t.href=R2(e,i),ms(t.href)&&(t.href=na(t.href))))}clone(){return new oM({href:this.href,primitive:this.primitive})}};u([f({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Xd.prototype,"href",void 0),u([ie("href")],Xd.prototype,"readHref",null),u([ce("href",{href:{type:String},dataURI:{type:String}})],Xd.prototype,"writeHref",null),u([ge(Dfe)],Xd.prototype,"primitive",void 0),Xd=oM=u([E("esri.symbols.support.IconSymbol3DLayerResource")],Xd);const Nfe="circle";var lM;let L0=lM=class extends ye{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new lM({x:this.x,y:this.y})}};u([f({type:Number})],L0.prototype,"x",void 0),u([f({type:Number})],L0.prototype,"y",void 0),L0=lM=u([E("esri.symbols.support.Symbol3DAnchorPosition2D")],L0);var cM;let Ug=cM=class extends Z{constructor(e){super(e),this.color=new re([0,0,0,1]),this.size=oi(1)}clone(){const e={color:C(this.color)?this.color.clone():null,size:this.size};return new cM(e)}};u([f(Id)],Ug.prototype,"color",void 0),u([f(nl)],Ug.prototype,"size",void 0),Ug=cM=u([E("esri.symbols.support.Symbol3DIconOutline")],Ug);var Lh;const jfe=ae.getLogger("esri.symbols.IconSymbol3DLayer");let Io=Lh=class extends cl{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new Lh({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:C(this.material)?this.material.clone():null,outline:C(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Ub,r=JP(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Ub).clone()}:null;return new Lh({size:e.size,resource:{primitive:zfe(e.style)},material:{color:t},outline:i,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||ufe(e.color)?Ub:e.color,r=JP(e);return new Lh({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new Lh({resource:{href:SG({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function JP(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,i=ZP(e.xoffset),n=ZP(e.yoffset);return(i||n)&&t&&r?{x:-i/t,y:n/r}:null}function ZP(e){return isFinite(e)?e:0}u([f({type:bs,json:{write:!0}})],Io.prototype,"material",void 0),u([f({type:Xd,json:{write:!0}})],Io.prototype,"resource",void 0),u([ge({Icon:"icon"},{readOnly:!0})],Io.prototype,"type",void 0),u([f(nl)],Io.prototype,"size",void 0),u([ge({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),f({json:{default:"center"}})],Io.prototype,"anchor",void 0),u([f({type:L0,json:{type:[Number],read:{reader:e=>new L0({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Io.prototype,"anchorPosition",void 0),u([f({type:Ug,json:{write:!0}})],Io.prototype,"outline",void 0),Io=Lh=u([E("esri.symbols.IconSymbol3DLayer")],Io);const Vfe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function zfe(e){return Vfe[e]||(jfe.warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Uu=Io;ae.getLogger("esri.core.Clonable");const Un=e=>{let t=class extends e{clone(){var l;const r=Kne(Vi(this),"unable to clone instance of non-accessor class"),i=r.metadatas,n=r.store,s={},a=new Map;for(const c in i){const d=i[c],p=n==null?void 0:n.originOf(c),h=d.clonable;if(d.readOnly||h===!1||p!==Fe.USER&&p!==Fe.DEFAULTS&&p!==Fe.WEB_MAP&&p!==Fe.WEB_SCENE)continue;const m=this[c];let g=null;g=typeof h=="function"?h(m):h==="reference"?m:zS(m),m!=null&&g==null||(p===Fe.DEFAULTS?a.set(c,g):s[c]=g)}const o=new(Object.getPrototypeOf(this)).constructor(s);if(a.size){const c=(l=Vi(o))==null?void 0:l.store;if(c)for(const[d,p]of a)c.set(d,p,Fe.DEFAULTS)}return o}};return t=u([E("esri.core.Clonable")],t),t};let QP=class extends Un(ye){};QP=u([E("esri.core.Clonable")],QP);let ef=class extends Un(Z){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return C(e)&&e.placement===this.placement&&e.style===this.style&&(B(this.color)&&B(e.color)||C(this.color)&&C(e.color)&&this.color.toJSON()===e.color.toJSON())}};u([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ef.prototype,"type",void 0),u([f({type:ife,json:{default:"begin-end",write:!0}})],ef.prototype,"placement",void 0),u([f({type:lH,json:{default:"arrow",write:!0}})],ef.prototype,"style",void 0),u([f({type:re,json:{type:[Xe],default:null,write:!0}})],ef.prototype,"color",void 0),ef=u([E("esri.symbols.LineStyleMarker3D")],ef);const uM=ef;var x5;let $o=x5=class extends cl{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=oi(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:C(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:C(this.pattern)?this.pattern.clone():null,marker:C(this.marker)?this.marker.clone():null};return new x5(e)}static fromSimpleLineSymbol(e){var r,i,n;const t={enabled:!0,size:(r=e.width)!=null?r:oi(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new VE({style:e.style}):null,material:new bs({color:(e.color||Ub).clone()}),marker:e.marker?new uM({placement:e.marker.placement,style:e.marker.style,color:(n=(i=e.marker.color)==null?void 0:i.clone())!=null?n:null}):null};return new x5(t)}};u([f({type:bs,json:{write:!0}})],$o.prototype,"material",void 0),u([ge({Line:"line"},{readOnly:!0})],$o.prototype,"type",void 0),u([f({type:hH,json:{write:!0,default:"miter"}})],$o.prototype,"join",void 0),u([f({type:UE,json:{write:!0,default:"butt"}})],$o.prototype,"cap",void 0),u([f(nl)],$o.prototype,"size",void 0),u([f(pH)],$o.prototype,"pattern",void 0),u([f({types:{key:"type",base:uM,typeMap:{style:uM}},json:{write:!0}})],$o.prototype,"marker",void 0),$o=x5=u([E("esri.symbols.LineSymbol3DLayer")],$o);const fy=$o;var dM;const Bfe=ir()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Gg=dM=class extends Z{clone(){return new dM({href:this.href,primitive:this.primitive})}};u([f({type:String,json:{read:GE,write:kp}})],Gg.prototype,"href",void 0),u([ge(Bfe)],Gg.prototype,"primitive",void 0),Gg=dM=u([E("esri.symbols.support.ObjectSymbol3DLayerResource")],Gg);const Ufe="sphere";var fM;let Rf=fM=class extends ye{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new fM({x:this.x,y:this.y,z:this.z})}};u([f({type:Number})],Rf.prototype,"x",void 0),u([f({type:Number})],Rf.prototype,"y",void 0),u([f({type:Number})],Rf.prototype,"z",void 0),Rf=fM=u([E("esri.symbols.support.Symbol3DAnchorPosition3D")],Rf);var pM;let Ii=pM=class extends cl{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new pM({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:C(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};u([f({type:bs,json:{write:!0}})],Ii.prototype,"material",void 0),u([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ii.prototype,"castShadows",void 0),u([f({type:Gg,json:{write:!0}})],Ii.prototype,"resource",void 0),u([ge({Object:"object"},{readOnly:!0})],Ii.prototype,"type",void 0),u([f({type:Number,json:{write:!0}})],Ii.prototype,"width",void 0),u([f({type:Number,json:{write:!0}})],Ii.prototype,"height",void 0),u([f({type:Number,json:{write:!0}})],Ii.prototype,"depth",void 0),u([ge({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),f({json:{default:"origin"}})],Ii.prototype,"anchor",void 0),u([f({type:Rf,json:{type:[Number],read:{reader:e=>new Rf({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Ii.prototype,"anchorPosition",void 0),u([f({type:Number,json:{write:!0}})],Ii.prototype,"heading",void 0),u([f({type:Number,json:{write:!0}})],Ii.prototype,"tilt",void 0),u([f({type:Number,json:{write:!0}})],Ii.prototype,"roll",void 0),u([f({readOnly:!0})],Ii.prototype,"isPrimitive",null),Ii=pM=u([E("esri.symbols.ObjectSymbol3DLayer")],Ii);const pw=Ii;var hM;let Zi=hM=class extends cl{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e!=null?e:t.height==null&&t.size!=null?t.size:void 0}readHeight(e,t){return e!=null?e:t.width==null&&t.size!=null?t.size:void 0}clone(){return new hM({enabled:this.enabled,material:C(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};u([f({type:bs,json:{write:!0}})],Zi.prototype,"material",void 0),u([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Zi.prototype,"castShadows",void 0),u([ge({Path:"path"},{readOnly:!0})],Zi.prototype,"type",void 0),u([f({type:["circle","quad"],json:{write:!0,default:"circle"}})],Zi.prototype,"profile",void 0),u([f({type:hH,json:{write:!0,default:"miter"}})],Zi.prototype,"join",void 0),u([f({type:Cfe,json:{write:!0,default:"butt"}})],Zi.prototype,"cap",void 0),u([f({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Zi.prototype,"width",void 0),u([ie("width",["width","size","height"])],Zi.prototype,"readWidth",null),u([f({type:Number,json:{write:!0}})],Zi.prototype,"height",void 0),u([ie("height",["height","size","width"])],Zi.prototype,"readHeight",null),u([f({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Zi.prototype,"anchor",void 0),u([f({type:["heading","all"],json:{write:!0,default:"all"}})],Zi.prototype,"profileRotation",void 0),Zi=hM=u([E("esri.symbols.PathSymbol3DLayer")],Zi);const hw=Zi;var mM;let R0=mM=class extends Z{constructor(){super(...arguments),this.color=new re([0,0,0,1]),this.size=0}clone(){const e={color:D(this.color),size:this.size};return new mM(e)}};u([f(Id)],R0.prototype,"color",void 0),u([f(nl)],R0.prototype,"size",void 0),R0=mM=u([E("esri.symbols.support.Symbol3DHalo")],R0);let qb=class extends Un(Z){constructor(e){super(e),this.color=null}};u([f(Id)],qb.prototype,"color",void 0),qb=u([E("esri.symbols.support.Symbol3DTextBackground")],qb);var M5;let yn=M5=class extends cl{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){C(e)&&C(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,i){const n={...i,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){return C(this._userSize)?this._userSize:C(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,C(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new M5({enabled:this.enabled,font:this.font&&D(this.font),halo:this.halo&&D(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:C(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:D(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new M5({font:C(e.font)?e.font.clone():new fw,halo:Gfe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new bs({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new qb({color:e.backgroundColor.clone()}):null})}};function Gfe(e,t){return e&&t>0?new R0({color:D(e),size:t}):null}u([f({type:fw,json:{write:!0}})],yn.prototype,"font",null),u([ce("font")],yn.prototype,"writeFont",null),u([f({type:R0,json:{write:!0}})],yn.prototype,"halo",void 0),u([f({...yH,json:{default:"center",write:!0}})],yn.prototype,"horizontalAlignment",void 0),u([f({...mH,json:{default:1,write:!0}})],yn.prototype,"lineHeight",void 0),u([f({type:bs,json:{write:!0}})],yn.prototype,"material",void 0),u([f({type:qb,json:{write:!0}})],yn.prototype,"background",void 0),u([f(nl)],yn.prototype,"size",null),u([f({type:String,json:{write:!0}})],yn.prototype,"text",void 0),u([ge({Text:"text"},{readOnly:!0})],yn.prototype,"type",void 0),u([f({...gH,json:{default:"baseline",write:!0}})],yn.prototype,"verticalAlignment",void 0),yn=M5=u([E("esri.symbols.TextSymbol3DLayer")],yn);const py=yn;var yM;let Qc=yM=class extends cl{constructor(e){super(e),this.color=gM.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new yM({color:D(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};u([f({type:re,nonNullable:!0,json:{type:[Xe],write:(e,t,r)=>t[r]=e.toArray(re.AlphaMode.UNLESS_OPAQUE),default:()=>gM.clone(),defaultEquals:e=>e.toCss(!0)===gM.toCss(!0)}})],Qc.prototype,"color",void 0),u([ge({Water:"water"},{readOnly:!0})],Qc.prototype,"type",void 0),u([f({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Qc.prototype,"waterbodySize",void 0),u([f({type:Number,json:{write:!0,default:null}})],Qc.prototype,"waveDirection",void 0),u([f({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Qc.prototype,"waveStrength",void 0),Qc=yM=u([E("esri.symbols.WaterSymbol3DLayer")],Qc);const gM=new re([0,119,190]),vH=Qc;var bM;let tf=bM=class extends ye{constructor(){super(...arguments),this.portal=null}clone(){return new bM({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([f({type:String})],tf.prototype,"name",void 0),u([f({type:String})],tf.prototype,"styleUrl",void 0),u([f({type:String})],tf.prototype,"styleName",void 0),u([f({type:ai})],tf.prototype,"portal",void 0),tf=bM=u([E("esri.symbols.support.StyleOrigin")],tf);const W1=tf;var vM;let lp=vM=class extends ye{clone(){return new vM({url:this.url})}};u([f({type:String})],lp.prototype,"url",void 0),lp=vM=u([E("esri.symbols.support.Thumbnail")],lp);const wH={icon:Uu,object:pw,line:fy,path:hw,fill:Fm,extrude:jE,text:py,water:vH},qfe=Se.ofType({base:cl,key:"type",typeMap:wH,errorContext:"symbol-layer"}),Hfe=ae.getLogger("esri.symbols.Symbol3D");let To=class extends pn{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t&&t.type||Se;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.initialized&&Hfe.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Mp(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const i=yd(e.styleUrl,r);return new W1({styleUrl:i,name:e.name})}if(e.styleName&&e.name)return new W1({portal:r&&r.portal||ai.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new Bi("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,i){if(e.styleUrl&&e.name){let n=R2(e.styleUrl,i);ms(n)&&(n=na(n)),t.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&i&&i.portal&&!vG(e.portal.restUrl,i.portal.restUrl)?i&&i.messages&&i.messages.push(new Bi("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof cl||e&&wH[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};u([f({json:{read:!1,write:!1}})],To.prototype,"color",null),u([f({type:qfe,nonNullable:!0,json:{write:!0}}),Ze(oG)],To.prototype,"symbolLayers",null),u([f({type:W1})],To.prototype,"styleOrigin",void 0),u([ie("styleOrigin")],To.prototype,"readStyleOrigin",null),u([ce("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],To.prototype,"writeStyleOrigin",null),u([f({type:lp,json:{read:!1}})],To.prototype,"thumbnail",void 0),u([f({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],To.prototype,"type",void 0),To=u([E("esri.symbols.Symbol3D")],To);const hy=To;let qg=class extends Z{constructor(e){super(e),this.visible=!0}clone(){}};u([f({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],qg.prototype,"type",void 0),u([f({readOnly:!0})],qg.prototype,"visible",void 0),qg=u([E("esri.symbols.callouts.Callout3D")],qg);const _H=qg;var wM;let I5=wM=class extends Z{constructor(){super(...arguments),this.color=new re("white")}clone(){return new wM({color:D(this.color)})}};u([f(Id)],I5.prototype,"color",void 0),I5=wM=u([E("esri.symbols.callouts.LineCallout3DBorder")],I5);const SH=I5;Object.freeze(Object.defineProperty({__proto__:null,default:SH},Symbol.toStringTag,{value:"Module"}));var _M;let Yc=_M=class extends _H{constructor(e){super(e),this.type="line",this.color=new re([0,0,0,1]),this.size=oi(1),this.border=null}get visible(){return this.size>0&&C(this.color)&&this.color.a>0}clone(){return new _M({color:D(this.color),size:this.size,border:D(this.border)})}};u([ge({line:"line"},{readOnly:!0})],Yc.prototype,"type",void 0),u([f(Id)],Yc.prototype,"color",void 0),u([f(nl)],Yc.prototype,"size",void 0),u([f({type:SH,json:{write:!0}})],Yc.prototype,"border",void 0),u([f({readOnly:!0})],Yc.prototype,"visible",null),Yc=_M=u([E("esri.symbols.callouts.LineCallout3D")],Yc);const Wfe=Yc;function qE(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function xH(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!qE(e)}const MH={types:{key:"type",base:_H,typeMap:{line:Wfe}},json:{write:!0}};var SM;let Pf=SM=class extends Z{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new SM({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([f(nl)],Pf.prototype,"screenLength",void 0),u([f({type:Number,json:{write:!0,default:0}})],Pf.prototype,"minWorldLength",void 0),u([f({type:Number,json:{write:!0}})],Pf.prototype,"maxWorldLength",void 0),Pf=SM=u([E("esri.symbols.support.Symbol3DVerticalOffset")],Pf);var $5;const IH=Se.ofType({base:null,key:"type",typeMap:{text:py}});let Kc=$5=class extends hy{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new IH,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return xH(this)}hasVisibleVerticalOffset(){return qE(this)}clone(){return new $5({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail),callout:D(this.callout),verticalOffset:D(this.verticalOffset)})}static fromTextSymbol(e){return new $5({symbolLayers:[py.fromTextSymbol(e)]})}};u([f({type:Pf,json:{write:!0}})],Kc.prototype,"verticalOffset",void 0),u([f(MH)],Kc.prototype,"callout",void 0),u([f({json:{read:!1,write:!1}})],Kc.prototype,"styleOrigin",void 0),u([f({type:IH})],Kc.prototype,"symbolLayers",void 0),u([ge({LabelSymbol3D:"label-3d"},{readOnly:!0})],Kc.prototype,"type",void 0),Kc=$5=u([E("esri.symbols.LabelSymbol3D")],Kc);const mw=Kc;var T5;const $H=Se.ofType({base:null,key:"type",typeMap:{line:fy,path:hw}}),Jfe=Se.ofType({base:null,key:"type",typeMap:{line:fy,path:hw}});let Hg=T5=class extends hy{constructor(e){super(e),this.symbolLayers=new $H,this.type="line-3d"}clone(){return new T5({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleLineSymbol(e){return new T5({symbolLayers:[fy.fromSimpleLineSymbol(e)]})}};u([f({type:$H,json:{type:Jfe}})],Hg.prototype,"symbolLayers",void 0),u([ge({LineSymbol3D:"line-3d"},{readOnly:!0})],Hg.prototype,"type",void 0),Hg=T5=u([E("esri.symbols.LineSymbol3D")],Hg);const Dm=Hg;let Xc=class extends pn{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([f({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Xc.prototype,"angle",void 0),u([f({type:["simple-marker","picture-marker"],readOnly:!0})],Xc.prototype,"type",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Xc.prototype,"xoffset",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Xc.prototype,"yoffset",void 0),u([f({type:Number,cast:e=>e==="auto"?e:Ye(e),json:{write:!0}})],Xc.prototype,"size",void 0),Xc=u([E("esri.symbols.MarkerSymbol")],Xc);const TH=Xc;var xM;const CH=Se.ofType({base:null,key:"type",typeMap:{fill:Fm}});let Wg=xM=class extends hy{constructor(e){super(e),this.symbolLayers=new CH,this.type="mesh-3d"}clone(){return new xM({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}};u([f({type:CH})],Wg.prototype,"symbolLayers",void 0),u([ge({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Wg.prototype,"type",void 0),Wg=xM=u([E("esri.symbols.MeshSymbol3D")],Wg);const yw=Wg;function Zfe(e,t,r){return t.imageData?SG({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):EH(t.url,r)}function EH(e,t){return Yfe(t)&&!ms(e)&&t.layer.parsedUrl?hd(t.layer.parsedUrl.path,"images",e):yd(e,t)}function Qfe(e,t,r,i){if(zp(e)){const n=_G(e);t.contentType=n.mediaType,t.imageData=n.data,r&&r.imageData===t.imageData&&r.url&&kp(r.url,t,"url",i)}else kp(e,t,"url",i)}const kH={json:{read:{source:["imageData","url"],reader:Zfe},write:{writer(e,t,r,i){Qfe(e,t,this.source,i)}}}},AH={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=EH(t.url,r)),i}}}};function Yfe(e){return e&&(e.origin==="service"||e.origin==="portal-item")&&e.layer&&(e.layer.type==="feature"||e.layer.type==="stream")}var MM;let Ns=MM=class extends cH{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),r!=null&&(n.width=Ye(r)),i!=null&&(n.height=Ye(i)),n}clone(){const e=new MM({color:D(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",D(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([ge({esriPFS:"picture-fill"},{readOnly:!0})],Ns.prototype,"type",void 0),u([f(kH)],Ns.prototype,"url",void 0),u([f({type:Number,json:{write:!0}})],Ns.prototype,"xscale",void 0),u([f({type:Number,json:{write:!0}})],Ns.prototype,"yscale",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Ns.prototype,"width",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Ns.prototype,"height",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Ns.prototype,"xoffset",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Ns.prototype,"yoffset",void 0),u([f(AH)],Ns.prototype,"source",void 0),Ns=MM=u([E("esri.symbols.PictureFillSymbol")],Ns);const LH=Ns;var IM;let $a=IM=class extends TH{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=Ye(t)),r!=null&&(i.height=Ye(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new IM({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",D(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([f({json:{write:!1}})],$a.prototype,"color",void 0),u([ge({esriPMS:"picture-marker"},{readOnly:!0})],$a.prototype,"type",void 0),u([f(kH)],$a.prototype,"url",void 0),u([f(AH)],$a.prototype,"source",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],$a.prototype,"height",void 0),u([ie("height",["height","size"])],$a.prototype,"readHeight",null),u([f({type:Number,cast:Ye,json:{write:!0}})],$a.prototype,"width",void 0),u([f({json:{write:!1}})],$a.prototype,"size",void 0),$a=IM=u([E("esri.symbols.PictureMarkerSymbol")],$a);const cp=$a;var eu;const RH=Se.ofType({base:null,key:"type",typeMap:{icon:Uu,object:pw,text:py}});let rf=eu=class extends hy{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new RH,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return xH(this)}hasVisibleVerticalOffset(){return qE(this)}clone(){return new eu({verticalOffset:D(this.verticalOffset),callout:D(this.callout),styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new eu({symbolLayers:[Uu.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new eu({symbolLayers:[Uu.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var r,i;return((i=(r=e.data)==null?void 0:r.symbol)==null?void 0:i.type)!=="CIMPointSymbol"?null:e.data.symbol.callout?new eu({symbolLayers:[Uu.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new eu({symbolLayers:[Uu.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new eu({symbolLayers:[py.fromTextSymbol(e)]})}};u([f({type:Pf,json:{write:!0}})],rf.prototype,"verticalOffset",void 0),u([f(MH)],rf.prototype,"callout",void 0),u([f({type:RH,json:{origins:{"web-scene":{write:!0}}}})],rf.prototype,"symbolLayers",void 0),u([ge({PointSymbol3D:"point-3d"},{readOnly:!0})],rf.prototype,"type",void 0),rf=eu=u([E("esri.symbols.PointSymbol3D")],rf);const ic=rf;var Jg;const PH=Se.ofType({base:null,key:"type",typeMap:{extrude:jE,fill:Fm,icon:Uu,line:fy,object:pw,text:py,water:vH}});let Zg=Jg=class extends hy{constructor(e){super(e),this.symbolLayers=new PH,this.type="polygon-3d"}clone(){return new Jg({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromJSON(e){const t=new Jg;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const r=t.symbolLayers.getItemAt(0),i=t.symbolLayers.getItemAt(1);!i.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:i.size,color:C(i.material)?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Jg({symbolLayers:[Fm.fromSimpleFillSymbol(e)]})}};u([f({type:PH,json:{write:!0}})],Zg.prototype,"symbolLayers",void 0),u([ge({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Zg.prototype,"type",void 0),Zg=Jg=u([E("esri.symbols.PolygonSymbol3D")],Zg);const Ap=Zg;var $M;const a7=new Le({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let nf=$M=class extends cH{constructor(...e){super(...e),this.color=new re([0,0,0,.25]),this.outline=new qi,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t&&(i.outline=t),r&&(i.color=r),i}clone(){return new $M({color:D(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([f()],nf.prototype,"color",void 0),u([f()],nf.prototype,"outline",void 0),u([ge({esriSFS:"simple-fill"},{readOnly:!0})],nf.prototype,"type",void 0),u([f({type:a7.apiValues,json:{read:a7.read,write:a7.write}})],nf.prototype,"style",void 0),nf=$M=u([E("esri.symbols.SimpleFillSymbol")],nf);const po=nf;var TM;const o7=new Le({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Co=TM=class extends TH{constructor(...e){super(...e),this.color=new re([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new qi}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=Ye(t)),r&&(n.outline=r),i&&(n.color=i),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new TM({angle:this.angle,color:D(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};u([f()],Co.prototype,"color",void 0),u([ce("color")],Co.prototype,"writeColor",null),u([ge({esriSMS:"simple-marker"},{readOnly:!0})],Co.prototype,"type",void 0),u([f()],Co.prototype,"size",void 0),u([f({type:o7.apiValues,json:{read:o7.read,write:o7.write}})],Co.prototype,"style",void 0),u([f({type:String,json:{write:!0}})],Co.prototype,"path",null),u([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":qi}},json:{default:null,write:!0}})],Co.prototype,"outline",void 0),Co=TM=u([E("esri.symbols.SimpleMarkerSymbol")],Co);const Ni=Co;var CM;let Rt=CM=class extends pn{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new fw,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.text=e),t&&(i.font=t),r&&(i.color=r),i}writeLineWidth(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}castLineWidth(e){return Ye(e)}writeLineHeight(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}clone(){return new CM({angle:this.angle,backgroundColor:D(this.backgroundColor),borderLineColor:D(this.borderLineColor),borderLineSize:this.borderLineSize,color:D(this.color),font:this.font&&this.font.clone(),haloColor:D(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([f({type:re,json:{write:!0}})],Rt.prototype,"backgroundColor",void 0),u([f({type:re,json:{write:!0}})],Rt.prototype,"borderLineColor",void 0),u([f({type:Number,json:{write:!0}})],Rt.prototype,"borderLineSize",void 0),u([f({type:fw,json:{write:!0}})],Rt.prototype,"font",void 0),u([f({...yH,json:{write:!0}})],Rt.prototype,"horizontalAlignment",void 0),u([f({type:Boolean,json:{write:!0}})],Rt.prototype,"kerning",void 0),u([f({type:re,json:{write:!0}})],Rt.prototype,"haloColor",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Rt.prototype,"haloSize",void 0),u([f({type:Boolean,json:{write:!0}})],Rt.prototype,"rightToLeft",void 0),u([f({type:Boolean,json:{write:!0}})],Rt.prototype,"rotated",void 0),u([f({type:String,json:{write:!0}})],Rt.prototype,"text",void 0),u([ge({esriTS:"text"},{readOnly:!0})],Rt.prototype,"type",void 0),u([f({...gH,json:{write:!0}})],Rt.prototype,"verticalAlignment",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Rt.prototype,"xoffset",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Rt.prototype,"yoffset",void 0),u([f({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Rt.prototype,"angle",void 0),u([f({type:Number,json:{write:!0}})],Rt.prototype,"width",void 0),u([f({type:Number})],Rt.prototype,"lineWidth",void 0),u([ce("lineWidth")],Rt.prototype,"writeLineWidth",null),u([Ze("lineWidth")],Rt.prototype,"castLineWidth",null),u([f(mH)],Rt.prototype,"lineHeight",void 0),u([ce("lineHeight")],Rt.prototype,"writeLineHeight",null),Rt=CM=u([E("esri.symbols.TextSymbol")],Rt);const my=Rt;var EM;const Kfe=ae.getLogger("esri.symbols.WebStyleSymbol");let Ta=EM=class extends pn{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get fetchCacheKey(){const e=C(this.portal)?this.portal:ai.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?t.portal:void 0,super.read(e,t)}clone(){return new EM({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=C(t)?t.cache:null,i=r?this.fetchCacheKey:null;if(C(r)){const o=r.get(i);if(o)return o.clone()}const n=await Xfe();Ge(t);const s=n.resolveWebStyleSymbol(this,{portal:this.portal},e,t);s.catch(o=>{Kfe.error("#fetchSymbol()","Failed to create symbol from style",o)});const a=await s;return e==="webRef"&&a.type==="point-3d"||e==="cimRef"&&a.type==="cim"?(C(r)&&r.set(i,a.clone()),a):null}};function Xfe(){return Y(()=>Promise.resolve().then(()=>Nxe),void 0,import.meta.url)}u([f({json:{write:!1}})],Ta.prototype,"color",void 0),u([f({type:String,json:{write:!0}})],Ta.prototype,"styleName",void 0),u([f({type:ai,json:{write:!1}})],Ta.prototype,"portal",void 0),u([f({type:String,json:{read:GE,write:kp}})],Ta.prototype,"styleUrl",void 0),u([f({type:lp,json:{read:!1}})],Ta.prototype,"thumbnail",void 0),u([f({type:String,json:{write:!0}})],Ta.prototype,"name",void 0),u([ge({styleSymbolReference:"web-style"},{readOnly:!0})],Ta.prototype,"type",void 0),u([f()],Ta.prototype,"fetchCacheKey",null),Ta=EM=u([E("esri.symbols.WebStyleSymbol")],Ta);const qp=Ta;function gw(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function sl(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const up={base:pn,key:"type",typeMap:{"simple-fill":po,"picture-fill":LH,"picture-marker":cp,"simple-line":qi,"simple-marker":Ni,text:my,"label-3d":mw,"line-3d":Dm,"mesh-3d":yw,"point-3d":ic,"polygon-3d":Ap,"web-style":qp,cim:L2},errorContext:"symbol"},epe={base:pn,key:"type",typeMap:{"picture-marker":cp,"simple-marker":Ni,text:my,"web-style":qp,cim:L2},errorContext:"symbol"},tpe=ay({types:up}),OH={base:pn,key:"type",typeMap:{"simple-fill":po,"picture-fill":LH,"picture-marker":cp,"simple-line":qi,"simple-marker":Ni,text:my,"line-3d":Dm,"mesh-3d":yw,"point-3d":ic,"polygon-3d":Ap,"web-style":qp,cim:L2},errorContext:"symbol"},rpe={base:pn,key:"type",typeMap:{text:my,"label-3d":mw},errorContext:"symbol"},YP={base:pn,key:"type",typeMap:{"line-3d":Dm,"mesh-3d":yw,"point-3d":ic,"polygon-3d":Ap,"web-style":qp,cim:L2},errorContext:"symbol"},ipe={base:pn,key:"type",typeMap:{"label-3d":mw},errorContext:"symbol"},FH=Xo(up);function npe(e){if(!e)return null;const t={};for(const r in e){const i=tl(e[r]);i&&(t[r]=i)}return Object.keys(t).length!==0?t:null}function spe(e){if(!C(e))return null;const t={};for(const r in e){const i=e[r];i&&(t[r]=i.toJSON())}return Object.keys(t).length!==0?t:null}let gn=class extends Un(Z){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Db(),configurable:!0})}normalizeCtorArgs(e,t,r,i){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:i}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&C(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:spe(this.aggregateGeometries),geometry:C(this.geometry)?this.geometry.toJSON():null,symbol:C(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){C(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,r,i){if(!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:r};e==="attributes"&&(n.attributeName=i),this.layer.graphicChanged(n)}};u([f({value:null,json:{read:npe}})],gn.prototype,"aggregateGeometries",null),u([f({value:null})],gn.prototype,"attributes",null),u([f({value:null,types:xc,json:{read:tl}})],gn.prototype,"geometry",null),u([f({type:Boolean})],gn.prototype,"isAggregate",void 0),u([f({clonable:"reference"})],gn.prototype,"layer",void 0),u([f({type:Gp})],gn.prototype,"popupTemplate",void 0),u([f({clonable:"reference"})],gn.prototype,"sourceLayer",void 0),u([f({value:null,types:up})],gn.prototype,"symbol",null),u([f({type:Boolean,value:!0})],gn.prototype,"visible",null),gn=u([E("esri.Graphic")],gn),function(e){e.generateUID=Db}(gn||(gn={}));const vi=gn;class HE{constructor(t,r){this.min=t,this.max=r,this.range=r-t}ndiff(t,r=0){return Math.ceil((t-r)/this.range)*this.range+r}_normalize(t,r,i,n=0,s=!1){return(i-=n)<t?i+=this.ndiff(t-i):i>r&&(i-=this.ndiff(i-r)),s&&i===r&&(i=t),i+n}normalize(t,r=0,i=!1){return this._normalize(this.min,this.max,t,r,i)}clamp(t,r=0){return zn(t-r,this.min,this.max)+r}monotonic(t,r,i){return t<r?r:r+this.ndiff(t-r,i)}minimalMonotonic(t,r,i){return this._normalize(t,t+this.range,r,i)}center(t,r,i){return r=this.monotonic(t,r,i),this.normalize((t+r)/2,i)}diff(t,r,i){return this.monotonic(t,r,i)-t}shortestSignedDiff(t,r){t=this.normalize(t);const i=(r=this.normalize(r))-t,n=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(i)<Math.abs(n)?i:n}contains(t,r,i){return r=this.minimalMonotonic(t,r),(i=this.minimalMonotonic(t,i))>t&&i<r}}function WE(e){for(const t in e){const r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}WE(new HE(0,2*Math.PI));WE(new HE(-Math.PI,Math.PI));const ape=WE(new HE(0,360));let El=class extends Un(Z){constructor(...e){super(...e),this.position=new be([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,r,i){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const n={position:e};return t!=null&&(n.heading=t),r!=null&&(n.tilt=r),i!=null&&(n.fov=i),n}return e}writePosition(e,t,r,i){const n=e.clone();n.x=ds(e.x||0),n.y=ds(e.y||0),n.z=e.hasZ?ds(e.z||0):e.z,t[r]=n.write({},i)}readPosition(e,t){const r=new be;return r.read(e,t),r.x=ds(r.x||0),r.y=ds(r.y||0),r.z=r.hasZ?ds(r.z||0):r.z,r}equals(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}};u([f({type:be,json:{write:{isRequired:!0}}})],El.prototype,"position",void 0),u([ce("position")],El.prototype,"writePosition",null),u([ie("position")],El.prototype,"readPosition",null),u([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ze(e=>ape.normalize(ds(e)))],El.prototype,"heading",void 0),u([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ze(e=>zn(ds(e),-180,180))],El.prototype,"tilt",void 0),u([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],El.prototype,"fov",void 0),El=u([E("esri.Camera")],El);const ope=El;var kM;let tu=kM=class extends Z{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new kM({rotation:this.rotation,scale:this.scale,targetGeometry:C(this.targetGeometry)?this.targetGeometry.clone():null,camera:C(this.camera)?this.camera.clone():null})}};function l7(){return{enabled:!this.camera}}u([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:l7}}}}})],tu.prototype,"rotation",void 0),u([Ze("rotation")],tu.prototype,"castRotation",null),u([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:l7}}}}})],tu.prototype,"scale",void 0),u([f({types:xc,json:{read:tl,write:!0,origins:{"web-scene":{read:tl,write:{overridePolicy:l7}}}}})],tu.prototype,"targetGeometry",void 0),u([f({type:ope,json:{write:!0}})],tu.prototype,"camera",void 0),tu=kM=u([E("esri.Viewpoint")],tu);const so=tu;class S4{constructor(t=r=>r.values().next().value){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(this._items.size===0)return;let t;for(t of this._items);return t}peek(){if(this._items.size!==0)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),t}remove(t){this._items.delete(t)}filter(t){return this._items.forEach(r=>{t(r)||this._items.delete(r)}),this}}var ln;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(ln||(ln={}));let lpe=0;function DH(){return lpe++}function cpe(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function x4(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function NH(e,t,r,i){if(t.type===ln.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==ln.INVOKE&&t.type!==ln.RESPONSE)return void e.postMessage(t);let n;cpe(r)?(n=KP(r.transferList),t.data=r.result):(n=KP(i),t.data=r),n?e.postMessage(t,n):e.postMessage(t)}function J1(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function KP(e){if(!e||!e.length)return null;if(W("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!upe(r));return t.length?t:null}function upe(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const dpe={statsWorker:()=>Y(()=>Promise.resolve().then(()=>IEe),void 0,import.meta.url),geometryEngineWorker:()=>Y(()=>import("./geometryEngineWorker.06591522.js"),["geometryEngineWorker.06591522.js","geometryEngineJSON.5a1f200e.js","geometryEngineBase.0f0d7ecf.js","json.8bd707cf.js"],import.meta.url),CSVSourceWorker:()=>Y(()=>import("./CSVSourceWorker.de763125.js"),["CSVSourceWorker.de763125.js","json.8bd707cf.js","FeatureStore.57891721.js","PooledRBush.4700e5f0.js","centroid.87389c2d.js","projectionSupport.19c2bea2.js","QueryEngine.32d75582.js","QueryEngineResult.06be2330.js","WhereClause.38a89403.js","utils.5fa49276.js","timeSupport.88640d84.js"],import.meta.url),EdgeProcessingWorker:()=>Y(()=>import("./EdgeProcessingWorker.6cc443b6.js"),["EdgeProcessingWorker.6cc443b6.js","deduplicate.bd5e5d05.js","InterleavedLayout.22b26b78.js","BufferView.e4fb5d53.js","types.96e4017d.js","VertexAttribute.c697ed2b.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js"],import.meta.url),ElevationSamplerWorker:()=>Y(()=>import("./ElevationSamplerWorker.dd259696.js"),["ElevationSamplerWorker.dd259696.js","PooledRBush.4700e5f0.js","georeference.0fdf75b4.js","quatf64.2f917dd7.js","mat4f64.0958f530.js","quat.af7ab8fb.js","BufferView.e4fb5d53.js","vec33.3b1d0816.js"],import.meta.url),FeatureServiceSnappingSourceWorker:()=>Y(()=>import("./FeatureServiceSnappingSourceWorker.4994950a.js"),["FeatureServiceSnappingSourceWorker.4994950a.js","FeatureStore.57891721.js","PooledRBush.4700e5f0.js","centroid.87389c2d.js","QueryEngine.32d75582.js","QueryEngineResult.06be2330.js","WhereClause.38a89403.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","utils.5fa49276.js","timeSupport.88640d84.js"],import.meta.url),GeoJSONSourceWorker:()=>Y(()=>import("./GeoJSONSourceWorker.080770ba.js"),["GeoJSONSourceWorker.080770ba.js","FeatureStore.57891721.js","PooledRBush.4700e5f0.js","centroid.87389c2d.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","QueryEngine.32d75582.js","QueryEngineResult.06be2330.js","WhereClause.38a89403.js","utils.5fa49276.js","timeSupport.88640d84.js","geojson.8da70526.js","sourceUtils.6084c1ee.js"],import.meta.url),LercWorker:()=>Y(()=>import("./LercWorker.b0cb747a.js"),[],import.meta.url),MemorySourceWorker:()=>Y(()=>import("./MemorySourceWorker.9062d2ac.js"),["MemorySourceWorker.9062d2ac.js","objectIdUtils.5d771dff.js","FeatureStore.57891721.js","PooledRBush.4700e5f0.js","centroid.87389c2d.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","QueryEngine.32d75582.js","QueryEngineResult.06be2330.js","WhereClause.38a89403.js","utils.5fa49276.js","timeSupport.88640d84.js","sourceUtils.6084c1ee.js"],import.meta.url),PBFDecoderWorker:()=>Y(()=>import("./PBFDecoderWorker.71a8d60c.js"),[],import.meta.url),Pipeline:()=>Y(()=>import("./Pipeline.8be5f8af.js"),["Pipeline.8be5f8af.js","QueryEngine.32d75582.js","QueryEngineResult.06be2330.js","WhereClause.38a89403.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","utils.5fa49276.js","timeSupport.88640d84.js","FeatureStore2D.f37188fc.js","CircularArray.b67074d5.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","enums.9bd521fc.js","visualVariablesUtils.3b6fdf98.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","visualVariablesUtils.e34b6b98.js","ogcFeatureUtils.0c1e9458.js","geojson.8da70526.js"],import.meta.url),PointCloudWorker:()=>Y(()=>import("./PointCloudWorker.87f09f80.js"),["PointCloudWorker.87f09f80.js","quat.af7ab8fb.js","quatf64.2f917dd7.js","vec3f32.ca7a14c1.js","VertexAttribute.c697ed2b.js"],import.meta.url),RasterWorker:()=>Y(()=>import("./RasterWorker.583f70c9.js"),["RasterWorker.583f70c9.js","rasterProjectionHelper.1279bba3.js","utils.01d71b21.js"],import.meta.url),SceneLayerSnappingSourceWorker:()=>Y(()=>import("./SceneLayerSnappingSourceWorker.e37bd03f.js"),["SceneLayerSnappingSourceWorker.e37bd03f.js","lineSegment.c15fb2a5.js","vectorStacks.5491bbd6.js","quatf64.2f917dd7.js","mat4f64.0958f530.js","sphere.e565f582.js","QueryEngineResult.06be2330.js","WhereClause.38a89403.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","utils.5fa49276.js","EdgeProcessingWorker.6cc443b6.js","deduplicate.bd5e5d05.js","InterleavedLayout.22b26b78.js","BufferView.e4fb5d53.js","types.96e4017d.js","VertexAttribute.c697ed2b.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js"],import.meta.url),SceneLayerWorker:()=>Y(()=>import("./SceneLayerWorker.b5e46976.js"),["SceneLayerWorker.b5e46976.js","sphere.e565f582.js","vectorStacks.5491bbd6.js","quatf64.2f917dd7.js","mat4f64.0958f530.js"],import.meta.url),WFSSourceWorker:()=>Y(()=>import("./WFSSourceWorker.d2d17ff6.js"),["WFSSourceWorker.d2d17ff6.js","FeatureStore.57891721.js","PooledRBush.4700e5f0.js","centroid.87389c2d.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","QueryEngine.32d75582.js","QueryEngineResult.06be2330.js","WhereClause.38a89403.js","utils.5fa49276.js","timeSupport.88640d84.js","geojson.8da70526.js","sourceUtils.6084c1ee.js","wfsUtils.491af198.js","xmlUtils.fe1322c5.js"],import.meta.url),WorkerTileHandler:()=>Y(()=>import("./WorkerTileHandler.7856ec7c.js"),["WorkerTileHandler.7856ec7c.js","enums.58eeda20.js","GeometryUtils.f3664fe1.js","BidiEngine.95523203.js","config.ded6d251.js","StyleDefinition.d46cb482.js","enums.9bd521fc.js","Geometry.f2d62961.js","TileClipper.5b46af68.js","GeometryUtils.b4d0dc88.js","StyleRepository.cdd403c4.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js","earcut.f65e2fcc.js"],import.meta.url)},{CLOSE:XP,ABORT:eO,INVOKE:tO,RESPONSE:Zy,OPEN_PORT:rO,ON:fpe}=ln,ppe=2;class hpe{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===ln.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class En{constructor(t,r,i){this._port=t,this._getNextJob=i,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new hpe(n=>this._onInvokeMessage(n)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(t){const r=new MessageChannel;let i;i=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const n=new En(r.port1,{channel:r,client:i},()=>null);return typeof i=="object"&&"remoteClient"in i&&(i.remoteClient=n),En.clients.set(n,i),r.port2}static loadWorker(t){const r=dpe[t];return r?r():Promise.resolve(null)}close(){this._post({type:XP}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,i){const n=i&&i.signal,s=i&&i.transferList;if(!this._port)return Promise.reject(new R("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const a=DH();return new Promise((o,l)=>{if(la(n))return this._processWork(),void l(Nt());const c=ca(n,()=>{const p=this._outJobs.get(a);p&&(this._outJobs.delete(a),this._processWork(),On(p.abortHandle),this._post({type:eO,jobId:a}),l(Nt()))}),d={resolve:o,reject:l,abortHandle:c,debugInfo:t};this._outJobs.set(a,d),this._post({type:tO,jobId:a,methodName:t,abortable:n!=null},r,s)})}on(t,r){const i=new MessageChannel;function n(s){r(s.data)}return this._port.postMessage({type:ln.ON,eventType:t,port:i.port2},[i.port2]),i.port1.addEventListener("message",n),i.port1.start(),{remove(){i.port1.postMessage({type:ln.CLOSE}),i.port1.close(),i.port1.removeEventListener("message",n)}}}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:rO,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=ppe)return;const t=this._getNextJob();if(!t)return;const{methodName:r,data:i,invokeOptions:n,deferred:s}=t;this.invoke(r,i,n).then(a=>s.resolve(a)).catch(a=>s.reject(a))}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{On(t.abortHandle),t.reject(Nt(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){C(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const r=J1(t);if(r)switch(r.type){case Zy:this._onResponseMessage(r);break;case tO:this._invokeQueue.push(r);break;case eO:this._onAbortMessage(r);break;case XP:this._onCloseMessage();break;case rO:this._onOpenPortMessage(r);break;case fpe:this._onOnMessage(r)}}_onAbortMessage(t){const r=this._inJobs,i=t.jobId,n=r.get(i);this._invokeQueue.push(t),n&&(n.controller&&n.controller.abort(),r.delete(i))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&En.clients.get(this)===t&&t.destroy(),En.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:i,data:n,abortable:s}=t,a=s?new AbortController:null,o=this._inJobs;let l,c=this._client,d=c[r];try{if(!d&&r&&r.includes(".")){const p=r.split(".");for(let h=0;h<p.length-1;h++)c=c[p[h]],d=c[p[h+1]]}if(typeof d!="function")throw new TypeError(`${r} is not a function`);l=d.call(c,n,{client:this,signal:a?a.signal:null})}catch(p){return void this._post({type:Zy,jobId:i,error:x4(p)})}_c(l)?(o.set(i,{controller:a,promise:l}),l.then(p=>{o.has(i)&&(o.delete(i),this._post({type:Zy,jobId:i},p))},p=>{o.has(i)&&(o.delete(i),zi(p)||this._post({type:Zy,jobId:i,error:x4(p||{message:`Error encountered at method ${r}`})}))})):this._post({type:Zy,jobId:i},l)}_onOpenPortMessage(t){new En(t.port,{client:this._client},()=>null)}_onOnMessage(t){const{port:r}=t,i=this._client.on(t.eventType,s=>{r.postMessage(s)}),n=W6(t.port,"message",s=>{J1(s).type===ln.CLOSE&&(n.remove(),i.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:i,data:n}=t,s=this._outJobs;if(!s.has(r))return;const a=s.get(r);this._processWork(),s.delete(r),On(a.abortHandle),i?a.reject(R.fromJSON(JSON.parse(i))):a.resolve(n)}_post(t,r,i){return NH(this._port,t,r,i)}}En.kernelInfo={revision:kG,version:AG,buildDate:EG},En.clients=new Map;const mpe=ae.getLogger("esri.core.workers.Connection");class ype{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new S4}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,r){return new Promise((i,n)=>{let s=!0;const a=o=>{Ge(r.signal),s&&(s=!1,o())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let o=0;o<t.length;++o){const l=t[o];_c(l)?this._clientPromises[o]=l.then(c=>(this._clients[o]=new En(c,r,()=>this._ongoingJobsQueue.pop()),a(i),this._clients[o]),()=>(a(n),null)):(this._clients[o]=new En(l,r,()=>this._ongoingJobsQueue.pop()),this._clientPromises[o]=Promise.resolve(this._clients[o]),a(i))}})}broadcast(t,r,i){const n=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const a=this._clientPromises[s];n[s]=a.then(o=>o.invoke(t,r,i))}return n}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.deferred.reject(Nt(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(i=>i.close());this._clients.length=0,this._clientPromises.length=0}invoke(t,r,i){let n=null;Array.isArray(i)?(mpe.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:i}):n=i;const s=yc();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:n,deferred:s});for(let a=0;a<this._clientPromises.length;a++){const o=this._clients[a];o?o.jobAdded():this._clientPromises[a].then(l=>l.jobAdded())}return s.promise}on(t,r){return Promise.all(this._clientPromises).then(()=>U6(this._clients.map(i=>i.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let i=r.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(s=>{r[n]=s.openPort(),--i==0&&t(r)})})}get test(){return{numClients:this._clients.length}}}const jH=ae.getLogger("esri.intl");function Ws(e,t,r={}){const{format:i={}}=r;return Ko(e,n=>gpe(n,t,i))}function gpe(e,t,r){let i,n;const s=e.indexOf(":");if(s===-1?i=e.trim():(i=e.slice(0,s).trim(),n=e.slice(s+1).trim()),!i)return"";const a=iy(i,t);if(a==null)return"";const o=r[n]||r[i];return o?bpe(a,o):n?vpe(a,n):JE(a)}function bpe(e,t){switch(t.type){case"date":return rl(e,t.intlOptions);case"number":return il(e,t.intlOptions);default:return jH.warn("missing format descriptor for key {key}"),JE(e)}}function vpe(e,t){switch(t.toLowerCase()){case"dateformat":return rl(e);case"numberformat":return il(e);default:return jH.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?rl(e):/^numberformat/i.test(t)?il(e):JE(e)}}function JE(e){switch(typeof e){case"string":return e;case"number":return il(e);case"boolean":return""+e;default:return e instanceof Date?rl(e):""}}async function wpe(e,t,r,i){const n=t.exec(r);if(!n)throw new R("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=n[1]?`${n[1]}/`:"",a=n[2],o=Ule(i),l=`${s}${a}.json`,c=o?`${s}${a}_${o}.json`:l;let d;try{d=await iO(e(c))}catch(p){if(c===l)throw new R("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:p});try{d=await iO(e(l))}catch(h){throw new R("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:h})}}return d}async function iO(e){if(C(nO.fetchBundleAsset))return nO.fetchBundleAsset(e);const t=await $e(e,{responseType:"text"});return JSON.parse(t.data)}class _pe{constructor({base:t="",pattern:r,location:i=new URL(window.location.href)}){let n;n=typeof i=="string"?s=>new URL(s,new URL(i,window.location.href)).href:i instanceof URL?s=>new URL(s,i).href:i,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return wpe(this.getAssetUrl,this.matcher,t,r)}}function Spe(e){return new _pe(e)}const nO={};Ble(Spe({pattern:"esri/",location:Qe}));const sO={};function xpe(e,t){for(const r of e)if(r.name===t.name)return;e.push(t)}function Mpe(e){var r;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages&&e.packages.concat()||[],paths:{...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=sO.baseUrl),(r=sO.packages)==null||r.forEach(i=>{xpe(t.packages,i)}),t}class Ipe{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...i)=>t[r](...i)})}}class C5{constructor(){this._dispatcher=new Ipe,this._workerPostMessage({type:ln.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){X9(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,i){this._dispatcher.addEventListener(t,r,i)}removeEventListener(t,r,i){this._dispatcher.removeEventListener(t,r,i)}_workerPostMessage(t){X9(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=J1(t);if(r&&r.type===ln.OPEN){const{modulePath:i,jobId:n}=r;let s=await En.loadWorker(i);s||(s=await Y(()=>import(i),[],import.meta.url));const a=En.connect(s);this._workerPostMessage({type:ln.OPENED,jobId:n,data:a})}}}const AM=ae.getLogger("esri.core.workers"),{HANDSHAKE:$pe}=ln,Tpe='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let O3,F3;const aO="Failed to create Worker. Fallback to execute module in main thread";async function Cpe(){if(!W("esri-workers")||(W("mozilla"),0))return oO(new C5);if(!O3&&!F3)try{const t=Tpe.replace('"{CONFIGURATION}"',`'${Epe()}'`);O3=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){F3=t||{}}let e;if(O3)try{e=new Worker(O3,{name:"esri-worker-"+kpe++})}catch{AM.warn(aO,F3),e=new C5}else AM.warn(aO,F3),e=new C5;return oO(e)}async function oO(e){return new Promise(t=>{function r(n){const s=J1(n);s&&s.type===$pe&&(e.removeEventListener("message",r),e.removeEventListener("error",i),t(e))}function i(n){n.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",i),AM.warn("Failed to create Worker. Fallback to execute module in main thread",n),(e=new C5).addEventListener("message",r),e.addEventListener("error",i)}e.addEventListener("message",r),e.addEventListener("error",i)})}function Epe(){let e;if(rt.default!=null){const n={...rt};delete n.default,e=JSON.parse(JSON.stringify(n))}else e=JSON.parse(JSON.stringify(rt));e.assetsPath=Ya(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=gs(),e.has={"esri-csp-restrictions":W("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":W("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":W("esri-2d-query-centroid-enabled"),"featurelayer-pbf":W("featurelayer-pbf"),"featurelayer-simplify-thresholds":W("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":W("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":W("featurelayer-simplify-mobile-factor"),"esri-atomics":W("esri-atomics"),"esri-shared-array-buffer":W("esri-shared-array-buffer"),"esri-tiles-debug":W("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":W("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":W("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Ya(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Ya(e.workers.workerPath):e.workers.workerPath=Ya(Qe("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=rt.workers.loaderConfig,r=Mpe({baseUrl:t==null?void 0:t.baseUrl,locale:gs(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]}),i={version:AG,buildDate:EG,revision:kG};return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:i})}let kpe=0;const Ape=ae.getLogger("esri.core.workers"),{ABORT:lO,INVOKE:Lpe,OPEN:Rpe,OPENED:Ppe,RESPONSE:Qy}=ln;class ZE{constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",i=>{i.preventDefault(),Ape.error(i)})}static async create(t){const r=await Cpe();return new ZE(r,t)}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:i}=r,n=DH();return new Promise((s,a)=>{const o={resolve:s,reject:a,abortHandle:QC(i,()=>{this._outJobs.delete(n),this._post({type:lO,jobId:n})})};this._outJobs.set(n,o),this._post({type:Rpe,jobId:n,modulePath:t})})}_onMessage(t){const r=J1(t);if(r)switch(r.type){case Ppe:this._onOpenedMessage(r);break;case Qy:this._onResponseMessage(r);break;case lO:this._onAbortMessage(r);break;case Lpe:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,i=t.jobId,n=r.get(i);n&&(n.controller&&n.controller.abort(),r.delete(i))}_onInvokeMessage(t){const{methodName:r,jobId:i,data:n,abortable:s}=t,a=s?new AbortController:null,o=this._inJobs,l=Hoe[r];let c;try{if(typeof l!="function")throw new TypeError(`${r} is not a function`);c=l.call(null,n,{signal:a?a.signal:null})}catch(d){return void this._post({type:Qy,jobId:i,error:x4(d)})}_c(c)?(o.set(i,{controller:a,promise:c}),c.then(d=>{o.has(i)&&(o.delete(i),this._post({type:Qy,jobId:i},d))},d=>{o.has(i)&&(o.delete(i),d||(d={message:"Error encountered at method"+r}),zi(d)||this._post({type:Qy,jobId:i,error:x4(d||{message:`Error encountered at method ${r}`})}))})):this._post({type:Qy,jobId:i},c)}_onOpenedMessage(t){const{jobId:r,data:i}=t,n=this._outJobs.get(r);n&&(this._outJobs.delete(r),On(n.abortHandle),n.resolve(i))}_onResponseMessage(t){const{jobId:r,error:i,data:n}=t,s=this._outJobs.get(r);s&&(this._outJobs.delete(r),On(s.abortHandle),i?s.reject(R.fromJSON(JSON.parse(i))):s.resolve(n))}_post(t,r,i){return NH(this.worker,t,r,i)}}let Wf=W("esri-workers-debug")?1:W("host-browser")?navigator.hardwareConcurrency-1:0;Wf||(Wf=W("safari")&&W("mac")||W("trident")?7:2);let cO=0;const E5=[];function Ope(){VH()}async function D3(e,t){const r=new ype;return await r.open(e,t),r}async function bw(e,t={}){if(typeof e!="string")throw new R("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(W("host-webworker")&&!W("esri-workers")&&(r="local"),r==="local"){let i=await En.loadWorker(e);i||(i=await Y(()=>import(e),[],import.meta.url)),Ge(t.signal);const n=t.client||i;return D3([En.connect(i)],{...t,client:n})}if(await VH(),Ge(t.signal),r==="dedicated"){const i=cO++%Wf;return D3([await E5[i].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const i=Math.min(t.maxNumWorkers,Wf);if(i<Wf){const n=new Array(i);for(let s=0;s<i;++s){const a=cO++%Wf;n[s]=E5[a].open(e,t)}return D3(n,t)}}return D3(E5.map(i=>i.open(e,t)),t)}let N3=null;async function VH(){if(N3)return N3;new AbortController;const e=[];for(let t=0;t<Wf;t++){const r=ZE.create(t).then(i=>(E5[t]=i,i));e.push(r)}return N3=Promise.all(e),N3}function QE(e){return new Ce({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const zH=QE(Tt),M4=QE(cc),I4=QE(md),Fpe=new Ce({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Tt.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});function YLe(e){return e&&(ly(e)||e===M4)?M4:e&&(cy(e)||e===I4)?I4:zH}function Dpe(e){return e&&(ly(e)||e===M4)?cc:e&&(cy(e)||e===I4)?md:Tt}function KLe(e){return fE(e)?cc:pE(e)?md:Tt}const YE=39.37,Npe=Tt.radius*Math.PI/200,BH=/UNIT\[([^\]]+)\]\]$/i,dp=k,UH=/UNIT\[([^\]]+)\]/i,jpe=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),Vpe=ir()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),bo=e=>e*e,Lc=e=>e*e*e,Z1={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:bo(.001)},"square-centimeters":{inBaseUnits:bo(.01)},"square-decimeters":{inBaseUnits:bo(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:bo(1e3)},"square-inches":{inBaseUnits:bo(.0254)},"square-feet":{inBaseUnits:bo(.3048)},"square-yards":{inBaseUnits:bo(.9144)},"square-miles":{inBaseUnits:bo(1609.344)},"square-us-feet":{inBaseUnits:bo(1200/3937)},acres:{inBaseUnits:.0015625*bo(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Lc(.001)},"cubic-centimeters":{inBaseUnits:1e3*Lc(.01)},"cubic-decimeters":{inBaseUnits:1e3*Lc(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Lc(1e3)},"cubic-inches":{inBaseUnits:1e3*Lc(.0254)},"cubic-feet":{inBaseUnits:1e3*Lc(.3048)},"cubic-yards":{inBaseUnits:1e3*Lc(.9144)},"cubic-miles":{inBaseUnits:1e3*Lc(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},zpe=(()=>{const e={};for(const t in Z1)for(const r in Z1[t].units)e[r]=t;return e})();function Bpe(e,t,r){return e*Z1[r].units[t].inBaseUnits}function Upe(e,t,r){return e/Z1[r].units[t].inBaseUnits}function LM(e){const t=zpe[e];if(!t)throw new Error("unknown type");return t}function uO(e,t=null){return t=t||LM(e),Z1[t].baseUnit===e}function js(e,t,r){if(t===r)return e;const i=LM(t);if(i!==LM(r))throw new Error("incompatible units");const n=uO(t,i)?e:Bpe(e,t,i);return uO(r,i)?n:Upe(n,r,i)}function Gpe(e,t,r){return js(e,t,"meters")/(r*Math.PI/180)}function GH(e){return Vpe.fromJSON(e.toLowerCase())||null}function Nm(e){if(e&&typeof e=="object"&&!zoe(e))return 1;const t=Mc(e);return t>1e5?1:t}function qpe(e){return Mc(e)>=(e instanceof Ce?Dpe(e).metersPerDegree:1e5)?"meters":Wpe(e)}function Mc(e,t=Tt.metersPerDegree){return B6(Hpe(e,!0),t)}function Hpe(e,t=!1){let r,i,n=null;if(e!=null&&(typeof e=="object"?(r=e.wkid,i=e.wkt):typeof e=="number"?r=e:typeof e=="string"&&(i=e)),r){if(fE(r))return cc.metersPerDegree;if(pE(r))return md.metersPerDegree;n=dp.values[dp[r]],!n&&t&&jpe.has(r)&&(n=Npe)}else i&&(WH(i)?n=dO(BH.exec(i),n):HH(i)&&(n=dO(UH.exec(i),n)));return n}function dO(e,t){return e&&e[1]?qH(e[1]):t}function qH(e){return parseFloat(e.split(",")[1])}function Wpe(e){let t,r,i=null;if(e!=null&&(typeof e=="object"?(t=e.wkid,r=e.wkt):typeof e=="number"?t=e:typeof e=="string"&&(r=e)),t)i=dp.units[dp[t]];else if(r){const n=WH(r)?BH:HH(r)?UH:null;if(n){const s=n.exec(r);s&&s[1]&&(i=Zpe(s[1]))}}return C(i)?GH(i):null}function HH(e){return/^GEOCCS/i.test(e)}function WH(e){return/^PROJCS/i.test(e)}const Jpe=1e-7;function Zpe(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||!dp.units.includes(r)){const i=qH(e);r=null;const n=dp.values;for(let s=0;s<n.length;++s)if(Math.abs(i-n[s])<Jpe){r=dp.units[s];break}}return r}const JH={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},ZH={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Qpe=ir()(JH),Ype=ir()(ZH);ir()({...JH,...ZH});function Kpe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $d(e,t,r,i,n,s,a,o,l,c,d,p,h,m,g,b,w){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=c,e[9]=d,e[10]=p,e[11]=h,e[12]=m,e[13]=g,e[14]=b,e[15]=w,e}function KE(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ic(e,t){if(e===t){const r=t[1],i=t[2],n=t[3],s=t[6],a=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=s,e[11]=t[14],e[12]=n,e[13]=a,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Xpe(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],d=t[8],p=t[9],h=t[10],m=t[11],g=t[12],b=t[13],w=t[14],v=t[15],_=r*o-i*a,S=r*l-n*a,x=r*c-s*a,M=i*l-n*o,I=i*c-s*o,$=n*c-s*l,T=d*b-p*g,A=d*w-h*g,P=d*v-m*g,F=p*w-h*b,j=p*v-m*b,V=h*v-m*w;let z=_*V-S*j+x*F+M*P-I*A+$*T;return z?(z=1/z,e[0]=(o*V-l*j+c*F)*z,e[1]=(n*j-i*V-s*F)*z,e[2]=(b*$-w*I+v*M)*z,e[3]=(h*I-p*$-m*M)*z,e[4]=(l*P-a*V-c*A)*z,e[5]=(r*V-n*P+s*A)*z,e[6]=(w*x-g*$-v*S)*z,e[7]=(d*$-h*x+m*S)*z,e[8]=(a*j-o*P+c*T)*z,e[9]=(i*P-r*j-s*T)*z,e[10]=(g*I-b*x+v*_)*z,e[11]=(p*x-d*I-m*_)*z,e[12]=(o*A-a*F-l*T)*z,e[13]=(r*F-i*A+n*T)*z,e[14]=(b*S-g*M-w*_)*z,e[15]=(d*M-p*S+h*_)*z,e):null}function ehe(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],d=t[8],p=t[9],h=t[10],m=t[11],g=t[12],b=t[13],w=t[14],v=t[15];return e[0]=o*(h*v-m*w)-p*(l*v-c*w)+b*(l*m-c*h),e[1]=-(i*(h*v-m*w)-p*(n*v-s*w)+b*(n*m-s*h)),e[2]=i*(l*v-c*w)-o*(n*v-s*w)+b*(n*c-s*l),e[3]=-(i*(l*m-c*h)-o*(n*m-s*h)+p*(n*c-s*l)),e[4]=-(a*(h*v-m*w)-d*(l*v-c*w)+g*(l*m-c*h)),e[5]=r*(h*v-m*w)-d*(n*v-s*w)+g*(n*m-s*h),e[6]=-(r*(l*v-c*w)-a*(n*v-s*w)+g*(n*c-s*l)),e[7]=r*(l*m-c*h)-a*(n*m-s*h)+d*(n*c-s*l),e[8]=a*(p*v-m*b)-d*(o*v-c*b)+g*(o*m-c*p),e[9]=-(r*(p*v-m*b)-d*(i*v-s*b)+g*(i*m-s*p)),e[10]=r*(o*v-c*b)-a*(i*v-s*b)+g*(i*c-s*o),e[11]=-(r*(o*m-c*p)-a*(i*m-s*p)+d*(i*c-s*o)),e[12]=-(a*(p*w-h*b)-d*(o*w-l*b)+g*(o*h-l*p)),e[13]=r*(p*w-h*b)-d*(i*w-n*b)+g*(i*h-n*p),e[14]=-(r*(o*w-l*b)-a*(i*w-n*b)+g*(i*l-n*o)),e[15]=r*(o*h-l*p)-a*(i*h-n*p)+d*(i*l-n*o),e}function the(e){const t=e[0],r=e[1],i=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],d=e[9],p=e[10],h=e[11],m=e[12],g=e[13],b=e[14],w=e[15];return(t*a-r*s)*(p*w-h*b)-(t*o-i*s)*(d*w-h*g)+(t*l-n*s)*(d*b-p*g)+(r*o-i*a)*(c*w-h*m)-(r*l-n*a)*(c*b-p*m)+(i*l-n*o)*(c*g-d*m)}function QH(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],d=t[7],p=t[8],h=t[9],m=t[10],g=t[11],b=t[12],w=t[13],v=t[14],_=t[15];let S=r[0],x=r[1],M=r[2],I=r[3];return e[0]=S*i+x*o+M*p+I*b,e[1]=S*n+x*l+M*h+I*w,e[2]=S*s+x*c+M*m+I*v,e[3]=S*a+x*d+M*g+I*_,S=r[4],x=r[5],M=r[6],I=r[7],e[4]=S*i+x*o+M*p+I*b,e[5]=S*n+x*l+M*h+I*w,e[6]=S*s+x*c+M*m+I*v,e[7]=S*a+x*d+M*g+I*_,S=r[8],x=r[9],M=r[10],I=r[11],e[8]=S*i+x*o+M*p+I*b,e[9]=S*n+x*l+M*h+I*w,e[10]=S*s+x*c+M*m+I*v,e[11]=S*a+x*d+M*g+I*_,S=r[12],x=r[13],M=r[14],I=r[15],e[12]=S*i+x*o+M*p+I*b,e[13]=S*n+x*l+M*h+I*w,e[14]=S*s+x*c+M*m+I*v,e[15]=S*a+x*d+M*g+I*_,e}function rhe(e,t,r){const i=r[0],n=r[1],s=r[2];if(t===e)e[12]=t[0]*i+t[4]*n+t[8]*s+t[12],e[13]=t[1]*i+t[5]*n+t[9]*s+t[13],e[14]=t[2]*i+t[6]*n+t[10]*s+t[14],e[15]=t[3]*i+t[7]*n+t[11]*s+t[15];else{const a=t[0],o=t[1],l=t[2],c=t[3],d=t[4],p=t[5],h=t[6],m=t[7],g=t[8],b=t[9],w=t[10],v=t[11];e[0]=a,e[1]=o,e[2]=l,e[3]=c,e[4]=d,e[5]=p,e[6]=h,e[7]=m,e[8]=g,e[9]=b,e[10]=w,e[11]=v,e[12]=a*i+d*n+g*s+t[12],e[13]=o*i+p*n+b*s+t[13],e[14]=l*i+h*n+w*s+t[14],e[15]=c*i+m*n+v*s+t[15]}return e}function ihe(e,t,r){const i=r[0],n=r[1],s=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function nhe(e,t,r,i){let n,s,a,o,l,c,d,p,h,m,g,b,w,v,_,S,x,M,I,$,T,A,P,F,j=i[0],V=i[1],z=i[2],J=Math.sqrt(j*j+V*V+z*z);return J<Oe?null:(J=1/J,j*=J,V*=J,z*=J,n=Math.sin(r),s=Math.cos(r),a=1-s,o=t[0],l=t[1],c=t[2],d=t[3],p=t[4],h=t[5],m=t[6],g=t[7],b=t[8],w=t[9],v=t[10],_=t[11],S=j*j*a+s,x=V*j*a+z*n,M=z*j*a-V*n,I=j*V*a-z*n,$=V*V*a+s,T=z*V*a+j*n,A=j*z*a+V*n,P=V*z*a-j*n,F=z*z*a+s,e[0]=o*S+p*x+b*M,e[1]=l*S+h*x+w*M,e[2]=c*S+m*x+v*M,e[3]=d*S+g*x+_*M,e[4]=o*I+p*$+b*T,e[5]=l*I+h*$+w*T,e[6]=c*I+m*$+v*T,e[7]=d*I+g*$+_*T,e[8]=o*A+p*P+b*F,e[9]=l*A+h*P+w*F,e[10]=c*A+m*P+v*F,e[11]=d*A+g*P+_*F,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function she(e,t,r){const i=Math.sin(r),n=Math.cos(r),s=t[4],a=t[5],o=t[6],l=t[7],c=t[8],d=t[9],p=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*n+c*i,e[5]=a*n+d*i,e[6]=o*n+p*i,e[7]=l*n+h*i,e[8]=c*n-s*i,e[9]=d*n-a*i,e[10]=p*n-o*i,e[11]=h*n-l*i,e}function ahe(e,t,r){const i=Math.sin(r),n=Math.cos(r),s=t[0],a=t[1],o=t[2],l=t[3],c=t[8],d=t[9],p=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n-c*i,e[1]=a*n-d*i,e[2]=o*n-p*i,e[3]=l*n-h*i,e[8]=s*i+c*n,e[9]=a*i+d*n,e[10]=o*i+p*n,e[11]=l*i+h*n,e}function ohe(e,t,r){const i=Math.sin(r),n=Math.cos(r),s=t[0],a=t[1],o=t[2],l=t[3],c=t[4],d=t[5],p=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n+c*i,e[1]=a*n+d*i,e[2]=o*n+p*i,e[3]=l*n+h*i,e[4]=c*n-s*i,e[5]=d*n-a*i,e[6]=p*n-o*i,e[7]=h*n-l*i,e}function YH(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function lhe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function che(e,t,r){let i,n,s,a=r[0],o=r[1],l=r[2],c=Math.sqrt(a*a+o*o+l*l);return c<Oe?null:(c=1/c,a*=c,o*=c,l*=c,i=Math.sin(t),n=Math.cos(t),s=1-n,e[0]=a*a*s+n,e[1]=o*a*s+l*i,e[2]=l*a*s-o*i,e[3]=0,e[4]=a*o*s-l*i,e[5]=o*o*s+n,e[6]=l*o*s+a*i,e[7]=0,e[8]=a*l*s+o*i,e[9]=o*l*s-a*i,e[10]=l*l*s+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function uhe(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function dhe(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fhe(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function KH(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3],o=i+i,l=n+n,c=s+s,d=i*o,p=i*l,h=i*c,m=n*l,g=n*c,b=s*c,w=a*o,v=a*l,_=a*c;return e[0]=1-(m+b),e[1]=p+_,e[2]=h-v,e[3]=0,e[4]=p-_,e[5]=1-(d+b),e[6]=g+w,e[7]=0,e[8]=h+v,e[9]=g-w,e[10]=1-(d+m),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function phe(e,t){const r=hhe,i=-t[0],n=-t[1],s=-t[2],a=t[3],o=t[4],l=t[5],c=t[6],d=t[7],p=i*i+n*n+s*s+a*a;return p>0?(r[0]=2*(o*a+d*i+l*s-c*n)/p,r[1]=2*(l*a+d*n+c*i-o*s)/p,r[2]=2*(c*a+d*s+o*n-l*i)/p):(r[0]=2*(o*a+d*i+l*s-c*n),r[1]=2*(l*a+d*n+c*i-o*s),r[2]=2*(c*a+d*s+o*n-l*i)),KH(e,t,r),e}const hhe=Bn();function mhe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function yhe(e,t){const r=t[0],i=t[1],n=t[2],s=t[4],a=t[5],o=t[6],l=t[8],c=t[9],d=t[10];return e[0]=Math.sqrt(r*r+i*i+n*n),e[1]=Math.sqrt(s*s+a*a+o*o),e[2]=Math.sqrt(l*l+c*c+d*d),e}function ghe(e,t){const r=t[0]+t[5]+t[10];let i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function bhe(e,t,r,i){const n=t[0],s=t[1],a=t[2],o=t[3],l=n+n,c=s+s,d=a+a,p=n*l,h=n*c,m=n*d,g=s*c,b=s*d,w=a*d,v=o*l,_=o*c,S=o*d,x=i[0],M=i[1],I=i[2];return e[0]=(1-(g+w))*x,e[1]=(h+S)*x,e[2]=(m-_)*x,e[3]=0,e[4]=(h-S)*M,e[5]=(1-(p+w))*M,e[6]=(b+v)*M,e[7]=0,e[8]=(m+_)*I,e[9]=(b-v)*I,e[10]=(1-(p+g))*I,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function vhe(e,t,r,i,n){const s=t[0],a=t[1],o=t[2],l=t[3],c=s+s,d=a+a,p=o+o,h=s*c,m=s*d,g=s*p,b=a*d,w=a*p,v=o*p,_=l*c,S=l*d,x=l*p,M=i[0],I=i[1],$=i[2],T=n[0],A=n[1],P=n[2],F=(1-(b+v))*M,j=(m+x)*M,V=(g-S)*M,z=(m-x)*I,J=(1-(h+v))*I,K=(w+_)*I,Q=(g+S)*$,U=(w-_)*$,te=(1-(h+b))*$;return e[0]=F,e[1]=j,e[2]=V,e[3]=0,e[4]=z,e[5]=J,e[6]=K,e[7]=0,e[8]=Q,e[9]=U,e[10]=te,e[11]=0,e[12]=r[0]+T-(F*T+z*A+Q*P),e[13]=r[1]+A-(j*T+J*A+U*P),e[14]=r[2]+P-(V*T+K*A+te*P),e[15]=1,e}function whe(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],a=r+r,o=i+i,l=n+n,c=r*a,d=i*a,p=i*o,h=n*a,m=n*o,g=n*l,b=s*a,w=s*o,v=s*l;return e[0]=1-p-g,e[1]=d+v,e[2]=h-w,e[3]=0,e[4]=d-v,e[5]=1-c-g,e[6]=m+b,e[7]=0,e[8]=h+w,e[9]=m-b,e[10]=1-c-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _he(e,t,r,i,n,s,a){const o=1/(r-t),l=1/(n-i),c=1/(s-a);return e[0]=2*s*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(r+t)*o,e[9]=(n+i)*l,e[10]=(a+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*s*2*c,e[15]=0,e}function She(e,t,r,i,n){const s=1/Math.tan(t/2);let a;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(a=1/(i-n),e[10]=(n+i)*a,e[14]=2*n*i*a):(e[10]=-1,e[14]=-2*i),e}function xhe(e,t,r,i){const n=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+o),c=2/(n+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-o)*l*.5,e[9]=(n-s)*c*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e}function Mhe(e,t,r,i,n,s,a){const o=1/(t-r),l=1/(i-n),c=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*o,e[13]=(n+i)*l,e[14]=(a+s)*c,e[15]=1,e}function Ihe(e,t,r,i){let n,s,a,o,l,c,d,p,h,m;const g=t[0],b=t[1],w=t[2],v=i[0],_=i[1],S=i[2],x=r[0],M=r[1],I=r[2];return Math.abs(g-x)<Oe&&Math.abs(b-M)<Oe&&Math.abs(w-I)<Oe?KE(e):(d=g-x,p=b-M,h=w-I,m=1/Math.sqrt(d*d+p*p+h*h),d*=m,p*=m,h*=m,n=_*h-S*p,s=S*d-v*h,a=v*p-_*d,m=Math.sqrt(n*n+s*s+a*a),m?(m=1/m,n*=m,s*=m,a*=m):(n=0,s=0,a=0),o=p*a-h*s,l=h*n-d*a,c=d*s-p*n,m=Math.sqrt(o*o+l*l+c*c),m?(m=1/m,o*=m,l*=m,c*=m):(o=0,l=0,c=0),e[0]=n,e[1]=o,e[2]=d,e[3]=0,e[4]=s,e[5]=l,e[6]=p,e[7]=0,e[8]=a,e[9]=c,e[10]=h,e[11]=0,e[12]=-(n*g+s*b+a*w),e[13]=-(o*g+l*b+c*w),e[14]=-(d*g+p*b+h*w),e[15]=1,e)}function $he(e,t,r,i){const n=t[0],s=t[1],a=t[2],o=i[0],l=i[1],c=i[2];let d=n-r[0],p=s-r[1],h=a-r[2],m=d*d+p*p+h*h;m>0&&(m=1/Math.sqrt(m),d*=m,p*=m,h*=m);let g=l*h-c*p,b=c*d-o*h,w=o*p-l*d;return m=g*g+b*b+w*w,m>0&&(m=1/Math.sqrt(m),g*=m,b*=m,w*=m),e[0]=g,e[1]=b,e[2]=w,e[3]=0,e[4]=p*w-h*b,e[5]=h*g-d*w,e[6]=d*b-p*g,e[7]=0,e[8]=d,e[9]=p,e[10]=h,e[11]=0,e[12]=n,e[13]=s,e[14]=a,e[15]=1,e}function The(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Che(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Ehe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function XH(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function khe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function Ahe(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e[9]=t[9]+r[9]*i,e[10]=t[10]+r[10]*i,e[11]=t[11]+r[11]*i,e[12]=t[12]+r[12]*i,e[13]=t[13]+r[13]*i,e[14]=t[14]+r[14]*i,e[15]=t[15]+r[15]*i,e}function Lhe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Rhe(e,t){if(e===t)return!0;const r=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],p=e[9],h=e[10],m=e[11],g=e[12],b=e[13],w=e[14],v=e[15],_=t[0],S=t[1],x=t[2],M=t[3],I=t[4],$=t[5],T=t[6],A=t[7],P=t[8],F=t[9],j=t[10],V=t[11],z=t[12],J=t[13],K=t[14],Q=t[15];return Math.abs(r-_)<=Oe*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-S)<=Oe*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(n-x)<=Oe*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(s-M)<=Oe*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(a-I)<=Oe*Math.max(1,Math.abs(a),Math.abs(I))&&Math.abs(o-$)<=Oe*Math.max(1,Math.abs(o),Math.abs($))&&Math.abs(l-T)<=Oe*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(c-A)<=Oe*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(d-P)<=Oe*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(p-F)<=Oe*Math.max(1,Math.abs(p),Math.abs(F))&&Math.abs(h-j)<=Oe*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(m-V)<=Oe*Math.max(1,Math.abs(m),Math.abs(V))&&Math.abs(g-z)<=Oe*Math.max(1,Math.abs(g),Math.abs(z))&&Math.abs(b-J)<=Oe*Math.max(1,Math.abs(b),Math.abs(J))&&Math.abs(w-K)<=Oe*Math.max(1,Math.abs(w),Math.abs(K))&&Math.abs(v-Q)<=Oe*Math.max(1,Math.abs(v),Math.abs(Q))}function Phe(e){const t=Oe,r=e[0],i=e[1],n=e[2],s=e[4],a=e[5],o=e[6],l=e[8],c=e[9],d=e[10];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(i*i+a*a+c*c))<=t&&Math.abs(1-(n*n+o*o+d*d))<=t}const Ohe=QH,Fhe=XH;Object.freeze(Object.defineProperty({__proto__:null,copy:Kpe,set:$d,identity:KE,transpose:Ic,invert:Xpe,adjoint:ehe,determinant:the,multiply:QH,translate:rhe,scale:ihe,rotate:nhe,rotateX:she,rotateY:ahe,rotateZ:ohe,fromTranslation:YH,fromScaling:lhe,fromRotation:che,fromXRotation:uhe,fromYRotation:dhe,fromZRotation:fhe,fromRotationTranslation:KH,fromQuat2:phe,getTranslation:mhe,getScaling:yhe,getRotation:ghe,fromRotationTranslationScale:bhe,fromRotationTranslationScaleOrigin:vhe,fromQuat:whe,frustum:_he,perspective:She,perspectiveFromFieldOfView:xhe,ortho:Mhe,lookAt:Ihe,targetTo:$he,str:The,frob:Che,add:Ehe,subtract:XH,multiplyScalar:khe,multiplyScalarAndAdd:Ahe,exactEquals:Lhe,equals:Rhe,isOrthoNormal:Phe,mul:Ohe,sub:Fhe},Symbol.toStringTag,{value:"Module"}));let c7,G=null;function eW(){return!!G}function Dhe(){return!!W("esri-wasm")}function tW(){return c7||(c7=Y(()=>import("./pe-wasm.9649c26b.js"),[],import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>Qe(`esri/geometry/support/${t}`)})).then(e=>{iW(e)}),c7)}var RM,Ot,PM;(function(e){function t(s,a,o){G.ensureCache.prepare();const l=Of(o),c=o===l,d=G.ensureFloat64(l),p=G._pe_geog_to_proj(G.getPointer(s),a,d);return p&&Pu(o,a,d,c),p}function r(s,a,o,l){switch(l){case Ot.PE_TRANSFORM_P_TO_G:return i(s,a,o);case Ot.PE_TRANSFORM_G_TO_P:return t(s,a,o)}return 0}function i(s,a,o){return n(s,a,o,0)}function n(s,a,o,l){G.ensureCache.prepare();const c=Of(o),d=o===c,p=G.ensureFloat64(c),h=G._pe_proj_to_geog_center(G.getPointer(s),a,p,l);return h&&Pu(o,a,p,d),h}e.geogToProj=t,e.projGeog=r,e.projToGeog=i,e.projToGeogCenter=n})(RM||(RM={})),function(e){function t(){e.PE_BUFFER_MAX=G.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=G.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=G.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=G.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=G.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=G.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=G.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=G.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=G.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=G.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=G.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=G.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=G.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=G.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=G.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=G.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=G.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=G.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=G.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=G.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=G.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=G.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=G.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=G.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=G.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=G.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=G.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=G.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=G.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=G.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Ot||(Ot={})),function(e){const t={},r={},i=m=>{if(m){const g=m.getType();switch(g){case Ot.PE_TYPE_GEOGCS:m=G.castObject(m,G.PeGeogcs);break;case Ot.PE_TYPE_PROJCS:m=G.castObject(m,G.PeProjcs);break;case Ot.PE_TYPE_GEOGTRAN:m=G.castObject(m,G.PeGeogtran);break;default:g&Ot.PE_TYPE_UNIT&&(m=G.castObject(m,G.PeUnit))}}return m};function n(){G.PeFactory.prototype.initialize(null)}function s(m){return a(Ot.PE_TYPE_COORDSYS,m)}function a(m,g){let b=null,w=t[m];if(w||(w={},t[m]=w),w.hasOwnProperty(String(g)))b=w[g];else{const v=G.PeFactory.prototype.factoryByType(m,g);G.compare(v,G.NULL)||(b=v,w[g]=b)}return b=i(b),b}function o(m,g){let b=null,w=r[m];if(w||(w={},r[m]=w),w.hasOwnProperty(g))b=w[g];else{const v=G.PeFactory.prototype.fromString(m,g);G.compare(v,G.NULL)||(b=v,w[g]=b)}return b=i(b),b}function l(m){return a(Ot.PE_TYPE_GEOGCS,m)}function c(m){return a(Ot.PE_TYPE_GEOGTRAN,m)}function d(m){return G.PeFactory.prototype.getCode(m)}function p(m){return a(Ot.PE_TYPE_PROJCS,m)}function h(m){return a(Ot.PE_TYPE_UNIT,m)}e.initialize=n,e.coordsys=s,e.factoryByType=a,e.fromString=o,e.geogcs=l,e.geogtran=c,e.getCode=d,e.projcs=p,e.unit=h}(PM||(PM={}));let rW=null;var $4,OM,FM,DM,T4,NM,C4,E4,jM;function iW(e){function t(s,a,o){s[a]=o(s[a])}G=e,Ot.init(),$4.init(),T4.init(),C4.init(),E4.init(),rW=class extends G.PeGCSExtent{destroy(){G.destroy(this)}};const r=[G.PeDatum,G.PeGeogcs,G.PeGeogtran,G.PeObject,G.PeParameter,G.PePrimem,G.PeProjcs,G.PeSpheroid,G.PeUnit];for(const s of r)t(s.prototype,"getName",a=>function(){return a.call(this,new Array(Ot.PE_NAME_MAX))});for(const s of[G.PeGeogtran,G.PeProjcs])t(s.prototype,"getParameters",a=>function(){const o=new Array(Ot.PE_PARM_MAX);let l=a.call(this);for(let c=0;c<o.length;c++){const d=G.getValue(l,"*");o[c]=d?G.wrapPointer(d,G.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return o});t(G.PeHorizon.prototype,"getCoord",s=>function(){const a=this.getSize();if(!a)return null;const o=[];return Pu(o,a,s.call(this)),o}),t(G.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const a=G._pe_getPeGTlistExtendedGTsSize();return function(){let o=null;const l=s.call(this);if(!G.compare(l,G.NULL)){o=[l];const c=this.getSteps();if(c>1){const d=G.getPointer(l);for(let p=1;p<c;p++)o.push(G.wrapPointer(d+a*p,G.PeGTlistExtendedGTs))}}return o}});const i=G._pe_getPeHorizonSize(),n=s=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(s))return a.get(s);let o=null;const l=s.call(this);if(!G.compare(l,G.NULL)){o=[l];const c=l.getNump();if(c>1){const d=G.getPointer(l);for(let p=1;p<c;p++)o.push(G.wrapPointer(d+i*p,G.PeHorizon))}}return a.set(s,o),o};t(G.PeProjcs.prototype,"horizonGcsGenerate",n),t(G.PeProjcs.prototype,"horizonPcsGenerate",n),G.PeObject.prototype.toString=function(s=Ot.PE_STR_OPTS_NONE){G.ensureCache.prepare();const a=G.getPointer(this),o=G.ensureInt8(new Array(Ot.PE_BUFFER_MAX));return G.UTF8ToString(G._pe_object_to_string_ext(a,s,o))}}function ml(e){if(!e)return;const t=G.getClass(e);if(!t)return;const r=G.getCache(t);if(!r)return;const i=G.getPointer(e);i&&delete r[i]}function j3(e,t){const r=[],i=new Array(t);for(let n=0;n<e;n++)r.push(G.ensureInt8(i));return r}function Of(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(r=>{t.push(r[0],r[1])})):t=e,t}function Pu(e,t,r,i=!1){if(i)for(let n=0;n<2*t;n++)e[n]=G.getValue(r+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let s=0;s<t;s++)n&&(e[s]=new Array(2)),e[s][0]=G.getValue(r,"double"),e[s][1]=G.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=G.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=G._pe_getPeGTlistExtendedEntrySize()}function i(n,s,a,o,l,c){let d=null;const p=new G.PeInteger(c);try{const h=G.PeGTlistExtended.prototype.getGTlist(n,s,a,o,l,p);if((c=p.val)&&(d=[h],c>1)){const m=G.getPointer(h);for(let g=1;g<c;g++)d.push(G.wrapPointer(m+t*g,G.PeGTlistExtendedEntry))}}finally{G.destroy(p)}return d}e.init=r,e.getGTlist=i})($4||($4={})),function(e){function t(r){if(r&&r.length){for(const i of r)ml(i),i.getEntries().forEach(n=>{ml(n);const s=n.getGeogtran();ml(s),s.getParameters().forEach(ml),[s.getGeogcs1(),s.getGeogcs2()].forEach(a=>{ml(a);const o=a.getDatum();ml(o),ml(o.getSpheroid()),ml(a.getPrimem()),ml(a.getUnit())})});G.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(OM||(OM={})),function(e){function t(r,i,n,s,a){G.ensureCache.prepare();const o=Of(n),l=n===o,c=G.ensureFloat64(o);let d=0;s&&(d=G.ensureFloat64(s));const p=G._pe_geog_to_geog(G.getPointer(r),i,c,d,a);return p&&Pu(n,i,c,l),p}e.geogToGeog=t}(FM||(FM={})),function(e){const t=(c,d,p,h,m,g)=>{let b,w;switch(G.ensureCache.prepare(),c){case"dd":b=G._pe_geog_to_dd,w=Ot.PE_DD_MAX;break;case"ddm":b=G._pe_geog_to_ddm,w=Ot.PE_DDM_MAX;break;case"dms":b=G._pe_geog_to_dms,w=Ot.PE_DMS_MAX}let v=0;d&&(v=G.getPointer(d));const _=Of(h),S=G.ensureFloat64(_),x=j3(p,w),M=b(v,p,S,m,G.ensureInt32(x));if(M)for(let I=0;I<p;I++)g[I]=G.UTF8ToString(x[I]);return M},r=(c,d,p,h,m)=>{let g;switch(G.ensureCache.prepare(),c){case"dd":g=G._pe_dd_to_geog;break;case"ddm":g=G._pe_ddm_to_geog;break;case"dms":g=G._pe_dms_to_geog}let b=0;d&&(b=G.getPointer(d));const w=h.map(x=>G.ensureString(x)),v=G.ensureInt32(w),_=G.ensureFloat64(new Array(2*p)),S=g(b,p,v,_);return S&&Pu(m,p,_),S};function i(c,d,p,h,m){return t("dms",c,d,p,h,m)}function n(c,d,p,h){return r("dms",c,d,p,h)}function s(c,d,p,h,m){return t("ddm",c,d,p,h,m)}function a(c,d,p,h){return r("ddm",c,d,p,h)}function o(c,d,p,h,m){return t("dd",c,d,p,h,m)}function l(c,d,p,h){return r("dd",c,d,p,h)}e.geogToDms=i,e.dmsToGeog=n,e.geogToDdm=s,e.ddmToGeog=a,e.geogToDd=o,e.ddToGeog=l}(DM||(DM={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=G.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=G.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=G.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=G.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=G.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(n,s,a,o,l,c,d){G.ensureCache.prepare();let p=0;n&&(p=G.getPointer(n));const h=Of(a),m=G.ensureFloat64(h),g=j3(s,Ot.PE_MGRS_MAX),b=G.ensureInt32(g),w=G._pe_geog_to_mgrs_extended(p,s,m,o,l,c,b);if(w)for(let v=0;v<s;v++)d[v]=G.UTF8ToString(g[v]);return w}function i(n,s,a,o,l){G.ensureCache.prepare();let c=0;n&&(c=G.getPointer(n));const d=a.map(g=>G.ensureString(g)),p=G.ensureInt32(d),h=G.ensureFloat64(new Array(2*s)),m=G._pe_mgrs_to_geog_extended(c,s,p,o,h);return m&&Pu(l,s,h),m}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=i}(T4||(T4={})),function(e){function t(i,n,s,a,o,l,c){G.ensureCache.prepare();let d=0;i&&(d=G.getPointer(i));const p=Of(s),h=G.ensureFloat64(p),m=j3(n,Ot.PE_MGRS_MAX),g=G.ensureInt32(m),b=G._pe_geog_to_usng(d,n,h,a,o,l,g);if(b)for(let w=0;w<n;w++)c[w]=G.UTF8ToString(m[w]);return b}function r(i,n,s,a){G.ensureCache.prepare();let o=0;i&&(o=G.getPointer(i));const l=s.map(h=>G.ensureString(h)),c=G.ensureInt32(l),d=G.ensureFloat64(new Array(2*n)),p=G._pe_usng_to_geog(o,n,c,d);return p&&Pu(a,n,d),p}e.geogToUsng=t,e.usngToGeog=r}(NM||(NM={})),function(e){function t(){e.PE_UTM_OPTS_NONE=G.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=G.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=G.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(n,s,a,o,l){G.ensureCache.prepare();let c=0;n&&(c=G.getPointer(n));const d=Of(a),p=G.ensureFloat64(d),h=j3(s,Ot.PE_UTM_MAX),m=G.ensureInt32(h),g=G._pe_geog_to_utm(c,s,p,o,m);if(g)for(let b=0;b<s;b++)l[b]=G.UTF8ToString(h[b]);return g}function i(n,s,a,o,l){G.ensureCache.prepare();let c=0;n&&(c=G.getPointer(n));const d=a.map(g=>G.ensureString(g)),p=G.ensureInt32(d),h=G.ensureFloat64(new Array(2*s)),m=G._pe_utm_to_geog(c,s,p,o,h);return m&&Pu(l,s,h),m}e.init=t,e.geogToUtm=r,e.utmToGeog=i}(C4||(C4={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=G.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=G.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=G.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=G.PePCSInfo.prototype.PE_POLE_POINT}function i(n,s=e.PE_PCSINFO_OPTION_DOMAIN){let a,o;return t.has(n)&&(o=t.get(n),o[s]&&(a=o[s])),a||(a=G.PePCSInfo.prototype.generate(n,s),o||(o=[],t.set(n,o)),o[s]=a),a}e.init=r,e.generate=i}(E4||(E4={})),function(e){function t(){return G.PeVersion.prototype.version_string()}e.versionString=t}(jM||(jM={}));const Nhe=Object.freeze(Object.defineProperty({__proto__:null,get _pe(){return G},isLoaded:eW,isSupported:Dhe,load:tW,get PeCSTransformations(){return RM},get PeDefs(){return Ot},get PeFactory(){return PM},get PeGCSExtent(){return rW},get PeGTlistExtended(){return $4},get PeGTlistExtendedEntry(){return OM},get PeGTTransformations(){return FM},get PeNotationDms(){return DM},get PeNotationMgrs(){return T4},get PeNotationUsng(){return NM},get PeNotationUtm(){return C4},get PePCSInfo(){return E4},get PeVersion(){return jM},_init:iW},Symbol.toStringTag,{value:"Module"})),Rc=Tt.radius,ba=Tt.eccentricitySquared,jhe={a1:Rc*ba,a2:Rc*ba*Rc*ba,a3:Rc*ba*ba/2,a4:Rc*ba*Rc*ba*2.5,a5:Rc*ba+Rc*ba*ba/2,a6:1-ba};1/294.9786982,1/298.257222101,Tt.radius,Tt.flattening,md.radius,md.flattening,1/192.0430107526882,cc.radius,cc.flattening,1/10.2079945799458,1/43.61604095563141,cc.radius;let V3=0;class sm{constructor(t=null){this.uid=V3++,t?(this._wkt=t.wkt!==void 0?t.wkt:null,this._wkid=t.wkid!==void 0?t.wkid:-1,this._isInverse=t.isInverse!==void 0&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(t){const r=new sm;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=V3++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=V3++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=V3++}getInverse(){const t=new sm;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class Gu{constructor(t){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const r of t.steps)r instanceof sm?this.steps.push(r):this.steps.push(new sm({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}static cacheKey(t,r){return[t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():"",r.wkid!==void 0&&r.wkid!==null?r.wkid.toString():"-1",r.wkt!==void 0&&r.wkt!==null?r.wkt.toString():""].join(",")}static fromGE(t){const r=new Gu;let i="";for(const n of t.steps){const s=sm.fromGE(n);r.steps.push(s),i+=s.uid.toString()+","}return r._cached_projection={},r._gtlistentry=null,r._chain=i,r}getInverse(){const t=new Gu;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const i=this.steps[r];t.steps.push(i.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,i){this._cached_projection[Gu.cacheKey(t,r)]=i}getCachedGeTransformation(t,r){let i="";for(const s of this.steps)i+=s.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=i);const n=this._cached_projection[Gu.cacheKey(t,r)];return n===void 0?null:n}}function XE(e,t,r){if(B(t)||B(r)||r.vcsWkid||bi(t,r))return null;const i=Nm(t)/Nm(r);if(i===1)return null;switch(e){case"point":case"esriGeometryPoint":return n=>Vhe(n,i);case"polyline":case"esriGeometryPolyline":return n=>Bhe(n,i);case"polygon":case"esriGeometryPolygon":return n=>zhe(n,i);case"multipoint":case"esriGeometryMultipoint":return n=>Uhe(n,i);case"extent":case"esriGeometryExtent":return n=>Ghe(n,i);default:return null}}function Vhe(e,t){e&&e.z!=null&&(e.z*=t)}function zhe(e,t){if(e)for(const r of e.rings)for(const i of r)i.length>2&&(i[2]*=t)}function Bhe(e,t){if(e)for(const r of e.paths)for(const i of r)i.length>2&&(i[2]*=t)}function Uhe(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function Ghe(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let nd=null,k4=null,u7=null,d7={};const nW=new sG;function gd(){return!!nd&&eW()}function bd(e){return B(u7)&&(u7=Promise.all([tW(),Y(()=>import("./geometryEngineBase.0f0d7ecf.js"),[],import.meta.url).then(t=>t.g),Y(()=>import("./hydrated.3d23fa5f.js"),[],import.meta.url)])),u7.then(([,t,{hydratedAdapter:r}])=>{Ge(e),k4=r,nd=t.default,nd._enableProjection(Nhe),nW.notify()})}function yy(e,t,r=null,i=null){return Array.isArray(e)?e.length===0?[]:fO(k4,e,e[0].spatialReference,t,r,i):fO(k4,[e],e.spatialReference,t,r,i)[0]}function fO(e,t,r,i,n=null,s=null){if(B(r)||B(i))return t;if(gc(r,i,n))return t.map(a=>Whe(a,r,i));if(B(n)){const a=Gu.cacheKey(r,i);d7[a]!==void 0?n=d7[a]:(n=qhe(r,i,null),B(n)&&(n=new Gu),d7[a]=n)}if(B(nd))throw new ek;return C(s)?nd._project(e,t,r,i,n,s):nd._project(e,t,r,i,n)}function XLe(e,t){return B(e)?{pending:null,geometry:null}:bi(e.spatialReference,t)?{pending:null,geometry:e}:Ui(e.spatialReference)&&Ui(t)?gc(e.spatialReference,t)||gd()?{pending:null,geometry:Hhe(e,t)}:(Ne(nW),{pending:bd(),geometry:null}):{pending:null,geometry:null}}function qhe(e,t,r=null){if(B(nd))throw new ek;if(B(e)||B(t))return null;const i=nd._getTransformation(k4,e,t,r,r==null?void 0:r.spatialReference);return i!==null?Gu.fromGE(i):null}class ek extends R{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var N;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(N||(N={}));function Hhe(e,t){try{const r=yy(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const i=XE(r.type,e.spatialReference,t);return C(i)&&i(r),r}catch(r){if(!(r instanceof ek))throw r;return null}}function gc(e,t,r){return!r&&(!!bi(e,t)||Ui(e)&&Ui(t)&&!!lW(e,t,uW))}async function eRe(e,t,r,i){if(gd())return XR(i);if(Array.isArray(e)){for(const{source:n,dest:s,geographicTransformation:a}of e)if(!gc(n,s,a))return bd(i)}else if(!gc(e,t,r))return bd(i);return XR(i)}function Whe(e,t,r){return e?"x"in e?Jhe(e,t,new be,r,0):"xmin"in e?Yhe(e,t,new Ve,r,0):"rings"in e?sW(e,t,new _s,r,0):"paths"in e?Qhe(e,t,new ps,r,0):"points"in e?Zhe(e,t,new Bp,r,0):null:null}function Jhe(e,t,r,i,n){Or[0]=e.x,Or[1]=e.y;const s=e.z;return Or[2]=s!==void 0?s:n,P2(Or,t,0,Or,i,0,1)?(r.x=Or[0],r.y=Or[1],r.spatialReference=i,s===void 0?(r.z=void 0,r.hasZ=!1):(r.z=Or[2],r.hasZ=!0),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function Zhe(e,t,r,i,n){const{points:s,hasZ:a,hasM:o}=e,l=[],c=s.length,d=[];for(const p of s)d.push(p[0],p[1],a?p[2]:n);if(!P2(d,t,0,d,i,0,c))return null;for(let p=0;p<c;++p){const h=3*p,m=d[h],g=d[h+1];a&&o?l.push([m,g,d[h+2],s[p][3]]):a?l.push([m,g,d[h+2]]):o?l.push([m,g,s[p][2]]):l.push([m,g])}return r.points=l,r.spatialReference=i,r.hasZ=a,r.hasM=o,r}function Qhe(e,t,r,i,n){const{paths:s,hasZ:a,hasM:o}=e,l=[];return aW(s,a,o,t,l,i,n)?(r.paths=l,r.spatialReference=i,r.hasZ=a,r.hasM=o,r):null}function tRe(e,t,r=t.spatialReference,i=0){return C(r)&&C(sW(e,e.spatialReference,t,r,i))}function sW(e,t,r,i,n){const{rings:s,hasZ:a,hasM:o}=e,l=[];return aW(s,a,o,t,l,i,n)?(r.rings=l,r.spatialReference=i,r.hasZ=a,r.hasM=o,r):null}function Yhe(e,t,r,i,n){const{xmin:s,ymin:a,xmax:o,ymax:l,hasZ:c,hasM:d}=e;return pO(s,a,c?e.zmin:n,t,Or,i)?(r.xmin=Or[0],r.ymin=Or[1],c&&(r.zmin=Or[2]),pO(o,l,c?e.zmax:n,t,Or,i)?(r.xmax=Or[0],r.ymax=Or[1],c&&(r.zmax=Or[2]),d&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=i,r):null):null}function rRe(e,t,r,i=0){Or[0]=e.x,Or[1]=e.y;const n=e.z;return Or[2]=n!==void 0?n:i,P2(Or,e.spatialReference,0,t,r,0,1)}function pO(e,t,r,i,n,s){return z3[0]=e,z3[1]=t,z3[2]=r,P2(z3,i,0,n,s,0,1)}function P2(e,t,r,i,n,s,a=1){const o=lW(t,n,uW);if(B(o))return!1;if(o===St){if(e===i&&r===s)return!0;const c=r+3*a;for(let d=r,p=s;d<c;d++,p++)i[p]=e[d];return!0}const l=r+3*a;for(let c=r,d=s;c<l;c+=3,d+=3)o(e,c,i,d);return!0}function aW(e,t,r,i,n,s,a=0){const o=new Array;for(const c of e)for(const d of c)o.push(d[0],d[1],t?d[2]:a);if(!P2(o,i,0,o,s,0,o.length/3))return!1;let l=0;n.length=0;for(const c of e){const d=new Array;for(const p of c)t&&r?d.push([o[l++],o[l++],o[l++],p[3]]):t?d.push([o[l++],o[l++],o[l++]]):r?(d.push([o[l++],o[l++],p[2]]),l++):(d.push([o[l++],o[l++]]),l++);n.push(d)}return!0}function iRe(e,t,r,i){if(B(e)||B(i))return!1;const n=Q1(e,cW),s=Q1(i,h0e);if(n===s&&!hO(s)&&(n!==N.UNKNOWN||bi(e,i)))return YH(r,t),!0;if(hO(s)){const a=P0[n][N.LON_LAT],o=P0[N.LON_LAT][s];return!B(a)&&!B(o)&&(a(t,0,Pc,0),o(Pc,0,Oc,0),oW(Wo*Pc[0],Wo*Pc[1],r),r[12]=Oc[0],r[13]=Oc[1],r[14]=Oc[2],!0)}if((s===N.WEB_MERCATOR||s===N.PLATE_CARREE)&&(n===N.WGS84||n===N.CGCS2000&&s===N.PLATE_CARREE||n===N.SPHERICAL_ECEF||n===N.WEB_MERCATOR)){const a=P0[n][N.LON_LAT],o=P0[N.LON_LAT][s];return!B(a)&&!B(o)&&(a(t,0,Pc,0),o(Pc,0,Oc,0),n===N.SPHERICAL_ECEF?Khe(Wo*Pc[0],Wo*Pc[1],r):KE(r),r[12]=Oc[0],r[13]=Oc[1],r[14]=Oc[2],!0)}return!1}function hO(e){return e===N.SPHERICAL_ECEF||e===N.SPHERICAL_MARS_PCPF||e===N.SPHERICAL_MOON_PCPF}function oW(e,t,r){const i=Math.sin(e),n=Math.cos(e),s=Math.sin(t),a=Math.cos(t),o=r;return o[0]=-i,o[4]=-s*n,o[8]=a*n,o[12]=0,o[1]=n,o[5]=-s*i,o[9]=a*i,o[13]=0,o[2]=0,o[6]=a,o[10]=s,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}function Khe(e,t,r){return oW(e,t,r),Ic(r,r),r}function Q1(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Mc(e,1)),e.wkt===zH.wkt?t.spatialReferenceId=N.SPHERICAL_ECEF:D1(e)?t.spatialReferenceId=N.WGS84:Ip(e)?t.spatialReferenceId=N.WEB_MERCATOR:Boe(e)?t.spatialReferenceId=N.PLATE_CARREE:e.wkt===Fpe.wkt?t.spatialReferenceId=N.WGS84_ECEF:e.wkid===Xs.CGCS2000?t.spatialReferenceId=N.CGCS2000:e.wkt===M4.wkt?t.spatialReferenceId=N.SPHERICAL_MARS_PCPF:e.wkt===I4.wkt?t.spatialReferenceId=N.SPHERICAL_MOON_PCPF:ly(e)?t.spatialReferenceId=N.GCSMARS2000:cy(e)?t.spatialReferenceId=N.GCSMOON2000:t.spatialReferenceId=N.UNKNOWN)}function St(e,t,r,i){e!==r&&(r[i++]=e[t++],r[i++]=e[t++],r[i]=e[t])}function am(e,t,r,i){r[i++]=jm*(e[t++]/Tt.radius),r[i++]=jm*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/Tt.radius))),r[i]=e[t]}function Xhe(e,t,r,i){am(e,t,r,i),Qf(r,i,r,i)}function e0e(e,t,r,i){am(e,t,r,i),Kf(r,i,r,i)}function t0e(e,t,r,i,n){const s=.4999999*Math.PI,a=zn(Wo*e[t+1],-s,s),o=Math.sin(a);r[i++]=Wo*e[t]*n.radius,r[i++]=n.halfSemiMajorAxis*Math.log((1+o)/(1-o)),r[i]=e[t+2]}function Y1(e,t,r,i){t0e(e,t,r,i,Tt)}const mO=Tt.radius*Math.PI/180,yO=180/(Tt.radius*Math.PI);function Jf(e,t,r,i){r[i]=e[t]*mO,r[i+1]=e[t+1]*mO,r[i+2]=e[t+2]}function Zf(e,t,r,i){r[i]=e[t]*yO,r[i+1]=e[t+1]*yO,r[i+2]=e[t+2]}function r0e(e,t,r,i){am(e,t,r,i),Jf(r,i,r,i)}function i0e(e,t,r,i){Xf(e,t,r,i),Jf(r,i,r,i)}function n0e(e,t,r,i){Yf(e,t,r,i),Jf(r,i,r,i)}function s0e(e,t,r,i){Zf(e,t,r,i),Qf(r,i,r,i)}function a0e(e,t,r,i){Zf(e,t,r,i),Y1(r,i,r,i)}function o0e(e,t,r,i){Zf(e,t,r,i),Kf(r,i,r,i)}function tk(e){if(B(e))return!1;const t=Q1(e,cW);return!!P0[t][N.WGS84_COMPARABLE_LON_LAT]}function rk(e,t,r,i,n){const s=n+e[t+2],a=Wo*e[t+1],o=Wo*e[t],l=Math.cos(a);r[i++]=Math.cos(o)*l*s,r[i++]=Math.sin(o)*l*s,r[i]=Math.sin(a)*s}function gO(e,t,r,i){rk(e,t,r,i,md.radius)}function bO(e,t,r,i){rk(e,t,r,i,cc.radius)}function Qf(e,t,r,i){rk(e,t,r,i,Tt.radius)}function ik(e,t,r,i,n){const s=e[t],a=e[t+1],o=e[t+2],l=Math.sqrt(s*s+a*a+o*o),c=hq(o/(l===0?1:l)),d=Math.atan2(a,s);r[i++]=jm*d,r[i++]=jm*c,r[i]=l-n}function vO(e,t,r,i){ik(e,t,r,i,md.radius)}function wO(e,t,r,i){ik(e,t,r,i,cc.radius)}function Yf(e,t,r,i){ik(e,t,r,i,Tt.radius)}function l0e(e,t,r,i){Yf(e,t,r,i),Y1(r,i,r,i)}function c0e(e,t,r,i){Yf(e,t,r,i),Kf(r,i,r,i)}function u0e(e,t,r,i,n){const s=Wo*e[t],a=Wo*e[t+1],o=e[t+2],l=Math.sin(a),c=Math.cos(a),d=n.radius/Math.sqrt(1-n.eccentricitySquared*l*l);r[i++]=(d+o)*c*Math.cos(s),r[i++]=(d+o)*c*Math.sin(s),r[i++]=(d*(1-n.eccentricitySquared)+o)*l}function Kf(e,t,r,i){u0e(e,t,r,i,Tt)}function Xf(e,t,r,i){const n=jhe,s=e[t],a=e[t+1],o=e[t+2];let l,c,d,p,h,m,g,b,w,v,_,S,x,M,I,$,T,A,P,F,j;l=Math.abs(o),c=s*s+a*a,d=Math.sqrt(c),p=c+o*o,h=Math.sqrt(p),F=Math.atan2(a,s),m=o*o/p,g=c/p,M=n.a2/h,I=n.a3-n.a4/h,g>.3?(b=l/h*(1+g*(n.a1+M+m*I)/h),P=Math.asin(b),v=b*b,w=Math.sqrt(1-v)):(w=d/h*(1-m*(n.a5-M-g*I)/h),P=Math.acos(w),v=1-w*w,b=Math.sqrt(v)),_=1-Tt.eccentricitySquared*v,S=Tt.radius/Math.sqrt(_),x=n.a6*S,M=d-S*w,I=l-x*b,T=w*M+b*I,$=w*I-b*M,A=$/(x/_+T),P+=A,j=T+$*A/2,o<0&&(P=-P),r[i++]=jm*F,r[i++]=jm*P,r[i]=j}function d0e(e,t,r,i){Xf(e,t,r,i),Qf(r,i,r,i)}function f0e(e,t,r,i){Xf(e,t,r,i),Y1(r,i,r,i)}const P0={[N.WGS84]:{[N.CGCS2000]:null,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:St,[N.WGS84_COMPARABLE_LON_LAT]:St,[N.SPHERICAL_ECEF]:Qf,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:Y1,[N.PLATE_CARREE]:Jf,[N.WGS84]:St,[N.WGS84_ECEF]:Kf},[N.CGCS2000]:{[N.CGCS2000]:St,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:St,[N.WGS84_COMPARABLE_LON_LAT]:St,[N.SPHERICAL_ECEF]:Qf,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:Jf,[N.WGS84]:null,[N.WGS84_ECEF]:Kf},[N.GCSMARS2000]:{[N.CGCS2000]:null,[N.GCSMARS2000]:St,[N.GCSMOON2000]:null,[N.LON_LAT]:St,[N.WGS84_COMPARABLE_LON_LAT]:null,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:bO,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.GCSMOON2000]:{[N.CGCS2000]:null,[N.GCSMARS2000]:null,[N.GCSMOON2000]:St,[N.LON_LAT]:St,[N.WGS84_COMPARABLE_LON_LAT]:null,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:gO,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.WEB_MERCATOR]:{[N.CGCS2000]:null,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:am,[N.WGS84_COMPARABLE_LON_LAT]:am,[N.SPHERICAL_ECEF]:Xhe,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:St,[N.PLATE_CARREE]:r0e,[N.WGS84]:am,[N.WGS84_ECEF]:e0e},[N.WGS84_ECEF]:{[N.CGCS2000]:Xf,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:Xf,[N.WGS84_COMPARABLE_LON_LAT]:Xf,[N.SPHERICAL_ECEF]:d0e,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:f0e,[N.PLATE_CARREE]:i0e,[N.WGS84]:Xf,[N.WGS84_ECEF]:St},[N.SPHERICAL_ECEF]:{[N.CGCS2000]:Yf,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:Yf,[N.WGS84_COMPARABLE_LON_LAT]:Yf,[N.SPHERICAL_ECEF]:St,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:l0e,[N.PLATE_CARREE]:n0e,[N.WGS84]:Yf,[N.WGS84_ECEF]:c0e},[N.SPHERICAL_MARS_PCPF]:{[N.CGCS2000]:null,[N.GCSMARS2000]:wO,[N.GCSMOON2000]:null,[N.LON_LAT]:wO,[N.WGS84_COMPARABLE_LON_LAT]:null,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:St,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.SPHERICAL_MOON_PCPF]:{[N.CGCS2000]:null,[N.GCSMARS2000]:null,[N.GCSMOON2000]:vO,[N.LON_LAT]:vO,[N.WGS84_COMPARABLE_LON_LAT]:null,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:St,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.UNKNOWN]:{[N.CGCS2000]:null,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:null,[N.WGS84_COMPARABLE_LON_LAT]:null,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:St,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.LON_LAT]:{[N.CGCS2000]:St,[N.GCSMARS2000]:St,[N.GCSMOON2000]:St,[N.LON_LAT]:St,[N.WGS84_COMPARABLE_LON_LAT]:St,[N.SPHERICAL_ECEF]:Qf,[N.SPHERICAL_MARS_PCPF]:bO,[N.SPHERICAL_MOON_PCPF]:gO,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:Y1,[N.PLATE_CARREE]:Jf,[N.WGS84]:St,[N.WGS84_ECEF]:Kf},[N.WGS84_COMPARABLE_LON_LAT]:{[N.CGCS2000]:null,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:St,[N.WGS84_COMPARABLE_LON_LAT]:St,[N.SPHERICAL_ECEF]:Qf,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:Jf,[N.WGS84]:St,[N.WGS84_ECEF]:Kf},[N.PLATE_CARREE]:{[N.CGCS2000]:Zf,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:Zf,[N.WGS84_COMPARABLE_LON_LAT]:Zf,[N.SPHERICAL_ECEF]:s0e,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:a0e,[N.PLATE_CARREE]:St,[N.WGS84]:Zf,[N.WGS84_ECEF]:o0e}};function lW(e,t,r=nk()){return B(e)||B(t)?null:p0e(e,t,r).projector}function p0e(e,t,r){if(B(e)||B(t)||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const i=Q1(e,r.source),n=Q1(t,r.dest);return i===N.UNKNOWN&&n===N.UNKNOWN?bi(e,t)?r.projector=St:r.projector=null:r.projector=P0[i][n],r}function nk(){return{source:{spatialReference:null,spatialReferenceId:N.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:N.UNKNOWN,metersPerUnit:1},projector:St}}const cW={spatialReference:null,spatialReferenceId:N.UNKNOWN},h0e={spatialReference:null,spatialReferenceId:N.UNKNOWN},uW=nk();nk();const Wo=k0(1),jm=pq(1),z3=Bn(),Pc=Bn(),Oc=Bn(),Or=Bn();var VM;let Eo=VM=class extends Z{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new VM({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};u([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Eo.prototype,"cols",void 0),u([f({type:Xe,json:{write:!0}})],Eo.prototype,"level",void 0),u([f({type:String,json:{write:!0}})],Eo.prototype,"levelValue",void 0),u([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Eo.prototype,"origin",void 0),u([f({type:Number,json:{write:!0}})],Eo.prototype,"resolution",void 0),u([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Eo.prototype,"rows",void 0),u([f({type:Number,json:{write:!0}})],Eo.prototype,"scale",void 0),Eo=VM=u([E("esri.layers.support.LOD")],Eo);const sk=Eo;var ru;const _O=new Le({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Br=ru=class extends Z{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(e={}){const{resolutionFactor:t=1,scales:r,size:i=256,spatialReference:n=Ce.WebMercator,numLODs:s=24}=e;if(!Ui(n)){const p=[];if(r)for(let h=0;h<r.length;h++){const m=r[h];p.push({level:h,scale:m,resolution:m})}else{let h=5e-4;for(let m=s-1;m>=0;m--)p.unshift({level:m,scale:h,resolution:h}),h*=2}return new ru({dpi:96,lods:p,origin:new be(0,0,n),size:[i,i],spatialReference:n})}const a=ys(n),o=e.origin?new be({x:e.origin.x,y:e.origin.y,spatialReference:n}):new be(a?{x:a.origin[0],y:a.origin[1],spatialReference:n}:{x:0,y:0,spatialReference:n}),l=96,c=1/(Mc(n)*39.37*l),d=[];if(r)for(let p=0;p<r.length;p++){const h=r[p],m=h*c;d.push({level:p,scale:h,resolution:m})}else{let p=TG(n)?512/i*5916575275917094e-7:256/i*591657527591555e-6;const h=Math.ceil(s/t);d.push({level:0,scale:p,resolution:p*c});for(let m=1;m<h;m++){const g=p/2**t,b=g*c;d.push({level:m,scale:g,resolution:b}),p=g}}return new ru({dpi:l,lods:d,origin:o,size:[i,i],spatialReference:n})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=ys(e);return e.isWrappable&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return be.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const i=[];this._levelToLOD={},e&&(t=-1/0,r=1/0,e.forEach(n=>{i.push(n.scale),t=n.scale>t?n.scale:t,r=n.scale<r?n.scale:r,this._levelToLOD[n.level]=n})),this._set("scales",i),this._set("minScale",t),this._set("maxScale",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];{const r=Math.floor(e),i=r+1;return t[r]/(t[r]/t[i])**(e-r)}}scaleToZoom(e){const t=this.scales,r=t.length-1;let i=0;for(;i<r;i++){const n=t[i],s=t[i+1];if(n<=e)return i;if(s===e)return i+1;if(n>e&&s<e)return i+Math.log(n/e)/Math.log(n/s)}return i}snapScale(e,t=.95){const r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}tileAt(e,t,r,i){const n=this.lodAt(e);if(!n)return null;let s,a;if(typeof t=="number")s=t,a=r;else if(bi(t.spatialReference,this.spatialReference))s=t.x,a=t.y,i=r;else{const c=rw(t,this.spatialReference);if(B(c))return null;s=c.x,a=c.y,i=r}const o=n.resolution*this.size[0],l=n.resolution*this.size[1];return i||(i={id:null,level:0,row:0,col:0,extent:ua()}),i.level=e,i.row=Math.floor((this.origin.y-a)/l+.001),i.col=Math.floor((s-this.origin.x)/o+.001),this.updateTileInfo(i),i}updateTileInfo(e,t=ru.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===ru.ExtrapolateOptions.POWER_OF_TWO){const a=this.lods[this.lods.length-1];a.level<e.level&&(r=a)}if(!r)return;const i=e.level-r.level,n=r.resolution*this.size[0]/2**i,s=r.resolution*this.size[1]/2**i;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=ua()),e.extent[0]=this.origin.x+e.col*n,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+n,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const{resolution:r}=this.lodAt(t.level),i=r*this.size[0],n=r*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*n,e[2]=e[0]+i,e[3]=e[1]+n,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return ru.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(this.size[0]===256&&this.size[1]===256)return e===256?this:null;const r=[],i=this.lods.length;for(let n=0;n<i;n++){const s=this.lods[n],a=s.resolution*t;r.push(new sk({level:s.level,scale:s.scale,resolution:a}))}return new ru({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const i=e[r];this._upsampleLevels[i.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/i.resolution:0},t=i}}};u([f({type:Number,json:{write:!0}})],Br.prototype,"compressionQuality",void 0),u([f({type:Number,json:{write:!0}})],Br.prototype,"dpi",void 0),u([f({type:String,json:{read:_O.read,write:_O.write,origins:{"web-scene":{read:!1,write:!1}}}})],Br.prototype,"format",void 0),u([f({readOnly:!0})],Br.prototype,"isWrappable",null),u([f({type:be,json:{write:!0}})],Br.prototype,"origin",void 0),u([ie("origin")],Br.prototype,"readOrigin",null),u([f({type:[sk],value:null,json:{write:!0}})],Br.prototype,"lods",null),u([f({readOnly:!0})],Br.prototype,"minScale",void 0),u([f({readOnly:!0})],Br.prototype,"maxScale",void 0),u([f({readOnly:!0})],Br.prototype,"scales",void 0),u([f({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Br.prototype,"size",void 0),u([ie("size",["rows","cols"])],Br.prototype,"readSize",null),u([ce("size",{cols:{type:Xe},rows:{type:Xe}})],Br.prototype,"writeSize",null),u([f({type:Ce,json:{write:!0}})],Br.prototype,"spatialReference",void 0),Br=ru=u([E("esri.layers.support.TileInfo")],Br),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Br||(Br={}));const Hb=Br,k5={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,i=this.values;return t<=r.xsmall?i.xsmall:t<=r.small?i.small:t<=r.medium?i.medium:t<=r.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,i=this.values;return t<=r.xsmall?i.xsmall:t<=r.small?i.small:t<=r.medium?i.medium:t<=r.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],i=t[1],n=this.values;return i>=r?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},f7={xsmall:544,small:768,medium:992,large:1200};function m0e(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function p7(e,t){return t?k5[e].valueToClassName[t].split(" "):[]}const y0e=e=>{let t=class extends e{constructor(...r){super(...r),this._breakpointsHandles=new hr,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=f7}initialize(){this._breakpointsHandles.add(ee(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Ke))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=Tn(this._breakpointsHandles))}set breakpoints(r){if(r===this._get("breakpoints"))return;const i=m0e(r);if(!i){const n=JSON.stringify(f7,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n)}r=i?r:f7,this._set("breakpoints",{...r})}_updateClassNames(){if(!this.container)return;const r=sn.acquire(),i=sn.acquire();let n,s=!1;for(n in k5){const a=this[n],o=k5[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});a!==o&&(s=!0,this[n]=o,p7(n,a).forEach(l=>i.push(l)),p7(n,o).forEach(l=>r.push(l)))}s&&(this._applyClassNameChanges(r,i),sn.release(r),sn.release(i))}_applyClassNameChanges(r,i){const n=this.container;n&&(i.forEach(s=>n.classList.remove(s)),r.forEach(s=>n.classList.add(s)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let i;for(i in k5)p7(i,this[i]).forEach(n=>r.classList.remove(n))}};return u([f()],t.prototype,"breakpoints",null),u([f()],t.prototype,"orientation",void 0),u([f()],t.prototype,"widthBreakpoint",void 0),u([f()],t.prototype,"heightBreakpoint",void 0),t=u([E("esri.views.BreakpointsOwner")],t),t};function ak(e){return typeof e=="string"?document.getElementById(e):e}function dW(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function SO(e,t){const r=t.parentNode;r&&r.insertBefore(e,t)}function xO(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}/*!
 * @esri/arcgis-html-sanitizer - v2.10.0 - Tue Mar 15 2022 16:38:25 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var g0e="[object Object]";function b0e(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function v0e(e,t){return function(r){return e(t(r))}}var w0e=Function.prototype,fW=Object.prototype,pW=w0e.toString,_0e=fW.hasOwnProperty,S0e=pW.call(Object),x0e=fW.toString,M0e=v0e(Object.getPrototypeOf,Object);function I0e(e){return!!e&&typeof e=="object"}function $0e(e){if(!I0e(e)||x0e.call(e)!=g0e||b0e(e))return!1;var t=M0e(e);if(t===null)return!0;var r=_0e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&pW.call(r)==S0e}var T0e=$0e,Ff={exports:{}},nr={},K1={exports:{}},Hp={};function hW(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function C0e(e,t,r){}function E0e(e,t,r){}var k0e=/javascript\s*\:/img;function A0e(e,t){return k0e.test(t)?"":t}Hp.whiteList=hW();Hp.getDefaultWhiteList=hW;Hp.onAttr=C0e;Hp.onIgnoreAttr=E0e;Hp.safeAttrValue=A0e;var L0e={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Yy=L0e;function R0e(e,t){e=Yy.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,i=!1,n=0,s=0,a="";function o(){if(!i){var d=Yy.trim(e.slice(n,s)),p=d.indexOf(":");if(p!==-1){var h=Yy.trim(d.slice(0,p)),m=Yy.trim(d.slice(p+1));if(h){var g=t(n,a.length,h,m,d);g&&(a+=g+"; ")}}}n=s+1}for(;s<r;s++){var l=e[s];if(l==="/"&&e[s+1]==="*"){var c=e.indexOf("*/",s+2);if(c===-1)break;s=c+1,n=s+1,i=!1}else l==="("?i=!0:l===")"?i=!1:l===";"?i||o():l===`
`&&o()}return Yy.trim(a)}var P0e=R0e,B3=Hp,O0e=P0e;function MO(e){return e==null}function F0e(e){var t={};for(var r in e)t[r]=e[r];return t}function mW(e){e=F0e(e||{}),e.whiteList=e.whiteList||B3.whiteList,e.onAttr=e.onAttr||B3.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||B3.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||B3.safeAttrValue,this.options=e}mW.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,n=r.onAttr,s=r.onIgnoreAttr,a=r.safeAttrValue,o=O0e(e,function(l,c,d,p,h){var m=i[d],g=!1;if(m===!0?g=m:typeof m=="function"?g=m(p):m instanceof RegExp&&(g=m.test(p)),g!==!0&&(g=!1),p=a(d,p),!!p){var b={position:c,sourcePosition:l,source:h,isWhite:g};if(g){var w=n(d,p,b);return MO(w)?d+":"+p:w}else{var w=s(d,p,b);if(!MO(w))return w}}});return o};var D0e=mW;(function(e,t){var r=Hp,i=D0e;function n(a,o){var l=new i(o);return l.process(a)}t=e.exports=n,t.FilterCSS=i;for(var s in r)t[s]=r[s]})(K1,K1.exports);var ok={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},N0e=K1.exports.FilterCSS,j0e=K1.exports.getDefaultWhiteList,A4=ok;function yW(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var gW=new N0e;function V0e(e,t,r){}function z0e(e,t,r){}function B0e(e,t,r){}function U0e(e,t,r){}function bW(e){return e.replace(q0e,"&lt;").replace(H0e,"&gt;")}function G0e(e,t,r,i){if(r=MW(r),t==="href"||t==="src"){if(r=A4.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(U3.lastIndex=0,U3.test(r))return""}else if(t==="style"){if(IO.lastIndex=0,IO.test(r)||($O.lastIndex=0,$O.test(r)&&(U3.lastIndex=0,U3.test(r))))return"";i!==!1&&(i=i||gW,r=i.process(r))}return r=IW(r),r}var q0e=/</g,H0e=/>/g,W0e=/"/g,J0e=/&quot;/g,Z0e=/&#([a-zA-Z0-9]*);?/gim,Q0e=/&colon;?/gim,Y0e=/&newline;?/gim,U3=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,IO=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,$O=/u\s*r\s*l\s*\(.*/gi;function vW(e){return e.replace(W0e,"&quot;")}function wW(e){return e.replace(J0e,'"')}function _W(e){return e.replace(Z0e,function(r,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function SW(e){return e.replace(Q0e,":").replace(Y0e," ")}function xW(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return A4.trim(t)}function MW(e){return e=wW(e),e=_W(e),e=SW(e),e=xW(e),e}function IW(e){return e=vW(e),e=bW(e),e}function K0e(){return""}function X0e(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function i(a){return r?!0:A4.indexOf(e,a)!==-1}var n=[],s=!1;return{onIgnoreTag:function(a,o,l){if(i(a))if(l.isClosing){var c="[/removed]",d=l.position+c.length;return n.push([s!==!1?s:l.position,d]),s=!1,c}else return s||(s=l.position),"[removed]";else return t(a,o,l)},remove:function(a){var o="",l=0;return A4.forEach(n,function(c){o+=a.slice(l,c[0]),l=c[1]}),o+=a.slice(l),o}}}function eme(e){for(var t="",r=0;r<e.length;){var i=e.indexOf("<!--",r);if(i===-1){t+=e.slice(r);break}t+=e.slice(r,i);var n=e.indexOf("-->",i);if(n===-1)break;r=n+3}return t}function tme(e){var t=e.split("");return t=t.filter(function(r){var i=r.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),t.join("")}nr.whiteList=yW();nr.getDefaultWhiteList=yW;nr.onTag=V0e;nr.onIgnoreTag=z0e;nr.onTagAttr=B0e;nr.onIgnoreTagAttr=U0e;nr.safeAttrValue=G0e;nr.escapeHtml=bW;nr.escapeQuote=vW;nr.unescapeQuote=wW;nr.escapeHtmlEntities=_W;nr.escapeDangerHtml5Entities=SW;nr.clearNonPrintableCharacter=xW;nr.friendlyAttrValue=MW;nr.escapeAttrValue=IW;nr.onIgnoreTagStripAll=K0e;nr.StripTagBody=X0e;nr.stripCommentTag=eme;nr.stripBlankChar=tme;nr.cssFilter=gW;nr.getDefaultCSSWhiteList=j0e;var vw={},$u=ok;function rme(e){var t=$u.spaceIndex(e);if(t===-1)var r=e.slice(1,-1);else var r=e.slice(1,t+1);return r=$u.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function ime(e){return e.slice(0,2)==="</"}function nme(e,t,r){var i="",n=0,s=!1,a=!1,o=0,l=e.length,c="",d="";e:for(o=0;o<l;o++){var p=e.charAt(o);if(s===!1){if(p==="<"){s=o;continue}}else if(a===!1){if(p==="<"){i+=r(e.slice(n,o)),s=o,n=o;continue}if(p===">"){i+=r(e.slice(n,s)),d=e.slice(s,o+1),c=rme(d),i+=t(s,i.length,c,d,ime(d)),n=o+1,s=!1;continue}if(p==='"'||p==="'")for(var h=1,m=e.charAt(o-h);m.trim()===""||m==="=";){if(m==="="){a=p;continue e}m=e.charAt(o-++h)}}else if(p===a){a=!1;continue}}return n<e.length&&(i+=r(e.substr(n))),i}var sme=/[^a-zA-Z0-9_:\.\-]/gim;function ame(e,t){var r=0,i=[],n=!1,s=e.length;function a(p,h){if(p=$u.trim(p),p=p.replace(sme,"").toLowerCase(),!(p.length<1)){var m=t(p,h||"");m&&i.push(m)}}for(var o=0;o<s;o++){var l=e.charAt(o),c,d;if(n===!1&&l==="="){n=e.slice(r,o),r=o+1;continue}if(n!==!1&&o===r&&(l==='"'||l==="'")&&e.charAt(o-1)==="="){if(d=e.indexOf(l,o+1),d===-1)break;c=$u.trim(e.slice(r+1,d)),a(n,c),n=!1,o=d,r=o+1;continue}if(/\s|\n|\t/.test(l))if(e=e.replace(/\s|\n|\t/g," "),n===!1)if(d=ome(e,o),d===-1){c=$u.trim(e.slice(r,o)),a(c),n=!1,r=o+1;continue}else{o=d-1;continue}else if(d=lme(e,o-1),d===-1){c=$u.trim(e.slice(r,o)),c=TO(c),a(n,c),n=!1,r=o+1;continue}else continue}return r<e.length&&(n===!1?a(e.slice(r)):a(n,TO($u.trim(e.slice(r))))),$u.trim(i.join(" "))}function ome(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function lme(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function cme(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function TO(e){return cme(e)?e.substr(1,e.length-2):e}vw.parseTag=nme;vw.parseAttr=ame;var ume=K1.exports.FilterCSS,Ga=nr,$W=vw,dme=$W.parseTag,fme=$W.parseAttr,A5=ok;function G3(e){return e==null}function pme(e){var t=A5.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=A5.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=A5.trim(e.slice(0,-1))),{html:e,closing:r}}function hme(e){var t={};for(var r in e)t[r]=e[r];return t}function TW(e){e=hme(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Ga.onIgnoreTagStripAll),e.whiteList=e.whiteList||e.allowList||Ga.whiteList,e.onTag=e.onTag||Ga.onTag,e.onTagAttr=e.onTagAttr||Ga.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Ga.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Ga.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Ga.safeAttrValue,e.escapeHtml=e.escapeHtml||Ga.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new ume(e.css))}TW.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,n=r.onTag,s=r.onIgnoreTag,a=r.onTagAttr,o=r.onIgnoreTagAttr,l=r.safeAttrValue,c=r.escapeHtml,d=t.cssFilter;r.stripBlankChar&&(e=Ga.stripBlankChar(e)),r.allowCommentTag||(e=Ga.stripCommentTag(e));var p=!1;if(r.stripIgnoreTagBody){var p=Ga.StripTagBody(r.stripIgnoreTagBody,s);s=p.onIgnoreTag}var h=dme(e,function(m,g,b,w,v){var _={sourcePosition:m,position:g,isClosing:v,isWhite:i.hasOwnProperty(b)},S=n(b,w,_);if(!G3(S))return S;if(_.isWhite){if(_.isClosing)return"</"+b+">";var x=pme(w),M=i[b],I=fme(x.html,function(T,A){var P=A5.indexOf(M,T)!==-1,F=a(b,T,A,P);if(!G3(F))return F;if(P)return A=l(b,T,A,d),A?T+'="'+A+'"':T;var F=o(b,T,A,P);return G3(F)?void 0:F}),w="<"+b;return I&&(w+=" "+I),x.closing&&(w+=" /"),w+=">",w}else{var S=s(b,w,_);return G3(S)?c(w):S}},c);return p&&(h=p.remove(h)),h};var mme=TW;(function(e,t){var r=nr,i=vw,n=mme;function s(l,c){var d=new n(c);return d.process(l)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=n;for(var a in r)t[a]=r[a];for(var a in i)t[a]=i[a];function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(Ff,Ff.exports);var yme=function(){function e(t,r){var i=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,a,o,l){return s==="a"&&a==="href"||(s==="img"||s==="source")&&a==="src"?i.sanitizeUrl(o):Ff.exports.safeAttrValue(s,a,o,l)}};var n;t&&!r?n=t:t&&r?(n=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(s){s==="whiteList"?n.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,t.whiteList||{}]):n[s]=t[s]})):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList),this.xssFilterOptions=n,this._xssFilter=new Ff.exports.FilterXSS(n)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var i=(r!=null?r:{}).isProtocolRequired,n=i===void 0?!0:i,s=this._trim(t.substring(0,t.indexOf(":"))),a=t==="/",o=/^#/.test(t),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return a||o||l?Ff.exports.escapeAttrValue(t):!s&&!n?Ff.exports.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,i,n){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,i,n):Ff.exports.safeAttrValue(t,r,i,n)},e.prototype.validate=function(t,r){r===void 0&&(r={});var i=this.sanitize(t,r);return{isValid:t===i,sanitized:i}},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(i){Object.keys(i).forEach(function(n){Array.isArray(i[n])&&Array.isArray(r[n])?r[n]=r[n].concat(i[n]):r[n]=i[n]})}),r},e.prototype._iterateOverObject=function(t,r){var i=this;r===void 0&&(r={});try{var n=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(o,l){var c=i.validate(l,r);return c.isValid?o.concat([l]):(n=!0,o.concat([c.sanitized]))},[]);else if(T0e(t)){var a=Object.keys(t);s=a.reduce(function(o,l){var c=t[l],d=i.validate(c,r);return d.isValid?o[l]=c:(n=!0,o[l]=d.sanitized),o},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return n?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const ww=new Map;function CW(){ww.clear()}function gme(e){return ww.get(e)}function bme(e,t){ww.set(e,t)}function h7(e){ww.delete(e)}var Lp,Vm,vme=function(e){if("WebkitTransition"in e.style)Lp="webkitTransitionEnd",Vm="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");Lp="transitionend",Vm="animationend"}},EW=function(e){Lp||vme(e)},wme=function(e,t){return t===void 0&&(t=e+"-active"),function(r){EW(r);var i=!1,n=function(s){i||(i=!0,r.removeEventListener(Lp,n),r.removeEventListener(Vm,n),r.classList.remove(e),r.classList.remove(t))};r.classList.add(e),r.addEventListener(Lp,n),r.addEventListener(Vm,n),requestAnimationFrame(function(){r.classList.add(t)})}},_me=function(e,t){return t===void 0&&(t=e+"-active"),function(r,i){EW(r);var n=!1,s=function(a){n||(n=!0,r.removeEventListener(Lp,s),r.removeEventListener(Vm,s),i())};r.classList.add(e),r.addEventListener(Lp,s),r.addEventListener(Vm,s),requestAnimationFrame(function(){r.classList.add(t)})}};const Sme=ae.getLogger("esri.widgets.support.widgetUtils");function O0(e){const t=sn.acquire();for(let i=0;i<arguments.length;i++){const n=arguments[i],s=typeof n;if(s==="string")t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if(s==="object")for(const a in n)n[a]&&t.push(a)}const r=t.join(" ");return sn.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(r=>{CW();for(const i of r)e.get(i.target)(i)});return(r,i,n)=>(e.has(r)&&Sme.error("Already observing element",r),e.set(r,i),t.observe(r,n),ry(()=>{t.unobserve(r),e.delete(r)}))})();function eo(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function CO(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function zM(e){const t="data-node-ref";this[e.getAttribute(t)]=e}function xme(e,t){return(e==="enter"?wme:_me)(t)}const Mme=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Ime=Mme.reduce((e,t)=>(e[t]=[],e),{}),$me=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],kW=new yme({whiteList:Ime,onTagAttr:(e,t,r)=>{const i=`${t}="${r}"`;if($me.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Tme(e){return e==="Enter"||e===" "}const AW="http://www.w3.org/",_w=`${AW}2000/svg`,LW=`${AW}1999/xlink`;let L4,EO=[],lk=(e,t)=>{let r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),t&&Object.keys(t).forEach(i=>{r[i]=t[i]}),r},ck=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),RW=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},Cme=(e,t,r)=>{if(t.vnodeSelector!==""){for(let i=r;i<e.length;i++)if(ck(e[i],t))return i}return-1},m7=(e,t,r,i)=>{let n=e[t];if(n.vnodeSelector==="")return;let s=n.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let a=0;a<e.length;a++)if(a!==t){let o=e[a];if(ck(o,n))throw new Error(`${r.vnodeSelector} had a ${n.vnodeSelector} child ${i==="added"?i:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},Eme=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},BM=[],UM=!1,PW=e=>{(e.children||[]).forEach(PW),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},kO=()=>{UM=!1,BM.forEach(PW),BM.length=0},AO=e=>{BM.push(e),UM||(UM=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(kO,{timeout:16}):setTimeout(kO,16))},LO=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),AO(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),AO(e))},kme=(e,t,r)=>{if(!t)return;let i=r.eventHandlerInterceptor,n=Object.keys(t),s=n.length;for(let a=0;a<s;a++){let o=n[a],l=t[o];if(o==="className")throw new Error('Property "className" is not supported, use "class".');if(o==="class")GM(e,l,!0);else if(o==="classes"){let c=Object.keys(l),d=c.length;for(let p=0;p<d;p++){let h=c[p];l[h]&&e.classList.add(h)}}else if(o==="styles"){let c=Object.keys(l),d=c.length;for(let p=0;p<d;p++){let h=c[p],m=l[h];m&&(RW(m),r.styleApplyer(e,h,m))}}else if(o!=="key"&&l!=null){let c=typeof l;c==="function"?(o.lastIndexOf("on",0)===0&&(i&&(l=i(o,l,e,t)),o==="oninput"&&function(){let d=l;l=function(p){d.apply(this,[p]),p.target["oninput-value"]=p.target.value}}()),e[o]=l):r.namespace===_w?o==="href"?e.setAttributeNS(LW,o,l):e.setAttribute(o,l):c==="string"&&o!=="value"?o==="innerHTML"?e[o]=kW.sanitize(l):e.setAttribute(o,l):e[o]=l}}},Ame=(e,t,r)=>{if(t)for(let i of t)F0(i,e,void 0,r)},OW=(e,t,r)=>{Ame(e,t.children,r),t.text&&(e.textContent=t.text),kme(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},F0=(e,t,r,i)=>{let n,s=0,a=e.vnodeSelector,o=t.ownerDocument;if(a==="")n=e.domNode=o.createTextNode(e.text),r!==void 0?t.insertBefore(n,r):t.appendChild(n);else{for(let l=0;l<=a.length;++l){let c=a.charAt(l);if(l===a.length||c==="."||c==="#"){let d=a.charAt(s-1),p=a.slice(s,l);d==="."?n.classList.add(p):d==="#"?n.id=p:(p==="svg"&&(i=lk(i,{namespace:_w})),i.namespace!==void 0?n=e.domNode=o.createElementNS(i.namespace,p):(n=e.domNode=e.domNode||o.createElement(p),p==="input"&&e.properties&&e.properties.type!==void 0&&n.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(n,r):n.parentNode!==t&&t.appendChild(n)),s=l+1}}OW(n,e,i)}},GM=(e,t,r)=>{t&&t.split(" ").forEach(i=>{i&&e.classList.toggle(i,r)})},Lme=(e,t,r,i)=>{if(!r)return;let n=!1,s=Object.keys(r),a=s.length;for(let o=0;o<a;o++){let l=s[o],c=r[l],d=t[l];if(l==="class")d!==c&&(GM(e,d,!1),GM(e,c,!0));else if(l==="classes"){let p=e.classList,h=Object.keys(c),m=h.length;for(let g=0;g<m;g++){let b=h[g],w=!!c[b];w!==!!d[b]&&(n=!0,w?p.add(b):p.remove(b))}}else if(l==="styles"){let p=Object.keys(c),h=p.length;for(let m=0;m<h;m++){let g=p[m],b=c[g];b!==d[g]&&(n=!0,b?(RW(b),i.styleApplyer(e,g,b)):i.styleApplyer(e,g,""))}}else if(c||typeof d!="string"||(c=""),l==="value"){let p=e[l];p!==c&&(e["oninput-value"]?p===e["oninput-value"]:c!==d)&&(e[l]=c,e["oninput-value"]=void 0),c!==d&&(n=!0)}else if(c!==d){let p=typeof c;p==="function"&&i.eventHandlerInterceptor||(i.namespace===_w?l==="href"?e.setAttributeNS(LW,l,c):e.setAttribute(l,c):p==="string"?l==="innerHTML"?e[l]=kW.sanitize(c):l==="role"&&c===""?e.removeAttribute(l):e.setAttribute(l,c):e[l]!==c&&(e[l]=c),n=!0)}}return n},Rme=(e,t,r,i,n)=>{if(r===i)return!1;i=i||EO;let s,a=(r=r||EO).length,o=i.length,l=0,c=0,d=!1;for(;c<o;){let p=l<a?r[l]:void 0,h=i[c];if(p!==void 0&&ck(p,h))d=L4(p,h,n)||d,l++;else{let m=Cme(r,h,l+1);if(m>=0){for(s=l;s<m;s++)LO(r[s]),m7(r,s,e,"removed");d=L4(r[m],h,n)||d,l=m+1}else F0(h,t,l<a?r[l].domNode:void 0,n),Eme(h),m7(i,c,e,"added")}c++}if(a>l)for(s=l;s<a;s++)LO(r[s]),m7(r,s,e,"removed");return d};L4=(e,t,r)=>{let i=e.domNode,n=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let a=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(a,i),t.domNode=a,n=!0,n}t.domNode=i}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=lk(r,{namespace:_w})),e.text!==t.text&&(s=!0,t.text===void 0?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,s=Rme(t,i,e.children,t.children,r)||s,s=Lme(i,e.properties,t.properties,r)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,r,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),n};let Ky=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let i=e;e=r,L4(i,r,t)},domNode:e.domNode});const Pme={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let Rh=e=>lk(Pme,e),qu={create:(e,t)=>(t=Rh(t),F0(e,document.createElement("div"),void 0,t),Ky(e,t)),append:(e,t,r)=>(r=Rh(r),F0(t,e,void 0,r),Ky(t,r)),insertBefore:(e,t,r)=>(r=Rh(r),F0(t,e.parentNode,e,r),Ky(t,r)),merge:(e,t,r)=>(r=Rh(r),t.domNode=e,OW(e,t,r),Ky(t,r)),replace:(e,t,r)=>(r=Rh(r),F0(t,e.parentNode,e,r),e.parentNode.removeChild(e),Ky(t,r))},FW,Ome=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};FW=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let Fme=(e,t)=>{let r=e;return t.forEach(i=>{r=r&&r.children?FW(r.children,n=>n.domNode===i):void 0}),r},Dme=(e,t,r)=>{let i=function(n){r("domEvent",n);let s=t(),a=Ome(n.currentTarget,s.domNode);a.reverse();let o,l=Fme(s.getLastRender(),a);return e.scheduleRender(),l&&(o=l.properties[`on${n.type}`].apply(l.properties.bind||this,arguments)),r("domEventProcessed",n),o};return(n,s,a,o)=>i},R4=e=>{let t,r,i=Rh(e),n=i.performanceLogger,s=!0,a=!1,o=[],l=[],c=(p,h,m)=>{let g,b=()=>g;i.eventHandlerInterceptor=Dme(t,b,n),g=p(h,m(),i),o.push(g),l.push(m)},d=()=>{if(r=void 0,s){s=!1,n("renderStart",void 0);for(let p=0;p<o.length;p++){let h=l[p]();n("rendered",void 0),o[p].update(h),n("patched",void 0)}n("renderDone",void 0),s=!0}};return t={renderNow:d,scheduleRender:()=>{r||a||(r=requestAnimationFrame(d))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),a=!0},resume:()=>{a=!1,s=!0,t.scheduleRender()},append:(p,h)=>{c(qu.append,p,h)},insertBefore:(p,h)=>{c(qu.insertBefore,p,h)},merge:(p,h)=>{c(qu.merge,p,h)},replace:(p,h)=>{c(qu.replace,p,h)},detach:p=>{for(let h=0;h<l.length;h++)if(l[h]===p)return l.splice(h,1),o.splice(h,1)[0];throw new Error("renderFunction was not found")}},t},iu=class extends ye{constructor(){super(...arguments),this.items=new Se,this._watchUpdatingTracking=new im,this._callbacks=new Map,this._projector=R4(),this._hiddenProjector=R4()}get needsRender(){return this.items.length>0}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,t=>{for(const r of t.added){const i=()=>r.render();this._callbacks.set(r,i),this._projector.append(this.surface,i)}for(const r of t.removed){const i=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(i.domNode),this._callbacks.delete(r)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const t=this._hiddenSurface,r=this._hiddenProjector;let i=null;const n=()=>(i=e.render(),i);r.append(t,n),r.renderNow();const s={left:0,top:0,right:0,bottom:0};if(i&&i.domNode){const a=i.domNode.getBoundingClientRect();s.left=a.left,s.top=a.top,s.right=a.right,s.bottom=a.bottom}for(r.detach(n);t.firstChild;)t.removeChild(t.firstChild);return s}overlaps(e,t){const r=this.computeBoundingRect(e),i=this.computeBoundingRect(t);return Math.max(r.left,i.left)<=Math.min(r.right,i.right)&&Math.max(r.top,i.top)<=Math.min(r.bottom,i.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}renderCanvas(e){if(!this.items.some(r=>r.visible))return;const t=e.getContext("2d");t.save(),t.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(r=>{t.save(),r.renderCanvas(t),t.restore()}),t.restore()}};u([f({readOnly:!0})],iu.prototype,"surface",void 0),u([f({readOnly:!0})],iu.prototype,"items",void 0),u([f({readOnly:!0})],iu.prototype,"needsRender",null),u([f({readOnly:!0})],iu.prototype,"_watchUpdatingTracking",void 0),u([f({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],iu.prototype,"updating",void 0),iu=u([E("esri.views.overlay.ViewOverlay")],iu);const RO=iu;function uk(e,t,r,i){let n=null,s=1e3;typeof t=="number"?(s=t,i=r):(n=t!=null?t:null,s=r);let a,o=0;const l=()=>{o=0,e.apply(i,a)},c=(...d)=>{n&&n.apply(i,d),a=d,s?o||(o=setTimeout(l,s)):l()};return c.remove=()=>{o&&(clearTimeout(o),o=0)},c.forceUpdate=()=>{o&&(clearTimeout(o),l())},c.hasPendingUpdates=()=>!!o,c}function fe(e,t){const r=t?{...t,source:e}:e;return f({aliasOf:r})}const Nme="randomUUID"in crypto;function jme(){if(Nme)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}const Vme={handleInterceptedEvent:(e,t,r,i)=>(e.scheduleRender(),t.properties[`on${i.type}`].apply(t.properties.bind||r,[i]))},zme={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{e.style[t]=r}},Bme=e=>({...zme,...e}),Ume=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},Gme=(e,t)=>e.find(t),PO=(e,t,r=!1)=>{let i=e;return t.forEach((n,s)=>{const a=i!=null&&i.children?Gme(i.children,o=>o.domNode===n):void 0;r&&!a&&s!==t.length-1||(i=a)}),i},qme=e=>{let t;const r={...Vme,...e},i=Bme(r),n=i.performanceLogger;let s,a=!0,o=!1;const l=[],c=[],d=(h,m,g)=>{var v;let b;i.eventHandlerInterceptor=(_,S,x,M)=>function(I){let $;n("domEvent",I);const T=Ume(I.currentTarget,b.domNode),A=T.some(F=>{var j;return customElements.get((j=F==null?void 0:F.tagName)==null?void 0:j.toLowerCase())});if(I.eventPhase===Event.CAPTURING_PHASE||!A)T.reverse(),$=PO(b.getLastRender(),T);else{const F=I.composedPath(),j=F.slice(F.indexOf(I.currentTarget),F.indexOf(b.domNode)).filter(V=>V.getRootNode()===V.ownerDocument).reverse();$=PO(b.getLastRender(),j,!0)}let P;return $&&(P=r.handleInterceptedEvent(t,$,this,I)),n("domEventProcessed",I),P},(v=r.postProcessProjectionOptions)==null||v.call(r,i);const w=g();b=h(m,w,i),l.push(b),c.push(g),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(b,w)};let p=()=>{if(s=void 0,a){a=!1,n("renderStart",void 0);for(let h=0;h<l.length;h++){const m=c[h]();n("rendered",void 0),l[h].update(m),n("patched",void 0)}n("renderDone",void 0),a=!0}};return r.modifyDoRenderImplementation&&(p=r.modifyDoRenderImplementation(p,l,c)),t={renderNow:p,scheduleRender:()=>{s||o||(s=requestAnimationFrame(p))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),o=!0},resume:()=>{o=!1,a=!0,t.scheduleRender()},append:(h,m)=>{d(qu.append,h,m)},insertBefore:(h,m)=>{d(qu.insertBefore,h,m)},merge:(h,m)=>{d(qu.merge,h,m)},replace:(h,m)=>{d(qu.replace,h,m)},detach:h=>{for(let m=0;m<c.length;m++)if(c[m]===h)return c.splice(m,1),l.splice(m,1)[0];throw new Error("renderFunction was not found")}},t},Je={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Ph,DW,Sw,NW=!1,P4=!1,dk=!1,as=!1,OO=null,qM=!1;const gy=typeof window<"u"?window:{};Je.cssVarShim&&gy.CSS;const ao=gy.document||{head:{}},nRe=gy.HTMLElement||class{},wi={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,i)=>e.addEventListener(t,r,i),rel:(e,t,r,i)=>e.removeEventListener(t,r,i),ce:(e,t)=>new CustomEvent(e,t)},O4=Je.shadowDomShim&&Je.shadowDom?(()=>(ao.head.attachShadow+"").indexOf("[native")>-1)():!0,Hme=(()=>{let e=!1;try{ao.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Wme=e=>Promise.resolve(e),Jme=Je.constructableCSS?(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replace=="function"}catch{}return!1})():!1,jW=(e,t,r,i)=>{r&&r.map(([n,s,a])=>{const o=Qme(e,n),l=Zme(t,a),c=Yme(n);wi.ael(o,s,l,c),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>wi.rel(o,s,l,c))})},Zme=(e,t)=>r=>{try{Je.lazyLoad||e.$hostElement$[t](r)}catch(i){O2(i)}},Qme=(e,t)=>t&4?ao:t&8?gy:t&16?ao.body:e,Yme=e=>Hme?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,FO="http://www.w3.org/1999/xlink",Rp=(e,t="")=>()=>{},DO=new WeakMap,Kme=(e,t,r)=>{let i=N4.get(e);Jme&&r?(i=i||new CSSStyleSheet,i.replace(t)):i=t,N4.set(e,i)},Xme=(e,t,r,i)=>{let n=VW(t,r),s=N4.get(n);if(e=e.nodeType===11?e:ao,s)if(typeof s=="string"){e=e.head||e;let a=DO.get(e),o;a||DO.set(e,a=new Set),a.has(n)||(o=ao.createElement("style"),o.innerHTML=s,e.insertBefore(o,e.querySelector("link")),a&&a.add(n))}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return n},eye=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,i=t.$flags$,n=Rp("attachStyles",t.$tagName$),s=Xme(O4&&r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);i&10&&(r["s-sc"]=s,r.classList.add(s+"-h"),i&2&&r.classList.add(s+"-s")),n()},VW=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),tye=e=>Aye.map(t=>t(e)).find(t=>!!t),NO={},rye="http://www.w3.org/2000/svg",iye="http://www.w3.org/1999/xhtml",nye=e=>e!=null,fk=e=>(e=typeof e,e==="object"||e==="function"),zW=(e,t,...r)=>{let i=null,n=null,s=null,a=!1,o=!1,l=[];const c=p=>{for(let h=0;h<p.length;h++)i=p[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((a=typeof e!="function"&&!fk(i))&&(i=String(i)),a&&o?l[l.length-1].$text$+=i:l.push(a?F4(null,i):i),o=a)};if(c(r),t&&(Je.isDev&&e==="input"&&lye(t),Je.vdomKey&&t.key&&(n=t.key),Je.slotRelocation&&t.name&&(s=t.name),Je.vdomClass)){const p=t.className||t.class;p&&(t.class=typeof p!="object"?p:Object.keys(p).filter(h=>p[h]).join(" "))}if(Je.isDev&&l.some(BW)&&kye(`The <Host> must be the single root component. Make sure:
- You are NOT using hostData() and <Host> in the same component.
- <Host> is used once, and it's the single root component of the render() function.`),Je.vdomFunctional&&typeof e=="function")return e(t===null?{}:t,l,aye);const d=F4(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),Je.vdomKey&&(d.$key$=n),Je.slotRelocation&&(d.$name$=s),d},F4=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return Je.vdomAttribute&&(r.$attrs$=null),Je.vdomKey&&(r.$key$=null),Je.slotRelocation&&(r.$name$=null),r},sye={},BW=e=>e&&e.$tag$===sye,aye={forEach:(e,t)=>e.map(jO).forEach(t),map:(e,t)=>e.map(jO).map(t).map(oye)},jO=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),oye=e=>{if(typeof e.vtag=="function"){const r=Object.assign({},e.vattrs);return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),zW(e.vtag,r,...e.vchildren||[])}const t=F4(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},lye=e=>{const t=Object.keys(e),r=t.indexOf("value");if(r===-1)return;const i=t.indexOf("type"),n=t.indexOf("min"),s=t.indexOf("max"),a=t.indexOf("step");(r<i||r<n||r<s||r<a)&&KW('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},VO=(e,t,r,i,n,s)=>{if(r!==i){let a=GO(e,t),o=t.toLowerCase();if(t==="class"){const l=e.classList,c=zO(r),d=zO(i);l.remove(...c.filter(p=>p&&!d.includes(p))),l.add(...d.filter(p=>p&&!c.includes(p)))}else if(t==="style"){for(const l in r)(!i||i[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in i)(!r||i[l]!==r[l])&&(l.includes("-")?e.style.setProperty(l,i[l]):e.style[l]=i[l])}else if(t!=="key")if(t==="ref")i&&i(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):GO(gy,o)?t=o.slice(2):t=o[2]+t.slice(3),r&&wi.rel(e,t,r,!1),i&&wi.ael(e,t,i,!1);else{const l=fk(i);if((a||l&&i!==null)&&!n)try{if(e.tagName.includes("-"))e[t]=i;else{let d=i==null?"":i;t==="list"?a=!1:(r==null||e[t]!=d)&&(e[t]=d)}}catch{}let c=!1;o!==(o=o.replace(/^xlink\:?/,""))&&(t=o,c=!0),i==null||i===!1?(i!==!1||e.getAttribute(t)==="")&&(c?e.removeAttributeNS(FO,t):e.removeAttribute(t)):(!a||s&4||n)&&!l&&(i=i===!0?"":i,c?e.setAttributeNS(FO,t,i):e.setAttribute(t,i))}}},cye=/\s/,zO=e=>e?e.split(cye):[],UW=(e,t,r,i)=>{const n=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||NO,a=t.$attrs$||NO;for(i in s)i in a||VO(n,i,s[i],void 0,r,t.$flags$);for(i in a)VO(n,i,s[i],a[i],r,t.$flags$)},D4=(e,t,r,i)=>{let n=t.$children$[r],s=0,a,o,l;if(NW||(dk=!0,n.$tag$==="slot"&&(Ph&&i.classList.add(Ph+"-s"),n.$flags$|=n.$children$?2:1)),n.$text$!==null)a=n.$elm$=ao.createTextNode(n.$text$);else if(n.$flags$&1)a=n.$elm$=ao.createTextNode("");else{if(as||(as=n.$tag$==="svg"),a=n.$elm$=ao.createElementNS(as?rye:iye,n.$flags$&2?"slot-fb":n.$tag$),as&&n.$tag$==="foreignObject"&&(as=!1),UW(null,n,as),nye(Ph)&&a["s-si"]!==Ph&&a.classList.add(a["s-si"]=Ph),n.$children$)for(s=0;s<n.$children$.length;++s)o=D4(e,n,s,a),o&&a.appendChild(o);n.$tag$==="svg"?as=!1:a.tagName==="foreignObject"&&(as=!0)}return a["s-hn"]=Sw,n.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=DW,a["s-sn"]=n.$name$||"",l=e&&e.$children$&&e.$children$[r],l&&l.$tag$===n.$tag$&&e.$elm$&&X1(e.$elm$,!1)),a},X1=(e,t)=>{wi.$flags$|=1;const r=e.childNodes;for(let i=r.length-1;i>=0;i--){const n=r[i];n["s-hn"]!==Sw&&n["s-ol"]&&(HW(n).insertBefore(n,pk(n)),n["s-ol"].remove(),n["s-ol"]=void 0,dk=!0),t&&X1(n,t)}wi.$flags$&=-2},GW=(e,t,r,i,n,s)=>{let a=e["s-cr"]&&e["s-cr"].parentNode||e,o;for(a.shadowRoot&&a.tagName===Sw&&(a=a.shadowRoot);n<=s;++n)i[n]&&(o=D4(null,r,n,e),o&&(i[n].$elm$=o,a.insertBefore(o,pk(t))))},qW=(e,t,r,i,n)=>{for(;t<=r;++t)(i=e[t])&&(n=i.$elm$,ZW(i),P4=!0,n["s-ol"]?n["s-ol"].remove():X1(n,!0),n.remove())},uye=(e,t,r,i)=>{let n=0,s=0,a=0,o=0,l=t.length-1,c=t[0],d=t[l],p=i.length-1,h=i[0],m=i[p],g,b;for(;n<=l&&s<=p;)if(c==null)c=t[++n];else if(d==null)d=t[--l];else if(h==null)h=i[++s];else if(m==null)m=i[--p];else if(q3(c,h))Oh(c,h),c=t[++n],h=i[++s];else if(q3(d,m))Oh(d,m),d=t[--l],m=i[--p];else if(q3(c,m))(c.$tag$==="slot"||m.$tag$==="slot")&&X1(c.$elm$.parentNode,!1),Oh(c,m),e.insertBefore(c.$elm$,d.$elm$.nextSibling),c=t[++n],m=i[--p];else if(q3(d,h))(c.$tag$==="slot"||m.$tag$==="slot")&&X1(d.$elm$.parentNode,!1),Oh(d,h),e.insertBefore(d.$elm$,c.$elm$),d=t[--l],h=i[++s];else{for(a=-1,o=n;o<=l;++o)if(t[o]&&t[o].$key$!==null&&t[o].$key$===h.$key$){a=o;break}a>=0?(b=t[a],b.$tag$!==h.$tag$?g=D4(t&&t[s],r,a,e):(Oh(b,h),t[a]=void 0,g=b.$elm$),h=i[++s]):(g=D4(t&&t[s],r,s,e),h=i[++s]),g&&HW(c.$elm$).insertBefore(g,pk(c.$elm$))}n>l?GW(e,i[p+1]==null?null:i[p+1].$elm$,r,i,s,p):s>p&&qW(t,n,l)},q3=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,pk=e=>e&&e["s-ol"]||e,HW=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Oh=(e,t)=>{const r=t.$elm$=e.$elm$,i=e.$children$,n=t.$children$,s=t.$tag$,a=t.$text$;let o;a===null?(as=s==="svg"?!0:s==="foreignObject"?!1:as,s==="slot"||UW(e,t,as),i!==null&&n!==null?uye(r,i,t,n):n!==null?(e.$text$!==null&&(r.textContent=""),GW(r,null,t,n,0,n.length-1)):i!==null&&qW(i,0,i.length-1),as&&s==="svg"&&(as=!1)):(o=r["s-cr"])?o.parentNode.textContent=a:e.$text$!==a&&(r.data=a)},WW=e=>{let t=e.childNodes,r,i,n,s,a,o;for(i=0,n=t.length;i<n;i++)if(r=t[i],r.nodeType===1){if(r["s-sr"]){for(a=r["s-sn"],r.hidden=!1,s=0;s<n;s++)if(o=t[s].nodeType,t[s]["s-hn"]!==r["s-hn"]||a!==""){if(o===1&&a===t[s].getAttribute("slot")){r.hidden=!0;break}}else if(o===1||o===3&&t[s].textContent.trim()!==""){r.hidden=!0;break}}WW(r)}},Za=[],JW=e=>{let t,r,i,n,s,a,o=0,l=e.childNodes,c=l.length;for(;o<c;o++){if(t=l[o],t["s-sr"]&&(r=t["s-cr"])&&r.parentNode)for(i=r.parentNode.childNodes,n=t["s-sn"],a=i.length-1;a>=0;a--)r=i[a],!r["s-cn"]&&!r["s-nr"]&&r["s-hn"]!==t["s-hn"]&&(BO(r,n)?(s=Za.find(d=>d.$nodeToRelocate$===r),P4=!0,r["s-sn"]=r["s-sn"]||n,s?s.$slotRefNode$=t:Za.push({$slotRefNode$:t,$nodeToRelocate$:r}),r["s-sr"]&&Za.map(d=>{BO(d.$nodeToRelocate$,r["s-sn"])&&(s=Za.find(p=>p.$nodeToRelocate$===r),s&&!d.$slotRefNode$&&(d.$slotRefNode$=s.$slotRefNode$))})):Za.some(d=>d.$nodeToRelocate$===r)||Za.push({$nodeToRelocate$:r}));t.nodeType===1&&JW(t)}},BO=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",ZW=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(ZW)},dye=(e,t)=>{const r=e.$hostElement$,i=e.$cmpMeta$,n=e.$vnode$||F4(null,null),s=BW(t)?t:zW(null,null,t);Sw=r.tagName,i.$attrsToReflect$&&(s.$attrs$=s.$attrs$||{},i.$attrsToReflect$.map(([a,o])=>s.$attrs$[o]=r[a])),s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=n.$elm$=r.shadowRoot||r,Ph=r["s-sc"],DW=r["s-cr"],NW=O4&&(i.$flags$&1)!==0,P4=!1,Oh(n,s);{if(wi.$flags$|=1,dk){JW(s.$elm$);let a,o,l,c,d,p,h=0;for(;h<Za.length;h++)a=Za[h],o=a.$nodeToRelocate$,o["s-ol"]||(l=ao.createTextNode(""),l["s-nr"]=o,o.parentNode.insertBefore(o["s-ol"]=l,o));for(h=0;h<Za.length;h++)if(a=Za[h],o=a.$nodeToRelocate$,a.$slotRefNode$){for(c=a.$slotRefNode$.parentNode,d=a.$slotRefNode$.nextSibling,l=o["s-ol"];l=l.previousSibling;)if(p=l["s-nr"],p&&p["s-sn"]===o["s-sn"]&&c===p.parentNode&&(p=p.nextSibling,!p||!p["s-nr"])){d=p;break}(!d&&c!==o.parentNode||o.nextSibling!==d)&&o!==d&&(!o["s-hn"]&&o["s-ol"]&&(o["s-hn"]=o["s-ol"].parentNode.nodeName),c.insertBefore(o,d))}else o.nodeType===1&&(o.hidden=!0)}P4&&WW(s.$elm$),wi.$flags$&=-2,Za.length=0}},fye=e=>Je.lazyLoad?by(e).$hostElement$:e,sRe=(e,t,r)=>{const i=fye(e);return{emit:n=>(Je.isDev&&!i.isConnected&&KW(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),pye(i,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:n}))}},pye=(e,t,r)=>{const i=wi.ce(t,r);return e.dispatchEvent(i),i},hye=(e,t)=>{},hk=(e,t)=>(e.$flags$|=16,hye(e,e.$ancestorComponent$),Pye(()=>mye(e,t))),mye=(e,t)=>{const r=e.$hostElement$,i=Rp("scheduleUpdate",e.$cmpMeta$.$tagName$),n=r;let s;return t?s=om(n,"componentWillLoad"):s=om(n,"componentWillUpdate"),s=UO(s,()=>om(n,"componentWillRender")),i(),UO(s,()=>yye(e,n,t))},yye=async(e,t,r)=>{const i=e.$hostElement$,n=Rp("update",e.$cmpMeta$.$tagName$);i["s-rc"],r&&eye(e);const s=Rp("render",e.$cmpMeta$.$tagName$);gye(e,t,i),s(),n(),bye(e)},gye=(e,t,r)=>{try{OO=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Je.hasRenderFn||Je.reflect)&&(Je.vdomRender||Je.reflect)&&(Je.hydrateServerSide||dye(e,t))}catch(o){O2(o,e.$hostElement$)}return OO=null,null},bye=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,i=Rp("postUpdate",t),n=r;e.$ancestorComponent$,om(n,"componentDidRender"),e.$flags$&64?(om(n,"componentDidUpdate"),i()):(e.$flags$|=64,om(n,"componentDidLoad"),i())},aRe=e=>{if(Je.updatable){const t=by(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&hk(t,!1),r}return!1},om=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(i){O2(i)}},UO=(e,t)=>e&&e.then?e.then(t):t(),vye=(e,t)=>e!=null&&!fk(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,wye=(e,t)=>by(e).$instanceValues$.get(t),_ye=(e,t,r,i)=>{const n=by(e),s=e,a=n.$instanceValues$.get(t),o=n.$flags$,l=s;r=vye(r,i.$members$[t][0]);const c=Number.isNaN(a)&&Number.isNaN(r);if(r!==a&&!c){n.$instanceValues$.set(t,r);{if(i.$watchers$&&o&128){const p=i.$watchers$[t];p&&p.map(h=>{try{l[h](r,a,t)}catch(m){O2(m,s)}})}if((o&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(r,a,t)===!1)return;hk(n,!1)}}}},Sye=(e,t,r)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const i=Object.entries(t.$members$),n=e.prototype;i.map(([s,[a]])=>{(a&31||a&32)&&Object.defineProperty(n,s,{get(){return wye(this,s)},set(o){_ye(this,s,o,t)},configurable:!0,enumerable:!0})});{const s=new Map;n.attributeChangedCallback=function(a,o,l){wi.jmp(()=>{const c=s.get(a);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(n.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},e.observedAttributes=i.filter(([a,o])=>o[0]&15).map(([a,o])=>{const l=o[1]||a;return s.set(l,a),o[0]&512&&t.$attrsToReflect$.push([a,l]),l})}}return e},xye=async(e,t,r,i,n)=>{if((t.$flags$&32)===0&&(n=e.constructor,t.$flags$|=32,customElements.whenDefined(r.$tagName$).then(()=>t.$flags$|=128),n.style)){let a=n.style;typeof a!="string"&&(a=a[t.$modeName$=tye(e)]);const o=VW(r,t.$modeName$);if(!N4.has(o)){const l=Rp("registerStyles",r.$tagName$);Kme(o,a,!!(r.$flags$&1)),l()}}t.$ancestorComponent$,(()=>hk(t,!0))()},Mye=e=>{},Iye=e=>{if((wi.$flags$&1)===0){const t=by(e),r=t.$cmpMeta$,i=Rp("connectedCallback",r.$tagName$);t.$flags$&1?(jW(e,t,r.$listeners$),Mye(t.$lazyInstance$)):(t.$flags$|=1,r.$flags$&12&&$ye(e),r.$members$&&Object.entries(r.$members$).map(([n,[s]])=>{if(s&31&&e.hasOwnProperty(n)){const a=e[n];delete e[n],e[n]=a}}),xye(e,t,r)),i()}},$ye=e=>{const t=e["s-cr"]=ao.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Tye=e=>{if((wi.$flags$&1)===0){const t=by(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},oRe=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};Je.member&&(r.$members$=t[2]),Je.hostListener&&(r.$listeners$=t[3]),Je.watchCallback&&(r.$watchers$=e.$watchers$),Je.reflect&&(r.$attrsToReflect$=[]),Je.shadowDom&&!O4&&r.$flags$&1&&(r.$flags$|=8);const i=e.prototype.connectedCallback,n=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){Eye(this,r)},connectedCallback(){Iye(this),Je.connectedCallback&&i&&i.call(this)},disconnectedCallback(){Tye(this),Je.disconnectedCallback&&n&&n.call(this)},__attachShadow(){O4?Je.shadowDelegatesFocus?this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),e.is=r.$tagName$,Sye(e,r)},lRe=e=>{const t=new URL(e,wi.$resourcesUrl$);return t.origin!==gy.location.origin?t.href:t.pathname},Cye=e=>wi.$resourcesUrl$=e,QW=new WeakMap,by=e=>QW.get(e),Eye=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Je.isDev&&(r.$renderCount$=0),Je.method&&Je.lazyLoad&&(r.$onInstancePromise$=new Promise(i=>r.$onInstanceResolve$=i)),Je.asyncLoading&&(r.$onReadyPromise$=new Promise(i=>r.$onReadyResolve$=i),e["s-p"]=[],e["s-rc"]=[]),jW(e,r,t.$listeners$),QW.set(e,r)},GO=(e,t)=>t in e,O2=(e,t)=>(0,console.error)(e,t),YW=Je.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],kye=(...e)=>console.error(...YW,...e),KW=(...e)=>console.warn(...YW,...e),N4=new Map,Aye=[],qO=[],XW=[],Lye=(e,t)=>r=>{e.push(r),qM||(qM=!0,t&&wi.$flags$&4?Rye(HM):wi.raf(HM))},HO=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){O2(r)}e.length=0},HM=()=>{HO(qO),HO(XW),(qM=qO.length>0)&&wi.raf(HM)},Rye=e=>Wme().then(e),Pye=Lye(XW,!0),cRe={isDev:!!Je.isDev,isBrowser:!0,isServer:!1,isTesting:!!Je.isTesting};let eJ;function Oye(){Cye(Ya(Qe(eJ)))}eJ="components/assets";const tJ=Symbol("widget"),Fye=[],Dye={},j4=new WeakMap;function rJ(e,t){let r=t.children;if(r&&r.length)for(let n=0;n<r.length;++n)r[n]=rJ(e,r[n]);else r=Fye;const i=t.vnodeSelector;if(mk(i)){const n=t.properties||Dye,s=n.key||i;return{vnodeSelector:"div",properties:{key:s,afterCreate:Nye,afterUpdate:jye,afterRemoved:iJ,parentWidget:e,widgetConstructor:i,widgetProperties:{...n,key:s,children:r}},children:void 0,text:void 0,domNode:null}}return t}function Nye(e,t,r,{parentWidget:i,widgetConstructor:n,widgetProperties:s}){var o;const a=new n(s);a.container=e,j4.set(e,a),(o=a.afterCreate)==null||o.call(a,a,e),i._internalHandles.add(ry(()=>iJ(e)))}function jye(e,t,r,{widgetProperties:i}){var s;const n=j4.get(e);n&&(n.set(i),(s=n.afterUpdate)==null||s.call(n,n,e))}function iJ(e){const t=j4.get(e);t&&(t.destroy(),j4.delete(e))}function mk(e){return typeof e=="function"&&e[tJ]}const WO=new Set;function Vye(e){WO.add(e),e.finally(()=>WO.delete(e))}const nJ="esri.widgets.Widget",zye=ae.getLogger(nJ);let Bye=0;const Uye={widgetIcon:"esri-icon-checkbox-unchecked"};function sJ(e,t){for(const r in t)e[r]!=null&&(typeof e[r]=="object"&&typeof t[r]=="object"?sJ(e[r],t[r]):e[r]=t[r]);return e}const Gye=qme({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(i,n,s,a)=>{const o=t(i,n,s,a),l=r.test(i);if(!((i=i.replace(r,"")).toLowerCase()in s)||l){const c=i[2].toLowerCase()+i.slice(3),d=m=>o.call(s,m);s.addEventListener(c,d,l);const p=()=>s.removeEventListener(c,d,l),h=a.afterRemoved;a.afterRemoved=m=>{h==null||h(m),p()}}return o}},handleInterceptedEvent(e,t,r,i){const{eventPhase:n,type:s}=i,a=n===Event.CAPTURING_PHASE;let o=`on${s}${a?"capture":""}`;const l=t.properties;(o in l||(o=`on${s[0].toUpperCase()}${s.slice(1)}${a?"Capture":""}`,o in l))&&(CW(),e.scheduleRender(),l[o].call(l.bind||r,i))}});let y7=!1,Er=class extends C2(Sc.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new hr,this._projector=Gye,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=Uye.widgetIcon,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=Z6(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const s=await Kt(this._messageBundleProps.map(async({bundlePath:a,propertyName:o})=>{let l=await bE(a);this.uiStrings&&Object.keys(this.uiStrings)&&(l=sJ(D(l),this.uiStrings)),this[o]=l}));for(const a of s)a.error&&zye.error("widget-intl:locale-error",this.declaredClass,a.error)}await this.loadLocale()}),Oye();const r="esri-widget-uid-"+jme(),i=this.render.bind(this);this._trackingTarget=new Q6(()=>this.scheduleRender());const n=()=>{var d;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:r,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const s=i();let{properties:a}=s;a||(s.properties=a={});let{key:o,styles:l}=a;o||(a.key=r),l||(a.styles=l={}),l.display||(l.display="");let c=0;return(d=s.children)==null||d.forEach(p=>{if(mk(p.vnodeSelector))return;let{properties:h}=p;h||(p.properties=h={}),h.key||(h.key=`${this.id}--${c++}`)}),rJ(this,s)};this.render=()=>{if(y7)return n();let s=gme(this);if(s)return s;this._trackingTarget.clear(),y7=!0;try{s=mc(this._trackingTarget,n)}catch(a){throw console.error(a),a}finally{y7=!1}return bme(this,s),s},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),Vye(this._resourcesFetch)}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(GS)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(Tn(this._trackingTarget),Tn(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,h7(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return ak(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+Bye++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(h7(this),this._projector.scheduleRender())}classes(...e){return O0.apply(this,e)}renderNow(){h7(this),this._projector.renderNow()}_postInitialize(){var t;if(this.destroyed)return;this.scheduleRender(),(t=this._delegatedEventNames)!=null&&t.length&&this._internalHandles.add(ee(()=>this.viewModel,(r,i)=>{i&&this._internalHandles.remove("delegated-events"),r&&H6(r)&&this._internalHandles.add(this._delegatedEventNames.map(n=>W6(r,n,s=>{this.emit(n,s)})),"delegated-events")},Ke)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(GS),this.scheduleRender()};this._internalHandles.add([zG(e),ee(()=>this.uiStrings,e),Gi(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};Er[tJ]=!0,u([f()],Er.prototype,"_readyForTrueRender",void 0),u([f({value:null})],Er.prototype,"container",null),u([Ze("container")],Er.prototype,"castContainer",null),u([f({aliasOf:"container"})],Er.prototype,"domNode",void 0),u([f()],Er.prototype,"iconClass",void 0),u([f()],Er.prototype,"id",null),u([f()],Er.prototype,"label",void 0),u([f()],Er.prototype,"renderable",null),u([f()],Er.prototype,"uiStrings",void 0),u([f()],Er.prototype,"viewModel",void 0),u([f()],Er.prototype,"visible",void 0),u([f()],Er.prototype,"key",void 0),u([f()],Er.prototype,"children",void 0),u([f()],Er.prototype,"afterCreate",void 0),u([f()],Er.prototype,"afterUpdate",void 0),u([f()],Er.prototype,"afterRemoved",void 0),Er=u([E(nJ)],Er);const xr=Er;function qye(e){return 32+e.length}function Hye(){return 16}function uRe(e){if(!e)return 0;let t=32;for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];switch(typeof i){case"string":t+=qye(i);break;case"number":t+=Hye();break;case"boolean":t+=4}}return t}function dRe(e,t){return 32+e.length*t}var V4;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(V4||(V4={}));const JO=["B","kB","MB","GB","TB"];function Wye(e,t){let r=t===0?0:Math.floor(Math.log(t)/Math.log(V4.KILOBYTES));r=zn(r,0,JO.length-1);const i=il(t/V4.KILOBYTES**r,{maximumFractionDigits:2});return Ko(e.units.bytes[JO[r]],{fileSize:i})}function Jye(e){const{exifInfo:t,exifName:r,tagName:i}=e;if(!t||!r||!i)return null;const n=t.find(s=>s.name===r);return n?Zye({tagName:i,tags:n.tags}):null}function Zye(e){const{tagName:t,tags:r}=e;if(!r||!t)return null;const i=r.find(n=>n.name===t);return i&&i.value||null}var WM;const Qye={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let bn=WM=class extends Z{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=Jye({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return Qye[t]||null}clone(){return new WM({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};u([f({type:String})],bn.prototype,"contentType",void 0),u([f()],bn.prototype,"exifInfo",void 0),u([f({readOnly:!0})],bn.prototype,"orientationInfo",null),u([f({type:Xe})],bn.prototype,"id",void 0),u([f({type:String})],bn.prototype,"globalId",void 0),u([f({type:String})],bn.prototype,"keywords",void 0),u([f({type:String})],bn.prototype,"name",void 0),u([f({json:{read:!1}})],bn.prototype,"parentGlobalId",void 0),u([f({json:{read:!1}})],bn.prototype,"parentObjectId",void 0),u([f({type:Xe})],bn.prototype,"size",void 0),u([f({json:{read:!1}})],bn.prototype,"url",void 0),bn=WM=u([E("esri.layers.support.AttachmentInfo")],bn);const aJ=bn;var JM;let Xr=JM=class extends Z{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new JM(D({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};u([f({type:[String],json:{write:!0}})],Xr.prototype,"attachmentTypes",void 0),u([f({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Xr.prototype,"attachmentsWhere",void 0),u([f({type:Boolean,json:{write:!0}})],Xr.prototype,"cacheHint",void 0),u([f({type:[String],json:{write:!0}})],Xr.prototype,"keywords",void 0),u([f({type:[Number],json:{write:!0}})],Xr.prototype,"globalIds",void 0),u([f({json:{write:!0}})],Xr.prototype,"name",void 0),u([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Xr.prototype,"num",void 0),u([f({type:[Number],json:{write:!0}})],Xr.prototype,"objectIds",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],Xr.prototype,"returnMetadata",void 0),u([f({type:[Number],json:{write:!0}})],Xr.prototype,"size",void 0),u([f({type:Number,json:{read:{source:"resultOffset"}}})],Xr.prototype,"start",void 0),u([ce("start"),ce("num")],Xr.prototype,"writeStart",null),u([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Xr.prototype,"where",void 0),Xr=JM=u([E("esri.rest.support.AttachmentQuery")],Xr),Xr.from=_r(Xr);const z4=Xr,Yye="esri.widgets.Feature.support.featureUtils",ZO=ae.getLogger(Yye),Kye=/href=(""|'')/gi,Xye=/(\{([^\{\r\n]+)\})/g,ege=/\'/g,oJ=/^\s*expression\//i,tge=/(\n)/gi,rge=/[\u00A0-\u9999<>\&]/gim,ige=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,nge=/^(?:mailto:|tel:)/,lJ="relationships/",ZM=lw("short-date-short-time");function cJ(e){if(!B(e))return e.get("sourceLayer")||e.get("layer")}async function B4(e,t){return typeof e=="function"?e.call(null,t):e}function uJ(e=""){if(e)return!nge.test(e.trim().toLowerCase())}function dJ(e){return!!e&&oJ.test(e)}function sge(e,t){if(!dJ(t)||!e)return null;const r=t.replace(oJ,"").toLowerCase();let i;return e.some(n=>n.name.toLowerCase()===r&&(i=n,!0)),i}function fJ(e,t){const r=sge(t,e==null?void 0:e.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}function age(e,t){const r=t.get(e.toLowerCase());return`{${r&&r.fieldName||e}}`}function oge(e){return e.replace(Kye,"")}function U4(e,t){const r=yk(t,e);return r?r.name:e}function lge(e,t){return e&&e.map(r=>U4(r,t))}function yk(e,t){return e&&typeof e.getField=="function"?e.getField(t):null}function pJ(e){return`${e}`.trim()}function ep({attributes:e,globalAttributes:t,layer:r,text:i,expressionAttributes:n,fieldInfoMap:s}){return i?QM({formattedAttributes:t,template:fge(i,{...t,...n,...e},r),fieldInfoMap:s}):""}function QM({formattedAttributes:e,template:t,fieldInfoMap:r}){return pJ(oge(Ko(Ko(t,i=>age(i,r)),e)))}function cge(e,t,r=!1){const i=t[e];if(typeof i=="string"){const n="%27",s=(r?encodeURIComponent(i):i).replace(ege,n);t[e]=s}}function uge(e,t=!1){const r={...e};return Object.keys(r).forEach(i=>cge(i,r,t)),r}function dge(e,t,r){const i=(t=pJ(t))&&t[0]!=="{";return Ko(e,uge(r,i))}function YM(e,t){return e.replace(Xye,(r,i,n)=>{const s=yk(t,n);return s?`{${s.name}}`:i})}function fge(e,t,r){const i=YM(e,r);return i&&i.replace(ige,(n,s,a)=>dge(n,s||a,t))}function pge(e,t){if(typeof e=="string"&&t&&t.dateFormat==null&&(t.places!=null||t.digitSeparator!=null)){const r=Number(e);if(!isNaN(r))return r}return e}function hge(e){return(e==null?void 0:e.type)==="feature"}function QO(e){return!!(e!=null&&e.layer)}function mge(e){return(e==null?void 0:e.type)==="map-image"}function yge(e,t){var c;const r=t.fieldInfos,i=t.fieldName,n=(c=hJ(r,i))==null?void 0:c.clone(),s=t.preventPlacesFormatting,a=t.layer,o=yk(a,i);if(n&&(o==null?void 0:o.type)==="date"){const d=n.format||new A0;d.dateFormat=d.dateFormat||"short-date-short-time",d.dateTimeFormatOptions=!QO(a)&&hge(a)&&a.datesInUnknownTimezone||QO(a)&&mge(a.layer)&&a.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,n.format=d}const l=n&&n.format;return typeof e=="string"&&Bq(i)&&l?l.formatRasterPixelValue(e):typeof(e=pge(e,l))=="string"||e==null||l==null?F2(e):s?il(e,{...Hq(l),minimumFractionDigits:0,maximumFractionDigits:20}):l.format(e)}function hJ(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some(n=>!(!n.fieldName||n.fieldName.toLowerCase()!==r)&&(i=n,!0)),i}function gge({fieldName:e,graphic:t,layer:r}){if(nc(e)||!r||typeof r.getFeatureType!="function")return null;const{typeIdField:i}=r;if(!i||e!==i)return null;const n=r.getFeatureType(t);return n?n.name:null}function bge({fieldName:e,value:t,graphic:r,layer:i}){if(nc(e)||!i||typeof i.getFieldDomain!="function")return null;const n=i.getFieldDomain(e,{feature:r});return n&&n.type==="coded-value"?n.getName(t):null}function vge(e,t){const{creatorField:r,creationDateField:i,editorField:n,editDateField:s}=e;if(!t)return;const a=t[s];if(typeof a=="number"){const l=t[n];return{type:"edit",date:rl(a,ZM),user:l}}const o=t[i];if(typeof o=="number"){const l=t[r];return{type:"create",date:rl(o,ZM),user:l}}return null}function wge(e,t){const r=new Map;return e&&e.forEach(i=>{const n=U4(i.fieldName,t);i.fieldName=n,r.set(n.toLowerCase(),i)}),r}function YO(e){const t=[];if(!e)return t;const{fieldInfos:r,content:i}=e;return r&&t.push(...r),i&&Array.isArray(i)&&i.forEach(n=>{if(n.type==="fields"){const s=n&&n.fieldInfos;s&&t.push(...s)}}),t}function gk(e){return e.replace(rge,t=>`&#${t.charCodeAt(0)};`)}function F2(e){return typeof e=="string"?e.replace(tge,'<br class="esri-text-new-line" />'):e}function mJ(e){const{value:t,fieldName:r,fieldInfos:i,fieldInfoMap:n,layer:s,graphic:a}=e;if(t==null)return"";const o=bge({fieldName:r,value:t,graphic:a,layer:s});if(o)return o;const l=gge({fieldName:r,graphic:a,layer:s});if(l)return l;if(n.get(r.toLowerCase()))return yge(t,{fieldInfos:i||Array.from(n.values()),fieldName:r,layer:s});const c=s&&s.fieldsIndex;return c&&c.isDateField(r)?rl(t,ZM):F2(t)}function g7({fieldInfos:e,attributes:t,layer:r,graphic:i,fieldInfoMap:n,relatedInfos:s}){const a={};return s==null||s.forEach(o=>Ige({attributes:a,relatedInfo:o,fieldInfoMap:n,fieldInfos:e,layer:r})),Object.keys(t).forEach(o=>{const l=t[o];a[o]=mJ({fieldName:o,fieldInfos:e,fieldInfoMap:n,layer:r,value:l,graphic:i})}),a}async function _ge(e,t){var d,p;const{layer:r,graphic:i,outFields:n,objectIds:s,returnGeometry:a,spatialReference:o}=e,l=s[0];if(typeof l!="number"&&typeof l!="string"){const h="Could not query required fields for the specified feature. The feature's ID is invalid.",m={layer:r,graphic:i,objectId:l,requiredFields:n};return ZO.warn(h,m),null}if(!((p=(d=r.capabilities)==null?void 0:d.operations)!=null&&p.supportsQuery)){const h="The specified layer cannot be queried. The following fields will not be available.",m={layer:r,graphic:i,requiredFields:n,returnGeometry:a};return ZO.warn(h,m),null}const c=r.createQuery();return c.objectIds=s,c.outFields=n!=null&&n.length?n:[r.objectIdField],c.returnGeometry=!!a,c.returnZ=!!a,c.returnM=!!a,c.outSpatialReference=o,(await r.queryFeatures(c,t)).features[0]}async function Sge(e){var i;if(!((i=e.expressionInfos)!=null&&i.length))return!1;const t=await uo(),{arcadeUtils:{hasGeometryFunctions:r}}=t;return r(e)}async function xge({graphic:e,popupTemplate:t,layer:r,spatialReference:i},n){if(!r||!t||(typeof r.load=="function"&&await r.load(n),!e.attributes))return;const s=e.attributes[r.objectIdField];if(s==null)return;const a=[s],o=await t.getRequiredFields(r.fieldsIndex),l=Ode(o,e),c=l?[]:o,d=t.returnGeometry||await Sge(t);if(l&&!d)return;const p=await _ge({layer:r,graphic:e,outFields:c,objectIds:a,returnGeometry:d,spatialReference:i},n);p&&(p.geometry&&(e.geometry=p.geometry),p.attributes&&(e.attributes={...e.attributes,...p.attributes}))}function nc(e=""){return!!e&&e.includes(lJ)}function Mge(e){return e?`${lJ}${e.layerId}/${e.fieldName}`:""}function KO({attributes:e,graphic:t,relatedInfo:r,fieldInfos:i,fieldInfoMap:n,layer:s}){e&&t&&r&&Object.keys(t.attributes).forEach(a=>{const o=Mge({layerId:r.relation.id.toString(),fieldName:a}),l=t.attributes[a];e[o]=mJ({fieldName:o,fieldInfos:i,fieldInfoMap:n,layer:s,value:l,graphic:t})})}function Ige({attributes:e,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:n}){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach(s=>KO({attributes:e,graphic:s,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:n})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach(s=>KO({attributes:e,graphic:s,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:n})))}const XO=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},yJ=({layer:e,method:t,query:r,definitionExpression:i})=>{var a,o;if(!((o=(a=e.capabilities)==null?void 0:a.query)!=null&&o.supportsCacheHint)||t==="attachments")return;const n=C(r.where)&&r.where,s=C(r.geometry)&&r.geometry;XO(i)||XO(n)||(s==null?void 0:s.type)==="extent"||r.resultType==="tile"||(r.cacheHint=!0)},$ge=({query:e,layer:t,method:r})=>{yJ({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},Tge=({queryPayload:e,layer:t,method:r})=>{yJ({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},eF={editing:!1,operations:{add:!0,update:!0,delete:!0}},gJ=Se.ofType(aJ),Cge="graphic.layer.capabilities.operations.supportsResizeAttachments";let Ca=class extends ye{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities={...eF},this.activeAttachmentInfo=null,this.attachmentInfos=new gJ,this.graphic=null,this.mode="view",this.own(ee(()=>this.graphic,()=>this._graphicChanged(),Ke))}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(e){return{...eF,...e}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get(Cge)||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:t}=this;if(!e||typeof e.queryAttachments!="function")throw new R("invalid-layer","getAttachments(): A valid layer is required.");const r=this._getFeatureId(),i=new z4({objectIds:[r],returnMetadata:!0}),n=[],s=e.queryAttachments(i).then(o=>o[r]||n).catch(()=>n);this._getAttachmentsPromise=s,this.notifyChange("state");const a=await s;return t.removeAll(),a.length&&t.addMany(a),this._getAttachmentsPromise=null,this.notifyChange("state"),a}async addAttachment(e){const{_attachmentLayer:t,attachmentInfos:r,graphic:i,abilities:n}=this;if(!e)throw new R("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(!n.operations.add)throw new R("invalid-abilities","addAttachment(): add abilities are required.");if(!t||typeof t.addAttachment!="function")throw new R("invalid-layer","addAttachment(): A valid layer is required.");const s=t.addAttachment(i,e).then(o=>this._queryAttachment(o.objectId)),a=await s;return r.add(a),a}async deleteAttachment(e){const{_attachmentLayer:t,attachmentInfos:r,graphic:i,abilities:n}=this;if(!e)throw new R("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!n.operations.delete)throw new R("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!t||typeof t.deleteAttachments!="function")throw new R("invalid-layer","deleteAttachment(): A valid layer is required.");const s=t.deleteAttachments(i,[e.id]).then(()=>e),a=await s;return r.remove(a),a}async updateAttachment(e,t=this.activeAttachmentInfo){const{_attachmentLayer:r,attachmentInfos:i,graphic:n,abilities:s}=this;if(!e)throw new R("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!t)throw new R("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!s.operations.update)throw new R("invalid-abilities","updateAttachment(): Update abilities are required.");const a=i.findIndex(c=>c===t);if(!r||typeof r.updateAttachment!="function")throw new R("invalid-layer","updateAttachment(): A valid layer is required.");const o=r.updateAttachment(n,t.id,e).then(c=>this._queryAttachment(c.objectId)),l=await o;return i.splice(a,1,l),l}async _queryAttachment(e){if(!e)throw new R("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:t}=this,r=this._getFeatureId(),i=new z4({objectIds:[r],attachmentsWhere:`AttachmentId=${e}`,returnMetadata:!0});return t.queryAttachments(i).then(n=>n[r][0])}_getFeatureId(){const{_attachmentLayer:e,graphic:t}=this;if(!e||!t)return null;const{objectIdField:r}=e,{attributes:i}=t;return i&&i[r]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:e}=this,t=cJ(e);this._attachmentLayer=t?t.type==="scene"&&C(t.associatedLayer)?t.associatedLayer:t:null}};u([f()],Ca.prototype,"abilities",void 0),u([Ze("abilities")],Ca.prototype,"castAbilities",null),u([f()],Ca.prototype,"activeAttachmentInfo",void 0),u([f({readOnly:!0,type:gJ})],Ca.prototype,"attachmentInfos",void 0),u([f({type:vi})],Ca.prototype,"graphic",void 0),u([f()],Ca.prototype,"mode",void 0),u([f({readOnly:!0})],Ca.prototype,"state",null),u([f({readOnly:!0})],Ca.prototype,"supportsResizeAttachments",null),Ca=u([E("esri.widgets.Attachments.AttachmentsViewModel")],Ca);const bk=Ca;function Ege(e){const t=e.toLowerCase();return t==="image/bmp"||t==="image/emf"||t==="image/exif"||t==="image/gif"||t==="image/x-icon"||t==="image/jpeg"||t==="image/png"||t==="image/tiff"||t==="image/x-wmf"}function kge(e){const t=Qe("esri/themes/base/images/files/");return e?e==="text/plain"?`${t}text-32.svg`:e==="application/pdf"?`${t}pdf-32.svg`:e==="text/csv"?`${t}csv-32.svg`:e==="application/gpx+xml"?`${t}gpx-32.svg`:e==="application/x-dwf"?`${t}cad-32.svg`:e==="application/postscript"||e==="application/json"||e==="text/xml"||e==="model/vrml"?`${t}code-32.svg`:e==="application/x-zip-compressed"||e==="application/x-7z-compressed"||e==="application/x-gzip"||e==="application/x-tar"||e==="application/x-gtar"||e==="application/x-bzip2"||e==="application/gzip"||e==="application/x-compress"||e==="application/x-apple-diskimage"||e==="application/x-rar-compressed"||e==="application/zip"?`${t}zip-32.svg`:e.includes("image/")?`${t}image-32.svg`:e.includes("audio/")?`${t}sound-32.svg`:e.includes("video/")?`${t}video-32.svg`:e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?`${t}excel-32.svg`:e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?`${t}word-32.svg`:e.includes("powerpoint")||e.includes("presentationml")?`${t}report-32.svg`:`${t}generic-32.svg`:`${t}generic-32.svg`}function tr(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var Age=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},bJ=function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];Array.isArray(n)?bJ(n,t):n!=null&&n!==!1&&(n.hasOwnProperty("vnodeSelector")||(n=Age(n)),t.push(n))}},Lge=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var n=[];return bJ(r,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function L(e,t,...r){return typeof e!="function"||mk(e)?Lge(e,t,...r):e(t,...r)}const tF={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},me={base:"esri-attachments",loaderContainer:"esri-attachments__loader-container",loader:"esri-attachments__loader",fadeIn:"esri-attachments--fade-in",container:"esri-attachments__container",containerList:"esri-attachments__container--list",containerPreview:"esri-attachments__container--preview",actions:"esri-attachments__actions",deleteButton:"esri-attachments__delete-button",addAttachmentButton:"esri-attachments__add-attachment-button",errorMessage:"esri-attachments__error-message",items:"esri-attachments__items",item:"esri-attachments__item",itemButton:"esri-attachments__item-button",itemMask:"esri-attachments__item-mask",itemMaskIcon:"esri-attachments__item-mask--icon",itemImage:"esri-attachments__image",itemImageResizable:"esri-attachments__image--resizable",itemLabel:"esri-attachments__label",itemFilename:"esri-attachments__filename",itemChevronIcon:"esri-attachments__item-chevron-icon",itemLink:"esri-attachments__item-link",itemLinkOverlay:"esri-attachments__item-link-overlay",itemLinkOverlayIcon:"esri-attachments__item-link-overlay-icon",itemEditIcon:"esri-attachments__item-edit-icon",itemAddIcon:"esri-attachments__item-add-icon",itemAddButton:"esri-attachments__item-add-button",formNode:"esri-attachments__form-node",fileFieldset:"esri-attachments__file-fieldset",fileLabel:"esri-attachments__file-label",fileName:"esri-attachments__file-name",fileInput:"esri-attachments__file-input",metadata:"esri-attachments__metadata",metadataFieldset:"esri-attachments__metadata-fieldset",progressBar:"esri-attachments__progress-bar",esriWidget:"esri-widget",esriButton:"esri-button",buttonDisabled:"esri-button--disabled",esriButtonSecondary:"esri-button--secondary",esriButtonTertiary:"esri-button--tertiary",esriButtonThird:"esri-button--third",esriButtonSmall:"esri-button--small",esriButtonHalf:"esri-button--half",empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},b7=window.CSS;let $i=class extends xr{constructor(e,t){super(e,t),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new bk,this.visibleElements={...tF},this._supportsImageOrientation=b7&&b7.supports&&b7.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own([Fn(()=>{var e;return(e=this.viewModel)==null?void 0:e.attachmentInfos},"change",()=>this.scheduleRender()),ee(()=>{var e;return(e=this.viewModel)==null?void 0:e.mode},()=>this._modeChanged(),Ke)])}get effectiveDisplayType(){const{displayType:e}=this;return e&&e!=="auto"?e:this.viewModel.supportsResizeAttachments?"preview":"list"}castVisibleElements(e){return{...tF,...e}}addAttachment(){const{_addAttachmentForm:e,viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.addAttachment(e).then(r=>(this._set("submitting",!1),this._set("error",null),t.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new R("attachments:add-attachment",this.messages.addErrorMessage,r)),r})}deleteAttachment(e){const{viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.deleteAttachment(e).then(r=>(this._set("submitting",!1),this._set("error",null),t.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new R("attachments:delete-attachment",this.messages.deleteErrorMessage,r)),r})}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:t}=this;return this._set("submitting",!0),this._set("error",null),e.updateAttachment(t).then(r=>(this._set("submitting",!1),this._set("error",null),e.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new R("attachments:update-attachment",this.messages.updateErrorMessage,r)),r})}render(){const{submitting:e,viewModel:t}=this,{state:r}=t;return L("div",{class:this.classes(me.base,me.esriWidget)},e?this.renderProgressBar():null,r==="loading"?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:e,visibleElements:t}=this;return e&&t.errorMessage?L("div",{key:"error-message",class:me.errorMessage},e.message):null}renderAttachments(){const{mode:e,activeAttachmentInfo:t}=this.viewModel;return e==="add"?this.renderAddForm():e==="edit"?this.renderDetailsForm(t):this.renderAttachmentContainer()}renderLoading(){return L("div",{class:me.loaderContainer,key:"loader"},L("div",{class:me.loader}))}renderProgressBar(){return this.visibleElements.progressBar?L("div",{class:me.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:e,selectedFile:t}=this,r=e||!t,i=this.visibleElements.cancelAddButton?L("button",{type:"button",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(me.esriButton,me.esriButtonTertiary,me.esriButtonSmall,me.esriButtonHalf,e&&me.buttonDisabled)},this.messages.cancel):null,n=this.visibleElements.addSubmitButton?L("button",{type:"submit",disabled:r,class:this.classes(me.esriButton,me.esriButtonSecondary,me.esriButtonSmall,me.esriButtonHalf,{[me.buttonDisabled]:r})},this.messages.add):null,s=t?L("span",{key:"file-name",class:me.fileName},t.name):null,a=L("form",{bind:this,afterCreate:zM,afterRemoved:CO,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},L("fieldset",{class:me.fileFieldset},s,L("label",{class:this.classes(me.fileLabel,me.esriButton,me.esriButtonSecondary)},t?this.messages.changeFile:this.messages.selectFile,L("input",{class:me.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),n,i);return L("div",{key:"add-form-container",class:me.formNode},a)}renderDetailsForm(e){const{visibleElements:t,viewModel:r,selectedFile:i,submitting:n}=this,{contentType:s,size:a,url:o}=e,{abilities:l}=r,c=n||!i,d=l.editing&&l.operations.delete&&t.deleteButton?L("button",{key:"delete-button",type:"button",disabled:n,bind:this,onclick:_=>this._submitDeleteAttachment(_,e),class:this.classes(me.esriButton,me.esriButtonSmall,me.esriButtonTertiary,me.deleteButton,{[me.buttonDisabled]:n})},this.messages.delete):null,p=l.editing&&l.operations.update&&t.updateButton?L("button",{disabled:c,key:"update-button",type:"submit",class:this.classes(me.esriButton,me.esriButtonSmall,me.esriButtonThird,{[me.buttonDisabled]:c})},this.messages.update):null,h=this.visibleElements.cancelUpdateButton?L("button",{disabled:n,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(me.esriButton,me.esriButtonSmall,me.esriButtonTertiary,me.esriButtonThird,{[me.buttonDisabled]:n})},this.messages.cancel):null,m=i?L("span",{key:"file-name",class:me.fileName},i.name):null,g=l.editing&&l.operations.update?L("fieldset",{key:"file",class:me.fileFieldset},m,L("label",{class:this.classes(me.fileLabel,me.esriButton,me.esriButtonSecondary)},this.messages.changeFile,L("input",{class:me.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,b=L("fieldset",{key:"size",class:me.metadataFieldset},L("label",null,Wye(this.messagesUnits,a))),w=L("fieldset",{key:"content-type",class:me.metadataFieldset},L("label",null,s)),v=L("form",{bind:this,afterCreate:zM,afterRemoved:CO,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},L("div",{class:me.metadata},b,w),g,L("div",{class:me.actions},d,h,p));return L("div",{key:"edit-form-container",class:me.formNode},L("a",{class:me.itemLink,href:o,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:e,size:400}),L("div",{class:me.itemLinkOverlay},L("span",{class:me.itemLinkOverlayIcon},L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},L("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),L("path",{fill:"none",d:"M0 0h32v32H0z"}))))),v)}renderImageMask({attachmentInfo:e,size:t}){const{supportsResizeAttachments:r}=this.viewModel,{contentType:i,name:n,url:s}=e,a=r&&Ege(i),o=this._getCSSTransform(e,a),l=o?{transform:o,"image-orientation":"none"}:{},c=s.includes("?")?"&":"?",d=a?`${s}${c}w=${t}`:kge(i),p={[me.itemMaskIcon]:!a},h={[me.itemImageResizable]:r};return L("div",{class:this.classes(p,me.itemMask)},L("img",{styles:l,alt:n,src:d,class:this.classes(h,me.itemImage)}))}renderAttachmentInfo({attachmentInfo:e,displayType:t}){const{viewModel:r}=this,{abilities:i}=r,{name:n,url:s}=e,a=this.renderImageMask({attachmentInfo:e,size:t==="list"?48:400}),o=i.editing?L("span",{"aria-hidden":"true",class:this.classes(me.itemChevronIcon,eo(this.container)?me.iconLeft:me.iconRight)}):null,l=[a,L("label",{class:me.itemLabel},L("span",{class:me.itemFilename},n||this.messages.noTitle),o)],c=i.editing?L("button",{key:"details-button",bind:this,class:me.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":e.id,onclick:()=>this._startEditAttachment(e),type:"button"},l):L("a",{key:"details-link",class:me.itemButton,href:s,target:"_blank"},l);return L("li",{class:me.item,key:e},c)}renderAttachmentContainer(){const{effectiveDisplayType:e,viewModel:t,visibleElements:r}=this,{attachmentInfos:i,abilities:n}=t,s=i&&i.length,a={[me.containerList]:e!=="preview",[me.containerPreview]:e==="preview"},o=n.editing&&n.operations.add&&r.addButton?L("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(me.esriButton,me.esriButtonTertiary,me.addAttachmentButton),type:"button"},L("span",{"aria-hidden":"true",class:this.classes(me.itemAddIcon,me.iconPlus)}),this.messages.add):null,l=s?L("ul",{class:me.items},i.toArray().map(c=>this.renderAttachmentInfo({attachmentInfo:c,displayType:e}))):L("div",{class:me.empty},this.messages.noAttachments);return L("div",{key:"attachments-container",class:this.classes(me.container,a)},l,o)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(e){const t=e.target,r=t&&t.files&&t.files.item(0);this._set("selectedFile",r)}_submitDeleteAttachment(e,t){e.preventDefault(),this.deleteAttachment(t)}_submitAddAttachment(e){e.preventDefault(),this.addAttachment()}_submitUpdateAttachment(e){e.preventDefault(),this.updateAttachment()}_startEditAttachment(e){const{viewModel:t}=this;t.activeAttachmentInfo=e,t.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(e){e.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(e,t){const{orientationInfo:r}=e;return!this._supportsImageOrientation&&t&&r?[r.rotation?`rotate(${r.rotation}deg)`:"",r.mirrored?"scaleX(-1)":""].join(" "):""}};u([fe("viewModel.abilities")],$i.prototype,"abilities",void 0),u([f()],$i.prototype,"displayType",void 0),u([f({readOnly:!0})],$i.prototype,"effectiveDisplayType",null),u([fe("viewModel.graphic")],$i.prototype,"graphic",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],$i.prototype,"label",void 0),u([f(),tr("esri/widgets/Attachments/t9n/Attachments")],$i.prototype,"messages",void 0),u([f(),tr("esri/core/t9n/Units")],$i.prototype,"messagesUnits",void 0),u([f({readOnly:!0})],$i.prototype,"selectedFile",void 0),u([f({readOnly:!0})],$i.prototype,"submitting",void 0),u([f({readOnly:!0})],$i.prototype,"error",void 0),u([f({type:bk})],$i.prototype,"viewModel",void 0),u([f()],$i.prototype,"visibleElements",void 0),u([Ze("visibleElements")],$i.prototype,"castVisibleElements",null),$i=u([E("esri.widgets.Attachments")],$i);const Rge=$i;let Qg=class extends bk{constructor(e){super(e),this.description=null,this.title=null}};u([f()],Qg.prototype,"description",void 0),u([f()],Qg.prototype,"title",void 0),Qg=u([E("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],Qg);const vk=Qg,Pge={heading:"esri-widget__heading"};function sd(e,t){const r=vJ(e.level),i=`h${r}`;return delete e.level,L(i,{...e,class:O0(Pge.heading,e.class),role:"heading","aria-level":String(r)},t)}function vJ(e){return zn(Math.ceil(e),1,6)}function Oge(e,t=1){return vJ(e+t)}const v7={base:"esri-feature-element-info",title:"esri-feature-element-info__title",description:"esri-feature-element-info__description"};let Fh=class extends xr{constructor(e,t){super(e,t),this.description=null,this.headingLevel=2,this.title=null}render(){return L("div",{class:v7.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:e}=this;return e?L(sd,{level:this.headingLevel,class:v7.title},e):null}renderDescription(){const{description:e}=this;return e?L("div",{key:"description",class:v7.description},e):null}};u([f()],Fh.prototype,"description",void 0),u([f()],Fh.prototype,"headingLevel",void 0),u([f()],Fh.prototype,"title",void 0),Fh=u([E("esri.widgets.Feature.support.FeatureElementInfo")],Fh);const wk=Fh,Fge={base:"esri-feature-attachments"};let ko=class extends xr{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attachmentsWidget=new Rge,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new vk}initialize(){this._featureElementInfo=new wk,this.own([ee(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.description,(t=this.viewModel)==null?void 0:t.title,this.headingLevel]},()=>this._setupFeatureElementInfo(),Ke),ee(()=>{var e;return(e=this.viewModel)==null?void 0:e.graphic},e=>this.attachmentsWidget.graphic=e,Ke)])}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var t;const{attachmentsWidget:e}=this;return L("div",{class:Fge.base},(t=this._featureElementInfo)==null?void 0:t.render(),e==null?void 0:e.render())}_setupFeatureElementInfo(){const{description:e,title:t,headingLevel:r}=this;this._featureElementInfo.set({description:e,title:t,headingLevel:r})}};u([f({readOnly:!0})],ko.prototype,"attachmentsWidget",void 0),u([fe("viewModel.description")],ko.prototype,"description",void 0),u([fe("attachmentsWidget.displayType")],ko.prototype,"displayType",void 0),u([fe("viewModel.graphic")],ko.prototype,"graphic",void 0),u([f()],ko.prototype,"headingLevel",void 0),u([fe("viewModel.title")],ko.prototype,"title",void 0),u([f({type:vk})],ko.prototype,"viewModel",void 0),ko=u([E("esri.widgets.Feature.FeatureAttachments")],ko);const Dge=ko;let nu=class extends ll(ye){constructor(e){super(e),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(ee(()=>this.creator,t=>{this._destroyContent(),this._createContent(t)},Ke))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:e,graphic:t,destroyer:r}=this;e&&(B4(r,{graphic:t}).catch(()=>null),this._set("created",null))}async _createContent(e){const{graphic:t}=this,r=B4(e,{graphic:t}).catch(()=>null);this._loadingPromise=r,this.notifyChange("state");const i=await r;r===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",i))}};u([f({readOnly:!0})],nu.prototype,"created",void 0),u([f()],nu.prototype,"creator",void 0),u([f()],nu.prototype,"destroyer",void 0),u([f({type:vi})],nu.prototype,"graphic",void 0),u([f({readOnly:!0})],nu.prototype,"state",null),nu=u([E("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],nu);const G4=nu;function Li(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:jge(e[t])}}}function Nge(e){const{type:t}=e;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function jge(e){return function(t,...r){Nge(t)?Tme(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function Vge(e){return e.split(",").map(t=>t.trim())}function wJ(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,i=Array.isArray(e)?e:Vge(e);r.push(...i)}}const _J="calcite-theme-";function zge(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function _k(){return zge().startsWith("dark")}function Bge(){return`${_J}${_k()?"dark":"light"}`}function Uge(e){Gge(e),e.classList.add(Bge())}function Gge(e){Array.from(e.classList).forEach(t=>{t.startsWith(_J)&&e.classList.remove(t)})}function q4(e){return e&&typeof e.render=="function"}function SJ(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const w7={base:"esri-feature-content",loaderContainer:"esri-feature-content__loader-container",loader:"esri-feature-content__loader"};let Dh=class extends xr{constructor(e,t){super(e,t),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=r=>{Array.from(r.querySelectorAll("a")).forEach(i=>{uJ(i.href)&&!i.hasAttribute("target")&&i.setAttribute("target","_blank")})}}renderLoading(){return L("div",{class:w7.loaderContainer,key:"loader"},L("div",{class:w7.loader}))}renderCreated(){var t;const e=(t=this.viewModel)==null?void 0:t.created;return e?e instanceof HTMLElement?L("div",{key:e,bind:e,afterCreate:this._attachToNode}):q4(e)?L("div",{key:e},!e.destroyed&&e.render()):L("div",{key:e,innerHTML:e,afterCreate:this._addTargetToAnchors}):null}render(){var t;const e=(t=this.viewModel)==null?void 0:t.state;return L("div",{class:w7.base},e==="loading"?this.renderLoading():this.renderCreated())}_attachToNode(e){const t=this;e.appendChild(t)}};u([fe("viewModel.creator")],Dh.prototype,"creator",void 0),u([fe("viewModel.graphic")],Dh.prototype,"graphic",void 0),u([f({type:G4})],Dh.prototype,"viewModel",void 0),Dh=u([E("esri.widgets.Feature.FeatureContent")],Dh);const L5=Dh;let kl=class extends ye{constructor(e){super(e),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:e,fieldInfos:t}=this,r=[];return t==null||t.forEach(i=>{if(!(!i.hasOwnProperty("visible")||i.visible))return;const n=i.clone();n.label=fJ(n,e),r.push(n)}),r}};u([f()],kl.prototype,"attributes",void 0),u([f({type:[eH]})],kl.prototype,"expressionInfos",void 0),u([f()],kl.prototype,"description",void 0),u([f({type:[A2]})],kl.prototype,"fieldInfos",void 0),u([f({readOnly:!0})],kl.prototype,"formattedFieldInfos",null),u([f()],kl.prototype,"title",void 0),kl=u([E("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],kl);const xw=kl,qge=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function Hge(e){let t=null;return qge.some(r=>(r.pattern.test(e)&&(t=r),!!t)),t}function Wge(e,t){if(typeof t!="string"||!t)return t;const r=Hge(t);if(!r)return t;const i=t.match(r.pattern),n=i&&i[2],s=Ko(Ko(r.label,{messages:e,hierPart:n}),{appName:r.appName}),a=r.target?` target="${r.target}"`:"",o=r.target==="_blank"?' rel="noreferrer"':"";return t.replace(r.pattern,`<a${a} href="$1"${o}>${s}</a>`)}const Xy={base:"esri-feature-fields",fieldHeader:"esri-feature-fields__field-header",fieldData:"esri-feature-fields__field-data",fieldDataDate:"esri-feature-fields__field-data--date",esriTable:"esri-widget__table"};let Ea=class extends xr{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new xw,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new wk,this.own(ee(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.description,(t=this.viewModel)==null?void 0:t.title]},()=>this._setupFeatureElementInfo(),Ke))}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(e,t){const{attributes:r}=this.viewModel,i=e.fieldName,n=e.label||i,s=r?r[i]==null?"":r[i]:"",a=!(!e.format||!e.format.dateFormat),o=typeof s=="number"&&!a?this._forceLTR(s):Wge(this.messagesURIUtils,s),l={[Xy.fieldDataDate]:a};return L("tr",{key:`fields-element-info-row-${i}-${t}`},L("th",{key:`fields-element-info-row-header-${i}-${t}`,class:Xy.fieldHeader,innerHTML:n}),L("td",{key:`fields-element-info-row-data-${i}-${t}`,class:this.classes(Xy.fieldData,l),innerHTML:o}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e!=null&&e.length?L("table",{class:Xy.esriTable,summary:this.messages.fieldsSummary},L("tbody",null,e.map((t,r)=>this.renderFieldInfo(t,r)))):null}render(){var e;return L("div",{class:Xy.base},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_forceLTR(e){return`&lrm;${e}`}};u([fe("viewModel.attributes")],Ea.prototype,"attributes",void 0),u([fe("viewModel.description")],Ea.prototype,"description",void 0),u([fe("viewModel.expressionInfos")],Ea.prototype,"expressionInfos",void 0),u([fe("viewModel.fieldInfos")],Ea.prototype,"fieldInfos",void 0),u([fe("viewModel.title")],Ea.prototype,"title",void 0),u([f({type:xw})],Ea.prototype,"viewModel",void 0),u([f(),tr("esri/widgets/Feature/t9n/Feature")],Ea.prototype,"messages",void 0),u([f(),tr("esri/widgets/support/t9n/uriUtils")],Ea.prototype,"messagesURIUtils",void 0),Ea=u([E("esri.widgets.Feature.FeatureFields")],Ea);const xJ=Ea,Jge=/^-?(\d+)(\.(\d+))?$/i;function Zge(e,t){return e-t}function Qge(e,t){let r,i;return r=Number(e.toFixed(t)),r<e?i=r+1/10**t:(i=r,r-=1/10**t),r=Number(r.toFixed(t)),i=Number(i.toFixed(t)),[r,i]}function Yge(e,t,r,i,n){const s=R5(e,t,r,i),a=s.previous==null||s.previous<=n,o=s.next==null||s.next<=n;return a&&o||s.previous+s.next<=2*n}function H4(e){const t=String(e),r=t.match(Jge);if(r&&r[1])return{integer:r[1].split("").length,fractional:r[3]?r[3].split("").length:0};if(t.toLowerCase().includes("e")){const i=t.split("e"),n=i[0],s=i[1];if(n&&s){const a=Number(n);let o=Number(s);const l=o>0;l||(o=Math.abs(o));const c=H4(a);return l?(c.integer+=o,o>c.fractional?c.fractional=0:c.fractional-=o):(c.fractional+=o,o>c.integer?c.integer=1:c.integer-=o),c}}return{integer:0,fractional:0}}function R5(e,t,r,i){const n={previous:null,next:null};if(r!=null){const s=e-r,a=t-r-s;n.previous=Math.floor(Math.abs(100*a/s))}if(i!=null){const s=i-e,a=i-t-s;n.next=Math.floor(Math.abs(100*a/s))}return n}function W4(e,t={}){const r=e.slice(0),{tolerance:i=2,strictBounds:n=!1,indexes:s=r.map((a,o)=>o)}=t;s.sort(Zge);for(let a=0;a<s.length;a++){const o=s[a],l=r[o],c=o===0?null:r[o-1],d=o===r.length-1?null:r[o+1],p=H4(l).fractional;if(p){let h,m=0,g=!1;for(;m<=p&&!g;){const b=Qge(l,m);h=n&&a===0?b[1]:b[0],g=Yge(l,h,c,d,i),m++}g&&(r[o]=h)}}return r}const Kge={maximumFractionDigits:20};function MJ(e){return il(e,Kge)}var KM;let sf=KM=class extends Z{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e==null?0:e}clone(){return new KM({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};u([f({type:re,json:{type:[Xe],write:!0}})],sf.prototype,"color",void 0),u([f({type:String,json:{write:!0}})],sf.prototype,"label",void 0),u([f({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],sf.prototype,"value",void 0),u([ce("value")],sf.prototype,"writeValue",null),sf=KM=u([E("esri.renderers.visualVariables.support.ColorStop")],sf);const IJ=sf;function Mw(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Xge(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ebe(e,t,r,i,n,s,a,o,l,c,d,p,h,m,g,b){const w=new Float32Array(16);return w[0]=e,w[1]=t,w[2]=r,w[3]=i,w[4]=n,w[5]=s,w[6]=a,w[7]=o,w[8]=l,w[9]=c,w[10]=d,w[11]=p,w[12]=h,w[13]=m,w[14]=g,w[15]=b,w}function tbe(e,t){return new Float32Array(e,t,16)}const rbe=Mw();Object.freeze(Object.defineProperty({__proto__:null,create:Mw,clone:Xge,fromValues:ebe,createView:tbe,IDENTITY:rbe},Symbol.toStringTag,{value:"Module"}));const ibe=(e,t)=>{const r=$d(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Ic(r,r)},nbe=(e,t)=>{const r=$d(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Ic(r,r)},sbe=(e,t)=>{const r=1-t,i=$d(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Ic(i,i)},abe=(e,t)=>{const r=Math.sin(t*Math.PI/180),i=Math.cos(t*Math.PI/180),n=$d(e,.213+.787*i-.213*r,.715-.715*i-.715*r,.072-.072*i+.928*r,0,.213-.213*i+.143*r,.715+.285*i+.14*r,.072-.072*i-.283*r,0,.213-.213*i-.787*r,.715-.715*i+.715*r,.072+.928*i+.072*r,0,0,0,0,1);return Ic(n,n)},obe=(e,t)=>{const r=1-2*t,i=$d(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Ic(i,i)},lbe=(e,t)=>{const r=$d(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Ic(r,r)},cbe=(e,t)=>{const r=1-t,i=$d(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Ic(i,i)};class Iw{constructor(t,r,i){this.strength=t,this.radius=r,this.threshold=i,this.type="bloom"}interpolate(t,r,i){this.strength=Mn(t.strength,r.strength,i),this.radius=Mn(t.radius,r.radius,i),this.threshold=Mn(t.threshold,r.threshold,i)}clone(){return new Iw(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Wb(this.radius),strength:this.strength,threshold:this.threshold}}}class $w{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,i){this.radius=Math.round(Mn(t.radius,r.radius,i))}clone(){return new $w(this.radius)}toJSON(){return{type:"blur",radius:Wb(this.radius)}}}class e2{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){this.amount=Mn(t.amount,r.amount,i),this._updateMatrix()}clone(){return new e2(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||Mw();switch(this.type){case"brightness":this._colorMatrix=ibe(t,this.amount);break;case"contrast":this._colorMatrix=nbe(t,this.amount);break;case"grayscale":this._colorMatrix=sbe(t,this.amount);break;case"invert":this._colorMatrix=obe(t,this.amount);break;case"saturate":this._colorMatrix=lbe(t,this.amount);break;case"sepia":this._colorMatrix=cbe(t,this.amount)}}}class Tw{constructor(t,r,i,n){this.offsetX=t,this.offsetY=r,this.blurRadius=i,this.color=n,this.type="drop-shadow"}interpolate(t,r,i){this.offsetX=Mn(t.offsetX,r.offsetX,i),this.offsetY=Mn(t.offsetY,r.offsetY,i),this.blurRadius=Mn(t.blurRadius,r.blurRadius,i),this.color[0]=Math.round(Mn(t.color[0],r.color[0],i)),this.color[1]=Math.round(Mn(t.color[1],r.color[1],i)),this.color[2]=Math.round(Mn(t.color[2],r.color[2],i)),this.color[3]=Mn(t.color[3],r.color[3],i)}clone(){return new Tw(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:Wb(this.offsetX),yoffset:Wb(this.offsetY),blurRadius:Wb(this.blurRadius),color:t}}}class Cw{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){this.angle=Mn(t.angle,r.angle,i),this._updateMatrix()}clone(){return new Cw(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||Mw();this._colorMatrix=abe(t,this.angle)}}class Ew{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,i){this.amount=Mn(t.amount,r.amount,i)}clone(){return new Ew(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function Mn(e,t,r){return e+(t-e)*r}function Wb(e){return Math.round(1e3*oi(e))/1e3}function ube(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new e2(e.type,0);case"saturate":case"brightness":case"contrast":return new e2(e.type,1);case"opacity":return new Ew(1);case"hue-rotate":return new Cw(0);case"blur":return new $w(0);case"drop-shadow":return new Tw(0,0,0,[...wE("transparent")]);case"bloom":return new Iw(0,0,1)}}function $J(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((i,n)=>i.type===r[n].type)}function TJ(e,t){const r=e.length>t.length?e:t,i=e.length>t.length?t:e;for(let n=i.length;n<r.length;n++)i.push(ube(r[n]))}function dbe(e){const t=e[0];return!!t&&"type"in t}var rF,iF,CJ={exports:{}};function Sk(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=nF(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new R("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:nF(r.value)}});t.sort((r,i)=>i.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!$J(t[r].effects,t[r+1].effects))throw new R("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});TJ(t[r].effects,t[r+1].effects)}return t.sort((r,i)=>i.scale-r.scale),t}function nF(e){let t;if(!e)return[];try{t=CJ.exports.parse(e)}catch(r){throw new R("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>fbe(r))}function fbe(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return pbe(e);case"opacity":return hbe(e);case"hue-rotate":return mbe(e);case"blur":return ybe(e);case"drop-shadow":return gbe(e);case"bloom":return bbe(e)}}catch(t){throw t.details.filter=e,t}throw new R("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function pbe(e){let t=1;return vy(e.parameters,1),e.parameters.length===1&&(t=Wa(e.parameters[0])),new e2(e.name,t)}function hbe(e){let t=1;return vy(e.parameters,1),e.parameters.length===1&&(t=Wa(e.parameters[0])),new Ew(t)}function mbe(e){let t=0;return vy(e.parameters,1),e.parameters.length===1&&(t=Mbe(e.parameters[0])),new Cw(t)}function ybe(e){let t=0;return vy(e.parameters,1),e.parameters.length===1&&(t=Ik(e.parameters[0]),D2(t,e.parameters[0])),new $w(t)}function gbe(e){const t=[];let r=null;for(const i of e.parameters)if(i.type==="color"){if(t.length&&Object.freeze(t),r)throw new R("effect:type-error","Accepts only one color",{});r=Ibe(i)}else{const n=Ik(i);if(Object.isFrozen(t))throw new R("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(n),t.length===3&&D2(n,i)}if(t.length<2||t.length>3)throw new R("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new Tw(t[0],t[1],t[2]||0,r||EJ("black"))}function bbe(e){let t=1,r=0,i=0;return vy(e.parameters,3),e.parameters[0]&&(t=Wa(e.parameters[0])),e.parameters[1]&&(r=Ik(e.parameters[1]),D2(r,e.parameters[1])),e.parameters[2]&&(i=Wa(e.parameters[2])),new Iw(t,r,i)}function vy(e,t){if(e.length>t)throw new R("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function kw(e){if(e.type==="color")return"<color>";if(e.unit){if(Mk[e.unit])return"<length>";if(xk[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function D2(e,t){if(e<0)throw new R("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function vbe(e){if(e.type!=="quantity"||e.unit!==null)throw new R("effect:type-error",`Expected <double>, Actual: ${kw(e)}`,{term:e})}function wbe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new R("effect:type-error",`Expected <double> or <percentage>, Actual: ${kw(e)}`,{term:e})}iF=function(){function e(n,s){function a(){this.constructor=n}a.prototype=s.prototype,n.prototype=new a}function t(n,s,a,o){var l=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(l,t.prototype),l.expected=s,l.found=a,l.location=o,l.name="SyntaxError",l}function r(n,s,a){return a=a||" ",n.length>s?n:(s-=n.length,n+(a+=a.repeat(s)).slice(0,s))}function i(n,s){var a,o={},l=(s=s!==void 0?s:{}).grammarSource,c={start:CL},d=CL,p="none",h=")",m=",",g="(",b="%",w="px",v="cm",_="mm",S="in",x="pt",M="pc",I="deg",$="rad",T="grad",A="turn",P="#",F=".",j="e",V=/^[ \t\n\r]/,z=/^[a-z\-]/,J=/^[0-9a-fA-F]/,K=/^[+\-]/,Q=/^[0-9]/,U=hl("none"),te=Qr("none",!1),H=Qr(")",!1),se=Qr(",",!1),ue=hl("whitespace"),ve=Ry([" ","	",`
`,"\r"],!1,!1),xe=hl("function"),tt=Qr("(",!1),it=hl("identifier"),Ir=Ry([["a","z"],"-"],!1,!1),Ts=hl("percentage"),pt=Qr("%",!1),ct=hl("length"),Gn=Qr("px",!1),pa=Qr("cm",!1),Mt=Qr("mm",!1),Ed=Qr("in",!1),dl=Qr("pt",!1),hn=Qr("pc",!1),fl=hl("angle"),Xp=Qr("deg",!1),eh=Qr("rad",!1),ha=Qr("grad",!1),th=Qr("turn",!1),pl=hl("number"),_e=hl("color"),Be=Qr("#",!1),ht=Ry([["0","9"],["a","f"],["A","F"]],!1,!1),$r=Ry(["+","-"],!1,!1),Vt=Ry([["0","9"]],!1,!1),qn=Qr(".",!1),Nr=Qr("e",!1),Si=function(){return[]},d8=function(O,X){return{type:"function",name:O,parameters:X||[]}},Wte=function(O,X){return X.length>0?$re(O,X,3):[O]},Jte=function(O){return{type:"quantity",value:O.value,unit:O.unit}},Zte=function(O){return{type:"color",colorType:O.type,value:O.value}},Qte=function(O){return O},Yte=function(){return n3()},Kte=function(O){return{value:O,unit:"%"}},Xte=function(O){return{value:O,unit:"px"}},ere=function(O){return{value:O,unit:"cm"}},tre=function(O){return{value:O,unit:"mm"}},rre=function(O){return{value:O,unit:"in"}},ire=function(O){return{value:O,unit:"pt"}},nre=function(O){return{value:O,unit:"pc"}},sre=function(O){return{value:O,unit:"deg"}},are=function(O){return{value:O,unit:"rad"}},ore=function(O){return{value:O,unit:"grad"}},lre=function(O){return{value:O,unit:"turn"}},cre=function(O){return{value:O,unit:null}},ure=function(){return{type:"hex",value:n3()}},dre=function(O){return{type:"function",value:O}},fre=function(){return{type:"named",value:n3()}},pre=function(){return parseFloat(n3())},q=0,zt=0,i3=[{line:1,column:1}],mo=0,f8=[],Me=0;if("startRule"in s){if(!(s.startRule in c))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');d=c[s.startRule]}function n3(){return n.substring(zt,q)}function Qr(O,X){return{type:"literal",text:O,ignoreCase:X}}function Ry(O,X,ne){return{type:"class",parts:O,inverted:X,ignoreCase:ne}}function hre(){return{type:"end"}}function hl(O){return{type:"other",description:O}}function $L(O){var X,ne=i3[O];if(ne)return ne;for(X=O-1;!i3[X];)X--;for(ne={line:(ne=i3[X]).line,column:ne.column};X<O;)n.charCodeAt(X)===10?(ne.line++,ne.column=1):ne.column++,X++;return i3[O]=ne,ne}function TL(O,X){var ne=$L(O),Ue=$L(X);return{source:l,start:{offset:O,line:ne.line,column:ne.column},end:{offset:X,line:Ue.line,column:Ue.column}}}function De(O){q<mo||(q>mo&&(mo=q,f8=[]),f8.push(O))}function mre(O,X,ne){return new t(t.buildMessage(O,X),O,X,ne)}function CL(){var O;return(O=yre())===o&&(O=gre()),O}function yre(){var O,X;return Me++,O=q,Yr(),n.substr(q,4)===p?(X=p,q+=4):(X=o,Me===0&&De(te)),X!==o?(Yr(),zt=O,O=Si()):(q=O,O=o),Me--,O===o&&Me===0&&De(U),O}function gre(){var O,X;if(O=[],(X=p8())!==o)for(;X!==o;)O.push(X),X=p8();else O=o;return O}function p8(){var O,X,ne,Ue;return O=q,Yr(),(X=vre())!==o?(Yr(),(ne=bre())===o&&(ne=null),Yr(),n.charCodeAt(q)===41?(Ue=h,q++):(Ue=o,Me===0&&De(H)),Ue!==o?(Yr(),zt=O,O=d8(X,ne)):(q=O,O=o)):(q=O,O=o),O}function bre(){var O,X,ne,Ue,ci,Wt,Es,s3;if(O=q,(X=h8())!==o){for(ne=[],Ue=q,ci=Yr(),n.charCodeAt(q)===44?(Wt=m,q++):(Wt=o,Me===0&&De(se)),Wt===o&&(Wt=null),Es=Yr(),(s3=h8())!==o?Ue=ci=[ci,Wt,Es,s3]:(q=Ue,Ue=o);Ue!==o;)ne.push(Ue),Ue=q,ci=Yr(),n.charCodeAt(q)===44?(Wt=m,q++):(Wt=o,Me===0&&De(se)),Wt===o&&(Wt=null),Es=Yr(),(s3=h8())!==o?Ue=ci=[ci,Wt,Es,s3]:(q=Ue,Ue=o);zt=O,O=Wte(X,ne)}else q=O,O=o;return O}function h8(){var O,X;return O=q,(X=wre())===o&&(X=_re())===o&&(X=Sre())===o&&(X=xre()),X!==o&&(zt=O,X=Jte(X)),(O=X)===o&&(O=q,(X=Mre())!==o&&(zt=O,X=Zte(X)),O=X),O}function Yr(){var O,X;for(Me++,O=[],V.test(n.charAt(q))?(X=n.charAt(q),q++):(X=o,Me===0&&De(ve));X!==o;)O.push(X),V.test(n.charAt(q))?(X=n.charAt(q),q++):(X=o,Me===0&&De(ve));return Me--,X=o,Me===0&&De(ue),O}function vre(){var O,X,ne;return Me++,O=q,(X=EL())!==o?(n.charCodeAt(q)===40?(ne=g,q++):(ne=o,Me===0&&De(tt)),ne!==o?(zt=O,O=Qte(X)):(q=O,O=o)):(q=O,O=o),Me--,O===o&&(X=o,Me===0&&De(xe)),O}function EL(){var O,X,ne;if(Me++,O=q,X=[],z.test(n.charAt(q))?(ne=n.charAt(q),q++):(ne=o,Me===0&&De(Ir)),ne!==o)for(;ne!==o;)X.push(ne),z.test(n.charAt(q))?(ne=n.charAt(q),q++):(ne=o,Me===0&&De(Ir));else X=o;return X!==o&&(zt=O,X=Yte()),Me--,(O=X)===o&&(X=o,Me===0&&De(it)),O}function wre(){var O,X,ne;return Me++,O=q,Yr(),(X=Cs())!==o?(n.charCodeAt(q)===37?(ne=b,q++):(ne=o,Me===0&&De(pt)),ne!==o?(zt=O,O=Kte(X)):(q=O,O=o)):(q=O,O=o),Me--,O===o&&Me===0&&De(Ts),O}function _re(){var O,X,ne;return Me++,O=q,Yr(),(X=Cs())!==o?(n.substr(q,2)===w?(ne=w,q+=2):(ne=o,Me===0&&De(Gn)),ne!==o?(zt=O,O=Xte(X)):(q=O,O=o)):(q=O,O=o),O===o&&(O=q,Yr(),(X=Cs())!==o?(n.substr(q,2)===v?(ne=v,q+=2):(ne=o,Me===0&&De(pa)),ne!==o?(zt=O,O=ere(X)):(q=O,O=o)):(q=O,O=o),O===o&&(O=q,Yr(),(X=Cs())!==o?(n.substr(q,2)===_?(ne=_,q+=2):(ne=o,Me===0&&De(Mt)),ne!==o?(zt=O,O=tre(X)):(q=O,O=o)):(q=O,O=o),O===o&&(O=q,Yr(),(X=Cs())!==o?(n.substr(q,2)===S?(ne=S,q+=2):(ne=o,Me===0&&De(Ed)),ne!==o?(zt=O,O=rre(X)):(q=O,O=o)):(q=O,O=o),O===o&&(O=q,Yr(),(X=Cs())!==o?(n.substr(q,2)===x?(ne=x,q+=2):(ne=o,Me===0&&De(dl)),ne!==o?(zt=O,O=ire(X)):(q=O,O=o)):(q=O,O=o),O===o&&(O=q,Yr(),(X=Cs())!==o?(n.substr(q,2)===M?(ne=M,q+=2):(ne=o,Me===0&&De(hn)),ne!==o?(zt=O,O=nre(X)):(q=O,O=o)):(q=O,O=o)))))),Me--,O===o&&Me===0&&De(ct),O}function Sre(){var O,X,ne;return Me++,O=q,(X=Cs())!==o?(n.substr(q,3)===I?(ne=I,q+=3):(ne=o,Me===0&&De(Xp)),ne!==o?(zt=O,O=sre(X)):(q=O,O=o)):(q=O,O=o),O===o&&(O=q,(X=Cs())!==o?(n.substr(q,3)===$?(ne=$,q+=3):(ne=o,Me===0&&De(eh)),ne!==o?(zt=O,O=are(X)):(q=O,O=o)):(q=O,O=o),O===o&&(O=q,(X=Cs())!==o?(n.substr(q,4)===T?(ne=T,q+=4):(ne=o,Me===0&&De(ha)),ne!==o?(zt=O,O=ore(X)):(q=O,O=o)):(q=O,O=o),O===o&&(O=q,(X=Cs())!==o?(n.substr(q,4)===A?(ne=A,q+=4):(ne=o,Me===0&&De(th)),ne!==o?(zt=O,O=lre(X)):(q=O,O=o)):(q=O,O=o)))),Me--,O===o&&(X=o,Me===0&&De(fl)),O}function xre(){var O,X;return Me++,O=q,Yr(),(X=Cs())!==o?(zt=O,O=cre(X)):(q=O,O=o),Me--,O===o&&Me===0&&De(pl),O}function Mre(){var O,X,ne,Ue;if(Me++,O=q,n.charCodeAt(q)===35?(X=P,q++):(X=o,Me===0&&De(Be)),X!==o){if(ne=[],J.test(n.charAt(q))?(Ue=n.charAt(q),q++):(Ue=o,Me===0&&De(ht)),Ue!==o)for(;Ue!==o;)ne.push(Ue),J.test(n.charAt(q))?(Ue=n.charAt(q),q++):(Ue=o,Me===0&&De(ht));else ne=o;ne!==o?(zt=O,O=ure()):(q=O,O=o)}else q=O,O=o;return O===o&&(O=q,(X=p8())!==o&&(zt=O,X=dre(X)),(O=X)===o&&(O=q,(X=EL())!==o&&(zt=O,X=fre()),O=X)),Me--,O===o&&(X=o,Me===0&&De(_e)),O}function Cs(){var O,X,ne,Ue,ci,Wt,Es;for(O=q,K.test(n.charAt(q))?(n.charAt(q),q++):Me===0&&De($r),X=q,ne=[],Q.test(n.charAt(q))?(Ue=n.charAt(q),q++):(Ue=o,Me===0&&De(Vt));Ue!==o;)ne.push(Ue),Q.test(n.charAt(q))?(Ue=n.charAt(q),q++):(Ue=o,Me===0&&De(Vt));if(n.charCodeAt(q)===46?(Ue=F,q++):(Ue=o,Me===0&&De(qn)),Ue!==o){if(ci=[],Q.test(n.charAt(q))?(Wt=n.charAt(q),q++):(Wt=o,Me===0&&De(Vt)),Wt!==o)for(;Wt!==o;)ci.push(Wt),Q.test(n.charAt(q))?(Wt=n.charAt(q),q++):(Wt=o,Me===0&&De(Vt));else ci=o;ci!==o?X=ne=[ne,Ue,ci]:(q=X,X=o)}else q=X,X=o;if(X===o)if(X=[],Q.test(n.charAt(q))?(ne=n.charAt(q),q++):(ne=o,Me===0&&De(Vt)),ne!==o)for(;ne!==o;)X.push(ne),Q.test(n.charAt(q))?(ne=n.charAt(q),q++):(ne=o,Me===0&&De(Vt));else X=o;if(X!==o){if(ne=q,n.charCodeAt(q)===101?(Ue=j,q++):(Ue=o,Me===0&&De(Nr)),Ue!==o){if(K.test(n.charAt(q))?(ci=n.charAt(q),q++):(ci=o,Me===0&&De($r)),ci===o&&(ci=null),Wt=[],Q.test(n.charAt(q))?(Es=n.charAt(q),q++):(Es=o,Me===0&&De(Vt)),Es!==o)for(;Es!==o;)Wt.push(Es),Q.test(n.charAt(q))?(Es=n.charAt(q),q++):(Es=o,Me===0&&De(Vt));else Wt=o;Wt!==o?ne=Ue=[Ue,ci,Wt]:(q=ne,ne=o)}else q=ne,ne=o;ne===o&&(ne=null),zt=O,O=pre()}else q=O,O=o;return O}function Ire(O,X){return O.map(function(ne){return ne[X]})}function $re(O,X,ne){return[O].concat(Ire(X,ne))}if((a=d())!==o&&q===n.length)return a;throw a!==o&&q<n.length&&De(hre()),mre(f8,mo<n.length?n.charAt(mo):null,mo<n.length?TL(mo,mo+1):TL(mo,mo))}return e(t,Error),t.prototype.format=function(n){var s="Error: "+this.message;if(this.location){var a,o=null;for(a=0;a<n.length;a++)if(n[a].source===this.location.source){o=n[a].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,c=this.location.source+":"+l.line+":"+l.column;if(o){var d=this.location.end,p=r("",l.line.toString().length),h=o[l.line-1],m=l.line===d.line?d.column:h.length+1;s+=`
 --> `+c+`
`+p+` |
`+l.line+" | "+h+`
`+p+" | "+r("",l.column-1)+r("",m-l.column,"^")}else s+=`
 at `+c}return s},t.buildMessage=function(n,s){var a={literal:function(m){return'"'+l(m.text)+'"'},class:function(m){var g=m.parts.map(function(b){return Array.isArray(b)?c(b[0])+"-"+c(b[1]):c(b)});return"["+(m.inverted?"^":"")+g+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(m){return m.description}};function o(m){return m.charCodeAt(0).toString(16).toUpperCase()}function l(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+o(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+o(g)})}function c(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+o(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+o(g)})}function d(m){return a[m.type](m)}function p(m){var g,b,w=m.map(d);if(w.sort(),w.length>0){for(g=1,b=1;g<w.length;g++)w[g-1]!==w[g]&&(w[b]=w[g],b++);w.length=b}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function h(m){return m?'"'+l(m)+'"':"end of input"}return"Expected "+p(n)+" but "+h(s)+" found."},{SyntaxError:t,parse:i}},(rF=CJ).exports&&(rF.exports=iF());const xk={deg:1,grad:.9,rad:180/Math.PI,turn:360};function _be(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&xk[e.unit]!=null))throw new R("effect:type-error",`Expected <angle>, Actual: ${kw(e)}`,{term:e})}const Mk={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function Sbe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Mk[e.unit]!=null))throw new R("effect:type-error",`Expected <length>, Actual: ${kw(e)}`,{term:e})}function Wa(e){wbe(e);const t=e.value;return D2(t,e),e.unit==="%"?.01*t:t}function xbe(e){return vbe(e),D2(e.value,e),e.value}function Mbe(e){return _be(e),e.value*xk[e.unit]||0}function Ik(e){return Sbe(e),e.value*Mk[e.unit]||0}function Ibe(e){switch(e.colorType){case"hex":return nce(e.value);case"named":return EJ(e.value);case"function":return Cbe(e.value)}}function EJ(e){if(!GG(e))throw new R("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return ice(e)}const $be=/^rgba?/i,Tbe=/^hsla?/i;function Cbe(e){if(vy(e.parameters,4),$be.test(e.name))return[Wa(e.parameters[0]),Wa(e.parameters[1]),Wa(e.parameters[2]),e.parameters[3]?Wa(e.parameters[3]):1];if(Tbe.test(e.name))return qG(xbe(e.parameters[0]),Wa(e.parameters[1]),Wa(e.parameters[2]),e.parameters[3]?Wa(e.parameters[3]):1);throw new R("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function $k(e,t,r){var i;try{return kbe(e)}catch(n){(i=r==null?void 0:r.messages)==null||i.push(n)}return null}function Tk(e,t,r,i){try{const n=Ebe(e);Nn(r,n,t)}catch(n){i.messages&&i.messages.push(n)}}function Ebe(e){const t=Sk(e);return t?dbe(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:i})=>({scale:r,value:i.map(n=>n.toJSON())})):null}function kbe(e){if(!e||e.length===0)return null;if(Abe(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:J4(r.value)});return t}return J4(e)}function Abe(e){const t=e[0];return!!t&&"scale"in t}function J4(e){if(!e||!e.length)return"";const t=[];for(const r of e){let i=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":i=[yl(r,"amount")];break;case"blur":i=[yl(r,"radius","pt")];break;case"hue-rotate":i=[yl(r,"angle","deg")];break;case"drop-shadow":i=[yl(r,"xoffset","pt"),yl(r,"yoffset","pt"),yl(r,"blurRadius","pt"),Lbe(r,"color")];break;case"bloom":i=[yl(r,"strength"),yl(r,"radius","pt"),yl(r,"threshold")]}const n=`${r.type}(${i.filter(Boolean).join(" ")})`;Sk(n),t.push(n)}return t.join(" ")}function yl(e,t,r){if(e[t]==null)throw new R("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function Lbe(e,t){if(e[t]==null)throw new R("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const _7=-3;var Tu;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Tu||(Tu={}));class fRe{constructor(t,r,i){this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",i&&(this._storage.registerRemoveFunc(this._namespace,i),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,r,i,n=0){this._storage.put(this._namespace+t,r,i,n)}get(t){const r=this._storage.get(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}pop(t){const r=this._storage.pop(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}updateSize(t,r,i){this._storage.updateSize(this._namespace+t,r,i)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class kJ{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new op,this._users=new op}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,r,i,n){const s=this._db.get(t);if(s&&(this._size-=s.size,this._db.delete(t),s.entry!==r&&this._notifyRemove(t,s.entry,Tu.ALL)),i>this._maxSize)return void this._notifyRemove(t,r,Tu.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return void console.warn("Refusing to cache entry with invalid size "+i);const a=1+Math.max(n,_7)-_7;this._db.set(t,{entry:r,size:i,lifetime:a,lives:a}),this._size+=i,this._checkSizeLimit()}updateSize(t,r,i){const n=this._db.get(t);if(n&&n.entry===r){for(this._size-=n.size;i>this._maxSize;){const s=this._notifyRemove(t,r,Tu.SOME);if(!(C(s)&&s>0))return void this._db.delete(t);i=s}n.size=i,this._size+=i,this._checkSizeLimit()}}pop(t){const r=this._db.get(t);if(r)return this._size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(t){const r=this._db.get(t);if(r!==void 0)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},i=new Array;this._db.forEach((a,o)=>{const l=a.lifetime;i[l]=(i[l]||0)+a.size,this._users.forAll(c=>{const d=c.namespace;if(o.startsWith(d)){const p=r[d]||0;r[d]=p+a.size}})});const n={};this._users.forAll(a=>{const o=a.namespace;if(!isNaN(a.hitRate)&&a.hitRate>0){const l=r[o]||0;r[o]=l,n[o]=Math.round(100*a.hitRate)+"%"}else n[o]="0%"});const s=Object.keys(r);s.sort((a,o)=>r[o]-r[a]),s.forEach(a=>t[a]=Math.round(r[a]/2**20)+"MB / "+n[a]);for(let a=i.length-1;a>=0;--a){const o=i[a];o&&(t["Priority "+(a+_7-1)]=Math.round(o/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((r,i)=>{i.startsWith(t)&&(this._size-=r.size,this._db.delete(i),this._notifyRemove(i,r.entry,Tu.ALL))})}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,Tu.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,i){let n;return this._removeFuncs.some(s=>{if(t.startsWith(s[0])){const a=s[1](r,i);return typeof a=="number"&&(n=a),!0}return!1}),n}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,r]of this._db){if(this._db.delete(t),r.lives<=1){this._size-=r.size;const i=this._notifyRemove(t,r.entry,Tu.SOME);C(i)&&i>0&&(this._size+=i,r.lives=r.lifetime,r.size=i,this._db.set(t,r))}else--r.lives,this._db.set(t,r);if(this._size<=.9*this.maxSize)return}}}class Rbe{constructor(t,r){this._storage=new kJ,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r){this._storage.put(t,r,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}function Pbe(e){return typeof e=="function"}function pRe(e,t,r,i){return Pbe(e)?e(t,r,i):e}function hRe(e){return[e.r,e.g,e.b,e.a]}function mRe(e,t,r){const i=` /-,
`,n=l=>{let c=l.length;for(;c--;)if(!i.includes(l.charAt(c)))return!1;return!0},s=[];let a=0,o=-1;do if(o=t.indexOf("[",a),o>=a){if(o>a){const l=t.substr(a,o-a);s.push([l,null,n(l)])}if(a=o+1,o=t.indexOf("]",a),o>=a){if(o>a){const l=e[t.substr(a,o-a)];l&&s.push([null,l,!1])}a=o+1}}while(o!==-1);if(a<t.length-1){const l=t.substr(a);s.push([l,null,n(l)])}return l=>{let c="",d=null;for(const p of s){const[h,m,g]=p;if(h)g?d=h:(d&&(c+=d,d=null),c+=h);else{const b=l.attributes[m];b&&(d&&(c+=d,d=null),c+=b)}}return Obe(c,r)}}function Obe(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function yRe(e,t,r,i,n,s,a=!0){const o=t/n,l=r/s,c=Math.ceil(o/2),d=Math.ceil(l/2);for(let p=0;p<s;p++)for(let h=0;h<n;h++){const m=4*(h+(a?s-p-1:p)*n);let g=0,b=0,w=0,v=0,_=0,S=0,x=0;const M=(p+.5)*l;for(let I=Math.floor(p*l);I<(p+1)*l;I++){const $=Math.abs(M-(I+.5))/d,T=(h+.5)*o,A=$*$;for(let P=Math.floor(h*o);P<(h+1)*o;P++){let F=Math.abs(T-(P+.5))/c;const j=Math.sqrt(A+F*F);j>=-1&&j<=1&&(g=2*j*j*j-3*j*j+1,g>0&&(F=4*(P+I*t),x+=g*e[F+3],w+=g,e[F+3]<255&&(g=g*e[F+3]/250),v+=g*e[F],_+=g*e[F+1],S+=g*e[F+2],b+=g))}}i[m]=v/b,i[m+1]=_/b,i[m+2]=S/b,i[m+3]=x/w}}function Fbe(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function Aw(e){var t;return(t=e.data)==null?void 0:t.symbol}function Z4(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function Q4(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function AJ(e){return e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill"}function Y4(e){return e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices"}const gRe=e=>isNaN(e)||!e?0:e,bRe=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":return!0}return!1};function vRe(){return Y(()=>import("./geometryEngineJSON.ba1441a3.js"),["geometryEngineJSON.ba1441a3.js","geometryEngineBase.0f0d7ecf.js","geometryEngineJSON.5a1f200e.js","json.8bd707cf.js"],import.meta.url)}function Dbe(e){const t=Aw(e);if(t.type==="CIMTextSymbol")return t.height;let r=0;if(t.symbolLayers)for(const i of t.symbolLayers)Z4(i)&&i.size>r?r=i.size:Q4(i)&&i.width>r?r=i.width:AJ(i);return r}function wRe(e,t,r){const i=Aw(e),n=Dbe(e);if(n===0)return void Nbe(i,t);Ck(i,t/n,!1,r)}function Nbe(e,t){if(e.type!=="CIMTextSymbol"){if(e.symbolLayers)for(const r of e.symbolLayers)switch(r.type){case"CIMPictureMarker":case"CIMVectorMarker":r.size=t;break;case"CIMPictureStroke":case"CIMSolidStroke":r.width=t}}else e.height=t}function Ck(e,t,r,i){if(e.type!=="CIMTextSymbol"){if(r&&e.effects)for(const n of e.effects)zbe(n,t);if(e.symbolLayers)for(const n of e.symbolLayers)switch(n.type){case"CIMPictureMarker":case"CIMVectorMarker":jbe(n,t,i);break;case"CIMPictureStroke":case"CIMSolidStroke":!(i!=null&&i.preserveOutlineWidth)&&n.width&&(n.width*=t);break;case"CIMPictureFill":n.height&&(n.height*=t),n.offsetX&&(n.offsetX*=t),n.offsetY&&(n.offsetY*=t);break;case"CIMHatchFill":Ck(n.lineSymbol,t,!0,{...i,preserveOutlineWidth:!1}),n.offsetX&&(n.offsetX*=t),n.offsetY&&(n.offsetY*=t),n.separation&&(n.separation*=t)}}else e.height*=t}function jbe(e,t,r){if(e.markerPlacement&&Vbe(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&e.anchorPointUnits==="Absolute"&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size*=t,e.type==="CIMVectorMarker"&&e.markerGraphics)for(const i of e.markerGraphics)e.scaleSymbolsProportionally||Ck(i.symbol,t,!0,r)}function Vbe(e,t){switch(Y4(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const r=e.placementTemplate.map(i=>i*t);e.placementTemplate=r}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const r=e.placementTemplate.map(i=>i*t);e.placementTemplate=r}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function zbe(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const r=e.dashTemplate.map(i=>i*t);e.dashTemplate=r}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function Bbe(e){const t=[];return XM(Aw(e),t),t.length?new re(Fbe(t[0])):null}function XM(e,t){let r;r=e.type==="CIMTextSymbol"?e.symbol:e;const i=e.type==="CIMPolygonSymbol";if(r.symbolLayers){for(const n of r.symbolLayers)if(!(n.colorLocked||i&&(Q4(n)||Z4(n)&&n.markerPlacement&&Y4(n.markerPlacement))))switch(n.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":n.tintColor&&sF(t,n.tintColor);break;case"CIMVectorMarker":n.markerGraphics.forEach(s=>{XM(s.symbol,t)});break;case"CIMSolidStroke":case"CIMSolidFill":sF(t,n.color);break;case"CIMHatchFill":XM(n.lineSymbol,t)}}}function sF(e,t){for(const r of e)if(r.join(".")===t.join("."))return;e.push(t)}function LJ(e,t,r){t instanceof re||(t=new re(t));const i=Aw(e);i&&eI(i,t,r)}function eI(e,t,r){let i;i=e.type==="CIMTextSymbol"?e.symbol:e;const n=i.type==="CIMPolygonSymbol";if(i.symbolLayers)for(const s of i.symbolLayers){if(s.colorLocked)continue;if(n){if(r){const{layersToColor:o}=r;if((Q4(s)||Z4(s)&&s.markerPlacement&&Y4(s.markerPlacement))&&o==="fill"||AJ(s)&&o==="outline")continue}else if(Q4(s)||Z4(s)&&s.markerPlacement&&Y4(s.markerPlacement))continue}const a=t.toArray();switch(s.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":s.tintColor=a;break;case"CIMVectorMarker":s.markerGraphics.forEach(o=>{eI(o.symbol,t,r)});break;case"CIMSolidStroke":case"CIMSolidFill":s.color=a;break;case"CIMHatchFill":eI(s.lineSymbol,t,r)}}}const RJ="picture-fill",PJ="simple-fill",Ube="simple-line",OJ="simple-marker",Gbe="text",qbe="cim",S7=new Rbe(1e3);function Hbe(e){const t=e.style;let r=null;if(e)switch(e.type){case OJ:t!=="cross"&&t!=="x"&&(r=e.color);break;case PJ:t==="solid"?r=e.color:t!=="none"&&(r={type:"pattern",x:0,y:0,src:Qe(`esri/symbols/patterns/${t}.png`),width:5,height:5});break;case RJ:r={type:"pattern",src:e.url,width:$t(e.width)*e.xscale,height:$t(e.height)*e.yscale,x:$t(e.xoffset),y:$t(e.yoffset)};break;case Gbe:r=e.color;break;case qbe:r=Bbe(e)}return r}function Wbe(e,t){const r=e+"-"+t;return S7.get(r)!==void 0?Promise.resolve(S7.get(r)):$e(e,{responseType:"image"}).then(i=>{const n=i.data,s=n.naturalWidth,a=n.naturalHeight,o=document.createElement("canvas");o.width=s,o.height=a;const l=o.getContext("2d");l.fillStyle=t,l.fillRect(0,0,s,a),l.globalCompositeOperation="destination-in",l.drawImage(n,0,0);const c=o.toDataURL();return S7.put(r,c),c})}function t2(e){if(!e)return null;let t;switch(e.type){case PJ:case RJ:case OJ:t=t2(e.outline);break;case Ube:{const r=$t(e.width);e.style!=="none"&&r!==0&&(t={color:e.color,style:Ek(e.style),width:r,cap:e.cap,join:e.join==="miter"?$t(e.miterLimit):e.join});break}default:t=null}return t}const Ek=(()=>{const e={};return t=>{if(e[t])return e[t];const r=t.replace(/-/g,"");return e[t]=r,r}})(),Jbe=new re([128,128,128]),aF=/\/resource\/(.*?)\.svg$/,Zbe=new re("white");function Qbe(e){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const r=e.symbolLayers.getItemAt(t-1);return"outline"in r?UC(r,"outline","size"):void 0}function Ybe(e){if(!e)return 0;if(sl(e)){const r=Qbe(e);return C(r)?r:0}const t=t2(e);return t&&oi(t.width)||0}function Lw(e){if(B(e)||!("symbolLayers"in e)||B(e.symbolLayers))return!1;switch(e.type){case"point-3d":return e.symbolLayers.some(t=>t.type==="object");case"line-3d":return e.symbolLayers.some(t=>t.type==="path");case"polygon-3d":return e.symbolLayers.some(t=>t.type==="object"||t.type==="extrude");default:return!1}}function Kbe(e,t){const r=t.resource.href;return!W("esri-canvas-svg-support")&&e.styleOrigin&&aF.test(r)?r.replace(aF,"/resource/png/$1.png"):r}function ih(e,t){if(!e)return null;let r=null;return sl(e)?r=Xbe(e):gw(e)&&(r=e.color?new re(e.color):null),r?r2(r,t):null}function Xbe(e){const t=e.symbolLayers;if(!t)return null;let r=null;return t.forEach(i=>{i.type==="object"&&i.resource.href!=null||(r=i.type==="water"?i.color:C(i.material)?i.material.color:null)}),r?new re(r):null}function r2(e,t){if(t==null)return e;const r=e.toRgba();return r[3]=r[3]*t,new re(r)}function e1e(e,t,r){const i=e.symbolLayers;if(!i)return;const n=s=>{const a=C(s)?s:null;return r2(t=t||a||r!=null&&Zbe,r)};i.forEach(s=>{if(s.type!=="object"||s.resource.href==null||t)if(s.type==="water")s.color=n(s.color);else{const a=C(s.material)?s.material.color:null,o=n(a);B(s.material)?s.material=new bs({color:o}):s.material.color=o,r!=null&&"outline"in s&&C(s.outline)&&C(s.outline.color)&&(s.outline.color=r2(s.outline.color,r))}})}function t1e(e,t,r){(t=t||e.color)&&(e.color=r2(t,r)),r!=null&&"outline"in e&&e.outline&&e.outline.color&&(e.outline.color=r2(e.outline.color,r))}function x7(e,t,r){e&&(t||r!=null)&&(t&&(t=new re(t)),sl(e)?e1e(e,t,r):gw(e)&&t1e(e,t,r))}async function r1e(e,t){const r=e.symbolLayers;r&&await ooe(r,async i=>i1e(i,t))}async function i1e(e,t){switch(e.type){case"extrude":s1e(e,t);break;case"icon":case"line":case"text":n1e(e,t);break;case"path":o1e(e,t);break;case"object":await a1e(e,t)}}function n1e(e,t){const r=FJ(t);C(r)&&(e.size=r)}function FJ(e){for(const t of e)if(typeof t=="number")return t;return null}function s1e(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function a1e(e,t){const{resourceSize:r,symbolSize:i}=await l1e(e),n=DJ(t,r,i);e.width=Jb(t[0],i[0],r[0],n),e.depth=Jb(t[1],i[1],r[1],n),e.height=Jb(t[2],i[2],r[2],n)}function o1e(e,t){const r=DJ(t,YG,[e.width,void 0,e.height]);e.width=Jb(t[0],e.width,1,r),e.height=Jb(t[2],e.height,1,r)}function DJ(e,t,r){for(let i=0;i<3;i++){const n=e[i];switch(n){case"symbol-value":return r[i]!=null?r[i]/t[i]:1;case"proportional":break;default:if(n&&t[i])return n/t[i]}}return 1}async function l1e(e){const t=await Y(()=>import("./symbolLayerUtils.923eccfd.js"),[],import.meta.url),r=await t.computeObjectLayerResourceSize(e,10),{width:i,height:n,depth:s}=e,a=[i,s,n];let o=1;for(let l=0;l<3;l++)if(a[l]!=null){o=a[l]/r[l];break}for(let l=0;l<3;l++)a[l]==null&&(a[l]=r[l]*o);return{resourceSize:r,symbolSize:a}}function Jb(e,t,r,i){switch(e){case"proportional":return r*i;case"symbol-value":return t!=null?t:r;default:return e}}function c1e(e,t){const r=FJ(t);if(!B(r))switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":{const i=e.width/e.height;i>1?(e.width=r,e.height=r*i):(e.width=r*i,e.height=r);break}case"simple-line":e.width=r;break;case"text":e.font.size=r}}async function NJ(e,t){if(e&&t)return sl(e)?r1e(e,t):void(gw(e)&&c1e(e,t))}function jJ(e,t,r){if(e&&t!=null)if(sl(e)){const i=e.symbolLayers;i&&i.forEach(n=>{if(n&&n.type==="object")switch(r){case"tilt":n.tilt=t;break;case"roll":n.roll=t;break;default:n.heading=t}})}else gw(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle=t))}function i2(e){if(!e)return null;const t=e.effects.filter(r=>r.type!=="bloom").map(r=>r.toJSON());return J4(t)}const VJ="<",zJ=">",u1e=lw("short-date");function BJ(e,t,r,i){let n="";t===0?n=`${VJ} `:t===r&&(n=`${zJ} `);let s=null;return s=i?rl(e,u1e):MJ(e),n+s}const d1e=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];async function tI(e){if(!("visualVariables"in e)||!e.visualVariables)return null;const t=e.visualVariables.find(a=>a.type==="color");if(!t)return null;let r=null,i=null;if(t.stops){if(t.stops.length===1)return t.stops[0].color;r=t.stops[0].value,i=t.stops[t.stops.length-1].value}const n=r+(i-r)/2,{getColor:s}=await Y(()=>Promise.resolve().then(()=>Yp),void 0,import.meta.url);return s(t,n)}async function UJ(e,t){const r=e.trailCap,i=e.trailWidth||1,n=t||await tI(e)||e.color;return new qi({cap:r,color:n,width:i})}const f1e=new re([64,64,64]);function GJ(e,t){const r=[],i=e.length-1;return e.length===5?r.push(0,2,4):r.push(0,i),e.map((n,s)=>r.includes(s)?BJ(n,s,i,t):null)}async function rI(e,t,r){let i=!1,n=[],s=[];if(e.stops){const c=e.stops;n=c.map(d=>d.value),i=c.some(d=>!!d.label),i&&(s=c.map(d=>d.label))}const a=n[0],o=n[n.length-1];if(a==null&&o==null)return null;const l=i?null:GJ(n,r);return(await Promise.all(n.map(async(c,d)=>({value:c,color:e.type==="opacity"?await p1e(c,e,t):(await Y(()=>Promise.resolve().then(()=>Yp),void 0,import.meta.url)).getColor(e,c),label:i?s[d]:l[d]})))).reverse()}async function p1e(e,t,r=f1e){const i=new re(r),n=(await Y(()=>Promise.resolve().then(()=>Yp),void 0,import.meta.url)).getOpacity(t,e);return n!=null&&(i.a=n),i}function h1e(e){let t=!1,r=[],i=[];r=e.map(o=>o.value),t=e.some(o=>!!o.label),t&&(i=e.map(o=>o.label));const n=r[0],s=r[r.length-1];if(n==null&&s==null)return null;const a=t?null:GJ(r,!1);return r.map((o,l)=>({value:o,color:qJ(o,e),label:t?i[l]:a[l]})).reverse()}function qJ(e,t){const{startIndex:r,endIndex:i,weight:n}=m1e(e,t);if(r===i)return t[r].color;const s=re.blendColors(t[r].color,t[i].color,n);return new re(s)}function m1e(e,t){let r=0,i=t.length-1;return t.some((n,s)=>e<n.value?(i=s,!0):(r=s,!1)),{startIndex:r,endIndex:i,weight:(e-t[r].value)/(t[i].value-t[r].value)}}function y1e(e,t){let r=[];if(e&&e.type==="multipart")e.colorRamps.reverse().forEach((i,n)=>{n===0?r.push({value:t.max,color:new re(i.toColor),label:"high"}):r.push({value:null,color:new re(i.toColor),label:""}),n===e.colorRamps.length-1?r.push({value:t.min,color:new re(i.fromColor),label:"low"}):r.push({value:null,color:new re(i.fromColor),label:""})});else{let i,n;e&&e.type==="algorithmic"?(i=e.fromColor,n=e.toColor):(i=[0,0,0,1],n=[255,255,255,1]),r=[{value:t.max,color:new re(n),label:"high"},{value:t.min,color:new re(i),label:"low"}]}return r}var iI;let Yg=iI=class extends Z{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new iI({color:this.color,ratio:this.ratio})}};u([f({type:re,json:{type:[Xe],default:null,write:!0}})],Yg.prototype,"color",void 0),u([f({type:Number,json:{write:!0}})],Yg.prototype,"ratio",void 0),Yg=iI=u([E("esri.renderers.support.HeatmapColorStop")],Yg);const Zb=Yg;function HJ(e){if(!e.colorStops)return[];const t=[...e.colorStops].filter(i=>{var n;return((n=i.color)==null?void 0:n.a)>0});let r=t.length-1;if(t&&t[0]){const i=t[r];i&&i.ratio!==1&&(t.push(new Zb({ratio:1,color:i.color})),r++)}return t.map((i,n)=>{var a,o;let s="";return n===0?s=((a=e.legendOptions)==null?void 0:a.minLabel)||"low":n===r&&(s=((o=e.legendOptions)==null?void 0:o.maxLabel)||"high"),{color:i.color,label:s,ratio:i.ratio}}).reverse()}ae.getLogger("esri.renderers.support.utils");const g1e={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},b1e={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",day:"long-month-day-year",month:"long-month-day-year",year:"year"};function Hn(e,t,r){BU(e,t,()=>[]).push(...r)}async function v1e(e){var r,i;const t=new Map;if("visualVariables"in e&&e.visualVariables){const n=e.visualVariables.filter(s=>s.type==="color");for(const s of n){const a=s.field||s.valueExpression,o=(await rI(s)).map(l=>l.color);Hn(t,a,o)}}if(e.type==="heatmap"){const n=HJ(e).map(s=>s.color);Hn(t,e.field,n)}else if(e.type==="pie-chart"){for(const n of e.attributes)Hn(t,n.field,[n.color]);Hn(t,null,[(r=e==null?void 0:e.othersCategory)==null?void 0:r.color,ih(e.backgroundFillSymbol,null)])}else if(e.type==="dot-density"){for(const n of e.attributes)Hn(t,n.field,[n.color]);Hn(t,null,[e.backgroundColor])}else if(e.type==="unique-value")if(((i=e.authoringInfo)==null?void 0:i.type)==="predominance")for(const n of e.uniqueValueInfos)Hn(t,n.value.toString(),[ih(n.symbol,null)]);else{const n=e.uniqueValueInfos.map(c=>ih(c.symbol,null)),{field:s,field2:a,field3:o,valueExpression:l}=e;(s||l)&&Hn(t,s||l,n),a&&Hn(t,a,n),o&&Hn(t,o,n)}else if(e.type==="class-breaks"){const n=e.classBreakInfos.map(s=>ih(s.symbol,null));Hn(t,e.field||e.valueExpression,n)}else e.type==="simple"&&Hn(t,null,[ih(e.symbol,null)]);return"defaultSymbol"in e&&e.defaultSymbol&&Hn(t,null,[ih(e.defaultSymbol,null)]),t.forEach((n,s)=>{const a=tse(n.filter(Boolean),(o,l)=>JSON.stringify(o)===JSON.stringify(l));t.set(s,a)}),t}function w1e(e){const t=e.map(s=>new Date(s)),r=t.length;let i=1/0,n=null;for(let s=0;s<r-1;s++){const a=t[s];let o=1/0,l=null;for(let c=s+1;c<r;c++){const d=t[c],p=(a.getFullYear()!==d.getFullYear()?"year":a.getMonth()!==d.getMonth()&&"month")||a.getDate()!==d.getDate()&&"day"||a.getHours()!==d.getHours()&&"hour"||a.getMinutes()!==d.getMinutes()&&"minute"||a.getSeconds()!==d.getSeconds()&&"second"||"millisecond",h=g1e[p];h<o&&(o=h,l=p)}o<i&&(i=o,n=l)}return n}function oF(e){const{value:t,domain:r,fieldInfo:i,dateFormatInterval:n}=e;let s=String(t);const a=r&&"codedValues"in r&&r.codedValues?r.getName(t):null;return a?s=a:typeof t=="number"&&(s=i&&i.type==="date"?rl(t,n&&lw(b1e[n])):MJ(t)),s}var nI;let Kg=nI=class extends Z{constructor(e){super(e),this.name=null,this.code=null}clone(){return new nI({name:this.name,code:this.code})}};u([f({type:String,json:{write:!0}})],Kg.prototype,"name",void 0),u([f({type:[String,Number],json:{write:!0}})],Kg.prototype,"code",void 0),Kg=nI=u([E("esri.layers.support.CodedValue")],Kg);const _1e=new Le({inherited:"inherited",codedValue:"coded-value",range:"range"});let Xg=class extends Z{constructor(e){super(e),this.name=null,this.type=null}};u([f({type:String,json:{write:!0}})],Xg.prototype,"name",void 0),u([ge(_1e)],Xg.prototype,"type",void 0),Xg=u([E("esri.layers.support.Domain")],Xg);const Rw=Xg;var sI;let eb=sI=class extends Rw{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(i=>(String(i.code)===r&&(t=i.name),!!t))}return t}clone(){return new sI({codedValues:D(this.codedValues),name:this.name})}};u([f({type:[Kg],json:{write:!0}})],eb.prototype,"codedValues",void 0),u([ge({codedValue:"coded-value"})],eb.prototype,"type",void 0),eb=sI=u([E("esri.layers.support.CodedValueDomain")],eb);const WJ=eb;var aI;let P5=aI=class extends Rw{constructor(e){super(e),this.type="inherited"}clone(){return new aI}};u([ge({inherited:"inherited"})],P5.prototype,"type",void 0),P5=aI=u([E("esri.layers.support.InheritedDomain")],P5);const JJ=P5;var oI;let Nh=oI=class extends Rw{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new oI({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};u([f({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],Nh.prototype,"maxValue",void 0),u([f({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],Nh.prototype,"minValue",void 0),u([ge({range:"range"})],Nh.prototype,"type",void 0),Nh=oI=u([E("esri.layers.support.RangeDomain")],Nh);const ZJ=Nh,QJ={key:"type",base:Rw,typeMap:{range:ZJ,"coded-value":WJ,inherited:JJ}};function kk(e){if(!e||!e.type)return null;switch(e.type){case"range":return ZJ.fromJSON(e);case"codedValue":return WJ.fromJSON(e);case"inherited":return JJ.fromJSON(e)}return null}const Ak=new Le({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var lI;const S1e=new Le({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Qi=lI=class extends Z{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?S1e.fromJSON(r.fieldValueType):null}clone(){return new lI({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};u([f({type:String,json:{write:!0}})],Qi.prototype,"alias",void 0),u([f({type:[String,Number],json:{write:{allowNull:!0}}})],Qi.prototype,"defaultValue",void 0),u([f()],Qi.prototype,"description",void 0),u([ie("description")],Qi.prototype,"readDescription",null),u([f({types:QJ,json:{read:{reader:kk},write:!0}})],Qi.prototype,"domain",void 0),u([f({type:Boolean,json:{write:!0}})],Qi.prototype,"editable",void 0),u([f({type:Xe,json:{write:!0}})],Qi.prototype,"length",void 0),u([f({type:String,json:{write:!0}})],Qi.prototype,"name",void 0),u([f({type:Boolean,json:{write:!0}})],Qi.prototype,"nullable",void 0),u([ge(Ak)],Qi.prototype,"type",void 0),u([f()],Qi.prototype,"valueType",void 0),u([ie("valueType",["description"])],Qi.prototype,"readValueType",null),Qi=lI=u([E("esri.layers.support.Field")],Qi);const os=Qi;var cI;let jh=cI=class extends Z{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new cI({mapLayerId:e,gdbVersion:t})}};u([ge({mapLayer:"map-layer"})],jh.prototype,"type",void 0),u([f({type:Xe,json:{write:!0}})],jh.prototype,"mapLayerId",void 0),u([f({type:String,json:{write:!0}})],jh.prototype,"gdbVersion",void 0),jh=cI=u([E("esri.layers.support.source.MapLayerSource")],jh);var uI;let Al=uI=class extends Z{constructor(e){super(e),this.type="query-table"}clone(){var a;const{workspaceId:e,query:t,oidFields:r,spatialReference:i,geometryType:n}=this,s={workspaceId:e,query:t,oidFields:r,spatialReference:(a=i==null?void 0:i.clone())!=null?a:void 0,geometryType:n};return new uI(s)}};u([ge({queryTable:"query-table"})],Al.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],Al.prototype,"workspaceId",void 0),u([f({type:String,json:{write:!0}})],Al.prototype,"query",void 0),u([f({type:String,json:{write:!0}})],Al.prototype,"oidFields",void 0),u([f({type:Ce,json:{write:!0}})],Al.prototype,"spatialReference",void 0),u([ge(kE)],Al.prototype,"geometryType",void 0),Al=uI=u([E("esri.layers.support.source.QueryTableDataSource")],Al);var dI;let Vh=dI=class extends Z{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new dI({workspaceId:e,dataSourceName:t})}};u([ge({raster:"raster"})],Vh.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],Vh.prototype,"dataSourceName",void 0),u([f({type:String,json:{write:!0}})],Vh.prototype,"workspaceId",void 0),Vh=dI=u([E("esri.layers.support.source.RasterDataSource")],Vh);var fI;let af=fI=class extends Z{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new fI({workspaceId:e,gdbVersion:t,dataSourceName:r})}};u([ge({table:"table"})],af.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],af.prototype,"workspaceId",void 0),u([f({type:String,json:{write:!0}})],af.prototype,"gdbVersion",void 0),u([f({type:String,json:{write:!0}})],af.prototype,"dataSourceName",void 0),af=fI=u([E("esri.layers.support.source.TableDataSource")],af);var pI,hI;const x1e=ir()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Qn=pI=class extends Z{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return lF()(e,t,r)}castLeftTableSource(e){return Xo(mI(),e)}readRightTableSource(e,t,r){return lF()(e,t,r)}castRightTableSource(e){return Xo(mI(),e)}clone(){var a,o;const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:i,joinType:n}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:(a=r==null?void 0:r.clone())!=null?a:void 0,rightTableSource:(o=i==null?void 0:i.clone())!=null?o:void 0,joinType:n};return new pI(s)}};u([ge({joinTable:"join-table"})],Qn.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],Qn.prototype,"leftTableKey",void 0),u([f({type:String,json:{write:!0}})],Qn.prototype,"rightTableKey",void 0),u([f({json:{write:!0}})],Qn.prototype,"leftTableSource",void 0),u([ie("leftTableSource")],Qn.prototype,"readLeftTableSource",null),u([Ze("leftTableSource")],Qn.prototype,"castLeftTableSource",null),u([f({json:{write:!0}})],Qn.prototype,"rightTableSource",void 0),u([ie("rightTableSource")],Qn.prototype,"readRightTableSource",null),u([Ze("rightTableSource")],Qn.prototype,"castRightTableSource",null),u([ge(x1e)],Qn.prototype,"joinType",void 0),Qn=pI=u([E("esri.layers.support.source.JoinTableDataSource")],Qn);let M7=null;function lF(){return M7||(M7=ay({types:mI()})),M7}let I7=null;function mI(){return I7||(I7={key:"type",base:null,typeMap:{"data-layer":In,"map-layer":jh}}),I7}const M1e={key:"type",base:null,typeMap:{"join-table":Qn,"query-table":Al,raster:Vh,table:af}};let In=hI=class extends Z{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new hI({fields:e,dataSource:t})}};u([ge({dataLayer:"data-layer"})],In.prototype,"type",void 0),u([f({type:[os],json:{write:!0}})],In.prototype,"fields",void 0),u([f({types:M1e,json:{write:!0}})],In.prototype,"dataSource",void 0),In=hI=u([E("esri.layers.support.source.DataLayerSource")],In),In.from=_r(In);function Wp(e,t){return t?{...t,query:{...e,...t.query}}:{query:e}}function Mr(e){return typeof e=="string"?jt(e):D(e)}function Td(e,t,r){const i={};for(const n in e){if(n==="declaredClass")continue;const s=e[n];if(s!=null&&typeof s!="function")if(Array.isArray(s)){i[n]=[];for(let a=0;a<s.length;a++)i[n][a]=Td(s[a])}else if(typeof s=="object")if(s.toJSON){const a=s.toJSON(r&&r[n]);i[n]=t?a:JSON.stringify(a)}else i[n]=t?s:JSON.stringify(s);else i[n]=s}return i}const H3={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new ps({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Ce.WebMercator}),minus180Line:new ps({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Ce.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new ps({paths:[[[180,-180],[180,180]]],spatialReference:Ce.WGS84}),minus180Line:new ps({paths:[[[-180,-180],[-180,180]]],spatialReference:Ce.WGS84})}};function tp(e,t){return Math.ceil((e-t)/(2*t))}function YJ(e,t){const r=Qb(e);for(const i of r)for(const n of i)n[0]+=t;return e}function Qb(e){return id(e)?e.rings:e.paths}async function I1e(e,t,r,i){const n=typeof e=="string"?jt(e):e,s=t[0].spatialReference,a={...i,query:{...n.query,f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:Md(t[0]),geometries:t}),cutter:JSON.stringify(r)}},o=await $e(n.path+"/cut",a),{cutIndexes:l,geometries:c=[]}=o.data;return{cutIndexes:l,geometries:c.map(d=>{const p=tl(d);return p.spatialReference=s,p})}}async function $1e(e,t,r){const i=typeof e=="string"?jt(e):e,n=t[0].spatialReference,s=Md(t[0]),a={...r,query:{...i.query,f:"json",sr:n.wkid?n.wkid:JSON.stringify(n),geometries:JSON.stringify(T1e(t))}};return C1e((await $e(i.path+"/simplify",a)).data,s,n)}function T1e(e){return{geometryType:Md(e[0]),geometries:e.map(t=>t.toJSON())}}function C1e(e,t,r){const i=sde(t);return e.map(n=>{const s=i.fromJSON(n);return s.spatialReference=r,s})}const KJ=ae.getLogger("esri.geometry.support.normalizeUtils");function E1e(e){return e.type==="polygon"}function k1e(e){return e[0].type==="polygon"}function A1e(e){return e[0].type==="polyline"}function L1e(e,t){if(!(e instanceof ps||e instanceof _s)){const n="straightLineDensify: the input geometry is neither polyline nor polygon";throw KJ.error(n),new R(n)}const r=Qb(e),i=[];for(const n of r){const s=[];i.push(s),s.push([n[0][0],n[0][1]]);for(let a=0;a<n.length-1;a++){const o=n[a][0],l=n[a][1],c=n[a+1][0],d=n[a+1][1],p=Math.sqrt((c-o)*(c-o)+(d-l)*(d-l)),h=(d-l)/p,m=(c-o)/p,g=p/t;if(g>1){for(let _=1;_<=g-1;_++){const S=_*t,x=m*S+o,M=h*S+l;s.push([x,M])}const b=(p+Math.floor(g-1)*t)/2,w=m*b+o,v=h*b+l;s.push([w,v])}s.push([c,d])}}return E1e(e)?new _s({rings:i,spatialReference:e.spatialReference}):new ps({paths:i,spatialReference:e.spatialReference})}function cF(e,t,r){if(t){const i=L1e(e,1e6);e=Cg(i,!0)}return r&&(e=YJ(e,r)),e}function uF(e,t,r){if(Array.isArray(e)){const i=e[0];if(i>t){const n=tp(i,t);e[0]=i+n*(-2*t)}else if(i<r){const n=tp(i,r);e[0]=i+n*(-2*r)}}else{const i=e.x;if(i>t){const n=tp(i,t);e=e.clone().offset(n*(-2*t),0)}else if(i<r){const n=tp(i,r);e=e.clone().offset(n*(-2*r),0)}}return e}function R1e(e,t){let r=-1;for(let i=0;i<t.cutIndexes.length;i++){const n=t.cutIndexes[i],s=t.geometries[i],a=Qb(s);for(let o=0;o<a.length;o++){const l=a[o];l.some(c=>{if(c[0]<180)return!0;{let d=0;for(let h=0;h<l.length;h++){const m=l[h][0];d=m>d?m:d}d=Number(d.toFixed(9));const p=-360*tp(d,180);for(let h=0;h<l.length;h++){const m=s.getPoint(o,h);s.setPoint(o,h,m.clone().offset(p,0))}return!0}})}if(n===r){if(k1e(e))for(const o of Qb(s))e[n]=e[n].addRing(o);else if(A1e(e))for(const o of Qb(s))e[n]=e[n].addPath(o)}else r=n,e[n]=s}return e}async function Jp(e,t,r){var x;if(!Array.isArray(e))return Jp([e],t);t&&typeof t!="string"&&KJ.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const i=typeof t=="string"?t:(x=t==null?void 0:t.url)!=null?x:rt.geometryServiceUrl;let n,s,a,o,l,c,d,p,h=0;const m=[],g=[];for(const M of e)if(B(M))g.push(M);else if(n||(n=M.spatialReference,s=ys(n),a=n.isWebMercator,c=a?102100:4326,o=H3[c].maxX,l=H3[c].minX,d=H3[c].plus180Line,p=H3[c].minus180Line),s)if(M.type==="mesh")g.push(M);else if(M.type==="point")g.push(uF(M.clone(),o,l));else if(M.type==="multipoint"){const I=M.clone();I.points=I.points.map($=>uF($,o,l)),g.push(I)}else if(M.type==="extent"){const I=M.clone()._normalize(!1,!1,s);g.push(I.rings?new _s(I):I)}else if(M.extent){const I=M.extent,$=tp(I.xmin,l)*(2*o);let T=$===0?M.clone():YJ(M.clone(),$);I.offset($,0),I.intersects(d)&&I.xmax!==o?(h=I.xmax>h?I.xmax:h,T=cF(T,a),m.push(T),g.push("cut")):I.intersects(p)&&I.xmin!==l?(h=I.xmax*(2*o)>h?I.xmax*(2*o):h,T=cF(T,a,360),m.push(T),g.push("cut")):g.push(T)}else g.push(M.clone());else g.push(M);let b=tp(h,o),w=-90;const v=b,_=new ps;for(;b>0;){const M=360*b-180;_.addPath([[M,w],[M,-1*w]]),w*=-1,b--}if(m.length>0&&v>0){const M=R1e(m,await I1e(i,m,_,r)),I=[],$=[];for(let P=0;P<g.length;P++){const F=g[P];if(F!=="cut")$.push(F);else{const j=M.shift(),V=e[P];C(V)&&V.type==="polygon"&&V.rings&&V.rings.length>1&&j.rings.length>=V.rings.length?(I.push(j),$.push("simplify")):$.push(a?rd(j):j)}}if(!I.length)return $;const T=await $1e(i,I,r),A=[];for(let P=0;P<$.length;P++){const F=$[P];F!=="simplify"?A.push(F):A.push(a?rd(T.shift()):T.shift())}return A}const S=[];for(let M=0;M<g.length;M++){const I=g[M];if(I!=="cut")S.push(I);else{const $=m.shift();S.push(a===!0?rd($):$)}}return S}function _Re(e,t){const r=ys(t);if(r){const[i,n]=r.valid,s=n-i;if(e<i)for(;e<i;)e+=s;if(e>n)for(;e>n;)e-=s}return e}function N2(e){const t={};for(const r in e){if(r==="declaredClass")continue;const i=e[r];if(i!=null&&typeof i!="function")if(Array.isArray(i)){t[r]=[];for(let n=0;n<i.length;n++)t[r][n]=N2(i[n])}else typeof i=="object"?i.toJSON&&(t[r]=JSON.stringify(i)):t[r]=i}return t}var Cu;(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(Cu||(Cu={}));const dF=4294967296,P1e=new TextDecoder("utf-8"),O1e=W("safari")||W("ios")?6:W("ff")?12:32;class fp{constructor(t,r,i=0,n=t?t.byteLength:0){this._tag=0,this._dataType=Cu.unknown,this._init(t,r,i,n)}_init(t,r,i,n){this._data=t,this._dataView=r,this._pos=i,this._end=n}clone(){return new fp(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const r=this._decodeVarint();if(this._tag=r>>3,this._dataType=7&r,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=this._data[this._pos]!==0;return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,r=this._pos,i=t.getUint32(r,!0)+t.getUint32(r+4,!0)*dF;return this._skip(8),i}getSFixed64(){const t=this._dataView,r=this._pos,i=t.getUint32(r,!0)+t.getInt32(r+4,!0)*dF;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),r=this._pos,i=this._toString(this._data,r,r+t);return this._skip(t),i}getBytes(){const t=this._getLength(),r=this._pos,i=this._toBytes(this._data,r,r+t);return this._skip(t),i}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,r,i,n){const s=this.getMessage(),a=t(s,r,i,n);return s.release(),a}processMessage(t){const r=this.getMessage(),i=t(r);return r.release(),i}getMessage(){const t=this._getLength(),r=fp.pool.acquire();return r._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r}release(){fp.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case Cu.varint:this._decodeVarint();break;case Cu.fixed64:this._skip(8);break;case Cu.delimited:this._skip(this._getLength());break;case Cu.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let r,i=this._pos,n=0;if(this._end-i>=10)do{if(r=t[i++],n|=127&r,(128&r)==0||(r=t[i++],n|=(127&r)<<7,(128&r)==0)||(r=t[i++],n|=(127&r)<<14,(128&r)==0)||(r=t[i++],n|=(127&r)<<21,(128&r)==0)||(r=t[i++],n+=268435456*(127&r),(128&r)==0)||(r=t[i++],n+=34359738368*(127&r),(128&r)==0)||(r=t[i++],n+=4398046511104*(127&r),(128&r)==0)||(r=t[i++],n+=562949953421312*(127&r),(128&r)==0)||(r=t[i++],n+=72057594037927940*(127&r),(128&r)==0)||(r=t[i++],n+=9223372036854776e3*(127&r),(128&r)==0))break;throw new Error("Varint too long!")}while(0);else{let s=1;for(;i!==this._end&&(r=t[i],(128&r)!=0);)++i,n+=(127&r)*s,s*=128;if(i===this._end)throw new Error("Varint overrun!");++i,n+=r*s}return this._pos=i,n}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(this._dataType!==Cu.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,r,i){if((i=Math.min(this._end,i))-r>O1e){const a=t.subarray(r,i);return P1e.decode(a)}let n="",s="";for(let a=r;a<i;++a){const o=t[a];128&o?s+="%"+o.toString(16):(n+=decodeURIComponent(s)+String.fromCharCode(o),s="")}return s.length&&(n+=decodeURIComponent(s)),n}_toBytes(t,r,i){return i=Math.min(this._end,i),new Uint8Array(t.buffer,r,i-r)}}fp.pool=new co(fp,null,e=>{e._data=null,e._dataView=null});class cn{constructor(t=[],r=[],i=!1){this.lengths=t!=null?t:[],this.coords=r!=null?r:[],this.hasIndeterminateRingOrder=i}static fromRect(t){const[r,i,n,s]=t,a=n-r,o=s-i;return new cn([5],[r,i,a,0,0,o,-a,0,0,-o])}get isPoint(){return this.lengths.length===0}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,r)=>t+r)}forEachVertex(t){let r=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let i=0;i<this.lengths.length;i++){const n=this.lengths[i];for(let s=0;s<n;s++)t(this.coords[2*(s+r)],this.coords[2*(s+r)+1]);r+=n}}clone(t){return t?(t.set(this.coords),new cn(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new cn(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}class al{constructor(t=null,r={},i,n){this.geometry=t,this.attributes=r,this.centroid=i,this.objectId=n,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new al(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function F1e(e){return!(B(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class SRe extends al{}class Pw{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new Pw;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}const XJ=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class xRe{constructor(t){this.options=t,this.geometryTypes=XJ,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new Pw}prepareFeatures(t){this._vertexDimension=2,t.hasZ&&this._vertexDimension++,t.hasM&&this._vertexDimension++}finishFeatureResult(t){if(!t||!t.features||!t.hasZ||!this.options.sourceSpatialReference||!t.spatialReference||bi(t.spatialReference,this.options.sourceSpatialReference)||t.spatialReference.vcsWkid)return;const r=Nm(this.options.sourceSpatialReference)/Nm(t.spatialReference);if(r!==1)for(const i of t.features){if(!F1e(i))continue;const n=i.geometry.coords;for(let s=2;s<n.length;s+=3)n[s]*=r}}addFeature(t,r){t.features.push(r)}createFeature(){return new al}createSpatialReference(){return{wkid:0}}createGeometry(){return new cn}addField(t,r){t.fields.push(r)}allocateCoordinates(t){t.coords.length=t.lengths.reduce((r,i)=>r+i,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(t,r){t.coords[this._coordinatePtr++]=r}addCoordinatePoint(t,r){t.coords.push(r)}addLength(t,r){t.lengths.push(r)}addQueryGeometry(t,r){t.queryGeometry=r.queryGeometry,t.queryGeometryType=r.queryGeometryType}createPointGeometry(){return new cn}}const fF=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],pF=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],hF=["upperLeft","lowerLeft"];function mF(e){return e>=fF.length?null:fF[e]}function D1e(e){return e>=pF.length?null:pF[e]}function yF(e){return e>=hF.length?null:hF[e]}function gF(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function N1e(e,t,r){const n=t.createPointGeometry(r);for(;e.next();)switch(e.tag()){case 3:{const s=e.getUInt32(),a=e.pos()+s;let o=0;for(;e.pos()<a;)t.addCoordinatePoint(n,e.getSInt64(),o++);break}default:e.skip()}return n}function j1e(e,t,r){const s=t.createGeometry(r),a=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;e.next();)switch(e.tag()){case 2:{const o=e.getUInt32(),l=e.pos()+o;let c=0;for(;e.pos()<l;)t.addLength(s,e.getUInt32(),c++);break}case 3:{const o=e.getUInt32(),l=e.pos()+o;let c=0;for(t.allocateCoordinates(s);e.pos()<l;)t.addCoordinate(s,e.getSInt64(),c),c++,c===a&&(c=0);break}default:e.skip()}return s}function V1e(e){const n=new cn;let s="esriGeometryPoint";for(;e.next();)switch(e.tag()){case 2:{const a=e.getUInt32(),o=e.pos()+a;for(;e.pos()<o;)n.lengths.push(e.getUInt32());break}case 3:{const a=e.getUInt32(),o=e.pos()+a;for(;e.pos()<o;)n.coords.push(e.getSInt64());break}case 1:s=XJ[e.getEnum()];break;default:e.skip()}return{queryGeometry:n,queryGeometryType:s}}function z1e(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getSInt32();case 5:return e.getUInt32();case 6:return e.getInt64();case 7:return e.getUInt64();case 8:return e.getSInt64();case 9:return e.getBool();default:return e.skip(),null}return null}function B1e(e){const o={type:mF(0)};for(;e.next();)switch(e.tag()){case 1:o.name=e.getString();break;case 2:o.type=mF(e.getEnum());break;case 3:o.alias=e.getString();break;case 4:o.sqlType=D1e(e.getEnum());break;case 5:e.skip();break;case 6:o.defaultValue=e.getString();break;default:e.skip()}return o}function U1e(e){const i={};for(;e.next();)switch(e.tag()){case 1:i.name=e.getString();break;case 2:i.isSystemMaintained=e.getBool();break;default:e.skip()}return i}function G1e(e,t,r,i){const o=t.createFeature(r);let l=0;for(;e.next();)switch(e.tag()){case 1:{const c=i[l++].name;o.attributes[c]=e.processMessage(z1e);break}case 2:o.geometry=e.processMessageWithArgs(j1e,t,r);break;case 4:o.centroid=e.processMessageWithArgs(N1e,t,r);break;default:e.skip()}return o}function q1e(e){const s=[1,1,1,1];for(;e.next();)switch(e.tag()){case 1:s[0]=e.getDouble();break;case 2:s[1]=e.getDouble();break;case 4:s[2]=e.getDouble();break;case 3:s[3]=e.getDouble();break;default:e.skip()}return s}function H1e(e){const s=[0,0,0,0];for(;e.next();)switch(e.tag()){case 1:s[0]=e.getDouble();break;case 2:s[1]=e.getDouble();break;case 4:s[2]=e.getDouble();break;case 3:s[3]=e.getDouble();break;default:e.skip()}return s}function W1e(e){const n={originPosition:yF(0)};for(;e.next();)switch(e.tag()){case 1:n.originPosition=yF(e.getEnum());break;case 2:n.scale=e.processMessage(q1e);break;case 3:n.translate=e.processMessage(H1e);break;default:e.skip()}return n}function J1e(e){const n={};for(;e.next();)switch(e.tag()){case 1:n.shapeAreaFieldName=e.getString();break;case 2:n.shapeLengthFieldName=e.getString();break;case 3:n.units=e.getString();break;default:e.skip()}return n}function Z1e(e,t){const o=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:o.wkid=e.getUInt32();break;case 5:o.wkt=e.getString();break;case 2:o.latestWkid=e.getUInt32();break;case 3:o.vcsWkid=e.getUInt32();break;case 4:o.latestVcsWkid=e.getUInt32();break;default:e.skip()}return o}function Q1e(e,t){const b=t.createFeatureResult();b.geometryType=gF(t,0);let w=!1;for(;e.next();)switch(e.tag()){case 1:b.objectIdFieldName=e.getString();break;case 3:b.globalIdFieldName=e.getString();break;case 4:b.geohashFieldName=e.getString();break;case 5:b.geometryProperties=e.processMessage(J1e);break;case 7:b.geometryType=gF(t,e.getEnum());break;case 8:b.spatialReference=e.processMessageWithArgs(Z1e,t);break;case 10:b.hasZ=e.getBool();break;case 11:b.hasM=e.getBool();break;case 12:b.transform=e.processMessage(W1e);break;case 9:{const v=e.getBool();b.exceededTransferLimit=v;break}case 13:t.addField(b,e.processMessage(B1e));break;case 15:w||(t.prepareFeatures(b),w=!0),t.addFeature(b,e.processMessageWithArgs(G1e,t,b,b.fields));break;case 2:b.uniqueIdField=e.processMessage(U1e);break;default:e.skip()}return t.finishFeatureResult(b),b}function Y1e(e,t){const n={};let s=null;for(;e.next();)switch(e.tag()){case 4:s=e.processMessageWithArgs(V1e);break;case 1:n.featureResult=e.processMessageWithArgs(Q1e,t);break;default:e.skip()}return C(s)&&n.featureResult&&t.addQueryGeometry(n,s),n}function K1e(e,t){try{const i=new fp(new Uint8Array(e),new DataView(e)),n={};for(;i.next();)i.tag()===2?n.queryResult=i.processMessageWithArgs(Y1e,t):i.skip();return n}catch(r){throw new R("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:r})}}function X1e(e,t){const r=K1e(e,t),i=r.queryResult.featureResult,n=r.queryResult.queryGeometry,s=r.queryResult.queryGeometryType;if(i&&i.features&&i.features.length&&i.objectIdFieldName){const a=i.objectIdFieldName;for(const o of i.features)o.attributes&&(o.objectId=o.attributes[a])}return i&&(i.queryGeometry=n,i.queryGeometryType=s),i}function K4(e,t,r){if(!r||!r.features||!r.hasZ)return;const i=XE(r.geometryType,t,e.outSpatialReference);if(!B(i))for(const n of r.features)i(n.geometry)}const bF="Layer does not support extent calculation.";function eZ(e,t){if(t&&e.type==="extent")return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&e.type==="point")return`${e.x},${e.y}`;const r=e.toJSON();return delete r.spatialReference,JSON.stringify(r)}function tZ(e,t){const r=e.geometry,i=e.toJSON();delete i.compactGeometryEnabled,delete i.defaultSpatialReferenceEnabled;const n=i;let s,a,o;if(C(r)&&(a=r.spatialReference,o=r.spatialReference.wkid||JSON.stringify(r.spatialReference),n.geometryType=Md(r),n.geometry=eZ(r,e.compactGeometryEnabled),n.inSR=o),i.groupByFieldsForStatistics&&(n.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(",")),i.objectIds&&(n.objectIds=i.objectIds.join(",")),i.orderByFields&&(n.orderByFields=i.orderByFields.join(",")),!i.outFields||!i.returnDistinctValues&&((t==null?void 0:t.returnCountOnly)||(t==null?void 0:t.returnExtentOnly)||(t==null?void 0:t.returnIdsOnly))?delete n.outFields:i.outFields.includes("*")?n.outFields="*":n.outFields=i.outFields.join(","),i.outSR?(n.outSR=i.outSR.wkid||JSON.stringify(i.outSR),s=e.outSpatialReference):r&&(i.returnGeometry||i.returnCentroid)&&(n.outSR=n.inSR,s=a),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(n.outStatistics=JSON.stringify(i.outStatistics)),i.pixelSize&&(n.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&C(a)&&C(e.quantizationParameters)&&C(e.quantizationParameters.extent)&&a.equals(e.quantizationParameters.extent.spatialReference)&&delete i.quantizationParameters.extent.spatialReference,n.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.parameterValues&&(n.parameterValues=JSON.stringify(i.parameterValues)),i.rangeValues&&(n.rangeValues=JSON.stringify(i.rangeValues)),i.dynamicDataSource&&(n.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i.timeExtent){const l=i.timeExtent,{start:c,end:d}=l;c==null&&d==null||(n.time=c===d?c:`${c==null?"null":c},${d==null?"null":d}`),delete i.timeExtent}return e.defaultSpatialReferenceEnabled&&C(a)&&C(s)&&a.equals(s)&&(n.defaultSR=n.inSR,delete n.inSR,delete n.outSR),n}async function rZ(e,t,r,i){const n=C(t.timeExtent)&&t.timeExtent.isEmpty?{data:{features:[]}}:await wy(e,t,"json",i);return K4(t,r,n.data),n}async function iZ(e,t,r,i){if(C(t.timeExtent)&&t.timeExtent.isEmpty)return{data:r.createFeatureResult()};const n=await nZ(e,t,i),s=n;return s.data=X1e(n.data,r),s}function nZ(e,t,r){return wy(e,t,"pbf",r)}function sZ(e,t,r){return C(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):wy(e,t,"json",r,{returnIdsOnly:!0})}function aZ(e,t,r){return C(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):wy(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function oZ(e,t,r){return C(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):wy(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then(i=>{const n=i.data;if(n.hasOwnProperty("extent"))return i;if(n.features)throw new Error(bF);if(n.hasOwnProperty("count"))throw new Error(bF);return i})}function wy(e,t,r,i={},n={}){const s=typeof e=="string"?jt(e):e,a=t.geometry?[t.geometry]:[];return i.responseType=r==="pbf"?"array-buffer":"json",Jp(a,null,i).then(o=>{const l=o&&o[0];C(l)&&((t=t.clone()).geometry=l);const c=N2({...s.query,f:r,...n,...tZ(t,n)});return $e(hd(s.path,"query"),{...i,query:{...c,...i.query}})})}const MRe=Object.freeze(Object.defineProperty({__proto__:null,encodeGeometry:eZ,executeQuery:rZ,executeQueryForCount:aZ,executeQueryForExtent:oZ,executeQueryForIds:sZ,executeQueryPBF:iZ,executeQueryPBFBuffer:nZ,queryToQueryStringParameters:tZ,runQuery:wy},Symbol.toStringTag,{value:"Module"}));var yI;const gI=new Le({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let ei=yI=class extends Z{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var n;const r=Ce.fromJSON(t.spatialReference),i=[];for(let s=0;s<e.length;s++){const a=e[s],o=vi.fromJSON(a),l=a.geometry&&a.geometry.spatialReference;C(o.geometry)&&!l&&(o.geometry.spatialReference=r);const c=a.aggregateGeometries,d=o.aggregateGeometries;if(c&&C(d))for(const p in d){const h=d[p],m=(n=c[p])==null?void 0:n.spatialReference;C(h)&&!m&&(h.spatialReference=r)}i.push(o)}return i}writeGeometryType(e,t,r,i){if(e)return void gI.write(e,t,r,i);const{features:n}=this;if(n){for(const s of n)if(s&&C(s.geometry))return void gI.write(s.geometry.type,t,r,i)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,i=tl(e);return!r&&t.spatialReference&&(i.spatialReference=Ce.fromJSON(t.spatialReference)),i}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const i of r)if(i&&C(i.geometry)&&i.geometry.spatialReference)return void(t.spatialReference=i.geometry.spatialReference.toJSON())}}clone(){return new yI(this.cloneProperties())}cloneProperties(){return D({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const i=t.features[r];if(i.geometry){const n=e&&e[r];i.geometry=n&&n.toJSON()||i.geometry}}return t}quantize(e){const{scale:[t,r],translate:[i,n]}=e,s=c=>Math.round((c-i)/t),a=c=>Math.round((n-c)/r),o=this.features,l=this._getQuantizationFunction(this.geometryType,s,a);for(let c=0,d=o.length;c<d;c++)l(o[c].geometry)||(o.splice(c,1),c--,d--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[i,n],scale:[s,a]}=r,o=d=>d*s+i,l=d=>n-d*a,c=this._getHydrationFunction(e,o,l);for(const{geometry:d}of t)C(d)&&c(d);return this.transform=null,this}_quantizePoints(e,t,r){let i,n;const s=[];for(let a=0,o=e.length;a<o;a++){const l=e[a];if(a>0){const c=t(l[0]),d=r(l[1]);c===i&&d===n||(s.push([c-i,d-n]),i=c,n=d)}else i=t(l[0]),n=r(l[1]),s.push([i,n])}return s.length>0?s:null}_getQuantizationFunction(e,t,r){return e==="point"?i=>(i.x=t(i.x),i.y=r(i.y),i):e==="polyline"||e==="polygon"?i=>{const n=id(i)?i.rings:i.paths,s=[];for(let a=0,o=n.length;a<o;a++){const l=n[a],c=this._quantizePoints(l,t,r);c&&s.push(c)}return s.length>0?(id(i)?i.rings=s:i.paths=s,i):null}:e==="multipoint"?i=>{const n=this._quantizePoints(i.points,t,r);return n.length>0?(i.points=n,i):null}:e==="extent"?i=>i:null}_getHydrationFunction(e,t,r){return e==="point"?i=>{i.x=t(i.x),i.y=r(i.y)}:e==="polyline"||e==="polygon"?i=>{const n=id(i)?i.rings:i.paths;let s,a;for(let o=0,l=n.length;o<l;o++){const c=n[o];for(let d=0,p=c.length;d<p;d++){const h=c[d];d>0?(s+=h[0],a+=h[1]):(s=h[0],a=h[1]),h[0]=t(s),h[1]=r(a)}}}:e==="extent"?i=>{i.xmin=t(i.xmin),i.ymin=r(i.ymin),i.xmax=t(i.xmax),i.ymax=r(i.ymax)}:e==="multipoint"?i=>{const n=i.points;let s,a;for(let o=0,l=n.length;o<l;o++){const c=n[o];o>0?(s+=c[0],a+=c[1]):(s=c[0],a=c[1]),c[0]=t(s),c[1]=r(a)}}:void 0}};u([f({type:String,json:{write:!0}})],ei.prototype,"displayFieldName",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ei.prototype,"exceededTransferLimit",void 0),u([f({type:[vi],json:{write:!0}})],ei.prototype,"features",void 0),u([ie("features")],ei.prototype,"readFeatures",null),u([f({type:[os],json:{write:!0}})],ei.prototype,"fields",void 0),u([f({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:gI.read}}})],ei.prototype,"geometryType",void 0),u([ce("geometryType")],ei.prototype,"writeGeometryType",null),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ei.prototype,"hasM",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ei.prototype,"hasZ",void 0),u([f({types:xc,json:{write:!0}})],ei.prototype,"queryGeometry",void 0),u([ie("queryGeometry")],ei.prototype,"readQueryGeometry",null),u([f({type:Ce,json:{write:!0}})],ei.prototype,"spatialReference",void 0),u([ce("spatialReference")],ei.prototype,"writeSpatialReference",null),u([f({json:{write:!0}})],ei.prototype,"transform",void 0),ei=yI=u([E("esri.rest.support.FeatureSet")],ei),ei.prototype.toJSON.isDefaultToJSON=!0;const Ss=ei,IRe=Object.freeze(Object.defineProperty({__proto__:null,default:Ss},Symbol.toStringTag,{value:"Module"})),vF={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},e2e={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function t2e(e,t){const r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}function pp(e,t,r){const i=new Date(e.getTime());if(t&&r){const n=e2e[r],{getter:s,setter:a,multiplier:o}=n;if(r==="months"){const l=t2e(i.getFullYear(),i.getMonth()+t);i.getDate()>l&&i.setDate(l)}i[a](i[s]()+t*o)}return i}function wF(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function r2e(e,t,r){return e===0?0:e*vF[t]/vF[r]}var ka;let ns=ka=class extends Z{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return _F}static get empty(){return i2e}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(ka.allTime)}get isEmpty(){return this.equals(ka.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new ka({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=C(this.start)?this.start.getTime():this.start,r=C(this.end)?this.end.getTime():this.end,i=C(e.start)?e.start.getTime():e.start,n=C(e.end)?e.end.getTime():e.end;return t===i&&r===n}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=qo(this.start,i=>wF(i,e)),r=qo(this.end,i=>pp(wF(i,e),1,e));return new ka({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return ka.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=Mg(this.start,-1/0,o=>o.getTime()),r=Mg(this.end,1/0,o=>o.getTime()),i=Mg(e.start,-1/0,o=>o.getTime()),n=Mg(e.end,1/0,o=>o.getTime());let s,a;if(i>=t&&i<=r?s=i:t>=i&&t<=n&&(s=t),r>=i&&r<=n?a=r:n>=t&&n<=r&&(a=n),!isNaN(s)&&!isNaN(a)){const o=new ka;return o.start=s===-1/0?null:new Date(s),o.end=a===1/0?null:new Date(a),o}return ka.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new ka,{start:i,end:n}=this;return C(i)&&(r.start=pp(i,e,t)),C(n)&&(r.end=pp(n,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return _F.clone();const t=C(this.start)&&C(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=C(this.end)&&C(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new ka({start:t,end:r})}};u([f({type:Date,json:{write:{allowNull:!0}}})],ns.prototype,"end",void 0),u([ie("end")],ns.prototype,"readEnd",null),u([ce("end")],ns.prototype,"writeEnd",null),u([f({readOnly:!0,json:{read:!1}})],ns.prototype,"isAllTime",null),u([f({readOnly:!0,json:{read:!1}})],ns.prototype,"isEmpty",null),u([f({type:Date,json:{write:{allowNull:!0}}})],ns.prototype,"start",void 0),u([ie("start")],ns.prototype,"readStart",null),u([ce("start")],ns.prototype,"writeStart",null),ns=ka=u([E("esri.TimeExtent")],ns);const _F=new ns,i2e=new ns({start:void 0,end:void 0}),$s=ns;var bI;const SF=new Le({upperLeft:"upper-left",lowerLeft:"lower-left"});let of=bI=class extends Z{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new bI(D({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};u([f({type:Ve,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],of.prototype,"extent",void 0),u([f({type:["view","edit"],json:{write:!0}})],of.prototype,"mode",void 0),u([f({type:String,json:{read:SF.read,write:SF.write}})],of.prototype,"originPosition",void 0),u([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],of.prototype,"tolerance",void 0),of=bI=u([E("esri.rest.support.QuantizationParameters")],of);const Lk=of;var vI;const xF=new Le({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Aa=vI=class extends Z{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=D(e))}clone(){return new vI({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:D(this.statisticParameters)})}};u([f({type:Number,json:{write:!0}})],Aa.prototype,"maxPointCount",void 0),u([f({type:Number,json:{write:!0}})],Aa.prototype,"maxRecordCount",void 0),u([f({type:Number,json:{write:!0}})],Aa.prototype,"maxVertexCount",void 0),u([f({type:String,json:{write:!0}})],Aa.prototype,"onStatisticField",void 0),u([f({type:String,json:{write:!0}})],Aa.prototype,"outStatisticFieldName",void 0),u([f({type:String,json:{read:{source:"statisticType",reader:xF.read},write:{target:"statisticType",writer:xF.write}}})],Aa.prototype,"statisticType",void 0),u([f({type:Object})],Aa.prototype,"statisticParameters",void 0),u([ce("statisticParameters")],Aa.prototype,"writeStatisticParameters",null),Aa=vI=u([E("esri.rest.support.StatisticDefinition")],Aa);const hp=Aa;var lm;const n2e=new Le({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),s2e=new Le({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Ee=lm=class extends Z{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(e){return zo(lm,e)}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const i in e){const n=e[i];Array.isArray(n)?r[i]=n.map(s=>s instanceof Date?s.getTime():s):n instanceof Date?r[i]=n.getTime():r[i]=n}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new lm(D({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:C(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Ee.MAX_MAX_RECORD_COUNT_FACTOR=5,u([f({json:{write:!0}})],Ee.prototype,"aggregateIds",void 0),u([f({type:Boolean,json:{write:!0}})],Ee.prototype,"cacheHint",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],Ee.prototype,"compactGeometryEnabled",void 0),u([f({json:{write:!0}})],Ee.prototype,"datumTransformation",void 0),u([Ze("datumTransformation")],Ee.prototype,"castDatumTransformation",null),u([f({type:Boolean,json:{default:!1,write:!0}})],Ee.prototype,"defaultSpatialReferenceEnabled",void 0),u([f({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Ee.prototype,"distance",void 0),u([f({type:In,json:{write:!0}})],Ee.prototype,"dynamicDataSource",void 0),u([f({type:String,json:{write:!0}})],Ee.prototype,"formatOf3DObjects",void 0),u([f({type:String,json:{write:!0}})],Ee.prototype,"gdbVersion",void 0),u([f({types:xc,json:{read:tl,write:!0}})],Ee.prototype,"geometry",void 0),u([f({type:Number,json:{write:!0}})],Ee.prototype,"geometryPrecision",void 0),u([f({type:[String],json:{write:!0}})],Ee.prototype,"groupByFieldsForStatistics",void 0),u([f({type:String,json:{write:!0}})],Ee.prototype,"having",void 0),u([f({type:Date})],Ee.prototype,"historicMoment",void 0),u([ce("historicMoment")],Ee.prototype,"writeHistoricMoment",null),u([f({type:Number,json:{write:!0}})],Ee.prototype,"maxAllowableOffset",void 0),u([f({type:Number,cast:e=>e<1?1:e>lm.MAX_MAX_RECORD_COUNT_FACTOR?lm.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Ee.prototype,"maxRecordCountFactor",void 0),u([f({type:["xyFootprint"],json:{write:!0}})],Ee.prototype,"multipatchOption",void 0),u([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Ee.prototype,"num",void 0),u([f({json:{write:!0}})],Ee.prototype,"objectIds",void 0),u([f({type:[String],json:{write:!0}})],Ee.prototype,"orderByFields",void 0),u([f({type:[String],json:{write:!0}})],Ee.prototype,"outFields",void 0),u([f({type:Ce,json:{name:"outSR",write:!0}})],Ee.prototype,"outSpatialReference",void 0),u([f({type:[hp],json:{write:{enabled:!0,overridePolicy(){return{enabled:C(this.outStatistics)&&this.outStatistics.length>0}}}}})],Ee.prototype,"outStatistics",void 0),u([f({json:{write:!0}})],Ee.prototype,"parameterValues",void 0),u([ce("parameterValues")],Ee.prototype,"writeParameterValues",null),u([f({type:be,json:{write:!0}})],Ee.prototype,"pixelSize",void 0),u([f({type:Lk,json:{write:!0}})],Ee.prototype,"quantizationParameters",void 0),u([f({type:[Object],json:{write:!0}})],Ee.prototype,"rangeValues",void 0),u([f({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Ee.prototype,"relationParameter",void 0),u([f({type:String,json:{write:!0}})],Ee.prototype,"resultType",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],Ee.prototype,"returnCentroid",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],Ee.prototype,"returnDistinctValues",void 0),u([f({type:Boolean,json:{default:!0,write:!0}})],Ee.prototype,"returnExceededLimitFeatures",void 0),u([f({type:Boolean,json:{write:!0}})],Ee.prototype,"returnGeometry",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],Ee.prototype,"returnQueryGeometry",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],Ee.prototype,"returnM",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ee.prototype,"returnZ",void 0),u([f({type:Ce,json:{write:!0}})],Ee.prototype,"sourceSpatialReference",void 0),u([ge(n2e,{ignoreUnknown:!1,name:"spatialRel"})],Ee.prototype,"spatialRelationship",void 0),u([f({type:Number,json:{read:{source:"resultOffset"}}})],Ee.prototype,"start",void 0),u([ce("start"),ce("num")],Ee.prototype,"writeStart",null),u([f({type:String,json:{write:!0}})],Ee.prototype,"sqlFormat",void 0),u([f({type:String,json:{write:!0}})],Ee.prototype,"text",void 0),u([f({type:$s,json:{write:!0}})],Ee.prototype,"timeExtent",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],Ee.prototype,"timeReferenceUnknownClient",void 0),u([ge(s2e,{ignoreUnknown:!1}),f({json:{write:{overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],Ee.prototype,"units",void 0),u([f({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start>0}}}}})],Ee.prototype,"where",void 0),u([ce("where")],Ee.prototype,"writeWhere",null),Ee=lm=u([E("esri.rest.support.Query")],Ee);const Ht=Ee;async function O5(e,t,r){const i=await lZ(e,t,r);return Ss.fromJSON(i)}async function lZ(e,t,r){const i=Mr(e),n={...r},s=Ht.from(t),{data:a}=await rZ(i,s,s.sourceSpatialReference,n);return a}function _i(e,t){return e?t?4:3:t?3:2}const _y=ae.getLogger("esri.layers.graphics.featureConversionUtils"),cZ={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},uZ=(e,t,r,i,n,s)=>{e[r]=n,e[r+1]=s},X4=(e,t,r,i,n,s)=>{e[r]=n,e[r+1]=s,e[r+2]=t[i+2]},a2e=(e,t,r,i,n,s)=>{e[r]=n,e[r+1]=s,e[r+2]=t[i+3]},dZ=(e,t,r,i,n,s)=>{e[r]=n,e[r+1]=s,e[r+2]=t[i+2],e[r+3]=t[i+3]};function Rk(e,t,r,i){if(e){if(r)return t&&i?dZ:X4;if(t&&i)return a2e}else if(t&&i)return X4;return uZ}function $7({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function T7({scale:e,translate:t},r){return Math.round((t[1]-r)/e[1])}function MF({scale:e,translate:t},r){return r*e[0]+t[0]}function IF({scale:e,translate:t},r){return t[1]-r*e[1]}function $Re(e,t,r){return e?t?r?Fk(e):Pk(e):r?Ok(e):Ow(e):null}function Ow(e){const t=e.coords;return{x:t[0],y:t[1]}}function fZ(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function Pk(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function o2e(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function Ok(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function l2e(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function Fk(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function c2e(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function u2e(e,t,r,i){let n=Ow;r&&i?n=Fk:r?n=Pk:i&&(n=Ok);for(const s of t){const{geometry:a,attributes:o}=s,l=C(a)?n(a):null;e.push({attributes:o,geometry:l})}return e}function pZ(e,t){return e&&t?c2e:e?o2e:t?l2e:fZ}function hZ(e,t,r,i,n){const s=pZ(r,i);for(const a of t){const{geometry:o,attributes:l}=a;let c;o&&(c=s(new cn,o)),e.push(new al(c,l,null,l[n]))}return e}function d2e(e,t,r,i){for(const n of t){const{geometry:s,attributes:a}=n;let o;s&&(o=mZ(s,r,i)),e.push({attributes:a,geometry:o})}return e}function mZ(e,t,r){if(B(e))return null;const i=_i(t,r),n=[];for(let s=0;s<e.coords.length;s+=i){const a=[];for(let o=0;o<i;o++)a.push(e.coords[s+o]);n.push(a)}return t?r?{points:n,hasZ:t,hasM:r}:{points:n,hasZ:t}:r?{points:n,hasM:r}:{points:n}}function yZ(e,t,r,i,n){const s=_i(r,i);for(const a of t){const o=a.geometry,l=a.attributes;let c;o&&(c=gZ(new cn,o,s)),e.push(new al(c,l,null,l[n]))}return e}function gZ(e,t,r=_i(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const i=e.coords;let n=0;for(const s of t.points)for(let a=0;a<r;a++)i[n++]=s[a];return e}function f2e(e,t,r,i){for(const n of t){const{geometry:s,attributes:a}=n;let o;C(s)&&(o=bZ(s,r,i)),e.push({attributes:a,geometry:o})}return e}function bZ(e,t,r){if(!e)return null;const i=_i(t,r),{coords:n,lengths:s}=e,a=[];let o=0;for(const l of s){const c=[];for(let d=0;d<l;d++){const p=[];for(let h=0;h<i;h++)p.push(n[o++]);c.push(p)}a.push(c)}return t?r?{paths:a,hasZ:t,hasM:r}:{paths:a,hasZ:t}:r?{paths:a,hasM:r}:{paths:a}}function vZ(e,t,r,i,n){const s=_i(r,i);for(const a of t){const o=a.geometry,l=a.attributes;let c;o&&(c=wZ(new cn,o,s)),e.push(new al(c,l,null,l[n]))}return e}function wZ(e,t,r=_i(t.hasZ,t.hasM)){const{lengths:i,coords:n}=e;let s=0;for(const a of t.paths){for(const o of a)for(let l=0;l<r;l++)n[s++]=o[l];i.push(a.length)}return e}function p2e(e,t,r,i){for(const n of t){const{geometry:s,attributes:a,centroid:o}=n;let l;if(C(s)&&(l=_Z(s,r,i)),C(o)){const c=Ow(o);e.push({attributes:a,centroid:c,geometry:l})}else e.push({attributes:a,geometry:l})}return e}function _Z(e,t,r){if(!e)return null;const i=_i(t,r),{coords:n,lengths:s}=e,a=[];let o=0;for(const l of s){const c=[];for(let d=0;d<l;d++){const p=[];for(let h=0;h<i;h++)p.push(n[o++]);c.push(p)}a.push(c)}return t?r?{rings:a,hasZ:t,hasM:r}:{rings:a,hasZ:t}:r?{rings:a,hasM:r}:{rings:a}}function SZ(e,t,r,i,n){for(const s of t){const a=s.geometry,o=s.centroid,l=s.attributes;let c;a&&(c=xZ(new cn,a,r,i)),C(o)?e.push(new al(c,l,fZ(new cn,o),l[n])):e.push(new al(c,l,null,l[n]))}return e}function xZ(e,t,r=t.hasZ,i=t.hasM){return h2e(e,t.rings,r,i),e}function h2e(e,t,r,i){const n=_i(r,i),{lengths:s,coords:a}=e;let o=0;s.length=a.length=0;for(const l of t){for(const c of l)for(let d=0;d<n;d++)a[o++]=c[d];s.push(l.length)}return e}const cm=[],Yb=[];function TRe(e,t,r,i,n){cm[0]=e;const[s]=MZ(Yb,cm,t,r,i,n);return cm.length=Yb.length=0,s}function MZ(e,t,r,i,n,s){if(e.length=0,!r){for(const a of t){const o=a.attributes[s];e.push(new al(null,a.attributes,null,o))}return e}switch(r){case"esriGeometryPoint":return hZ(e,t,i,n,s);case"esriGeometryMultipoint":return yZ(e,t,i,n,s);case"esriGeometryPolyline":return vZ(e,t,i,n,s);case"esriGeometryPolygon":return SZ(e,t,i,n,s);default:_y.error("convertToFeatureSet:unknown-geometry",new R(`Unable to parse unknown geometry type '${r}'`)),e.length=0}return e}function CRe(e,t,r,i,n,s){const a=e.length;switch(r){case"esriGeometryPoint":hZ(e,t,i,n,s);break;case"esriGeometryMultipoint":yZ(e,t,i,n,s);break;case"esriGeometryPolyline":vZ(e,t,i,n,s);break;case"esriGeometryPolygon":SZ(e,t,i,n,s);break;default:_y.error("convertToFeatureSet:unknown-geometry",new R(`Unable to parse unknown geometry type '${r}'`))}for(let o=0;o<t.length;o++)e[o+a].geometryType=r,e[o+a].insertAfter=t[o].insertAfter,e[o+a].groupId=t[o].groupId;return e}function ERe(e,t,r,i){Yb[0]=e,$Z(cm,Yb,t,r,i);const n=cm[0];return cm.length=Yb.length=0,n}function kRe(e,t,r){if(B(e))return null;const i=new cn;return"hasZ"in e&&t==null&&(t=e.hasZ),"hasM"in e&&r==null&&(r=e.hasM),aw(e)?pZ(t!=null?t:e.z!=null,r!=null?r:e.m!=null)(i,e):id(e)?xZ(i,e,t,r):ow(e)?wZ(i,e,_i(t,r)):sw(e)?gZ(i,e,_i(t,r)):void _y.error("convertFromGeometry:unknown-geometry",new R(`Unable to parse unknown geometry type '${e}'`))}function IZ(e,t,r,i){const n=e&&("coords"in e?e:e.geometry);if(B(n))return null;switch(t){case"esriGeometryPoint":{let s=Ow;return r&&i?s=Fk:r?s=Pk:i&&(s=Ok),s(n)}case"esriGeometryMultipoint":return mZ(n,r,i);case"esriGeometryPolyline":return bZ(n,r,i);case"esriGeometryPolygon":return _Z(n,r,i);default:return void _y.error("convertToGeometry:unknown-geometry",new R(`Unable to parse unknown geometry type '${t}'`))}}function m2e(e,t){for(const r of t)e.push({attributes:r.attributes});return e}function $Z(e,t,r,i,n){if(e.length=0,B(r))return m2e(e,t);switch(r){case"esriGeometryPoint":return u2e(e,t,i,n);case"esriGeometryMultipoint":return d2e(e,t,i,n);case"esriGeometryPolyline":return f2e(e,t,i,n);case"esriGeometryPolygon":return p2e(e,t,i,n);default:_y.error("convertToFeatureSet:unknown-geometry",new R(`Unable to parse unknown geometry type '${r}'`))}return e}function ARe(e){const{objectIdFieldName:t,spatialReference:r,transform:i,fields:n,hasM:s,hasZ:a,features:o,geometryType:l,exceededTransferLimit:c,uniqueIdField:d,queryGeometry:p,queryGeometryType:h}=e,m={features:$Z([],o,l,a,s),fields:n,geometryType:l,objectIdFieldName:t,spatialReference:r,uniqueIdField:d,queryGeometry:IZ(p,h,!1,!1)};return i&&(m.transform=i),c&&(m.exceededTransferLimit=c),s&&(m.hasM=s),a&&(m.hasZ=a),m}function LRe(e,t){const r=new Pw,{hasM:i,hasZ:n,features:s,objectIdFieldName:a,spatialReference:o,geometryType:l,exceededTransferLimit:c,transform:d,fields:p}=e;return p&&(r.fields=p),r.geometryType=l,r.objectIdFieldName=a||t,r.spatialReference=o,r.objectIdFieldName?(s&&MZ(r.features,s,l,n,i,r.objectIdFieldName),c&&(r.exceededTransferLimit=c),i&&(r.hasM=i),n&&(r.hasZ=n),d&&(r.transform=d),r):(_y.error(new R("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),r)}function RRe(e){const{transform:t,features:r,hasM:i,hasZ:n}=e;if(!t)return e;for(const s of r)C(s.geometry)&&_I(s.geometry,s.geometry,i,n,t),C(s.centroid)&&_I(s.centroid,s.centroid,i,n,t);return e.transform=null,e}function PRe(e,t){const{geometryType:r,features:i,hasM:n,hasZ:s}=t;if(!e)return t;for(let a=0;a<i.length;a++){const o=i[a],l=o.weakClone();l.geometry=new cn,$F(l.geometry,o.geometry,n,s,r,e),o.centroid&&(l.centroid=new cn,$F(l.centroid,o.centroid,n,s,"esriGeometryPoint",e)),i[a]=l}return t.transform=e,t}function $F(e,t,r,i,n,s,a=r,o=i){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),B(t)||!t.coords.length)return null;const l=cZ[n],{coords:c,lengths:d}=t,p=_i(r,i),h=_i(r&&a,i&&o),m=Rk(r,i,a,o);if(!d.length)return m(e.coords,c,0,0,$7(s,c[0]),T7(s,c[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=p,e;let g,b,w,v,_=0,S=0,x=S;for(const M of d){if(M<l)continue;let I=0;S=x,w=g=$7(s,c[_]),v=b=T7(s,c[_+1]),m(e.coords,c,S,_,w,v),I++,_+=p,S+=h;for(let $=1;$<M;$++,_+=p)w=$7(s,c[_]),v=T7(s,c[_+1]),w===g&&v===b||(m(e.coords,c,S,_,w-g,v-b),S+=h,I++,g=w,b=v);I>=l&&(e.lengths.push(I),x=S)}return e.coords.length=x,e.coords.length?e:null}function ORe(e,t,r,i,n,s,a=r,o=i){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const l=cZ[n],{coords:c,lengths:d}=t,p=_i(r,i),h=_i(r&&a,i&&o),m=Rk(r,i,a,o);if(!d.length)return m(e.coords,c,0,0,c[0],c[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=p,e;let g=0;const b=s*s;for(const w of d){if(w<l){g+=w*p;continue}const v=e.coords.length/h,_=g,S=g+(w-1)*p;m(e.coords,c,e.coords.length,_,c[_],c[_+1]),wI(e.coords,c,p,b,m,_,S),m(e.coords,c,e.coords.length,S,c[S],c[S+1]);const x=e.coords.length/h-v;x>=l?e.lengths.push(x):e.coords.length=v*h,g+=w*p}return e.coords.length?e:null}function y2e(e,t,r,i){const n=e[t],s=e[t+1],a=e[r],o=e[r+1],l=e[i],c=e[i+1];let d=a,p=o,h=l-d,m=c-p;if(h!==0||m!==0){const g=((n-d)*h+(s-p)*m)/(h*h+m*m);g>1?(d=l,p=c):g>0&&(d+=h*g,p+=m*g)}return h=n-d,m=s-p,h*h+m*m}function wI(e,t,r,i,n,s,a){let o,l=i,c=0;for(let d=s+r;d<a;d+=r)o=y2e(t,d,s,a),o>l&&(c=d,l=o);l>i&&(c-s>r&&wI(e,t,r,i,n,s,c),n(e,t,e.length,c,t[c],t[c+1]),a-c>r&&wI(e,t,r,i,n,c,a))}function FRe(e,t,r,i){if(B(t)||!t.coords||!t.coords.length)return null;const n=_i(r,i);let s=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(t&&t.coords){const c=t.coords;for(let d=0;d<c.length;d+=n){const p=c[d],h=c[d+1];s=Math.min(s,p),o=Math.max(o,p),a=Math.min(a,h),l=Math.max(l,h)}}return e[0]=s,e[1]=a,e[2]=o,e[3]=l,e}function _I(e,t,r,i,n){const{coords:s,lengths:a}=t,o=r?i?dZ:X4:i?X4:uZ,l=_i(r,i);if(!s.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!a.length)return o(e.coords,s,0,0,MF(n,s[0]),IF(n,s[1])),e!==t&&(e.lengths.length=0,e.coords.length=l),e;const[c,d]=n.scale;let p=0;for(let h=0;h<a.length;h++){const m=a[h];e.lengths[h]=m;let g=MF(n,s[p]),b=IF(n,s[p+1]);o(e.coords,s,p,p,g,b),p+=l;for(let w=1;w<m;w++,p+=l)g+=s[p]*c,b-=s[p+1]*d,o(e.coords,s,p,p,g,b)}return e!==t&&(e.lengths.length=a.length,e.coords.length=s.length),e}function DRe(e,t,r,i,n,s){const a=_i(r,i),o=Rk(r,i,n,s),l=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let c=0;c<l.length;c+=a)o(e.coords,l,e.coords.length,c,l[c],l[c+1]);return e}function g2e(e,t,r,i){let n=0,s=e[i*t],a=e[i*(t+1)];for(let o=1;o<r;o++){const l=s+e[i*(t+o)],c=a+e[i*(t+o)+1],d=(l-s)*(c+a);s=l,a=c,n+=d}return .5*n}function NRe(e,t){const{coords:r,lengths:i}=e;let n=0,s=0;for(let a=0;a<i.length;a++)s+=g2e(r,n,i[a],t),n+=a;return Math.abs(s)}function jRe(e,t){if(B(e))return null;const r=e.clone(),i=e.coords,n=e.lengths;let s=0;for(let a=0;a<n.length;a++){const o=n[a];let l=i[t*s],c=i[t*s+1];for(let d=1;d<o;d++){const p=l+i[t*(s+d)],h=c+i[t*(s+d)+1];r.coords[t*(s+d)]=p,r.coords[t*(s+d)+1]=h,l=p,c=h}s+=o}return r}var SI;let Bt=SI=class extends Z{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new SI(D({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};u([f({type:Boolean,json:{write:!0}})],Bt.prototype,"cacheHint",void 0),u([f({type:In,json:{write:!0}})],Bt.prototype,"dynamicDataSource",void 0),u([f({type:String,json:{write:!0}})],Bt.prototype,"gdbVersion",void 0),u([f({type:Number,json:{write:!0}})],Bt.prototype,"geometryPrecision",void 0),u([f({type:Date})],Bt.prototype,"historicMoment",void 0),u([ce("historicMoment")],Bt.prototype,"_writeHistoricMoment",null),u([f({type:Number,json:{write:!0}})],Bt.prototype,"maxAllowableOffset",void 0),u([f({type:[Number],json:{write:!0}})],Bt.prototype,"objectIds",void 0),u([f({type:[String],json:{write:!0}})],Bt.prototype,"orderByFields",void 0),u([f({type:[String],json:{write:!0}})],Bt.prototype,"outFields",void 0),u([f({type:Ce,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Bt.prototype,"outSpatialReference",void 0),u([f({json:{write:!0}})],Bt.prototype,"relationshipId",void 0),u([f({type:Number,json:{read:{source:"resultOffset"}}})],Bt.prototype,"start",void 0),u([ce("start"),ce("num")],Bt.prototype,"writeStart",null),u([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Bt.prototype,"num",void 0),u([f({json:{write:!0}})],Bt.prototype,"returnGeometry",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Bt.prototype,"returnM",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Bt.prototype,"returnZ",void 0),u([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Bt.prototype,"where",void 0),Bt=SI=u([E("esri.rest.support.RelationshipQuery")],Bt),Bt.from=_r(Bt);const Pp=Bt;var xI;let zh=xI=class extends Z{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new xI({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};u([f({type:[String],json:{write:!0}})],zh.prototype,"groupByFields",void 0),u([f({type:Number,json:{write:!0}})],zh.prototype,"topCount",void 0),u([f({type:[String],json:{write:!0}})],zh.prototype,"orderByFields",void 0),zh=xI=u([E("esri.rest.support.TopFilter")],zh);const b2e=zh;var MI;const TF=new Le({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),CF=new Le({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Et=MI=class extends Z{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new MI(D({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};u([f({type:Boolean,json:{write:!0}})],Et.prototype,"cacheHint",void 0),u([f({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Et.prototype,"distance",void 0),u([f({types:xc,json:{read:tl,write:!0}})],Et.prototype,"geometry",void 0),u([f({type:Number,json:{write:!0}})],Et.prototype,"geometryPrecision",void 0),u([f({type:Number,json:{write:!0}})],Et.prototype,"maxAllowableOffset",void 0),u([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Et.prototype,"num",void 0),u([f({json:{write:!0}})],Et.prototype,"objectIds",void 0),u([f({type:[String],json:{write:!0}})],Et.prototype,"orderByFields",void 0),u([f({type:[String],json:{write:!0}})],Et.prototype,"outFields",void 0),u([f({type:Ce,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Et.prototype,"outSpatialReference",void 0),u([f({type:String,json:{write:!0}})],Et.prototype,"resultType",void 0),u([f({json:{write:!0}})],Et.prototype,"returnGeometry",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Et.prototype,"returnM",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Et.prototype,"returnZ",void 0),u([f({type:Number,json:{read:{source:"resultOffset"}}})],Et.prototype,"start",void 0),u([ce("start"),ce("num")],Et.prototype,"writeStart",null),u([f({type:String,json:{read:{source:"spatialRel",reader:TF.read},write:{target:"spatialRel",writer:TF.write}}})],Et.prototype,"spatialRelationship",void 0),u([f({type:$s,json:{write:!0}})],Et.prototype,"timeExtent",void 0),u([f({type:b2e,json:{write:!0}})],Et.prototype,"topFilter",void 0),u([f({type:String,json:{read:CF.read,write:{writer:CF.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],Et.prototype,"units",void 0),u([f({type:String,json:{write:!0}})],Et.prototype,"where",void 0),Et=MI=u([E("esri.rest.support.TopFeaturesQuery")],Et),Et.from=_r(Et);const Hu=Et,v2e="esri.widgets.Feature.support.relatedFeatureUtils",EF=ae.getLogger(v2e),kF=new Map;function II(e){if(!nc(e))return null;const[t,r]=e.split("/").slice(1);return{layerId:t,fieldName:r}}function w2e(e,t){if(!t.relationships)return null;let r=null;const{relationships:i}=t;return i.some(n=>n.id===parseInt(e,10)&&(r=n,!0)),r}function _2e({originRelationship:e,relationships:t,layerId:r}){let i;return t&&t.some(n=>(`${n.relatedTableId}`===r&&n.id===e.id&&(i=n),!!i)),i}function S2e(e,t){const r=t.toLowerCase();for(const i in e)if(i.toLowerCase()===r)return e[i];return null}function x2e(e,t){const r=w2e(e,t);if(!!r)return{url:`${t.url}/${r.relatedTableId}`,sourceSpatialReference:t.spatialReference,relation:r,relatedFields:[],outStatistics:[]}}function M2e(e,t){if(!t||!e)return;const{features:r,statsFeatures:i}=e,n=r&&r.value;t.relatedFeatures=n?n.features:[];const s=i&&i.value;t.relatedStatsFeatures=s?s.features:[]}function I2e(e,t,r,i){const n=new Pp;return n.outFields=["*"],n.relationshipId=typeof t.id=="number"?t.id:parseInt(t.id,10),n.objectIds=[e.attributes[r.objectIdField]],r.queryRelatedFeatures(n,i)}function $2e(e,t,r){let i=0;const n=[];for(;i<t.length;)n.push(`${e} IN (${t.slice(i,r+i)})`),i+=r;return n.join(" OR ")}async function T2e(e,t,r,i){const n=r.layerId.toString(),{layerInfo:s,relation:a,relatedFields:o,outStatistics:l,url:c,sourceSpatialReference:d}=t,p=_2e({originRelationship:a,relationships:s.relationships,layerId:n});if(p.relationshipTableId&&p.keyFieldInRelationshipTable){const m=(await I2e(e,p,r,i))[e.attributes[r.objectIdField]];if(!m)return null;const g=m.features.map(b=>b.attributes[s.objectIdField]);if((l==null?void 0:l.length)>0&&s.supportsStatistics){const b=new Ht;b.where=$2e(s.objectIdField,g,1e3),b.outFields=o,b.outStatistics=l,b.sourceSpatialReference=d;const w={features:Promise.resolve(m),statsFeatures:O5(c,b)};return Kt(w)}}const h=p==null?void 0:p.keyField;if(h){const m=k2(L2e(s.fields,h)),g=S2e(e.attributes,a.keyField),b=m?`${h}=${g}`:`${h}='${g}'`,w=O5(c,new Ht({where:b,outFields:t.relatedFields,sourceSpatialReference:d}),i),v=t.outStatistics&&t.outStatistics.length>0&&s.supportsStatistics?O5(c,new Ht({where:b,outFields:t.relatedFields,outStatistics:t.outStatistics,sourceSpatialReference:d}),i):null,_={features:w};return v&&(_.statsFeatures=v),Kt(_)}return null}function C2e(e,t){return $e(e,{query:{f:"json"},signal:t&&t.signal})}function E2e({relatedInfos:e,layer:t},r){const i={};return e.forEach((n,s)=>{const{relation:a}=n;if(!a){const p=new R("relation-required","A relation is required on a layer to retrieve related records.");throw EF.error(p),p}const{relatedTableId:o}=a;if(typeof o!="number"){const p=new R("A related table ID is required on a layer to retrieve related records.");throw EF.error(p),p}const l=`${t.url}/${o}`,c=kF.get(l),d=c||C2e(l,r);c||kF.set(l,d),i[s]=d}),Kt(i)}function k2e({graphic:e,relatedInfos:t,layer:r},i){const n={};return t.forEach((s,a)=>{s.layerInfo&&(n[a]=T2e(e,s,r,i))}),Kt(n)}function A2e({relatedInfo:e,fieldName:t,fieldInfo:r}){if(e.relatedFields.push(t),r.statisticType){const i=new hp({statisticType:r.statisticType,onStatisticField:t,outStatisticFieldName:t});e.outStatistics.push(i)}}function L2e(e,t){if(e!=null){t=t.toLowerCase();for(const r of e)if(r&&r.name.toLowerCase()===t)return r}return null}const AF={chartAnimation:!0};let Ur=class extends ye{constructor(e){super(e),this.abilities={...AF},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(e){return{...AF,...e}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(e){this._setContentElementMedia(e)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(e){const{formattedMediaInfoCount:t}=this,r=(e+t)%t;this.activeMediaInfoIndex=r}_pageContentElementMedia(e){const{activeMediaInfoIndex:t}=this,r=t+e;this._setContentElementMedia(r)}_formatMediaInfos(){const{attributes:e,mediaInfos:t,formattedAttributes:r,expressionAttributes:i,fieldInfoMap:n,layer:s}=this;return t==null?void 0:t.map(a=>{const o=a==null?void 0:a.clone();if(!o)return null;if(o.title=ep({attributes:e,fieldInfoMap:n,globalAttributes:r,expressionAttributes:i,layer:s,text:o.title}),o.caption=ep({attributes:e,fieldInfoMap:n,globalAttributes:r,expressionAttributes:i,layer:s,text:o.caption}),o.altText=ep({attributes:e,fieldInfoMap:n,globalAttributes:r,expressionAttributes:i,layer:s,text:o.altText}),o.type==="image"){const{value:l}=o;return this._setImageValue({value:l,formattedAttributes:r,layer:s}),o.value.sourceURL?o:void 0}if(o.type==="pie-chart"||o.type==="line-chart"||o.type==="column-chart"||o.type==="bar-chart"){const{value:l}=o;return this._setChartValue({value:l,chartType:o.type,attributes:e,formattedAttributes:r,layer:s}),o}return null}).filter(Boolean)}_setImageValue(e){const{fieldInfoMap:t}=this,{value:r,formattedAttributes:i,layer:n}=e,{linkURL:s,sourceURL:a}=r;if(a){const o=YM(a,n);r.sourceURL=QM({formattedAttributes:i,template:o,fieldInfoMap:t})}if(s){const o=YM(s,n);r.linkURL=QM({formattedAttributes:i,template:o,fieldInfoMap:t})}}_setChartValue(e){const{value:t,attributes:r,formattedAttributes:i,chartType:n,layer:s}=e,{popupTemplate:a,relatedInfos:o}=this,{fields:l,normalizeField:c}=t;if(t.fields=lge(l,s),c&&(t.normalizeField=U4(c,s)),!l.some(p=>!!(i[p]!=null||nc(p)&&o.size)))return;const d=a==null?void 0:a.fieldInfos;l.forEach(p=>{if(nc(p))return void(t.series=[...t.series,...this._getRelatedChartInfos({fieldInfos:d,fieldName:p,formattedAttributes:i,chartType:n,value:t})]);const h=this._getChartOption({value:t,attributes:r,chartType:n,formattedAttributes:i,fieldName:p,fieldInfos:d});t.series.push(h)})}_getRelatedChartInfos(e){var g;const{fieldInfos:t,fieldName:r,formattedAttributes:i,chartType:n,value:s}=e,a=[],o=II(r),{layerId:l,fieldName:c}=o,d=(g=this.relatedInfos)==null?void 0:g.get(l.toString());if(!d)return a;const{relatedFeatures:p,relation:h}=d;if(!h||!p)return a;const{cardinality:m}=h;return p.forEach(b=>{const{attributes:w}=b;w&&Object.keys(w).forEach(v=>{v===c&&a.push(this._getChartOption({value:s,attributes:w,formattedAttributes:i,fieldName:r,chartType:n,relatedFieldName:v,fieldInfos:t}))})}),m==="one-to-many"||m==="many-to-many"?a:[a[0]]}_getTooltip({label:e,value:t,chartType:r}){return r==="pie-chart"?`${e}`:`${e}: ${t}`}_getChartOption(e){var S,x,M,I,$,T;const{value:t,attributes:r,formattedAttributes:i,fieldName:n,relatedFieldName:s,fieldInfos:a,chartType:o}=e,{layer:l,fieldInfoMap:c}=this,{normalizeField:d,tooltipField:p}=t,h=d?nc(d)?r[II(d).fieldName]:r[d]:null,m=s&&r[s]!==void 0?r[s]:r[n]!==void 0?r[n]:i[n],g=new Wq({fieldName:n,value:m===void 0?null:m&&h?m/h:m});if(nc(n)){const A=c.get(n.toLowerCase()),P=c.get(p.toLowerCase()),F=(S=A==null?void 0:A.fieldName)!=null?S:n,j=($=(I=(M=i[(x=P==null?void 0:P.fieldName)!=null?x:p])!=null?M:A==null?void 0:A.label)!=null?I:A==null?void 0:A.fieldName)!=null?$:s,V=i[F];return g.tooltip=this._getTooltip({label:j,value:V,chartType:o}),g}const b=hJ(a,n),w=U4(n,l),v=p&&i[p]!==void 0?i[p]:fJ(b||new A2({fieldName:w}),(T=this.popupTemplate)==null?void 0:T.expressionInfos),_=i[w];return g.tooltip=this._getTooltip({label:v,value:_,chartType:o}),g}};u([f()],Ur.prototype,"abilities",void 0),u([Ze("abilities")],Ur.prototype,"castAbilities",null),u([f()],Ur.prototype,"activeMediaInfoIndex",void 0),u([f({readOnly:!0})],Ur.prototype,"activeMediaInfo",null),u([f()],Ur.prototype,"attributes",void 0),u([f()],Ur.prototype,"description",void 0),u([f()],Ur.prototype,"fieldInfoMap",void 0),u([f()],Ur.prototype,"formattedAttributes",void 0),u([f()],Ur.prototype,"expressionAttributes",void 0),u([f({readOnly:!0})],Ur.prototype,"formattedMediaInfos",null),u([f()],Ur.prototype,"layer",void 0),u([f({readOnly:!0})],Ur.prototype,"formattedMediaInfoCount",null),u([f()],Ur.prototype,"mediaInfos",void 0),u([f()],Ur.prototype,"popupTemplate",void 0),u([f()],Ur.prototype,"relatedInfos",void 0),u([f()],Ur.prototype,"title",void 0),Ur=u([E("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],Ur);const rp=Ur;var LF=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],R2e=[].concat(LF.slice(30,39),LF.slice(28,30).reverse()),P2e=[{name:"default",colors:R2e},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}];const RF="en-us",Dk=new Map([["ar",()=>Y(()=>import("./ar.4dc6191a.js"),["ar.4dc6191a.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.a)],["bg-bg",()=>Y(()=>import("./bg_BG.c52f2d3f.js"),["bg_BG.c52f2d3f.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.b)],["bs-ba",()=>Y(()=>import("./bs_BA.dea32ce5.js"),["bs_BA.dea32ce5.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.b)],["ca-es",()=>Y(()=>import("./ca_ES.20b19104.js"),["ca_ES.20b19104.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.c)],["cs-cz",()=>Y(()=>import("./cs_CZ.30f0a0dc.js"),["cs_CZ.30f0a0dc.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.c)],["da-dk",()=>Y(()=>import("./da_DK.b8d0e7ac.js"),["da_DK.b8d0e7ac.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.d)],["de-de",()=>Y(()=>import("./de_DE.08196323.js"),["de_DE.08196323.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.d)],["de-ch",()=>Y(()=>import("./de_CH.5d6685a9.js"),["de_CH.5d6685a9.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.d)],["el-gr",()=>Y(()=>import("./el_GR.c34c39c2.js"),["el_GR.c34c39c2.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["en-us",()=>Y(()=>import("./en_US.58fb12c0.js"),["en_US.58fb12c0.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["en-ca",()=>Y(()=>import("./en_CA.bf2bc83b.js"),["en_CA.bf2bc83b.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["es-es",()=>Y(()=>import("./es_ES.990a5784.js"),["es_ES.990a5784.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["et-ee",()=>Y(()=>import("./et_EE.3eaec652.js"),["et_EE.3eaec652.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["fi-fi",()=>Y(()=>import("./fi_FI.5397a92e.js"),["fi_FI.5397a92e.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.f)],["fr-fr",()=>Y(()=>import("./fr_FR.1735cff8.js"),["fr_FR.1735cff8.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.f)],["he-il",()=>Y(()=>import("./he_IL.fa6085be.js"),["he_IL.fa6085be.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.h)],["hr-hr",()=>Y(()=>import("./hr_HR.e9361751.js"),["hr_HR.e9361751.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.h)],["hu-hu",()=>Y(()=>import("./hu_HU.37349893.js"),["hu_HU.37349893.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.h)],["id-id",()=>Y(()=>import("./id_ID.935d8150.js"),["id_ID.935d8150.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.i)],["it-it",()=>Y(()=>import("./it_IT.c73e8e5e.js"),["it_IT.c73e8e5e.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.i)],["ja-jp",()=>Y(()=>import("./ja_JP.17363a69.js"),["ja_JP.17363a69.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.j)],["ko-kr",()=>Y(()=>import("./ko_KR.b3c8049f.js"),["ko_KR.b3c8049f.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.k)],["lt-lt",()=>Y(()=>import("./lt_LT.520661ee.js"),["lt_LT.520661ee.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.l)],["lv-lv",()=>Y(()=>import("./lv_LV.c2022ffc.js"),["lv_LV.c2022ffc.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.l)],["nb-no",()=>Y(()=>import("./nb_NO.b81af806.js"),["nb_NO.b81af806.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.n)],["nl-nl",()=>Y(()=>import("./nl_NL.b5e4e1f8.js"),["nl_NL.b5e4e1f8.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.n)],["pl-pl",()=>Y(()=>import("./pl_PL.47a9df4a.js"),["pl_PL.47a9df4a.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.p)],["pt-br",()=>Y(()=>import("./pt_BR.512ff419.js"),["pt_BR.512ff419.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.p)],["pt-pt",()=>Y(()=>import("./pt_PT.89c766b3.js"),["pt_PT.89c766b3.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.p)],["ro-ro",()=>Y(()=>import("./ro_RO.cdb10687.js"),["ro_RO.cdb10687.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.r)],["ru-ru",()=>Y(()=>import("./ru_RU.fb5ffe9b.js"),["ru_RU.fb5ffe9b.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.r)],["sk-sk",()=>Y(()=>import("./sk_SK.c690c7d2.js"),["sk_SK.c690c7d2.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.s)],["sl-sl",()=>Y(()=>import("./sl_SL.b6513f33.js"),["sl_SL.b6513f33.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.s)],["sr-rs",()=>Y(()=>import("./sr_RS.71408a7c.js"),["sr_RS.71408a7c.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.s)],["sv-se",()=>Y(()=>import("./sv_SE.5f00a442.js"),["sv_SE.5f00a442.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.s)],["th-th",()=>Y(()=>import("./th_TH.e8c3ff07.js"),["th_TH.e8c3ff07.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.t)],["tr-tr",()=>Y(()=>import("./tr_TR.0d292c66.js"),["tr_TR.0d292c66.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.t)],["uk-ua",()=>Y(()=>import("./uk_UA.f4a29cdf.js"),["uk_UA.f4a29cdf.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.u)],["vi-vn",()=>Y(()=>import("./vi_VN.806d0c36.js"),["vi_VN.806d0c36.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.v)],["zh-cn",()=>Y(()=>import("./zh_Hans.a407cf98.js"),["zh_Hans.a407cf98.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.z)],["zh-hk",()=>Y(()=>import("./zh_Hant.7e13eee4.js"),["zh_Hant.7e13eee4.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.z)],["zh-tw",()=>Y(()=>import("./zh_Hant.7e13eee4.js"),["zh_Hant.7e13eee4.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.z)]]);function O2e(e){const t=e.split("-")[0].toLowerCase();let r=null;for(const i of Dk.keys())if(i.startsWith(t)){r=i;break}return r}function F2e(e){return e?Dk.has(e.toLowerCase())?e.toLowerCase():O2e(e)||RF:RF}let nh,eg;async function D2e(e=gs()){if(e=F2e(e),nh&&e===eg)return nh;nh=Y(()=>import("./index.80c6615c.js"),["index.80c6615c.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(t=>t.i),eg=e;try{const[t,r]=await Promise.all([nh,Dk.get(eg)()]);eg===e&&(t.am4core.options.defaultLocale=r.default),t.am4core.options.suppressWarnings=!0,t.am4core.options.autoDispose=!0}catch{return nh=null,eg=null,null}return nh}function N2e(e,t="default"){const r=P2e.find(i=>i.name===t);return r?r.colors.map(i=>e.color(i)):null}const Jt={base:"esri-feature-media",mediaContainer:"esri-feature-media__container",mediaItemContainer:"esri-feature-media__item-container",mediaItem:"esri-feature-media__item",mediaItemTitle:"esri-feature-media__item-title",mediaItemCaption:"esri-feature-media__item-caption",mediaPrevious:"esri-feature-media__previous",mediaPreviousIconLTR:"esri-feature-media__previous-icon",mediaPreviousIconRTL:"esri-feature-media__previous-icon--rtl",mediaNext:"esri-feature-media__next",mediaNextIconLTR:"esri-feature-media__next-icon",mediaNextIconRTL:"esri-feature-media__next-icon--rtl",mediaChart:"esri-feature-media__chart",mediaButton:"esri-feature-media__button",mediaIcon:"esri-feature-media__icon",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},C7=.05,E7=.95,k7=15,gl="color",Fc="tooltip",tg="value",PF="default-line-value";let vn=class extends xr{constructor(e,t){super(e,t),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new rp,this.messages=null,this._getChartDependencies=async r=>{const i=await D2e(),{destroyed:n,viewModel:s}=this;if(n||!s||!r)return;const{activeMediaInfo:a}=s,o=await this._getRendererColors(i);this._renderChart({chartDiv:r,mediaInfo:a,chartsModule:i,colorMap:o})}}initialize(){this._featureElementInfo=new wk,this.own([ee(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.activeMediaInfo,(t=this.viewModel)==null?void 0:t.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),Ke),ee(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.description,(t=this.viewModel)==null?void 0:t.title]},()=>this._setupFeatureElementInfo(),Ke)])}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var e;return L("div",{bind:this,class:Jt.base,onkeyup:this._handleMediaKeyup},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:e}=this.viewModel;return e?L("div",{key:"media-element-container",class:Jt.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(e){const{_refreshIntervalInfo:t}=this,{activeMediaInfoIndex:r,formattedMediaInfoCount:i}=this.viewModel,{value:n,refreshInterval:s,altText:a,title:o,type:l}=e,{sourceURL:c,linkURL:d}=n,p=uJ(d)?"_blank":"_self",h=p==="_blank"?"noreferrer":"",m=s?t:null,g=m?m.timestamp:0,b=m?m.sourceURL:c,w=L("img",{alt:a||o,key:`media-${l}-${r}-${i}-${g}`,src:b});return(d?L("a",{title:o,href:d,rel:h,target:p},w):null)||w}renderChartMediaInfo(e){const{activeMediaInfoIndex:t,formattedMediaInfoCount:r}=this.viewModel;return L("div",{key:`media-${e.type}-${t}-${r}`,bind:this,class:Jt.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel;return e?e.type==="image"?this.renderImageMediaInfo(e):e.type.includes("chart")?this.renderChartMediaInfo(e):null:null}renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel;if(!e)return null;const t=e.title?L("div",{key:"media-title",class:Jt.mediaItemTitle,innerHTML:e.title}):null,r=e.caption?L("div",{key:"media-caption",class:Jt.mediaItemCaption,innerHTML:e.caption}):null;return L("div",{key:"media-container",class:Jt.mediaItemContainer},L("div",{key:"media-item-container",class:Jt.mediaItem},this.renderMediaInfoType()),t,r)}renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null;const t=e==="previous",r=t?this.messages.previous:this.messages.next,i=t?this.classes(Jt.mediaButton,Jt.mediaPrevious):this.classes(Jt.mediaButton,Jt.mediaNext),n=t?this.classes(Jt.mediaIcon,Jt.mediaPreviousIconLTR,Jt.iconLeftTriangleArrow):this.classes(Jt.mediaIcon,Jt.mediaNextIconLTR,Jt.iconRightTriangleArrow),s=t?this.classes(Jt.mediaIcon,Jt.mediaPreviousIconRTL,Jt.iconRightTriangleArrow):this.classes(Jt.mediaIcon,Jt.mediaNextIconRTL,Jt.iconLeftTriangleArrow),a=t?"media-previous":"media-next",o=t?this._previous:this._next;return L("button",{type:"button",key:a,title:r,"aria-label":r,tabIndex:0,class:i,bind:this,onclick:o},L("span",{"aria-hidden":"true",class:n}),L("span",{"aria-hidden":"true",class:s}))}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}async _getRendererColors(e){var s;const{am4core:t}=e,r=(s=this.viewModel)==null?void 0:s.layer,i=new Map;if(!r)return i;const n=await v1e(r.renderer);return n.delete(null),Array.from(n.values()).every(a=>(a==null?void 0:a.length)===1)&&(i.set(PF,t.color({r:50,g:50,b:50,a:1})),Array.from(n.keys()).forEach(a=>{a&&i.set(a,t.color(n.get(a)[0].toCss(!0)))})),i}_handleMediaKeyup(e){const t=Af(e);t==="ArrowLeft"&&(e.stopPropagation(),this.viewModel.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.viewModel.next())}_renderChart(e){const{abilities:t}=this.viewModel,{chartsModule:r,chartDiv:i,mediaInfo:n,colorMap:s}=e,{value:a,type:o}=n,{am4core:l}=r,c=N2e(l);function d(m){m instanceof l.ColorSet&&c&&(m.list=c)}_k()&&l.useTheme(r.am4themes_dark);const p=window.matchMedia("(prefers-reduced-motion: reduce)");t.chartAnimation&&!p.matches?l.useTheme(r.am4themes_animated):l.unuseTheme(r.am4themes_animated),l.useTheme(d);const h=o==="pie-chart"?this._createPieChart(e):this._createXYChart(e);i.setAttribute("aria-label",n.altText||n.title),h.data=a.series.map(m=>({[Fc]:m.tooltip,[tg]:m.value,[gl]:s.get(m.fieldName)})).filter(m=>o!=="pie-chart"||m.value>0)}_customizeChartTooltip(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})}_createPieChart(e){const{chartDiv:t,chartsModule:r}=e,{am4core:i,am4charts:n}=r,s=i.create(t,n.PieChart);s.rtl=eo(this.container);const a=s.series.push(new n.PieSeries);return a.labels.template.disabled=!0,a.ticks.template.disabled=!0,a.dataFields.value=tg,a.dataFields.category=Fc,this._customizeChartTooltip(a.tooltip,i),a.slices.template.tooltipText=s.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%",a.slices.template.propertyFields.fill=gl,a.slices.template.propertyFields.stroke=gl,s}_getMinSeriesValue(e){let t=0;return e.forEach(r=>t=Math.min(r.value,t)),t}_createColumnChart(e,t){const{chartsModule:r,mediaInfo:i}=t,{value:n}=i,{am4core:s,am4charts:a}=r,o=e.xAxes.push(new a.CategoryAxis);o.dataFields.category=Fc,o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,s),o.tooltip.events.on("sizechanged",()=>{o.tooltip.dy=-o.tooltip.contentHeight});const l=e.yAxes.push(new a.ValueAxis),c=l.renderer.labels.template;l.renderer.minLabelPosition=C7,l.renderer.maxLabelPosition=E7,l.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(l.tooltip,s),c.wrap=!0;const d=e.series.push(new a.ColumnSeries);d.dataFields.valueY=tg,d.dataFields.categoryX=Fc,d.columns.template.propertyFields.fill=gl,d.columns.template.propertyFields.stroke=gl,e.cursor=new a.XYCursor,n.series.length>k7&&(e.scrollbarX=new s.Scrollbar)}_createBarChart(e,t){const{chartsModule:r,mediaInfo:i}=t,{value:n}=i,{am4core:s,am4charts:a}=r,o=e.yAxes.push(new a.CategoryAxis);o.dataFields.category=Fc,o.renderer.inversed=!0,o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,s),o.tooltip.events.on("sizechanged",()=>{o.tooltip.dx=o.tooltip.contentWidth});const l=e.xAxes.push(new a.ValueAxis),c=l.renderer.labels.template;l.renderer.minLabelPosition=C7,l.renderer.maxLabelPosition=E7,l.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(l.tooltip,s),c.wrap=!0;const d=e.series.push(new a.ColumnSeries);d.dataFields.valueX=tg,d.dataFields.categoryY=Fc,d.columns.template.propertyFields.fill=gl,d.columns.template.propertyFields.stroke=gl,e.cursor=new a.XYCursor,n.series.length>k7&&(e.scrollbarY=new s.Scrollbar)}_createLineChart(e,t){const{chartsModule:r,mediaInfo:i,colorMap:n}=t,{value:s}=i,{am4core:a,am4charts:o}=r,l=e.xAxes.push(new o.CategoryAxis);l.dataFields.category=Fc,l.renderer.labels.template.disabled=!0,this._customizeChartTooltip(l.tooltip,a),l.tooltip.events.on("sizechanged",()=>{l.tooltip.dy=-l.tooltip.contentHeight});const c=e.yAxes.push(new o.ValueAxis),d=c.renderer.labels.template;c.renderer.minLabelPosition=C7,c.renderer.maxLabelPosition=E7,c.min=this._getMinSeriesValue(s.series),this._customizeChartTooltip(c.tooltip,a),d.wrap=!0;const p=e.series.push(new o.LineSeries);p.dataFields.categoryX=Fc,p.dataFields.valueY=tg,p.strokeWidth=1;const h=n.get(PF);h&&(p.stroke=h);const m=p.bullets.push(new o.CircleBullet);m.propertyFields.fill=gl,m.propertyFields.stroke=gl,e.cursor=new o.XYCursor,s.series.length>k7&&(e.scrollbarX=new a.Scrollbar)}_createXYChart(e){const{chartDiv:t,chartsModule:r,mediaInfo:i}=e,{type:n}=i,{am4core:s,am4charts:a}=r,o=s.create(t,a.XYChart);return o.rtl=eo(this.container),n==="column-chart"&&this._createColumnChart(o,e),n==="bar-chart"&&this._createBarChart(o,e),n==="line-chart"&&this._createLineChart(o,e),o}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this;e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:this._getImageSource(e,t)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:e}=this.viewModel;e&&e.type==="image"&&e.refreshInterval&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:t,value:r}=e;if(!t)return;const i=6e4*t;this._updateMediaInfoTimestamp(r.sourceURL);const n=setInterval(()=>{this._updateMediaInfoTimestamp(r.sourceURL)},i);this._refreshTimer=n}_getImageSource(e,t){const r=e.includes("?")?"&":"?",[i,n=""]=e.split("#");return`${i}${r}timestamp=${t}${n?"#":""}${n}`}};u([fe("viewModel.attributes")],vn.prototype,"attributes",void 0),u([fe("viewModel.activeMediaInfoIndex")],vn.prototype,"activeMediaInfoIndex",void 0),u([fe("viewModel.description")],vn.prototype,"description",void 0),u([fe("viewModel.fieldInfoMap")],vn.prototype,"fieldInfoMap",void 0),u([fe("viewModel.layer")],vn.prototype,"layer",void 0),u([fe("viewModel.mediaInfos")],vn.prototype,"mediaInfos",void 0),u([fe("viewModel.popupTemplate")],vn.prototype,"popupTemplate",void 0),u([fe("viewModel.relatedInfos")],vn.prototype,"relatedInfos",void 0),u([fe("viewModel.title")],vn.prototype,"title",void 0),u([f({type:rp})],vn.prototype,"viewModel",void 0),u([f(),tr("esri/widgets/Feature/t9n/Feature")],vn.prototype,"messages",void 0),vn=u([E("esri.widgets.Feature.FeatureMedia")],vn);const TZ=vn;class j2e{constructor(t,r){this.definition=null,this.context=null,this.definition=t,this.context=r}}class ul{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){const t=[];for(let r=0;r<this.length();r++)t.push(this.get(r));return t}}class Zp extends ul{constructor(t,r,i,n,s,a){super(t),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=r,this._hasZ=i,this._hasM=n,this._cacheId=s,this._partId=a}get(t){if(this._lazyPt[t]===void 0){const r=this._elements[t];if(r===void 0)return;const i=this._hasZ,n=this._hasM;let s=null;s=i&&!n?new be(r[0],r[1],r[2],void 0,this._spRef):n&&!i?new be(r[0],r[1],void 0,r[2],this._spRef):i&&n?new be(r[0],r[1],r[2],r[3],this._spRef):new be(r[0],r[1],this._spRef),s.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+t.toString(),this._lazyPt[t]=s}return this._lazyPt[t]}equalityTest(t){return t===this||t!==null&&t instanceof Zp&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}class Nk extends ul{constructor(t,r,i,n,s){super(t),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=i,this._hasM=n,this._spRef=r,this._cacheId=s}get(t){if(this._lazyPath[t]===void 0){const r=this._elements[t];if(r===void 0)return;this._lazyPath[t]=new Zp(r,this._spRef,this._hasZ,this._hasM,this._cacheId,t)}return this._lazyPath[t]}equalityTest(t){return t===this||t!==null&&t instanceof Nk&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}class Qp extends Error{}class V2e extends Qp{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class z2e extends Qp{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class B2e extends Qp{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class tb extends Qp{}class CZ extends Qp{constructor(t){super(`Invalid unit ${t}`)}}class Ks extends Qp{}class Dc extends Qp{constructor(){super("Zone is an abstract class")}}const he="numeric",fo="short",vs="long",$I={year:he,month:he,day:he},EZ={year:he,month:fo,day:he},U2e={year:he,month:fo,day:he,weekday:fo},kZ={year:he,month:vs,day:he},AZ={year:he,month:vs,day:he,weekday:vs},LZ={hour:he,minute:he},RZ={hour:he,minute:he,second:he},PZ={hour:he,minute:he,second:he,timeZoneName:fo},OZ={hour:he,minute:he,second:he,timeZoneName:vs},FZ={hour:he,minute:he,hourCycle:"h23"},DZ={hour:he,minute:he,second:he,hourCycle:"h23"},NZ={hour:he,minute:he,second:he,hourCycle:"h23",timeZoneName:fo},jZ={hour:he,minute:he,second:he,hourCycle:"h23",timeZoneName:vs},VZ={year:he,month:he,day:he,hour:he,minute:he},zZ={year:he,month:he,day:he,hour:he,minute:he,second:he},BZ={year:he,month:fo,day:he,hour:he,minute:he},UZ={year:he,month:fo,day:he,hour:he,minute:he,second:he},G2e={year:he,month:fo,day:he,weekday:fo,hour:he,minute:he},GZ={year:he,month:vs,day:he,hour:he,minute:he,timeZoneName:fo},qZ={year:he,month:vs,day:he,hour:he,minute:he,second:he,timeZoneName:fo},HZ={year:he,month:vs,day:he,weekday:vs,hour:he,minute:he,timeZoneName:vs},WZ={year:he,month:vs,day:he,weekday:vs,hour:he,minute:he,second:he,timeZoneName:vs};function nt(e){return typeof e>"u"}function mp(e){return typeof e=="number"}function Fw(e){return typeof e=="number"&&e%1===0}function q2e(e){return typeof e=="string"}function H2e(e){return Object.prototype.toString.call(e)==="[object Date]"}function JZ(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function W2e(e){return Array.isArray(e)?e:[e]}function OF(e,t,r){if(e.length!==0)return e.reduce((i,n)=>{const s=[t(n),n];return i&&r(i[0],s[0])===i[0]?i:s},null)[1]}function J2e(e,t){return t.reduce((r,i)=>(r[i]=e[i],r),{})}function zm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sc(e,t,r){return Fw(e)&&e>=t&&e<=r}function Z2e(e,t){return e-t*Math.floor(e/t)}function Pr(e,t=2){const r=e<0;let i;return r?i="-"+(""+-e).padStart(t,"0"):i=(""+e).padStart(t,"0"),i}function Eu(e){if(!(nt(e)||e===null||e===""))return parseInt(e,10)}function kd(e){if(!(nt(e)||e===null||e===""))return parseFloat(e)}function jk(e){if(!(nt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function Vk(e,t,r=!1){const i=10**t;return(r?Math.trunc:Math.round)(e*i)/i}function j2(e){return e%4===0&&(e%100!==0||e%400===0)}function Kb(e){return j2(e)?366:365}function e6(e,t){const r=Z2e(t-1,12)+1,i=e+(t-r)/12;return r===2?j2(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function zk(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function t6(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,i=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return t===4||i===3?53:52}function TI(e){return e>99?e:e>60?1900+e:2e3+e}function ZZ(e,t,r,i=null){const n=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const a={timeZoneName:t,...s},o=new Intl.DateTimeFormat(r,a).formatToParts(n).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function Dw(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const i=parseInt(t,10)||0,n=r<0||Object.is(r,-0)?-i:i;return r*60+n}function QZ(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Ks(`Invalid unit value ${e}`);return t}function r6(e,t){const r={};for(const i in e)if(zm(e,i)){const n=e[i];if(n==null)continue;r[t(i)]=QZ(n)}return r}function Xb(e,t){const r=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${Pr(r,2)}:${Pr(i,2)}`;case"narrow":return`${n}${r}${i>0?`:${i}`:""}`;case"techie":return`${n}${Pr(r,2)}${Pr(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Nw(e){return J2e(e,["hour","minute","second","millisecond"])}const YZ=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Q2e=["January","February","March","April","May","June","July","August","September","October","November","December"],KZ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Y2e=["J","F","M","A","M","J","J","A","S","O","N","D"];function XZ(e){switch(e){case"narrow":return[...Y2e];case"short":return[...KZ];case"long":return[...Q2e];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const eQ=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],tQ=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],K2e=["M","T","W","T","F","S","S"];function rQ(e){switch(e){case"narrow":return[...K2e];case"short":return[...tQ];case"long":return[...eQ];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const iQ=["AM","PM"],X2e=["Before Christ","Anno Domini"],e3e=["BC","AD"],t3e=["B","A"];function nQ(e){switch(e){case"narrow":return[...t3e];case"short":return[...e3e];case"long":return[...X2e];default:return null}}function r3e(e){return iQ[e.hour<12?0:1]}function i3e(e,t){return rQ(t)[e.weekday-1]}function n3e(e,t){return XZ(t)[e.month-1]}function s3e(e,t){return nQ(t)[e.year<0?0:1]}function a3e(e,t,r="always",i=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const p=e==="days";switch(t){case 1:return p?"tomorrow":`next ${n[e][0]}`;case-1:return p?"yesterday":`last ${n[e][0]}`;case 0:return p?"today":`this ${n[e][0]}`}}const a=Object.is(t,-0)||t<0,o=Math.abs(t),l=o===1,c=n[e],d=i?l?c[1]:c[2]||c[1]:l?n[e][0]:e;return a?`${o} ${d} ago`:`in ${o} ${d}`}function FF(e,t){let r="";for(const i of e)i.literal?r+=i.val:r+=t(i.val);return r}const o3e={D:$I,DD:EZ,DDD:kZ,DDDD:AZ,t:LZ,tt:RZ,ttt:PZ,tttt:OZ,T:FZ,TT:DZ,TTT:NZ,TTTT:jZ,f:VZ,ff:BZ,fff:GZ,ffff:HZ,F:zZ,FF:UZ,FFF:qZ,FFFF:WZ};class An{static create(t,r={}){return new An(t,r)}static parseFormat(t){let r=null,i="",n=!1;const s=[];for(let a=0;a<t.length;a++){const o=t.charAt(a);o==="'"?(i.length>0&&s.push({literal:n,val:i}),r=null,i="",n=!n):n||o===r?i+=o:(i.length>0&&s.push({literal:!1,val:i}),i=o,r=o)}return i.length>0&&s.push({literal:n,val:i}),s}static macroTokenToFormatOpts(t){return o3e[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}formatDateTime(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).format()}formatDateTimeParts(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).formatToParts()}resolvedOptions(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return Pr(t,r);const i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,r){const i=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(m,g)=>this.loc.extract(t,m,g),a=m=>t.isOffsetFixed&&t.offset===0&&m.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,m.format):"",o=()=>i?r3e(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(m,g)=>i?n3e(t,m):s(g?{month:m}:{month:m,day:"numeric"},"month"),c=(m,g)=>i?i3e(t,m):s(g?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),d=m=>{const g=An.macroTokenToFormatOpts(m);return g?this.formatWithSystemDefault(t,g):m},p=m=>i?s3e(t,m):s({era:m},"era"),h=m=>{switch(m){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return o();case"d":return n?s({day:"numeric"},"day"):this.num(t.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(t.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(t.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(m)}};return FF(An.parseFormat(r),h)}formatDurationFromString(t,r){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=l=>c=>{const d=i(c);return d?this.num(l.get(d),c.length):c},s=An.parseFormat(r),a=s.reduce((l,{literal:c,val:d})=>c?l:l.concat(d),[]),o=t.shiftTo(...a.map(i).filter(l=>l));return FF(s,n(o))}}class to{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class V2{get type(){throw new Dc}get name(){throw new Dc}get ianaName(){return this.name}get isUniversal(){throw new Dc}offsetName(t,r){throw new Dc}formatOffset(t,r){throw new Dc}offset(t){throw new Dc}equals(t){throw new Dc}get isValid(){throw new Dc}}let A7=null;class Bk extends V2{static get instance(){return A7===null&&(A7=new Bk),A7}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return ZZ(t,r,i)}formatOffset(t,r){return Xb(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let F5={};function l3e(e){return F5[e]||(F5[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),F5[e]}const c3e={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function u3e(e,t){const r=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,n,s,a,o,l,c,d]=i;return[a,n,s,o,l,c,d]}function d3e(e,t){const r=e.formatToParts(t),i=[];for(let n=0;n<r.length;n++){const{type:s,value:a}=r[n],o=c3e[s];s==="era"?i[o]=a:nt(o)||(i[o]=parseInt(a,10))}return i}let W3={};class bc extends V2{static create(t){return W3[t]||(W3[t]=new bc(t)),W3[t]}static resetCache(){W3={},F5={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=bc.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return ZZ(t,r,i,this.name)}formatOffset(t,r){return Xb(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const i=l3e(this.name);let[n,s,a,o,l,c,d]=i.formatToParts?d3e(i,r):u3e(i,r);o==="BC"&&(n=-Math.abs(n)+1);const h=zk({year:n,month:s,day:a,hour:l===24?0:l,minute:c,second:d,millisecond:0});let m=+r;const g=m%1e3;return m-=g>=0?g:1e3+g,(h-m)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let L7=null;class an extends V2{static get utcInstance(){return L7===null&&(L7=new an(0)),L7}static instance(t){return t===0?an.utcInstance:new an(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new an(Dw(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Xb(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Xb(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Xb(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class f3e extends V2{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ou(e,t){if(nt(e)||e===null)return t;if(e instanceof V2)return e;if(q2e(e)){const r=e.toLowerCase();return r==="local"||r==="system"?t:r==="utc"||r==="gmt"?an.utcInstance:an.parseSpecifier(r)||bc.create(e)}else return mp(e)?an.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new f3e(e)}let DF=()=>Date.now(),NF="system",jF=null,VF=null,zF=null,BF;class Hr{static get now(){return DF}static set now(t){DF=t}static set defaultZone(t){NF=t}static get defaultZone(){return Ou(NF,Bk.instance)}static get defaultLocale(){return jF}static set defaultLocale(t){jF=t}static get defaultNumberingSystem(){return VF}static set defaultNumberingSystem(t){VF=t}static get defaultOutputCalendar(){return zF}static set defaultOutputCalendar(t){zF=t}static get throwOnInvalid(){return BF}static set throwOnInvalid(t){BF=t}static resetCaches(){Xt.resetCache(),bc.resetCache()}}let UF={};function p3e(e,t={}){const r=JSON.stringify([e,t]);let i=UF[r];return i||(i=new Intl.ListFormat(e,t),UF[r]=i),i}let CI={};function EI(e,t={}){const r=JSON.stringify([e,t]);let i=CI[r];return i||(i=new Intl.DateTimeFormat(e,t),CI[r]=i),i}let kI={};function h3e(e,t={}){const r=JSON.stringify([e,t]);let i=kI[r];return i||(i=new Intl.NumberFormat(e,t),kI[r]=i),i}let AI={};function m3e(e,t={}){const{base:r,...i}=t,n=JSON.stringify([e,i]);let s=AI[n];return s||(s=new Intl.RelativeTimeFormat(e,t),AI[n]=s),s}let rb=null;function y3e(){return rb||(rb=new Intl.DateTimeFormat().resolvedOptions().locale,rb)}function g3e(e){const t=e.indexOf("-u-");if(t===-1)return[e];{let r;const i=e.substring(0,t);try{r=EI(e).resolvedOptions()}catch{r=EI(i).resolvedOptions()}const{numberingSystem:n,calendar:s}=r;return[i,n,s]}}function b3e(e,t,r){return(r||t)&&(e+="-u",r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function v3e(e){const t=[];for(let r=1;r<=12;r++){const i=je.utc(2016,r,1);t.push(e(i))}return t}function w3e(e){const t=[];for(let r=1;r<=7;r++){const i=je.utc(2016,11,13+r);t.push(e(i))}return t}function J3(e,t,r,i,n){const s=e.listingMode(r);return s==="error"?null:s==="en"?i(t):n(t)}function _3e(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class S3e{constructor(t,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:s,...a}=i;if(!r||Object.keys(a).length>0){const o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=h3e(t,o)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):Vk(t,3);return Pr(r,this.padTo)}}}class x3e{constructor(t,r,i){this.opts=i;let n;if(t.zone.isUniversal){const a=-1*(t.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&bc.create(o).valid?(n=o,this.dt=t):(n="UTC",i.timeZoneName?this.dt=t:this.dt=t.offset===0?t:je.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,n=t.zone.name);const s={...this.opts};n&&(s.timeZone=n),this.dtf=EI(r,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class M3e{constructor(t,r,i){this.opts={style:"long",...i},!r&&JZ()&&(this.rtf=m3e(t,i))}format(t,r){return this.rtf?this.rtf.format(t,r):a3e(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}class Xt{static fromOpts(t){return Xt.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,r,i,n=!1){const s=t||Hr.defaultLocale,a=s||(n?"en-US":y3e()),o=r||Hr.defaultNumberingSystem,l=i||Hr.defaultOutputCalendar;return new Xt(a,o,l,s)}static resetCache(){rb=null,CI={},kI={},AI={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:i}={}){return Xt.create(t,r,i)}constructor(t,r,i,n){const[s,a,o]=g3e(t);this.locale=s,this.numberingSystem=r||a||null,this.outputCalendar=i||o||null,this.intl=b3e(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=_3e(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Xt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1,i=!0){return J3(this,t,i,XZ,()=>{const n=r?{month:t,day:"numeric"}:{month:t},s=r?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=v3e(a=>this.extract(a,n,"month"))),this.monthsCache[s][t]})}weekdays(t,r=!1,i=!0){return J3(this,t,i,rQ,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=r?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=w3e(a=>this.extract(a,n,"weekday"))),this.weekdaysCache[s][t]})}meridiems(t=!0){return J3(this,void 0,t,()=>iQ,()=>{if(!this.meridiemCache){const r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[je.utc(2016,11,13,9),je.utc(2016,11,13,19)].map(i=>this.extract(i,r,"dayperiod"))}return this.meridiemCache})}eras(t,r=!0){return J3(this,t,r,nQ,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[je.utc(-40,1,1),je.utc(2017,1,1)].map(n=>this.extract(n,i,"era"))),this.eraCache[t]})}extract(t,r,i){const n=this.dtFormatter(t,r),s=n.formatToParts(),a=s.find(o=>o.type.toLowerCase()===i);return a?a.value:null}numberFormatter(t={}){return new S3e(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new x3e(t,this.intl,r)}relFormatter(t={}){return new M3e(this.intl,this.isEnglish(),t)}listFormatter(t={}){return p3e(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}function Sy(...e){const t=e.reduce((r,i)=>r+i.source,"");return RegExp(`^${t}$`)}function xy(...e){return t=>e.reduce(([r,i,n],s)=>{const[a,o,l]=s(t,n);return[{...r,...a},o||i,l]},[{},null,1]).slice(0,2)}function My(e,...t){if(e==null)return[null,null];for(const[r,i]of t){const n=r.exec(e);if(n)return i(n)}return[null,null]}function sQ(...e){return(t,r)=>{const i={};let n;for(n=0;n<e.length;n++)i[e[n]]=Eu(t[r+n]);return[i,null,r+n]}}const aQ=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,I3e=`(?:${aQ.source}?(?:\\[(${YZ.source})\\])?)?`,Uk=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,oQ=RegExp(`${Uk.source}${I3e}`),Gk=RegExp(`(?:T${oQ.source})?`),$3e=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,T3e=/(\d{4})-?W(\d\d)(?:-?(\d))?/,C3e=/(\d{4})-?(\d{3})/,E3e=sQ("weekYear","weekNumber","weekDay"),k3e=sQ("year","ordinal"),A3e=/(\d{4})-(\d\d)-(\d\d)/,lQ=RegExp(`${Uk.source} ?(?:${aQ.source}|(${YZ.source}))?`),L3e=RegExp(`(?: ${lQ.source})?`);function um(e,t,r){const i=e[t];return nt(i)?r:Eu(i)}function R3e(e,t){return[{year:um(e,t),month:um(e,t+1,1),day:um(e,t+2,1)},null,t+3]}function Iy(e,t){return[{hours:um(e,t,0),minutes:um(e,t+1,0),seconds:um(e,t+2,0),milliseconds:jk(e[t+3])},null,t+4]}function z2(e,t){const r=!e[t]&&!e[t+1],i=Dw(e[t+1],e[t+2]),n=r?null:an.instance(i);return[{},n,t+3]}function B2(e,t){const r=e[t]?bc.create(e[t]):null;return[{},r,t+1]}const P3e=RegExp(`^T?${Uk.source}$`),O3e=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function F3e(e){const[t,r,i,n,s,a,o,l,c]=e,d=t[0]==="-",p=l&&l[0]==="-",h=(m,g=!1)=>m!==void 0&&(g||m&&d)?-m:m;return[{years:h(kd(r)),months:h(kd(i)),weeks:h(kd(n)),days:h(kd(s)),hours:h(kd(a)),minutes:h(kd(o)),seconds:h(kd(l),l==="-0"),milliseconds:h(jk(c),p)}]}const D3e={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qk(e,t,r,i,n,s,a){const o={year:t.length===2?TI(Eu(t)):Eu(t),month:KZ.indexOf(r)+1,day:Eu(i),hour:Eu(n),minute:Eu(s)};return a&&(o.second=Eu(a)),e&&(o.weekday=e.length>3?eQ.indexOf(e)+1:tQ.indexOf(e)+1),o}const N3e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function j3e(e){const[,t,r,i,n,s,a,o,l,c,d,p]=e,h=qk(t,n,i,r,s,a,o);let m;return l?m=D3e[l]:c?m=0:m=Dw(d,p),[h,new an(m)]}function V3e(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const z3e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,B3e=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,U3e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function GF(e){const[,t,r,i,n,s,a,o]=e;return[qk(t,n,i,r,s,a,o),an.utcInstance]}function G3e(e){const[,t,r,i,n,s,a,o]=e;return[qk(t,o,r,i,n,s,a),an.utcInstance]}const q3e=Sy($3e,Gk),H3e=Sy(T3e,Gk),W3e=Sy(C3e,Gk),J3e=Sy(oQ),cQ=xy(R3e,Iy,z2,B2),Z3e=xy(E3e,Iy,z2,B2),Q3e=xy(k3e,Iy,z2,B2),Y3e=xy(Iy,z2,B2);function K3e(e){return My(e,[q3e,cQ],[H3e,Z3e],[W3e,Q3e],[J3e,Y3e])}function X3e(e){return My(V3e(e),[N3e,j3e])}function eve(e){return My(e,[z3e,GF],[B3e,GF],[U3e,G3e])}function tve(e){return My(e,[O3e,F3e])}const rve=xy(Iy);function ive(e){return My(e,[P3e,rve])}const nve=Sy(A3e,L3e),sve=Sy(lQ),ave=xy(Iy,z2,B2);function ove(e){return My(e,[nve,cQ],[sve,ave])}const lve="Invalid Duration",uQ={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},cve={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...uQ},As=146097/400,sh=146097/4800,uve={years:{quarters:4,months:12,weeks:As/7,days:As,hours:As*24,minutes:As*24*60,seconds:As*24*60*60,milliseconds:As*24*60*60*1e3},quarters:{months:3,weeks:As/28,days:As/4,hours:As*24/4,minutes:As*24*60/4,seconds:As*24*60*60/4,milliseconds:As*24*60*60*1e3/4},months:{weeks:sh/7,days:sh,hours:sh*24,minutes:sh*24*60,seconds:sh*24*60*60,milliseconds:sh*24*60*60*1e3},...uQ},lf=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],dve=lf.slice(0).reverse();function Ad(e,t,r=!1){const i={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new ot(i)}function fve(e){return e<0?Math.floor(e):Math.ceil(e)}function dQ(e,t,r,i,n){const s=e[n][r],a=t[r]/s,o=Math.sign(a)===Math.sign(i[n]),l=!o&&i[n]!==0&&Math.abs(a)<=1?fve(a):Math.trunc(a);i[n]+=l,t[r]-=l*s}function pve(e,t){dve.reduce((r,i)=>nt(t[i])?r:(r&&dQ(e,t,r,t,i),i),null)}class ot{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||Xt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r?uve:cve,this.isLuxonDuration=!0}static fromMillis(t,r){return ot.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Ks(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new ot({values:r6(t,ot.normalizeUnit),loc:Xt.fromObject(r),conversionAccuracy:r.conversionAccuracy})}static fromDurationLike(t){if(mp(t))return ot.fromMillis(t);if(ot.isDuration(t))return t;if(typeof t=="object")return ot.fromObject(t);throw new Ks(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[i]=tve(t);return i?ot.fromObject(i,r):ot.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[i]=ive(t);return i?ot.fromObject(i,r):ot.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Ks("need to specify a reason the Duration is invalid");const i=t instanceof to?t:new to(t,r);if(Hr.throwOnInvalid)throw new B2e(i);return new ot({invalid:i})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new CZ(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?An.create(this.loc,i).formatDurationFromString(this,t):lve}toHuman(t={}){const r=lf.map(i=>{const n=this.values[i];return nt(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(n)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Vk(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();if(r<0||r>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const i=this.shiftTo("hours","minutes","seconds","milliseconds");let n=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||i.seconds!==0||i.milliseconds!==0)&&(n+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||i.milliseconds!==0)&&(n+=".SSS"));let s=i.toFormat(n);return t.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=ot.fromDurationLike(t),i={};for(const n of lf)(zm(r.values,n)||zm(this.values,n))&&(i[n]=r.get(n)+this.get(n));return Ad(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const r=ot.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=QZ(t(this.values[i],i));return Ad(this,{values:r},!0)}get(t){return this[ot.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...r6(t,ot.normalizeUnit)};return Ad(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:i}={}){const n=this.loc.clone({locale:t,numberingSystem:r}),s={loc:n};return i&&(s.conversionAccuracy=i),Ad(this,s)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return pve(this.matrix,t),Ad(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>ot.normalizeUnit(a));const r={},i={},n=this.toObject();let s;for(const a of lf)if(t.indexOf(a)>=0){s=a;let o=0;for(const c in i)o+=this.matrix[c][a]*i[c],i[c]=0;mp(n[a])&&(o+=n[a]);const l=Math.trunc(o);r[a]=l,i[a]=(o*1e3-l*1e3)/1e3;for(const c in n)lf.indexOf(c)>lf.indexOf(a)&&dQ(this.matrix,n,c,r,a)}else mp(n[a])&&(i[a]=n[a]);for(const a in i)i[a]!==0&&(r[s]+=a===s?i[a]:i[a]/this.matrix[s][a]);return Ad(this,{values:r},!0).normalize()}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Ad(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(i,n){return i===void 0||i===0?n===void 0||n===0:i===n}for(const i of lf)if(!r(this.values[i],t.values[i]))return!1;return!0}}const rg="Invalid Interval";function hve(e,t){return!e||!e.isValid?ur.invalid("missing or invalid start"):!t||!t.isValid?ur.invalid("missing or invalid end"):t<e?ur.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class ur{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Ks("need to specify a reason the Interval is invalid");const i=t instanceof to?t:new to(t,r);if(Hr.throwOnInvalid)throw new z2e(i);return new ur({invalid:i})}static fromDateTimes(t,r){const i=sg(t),n=sg(r),s=hve(i,n);return s==null?new ur({start:i,end:n}):s}static after(t,r){const i=ot.fromDurationLike(r),n=sg(t);return ur.fromDateTimes(n,n.plus(i))}static before(t,r){const i=ot.fromDurationLike(r),n=sg(t);return ur.fromDateTimes(n.minus(i),n)}static fromISO(t,r){const[i,n]=(t||"").split("/",2);if(i&&n){let s,a;try{s=je.fromISO(i,r),a=s.isValid}catch{a=!1}let o,l;try{o=je.fromISO(n,r),l=o.isValid}catch{l=!1}if(a&&l)return ur.fromDateTimes(s,o);if(a){const c=ot.fromISO(n,r);if(c.isValid)return ur.after(s,c)}else if(l){const c=ot.fromISO(i,r);if(c.isValid)return ur.before(o,c)}}return ur.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(t),i=this.end.startOf(t);return Math.floor(i.diff(r,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?ur.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(sg).filter(a=>this.contains(a)).sort(),i=[];let{s:n}=this,s=0;for(;n<this.e;){const a=r[s]||this.e,o=+a>+this.e?this.e:a;i.push(ur.fromDateTimes(n,o)),n=o,s+=1}return i}splitBy(t){const r=ot.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,n=1,s;const a=[];for(;i<this.e;){const o=this.start.plus(r.mapUnits(l=>l*n));s=+o>+this.e?this.e:o,a.push(ur.fromDateTimes(i,s)),i=s,n+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return r>=i?null:ur.fromDateTimes(r,i)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return ur.fromDateTimes(r,i)}static merge(t){const[r,i]=t.sort((n,s)=>n.s-s.s).reduce(([n,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[n,s.union(a)]:[n.concat([s]),a]:[n,a],[[],null]);return i&&r.push(i),r}static xor(t){let r=null,i=0;const n=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,c)=>l.time-c.time);for(const l of o)i+=l.type==="s"?1:-1,i===1?r=l.time:(r&&+r!=+l.time&&n.push(ur.fromDateTimes(r,l.time)),r=null);return ur.merge(n)}difference(...t){return ur.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:rg}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:rg}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:rg}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:rg}toFormat(t,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:rg}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):ot.invalid(this.invalidReason)}mapEndpoints(t){return ur.fromDateTimes(t(this.s),t(this.e))}}class Z3{static hasDST(t=Hr.defaultZone){const r=je.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return bc.isValidZone(t)}static normalizeZone(t){return Ou(t,Hr.defaultZone)}static months(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Xt.create(r,i,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Xt.create(r,i,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Xt.create(r,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Xt.create(r,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Xt.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Xt.create(r,null,"gregory").eras(t)}static features(){return{relative:JZ()}}}function qF(e,t){const r=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(t)-r(e);return Math.floor(ot.fromMillis(i).as("days"))}function mve(e,t,r){const i=[["years",(o,l)=>l.year-o.year],["quarters",(o,l)=>l.quarter-o.quarter],["months",(o,l)=>l.month-o.month+(l.year-o.year)*12],["weeks",(o,l)=>{const c=qF(o,l);return(c-c%7)/7}],["days",qF]],n={};let s,a;for(const[o,l]of i)if(r.indexOf(o)>=0){s=o;let c=l(e,t);a=e.plus({[o]:c}),a>t?(e=e.plus({[o]:c-1}),c-=1):e=a,n[o]=c}return[e,n,a,s]}function yve(e,t,r,i){let[n,s,a,o]=mve(e,t,r);const l=t-n,c=r.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);c.length===0&&(a<t&&(a=n.plus({[o]:1})),a!==n&&(s[o]=(s[o]||0)+l/(a-n)));const d=ot.fromObject(s,i);return c.length>0?ot.fromMillis(l,i).shiftTo(...c).plus(d):d}const Hk={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},HF={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},gve=Hk.hanidec.replace(/[\[|\]]/g,"").split("");function bve(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);if(e[r].search(Hk.hanidec)!==-1)t+=gve.indexOf(e[r]);else for(const n in HF){const[s,a]=HF[n];i>=s&&i<=a&&(t+=i-s)}}return parseInt(t,10)}else return t}function va({numberingSystem:e},t=""){return new RegExp(`${Hk[e||"latn"]}${t}`)}const vve="missing Intl.DateTimeFormat.formatToParts support";function mt(e,t=r=>r){return{regex:e,deser:([r])=>t(bve(r))}}const wve=String.fromCharCode(160),fQ=`[ ${wve}]`,pQ=new RegExp(fQ,"g");function _ve(e){return e.replace(/\./g,"\\.?").replace(pQ,fQ)}function WF(e){return e.replace(/\./g,"").replace(pQ," ").toLowerCase()}function wa(e,t){return e===null?null:{regex:RegExp(e.map(_ve).join("|")),deser:([r])=>e.findIndex(i=>WF(r)===WF(i))+t}}function JF(e,t){return{regex:e,deser:([,r,i])=>Dw(r,i),groups:t}}function R7(e){return{regex:e,deser:([t])=>t}}function Sve(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function xve(e,t){const r=va(t),i=va(t,"{2}"),n=va(t,"{3}"),s=va(t,"{4}"),a=va(t,"{6}"),o=va(t,"{1,2}"),l=va(t,"{1,3}"),c=va(t,"{1,6}"),d=va(t,"{1,9}"),p=va(t,"{2,4}"),h=va(t,"{4,6}"),m=w=>({regex:RegExp(Sve(w.val)),deser:([v])=>v,literal:!0}),b=(w=>{if(e.literal)return m(w);switch(w.val){case"G":return wa(t.eras("short",!1),0);case"GG":return wa(t.eras("long",!1),0);case"y":return mt(c);case"yy":return mt(p,TI);case"yyyy":return mt(s);case"yyyyy":return mt(h);case"yyyyyy":return mt(a);case"M":return mt(o);case"MM":return mt(i);case"MMM":return wa(t.months("short",!0,!1),1);case"MMMM":return wa(t.months("long",!0,!1),1);case"L":return mt(o);case"LL":return mt(i);case"LLL":return wa(t.months("short",!1,!1),1);case"LLLL":return wa(t.months("long",!1,!1),1);case"d":return mt(o);case"dd":return mt(i);case"o":return mt(l);case"ooo":return mt(n);case"HH":return mt(i);case"H":return mt(o);case"hh":return mt(i);case"h":return mt(o);case"mm":return mt(i);case"m":return mt(o);case"q":return mt(o);case"qq":return mt(i);case"s":return mt(o);case"ss":return mt(i);case"S":return mt(l);case"SSS":return mt(n);case"u":return R7(d);case"uu":return R7(o);case"uuu":return mt(r);case"a":return wa(t.meridiems(),0);case"kkkk":return mt(s);case"kk":return mt(p,TI);case"W":return mt(o);case"WW":return mt(i);case"E":case"c":return mt(r);case"EEE":return wa(t.weekdays("short",!1,!1),1);case"EEEE":return wa(t.weekdays("long",!1,!1),1);case"ccc":return wa(t.weekdays("short",!0,!1),1);case"cccc":return wa(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return JF(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return JF(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return R7(/[a-z_+-/]{1,256}?/i);default:return m(w)}})(e)||{invalidReason:vve};return b.token=e,b}const Mve={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Ive(e,t,r){const{type:i,value:n}=e;if(i==="literal")return{literal:!0,val:n};const s=r[i];let a=Mve[i];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function $ve(e){return[`^${e.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,e]}function Tve(e,t,r){const i=e.match(t);if(i){const n={};let s=1;for(const a in r)if(zm(r,a)){const o=r[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(n[o.token.val[0]]=o.deser(i.slice(s,s+l))),s+=l}return[i,n]}else return[i,{}]}function Cve(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return nt(e.z)||(r=bc.create(e.z)),nt(e.Z)||(r||(r=new an(e.Z)),i=e.Z),nt(e.q)||(e.M=(e.q-1)*3+1),nt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),nt(e.u)||(e.S=jk(e.u)),[Object.keys(e).reduce((s,a)=>{const o=t(a);return o&&(s[o]=e[a]),s},{}),r,i]}let P7=null;function Eve(){return P7||(P7=je.fromMillis(1555555555555)),P7}function kve(e,t){if(e.literal)return e;const r=An.macroTokenToFormatOpts(e.val);if(!r)return e;const s=An.create(t,r).formatDateTimeParts(Eve()).map(a=>Ive(a,t,r));return s.includes(void 0)?e:s}function Ave(e,t){return Array.prototype.concat(...e.map(r=>kve(r,t)))}function hQ(e,t,r){const i=Ave(An.parseFormat(r),e),n=i.map(a=>xve(a,e)),s=n.find(a=>a.invalidReason);if(s)return{input:t,tokens:i,invalidReason:s.invalidReason};{const[a,o]=$ve(n),l=RegExp(a,"i"),[c,d]=Tve(t,l,o),[p,h,m]=d?Cve(d):[null,null,void 0];if(zm(d,"a")&&zm(d,"H"))throw new tb("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:i,regex:l,rawMatches:c,matches:d,result:p,zone:h,specificOffset:m}}}function Lve(e,t,r){const{result:i,zone:n,specificOffset:s,invalidReason:a}=hQ(e,t,r);return[i,n,s,a]}const mQ=[0,31,59,90,120,151,181,212,243,273,304,334],yQ=[0,31,60,91,121,152,182,213,244,274,305,335];function ta(e,t){return new to("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function gQ(e,t,r){const i=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const n=i.getUTCDay();return n===0?7:n}function bQ(e,t,r){return r+(j2(e)?yQ:mQ)[t-1]}function vQ(e,t){const r=j2(e)?yQ:mQ,i=r.findIndex(s=>s<t),n=t-r[i];return{month:i+1,day:n}}function LI(e){const{year:t,month:r,day:i}=e,n=bQ(t,r,i),s=gQ(t,r,i);let a=Math.floor((n-s+10)/7),o;return a<1?(o=t-1,a=t6(o)):a>t6(t)?(o=t+1,a=1):o=t,{weekYear:o,weekNumber:a,weekday:s,...Nw(e)}}function ZF(e){const{weekYear:t,weekNumber:r,weekday:i}=e,n=gQ(t,1,4),s=Kb(t);let a=r*7+i-n-3,o;a<1?(o=t-1,a+=Kb(o)):a>s?(o=t+1,a-=Kb(t)):o=t;const{month:l,day:c}=vQ(o,a);return{year:o,month:l,day:c,...Nw(e)}}function O7(e){const{year:t,month:r,day:i}=e,n=bQ(t,r,i);return{year:t,ordinal:n,...Nw(e)}}function QF(e){const{year:t,ordinal:r}=e,{month:i,day:n}=vQ(t,r);return{year:t,month:i,day:n,...Nw(e)}}function Rve(e){const t=Fw(e.weekYear),r=sc(e.weekNumber,1,t6(e.weekYear)),i=sc(e.weekday,1,7);return t?r?i?!1:ta("weekday",e.weekday):ta("week",e.week):ta("weekYear",e.weekYear)}function Pve(e){const t=Fw(e.year),r=sc(e.ordinal,1,Kb(e.year));return t?r?!1:ta("ordinal",e.ordinal):ta("year",e.year)}function wQ(e){const t=Fw(e.year),r=sc(e.month,1,12),i=sc(e.day,1,e6(e.year,e.month));return t?r?i?!1:ta("day",e.day):ta("month",e.month):ta("year",e.year)}function _Q(e){const{hour:t,minute:r,second:i,millisecond:n}=e,s=sc(t,0,23)||t===24&&r===0&&i===0&&n===0,a=sc(r,0,59),o=sc(i,0,59),l=sc(n,0,999);return s?a?o?l?!1:ta("millisecond",n):ta("second",i):ta("minute",r):ta("hour",t)}const F7="Invalid DateTime",YF=864e13;function Q3(e){return new to("unsupported zone",`the zone "${e.name}" is not supported`)}function D7(e){return e.weekData===null&&(e.weekData=LI(e.c)),e.weekData}function ig(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new je({...r,...t,old:r})}function SQ(e,t,r){let i=e-t*60*1e3;const n=r.offset(i);if(t===n)return[i,t];i-=(n-t)*60*1e3;const s=r.offset(i);return n===s?[i,n]:[e-Math.min(n,s)*60*1e3,Math.max(n,s)]}function KF(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function D5(e,t,r){return SQ(zk(e),t,r)}function XF(e,t){const r=e.o,i=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:i,month:n,day:Math.min(e.c.day,e6(i,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=ot.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=zk(s);let[l,c]=SQ(o,r,e.zone);return a!==0&&(l+=a,c=e.zone.offset(l)),{ts:l,o:c}}function ng(e,t,r,i,n,s){const{setZone:a,zone:o}=r;if(e&&Object.keys(e).length!==0){const l=t||o,c=je.fromObject(e,{...r,zone:l,specificOffset:s});return a?c:c.setZone(o)}else return je.invalid(new to("unparsable",`the input "${n}" can't be parsed as ${i}`))}function Y3(e,t,r=!0){return e.isValid?An.create(Xt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function N7(e,t){const r=e.c.year>9999||e.c.year<0;let i="";return r&&e.c.year>=0&&(i+="+"),i+=Pr(e.c.year,r?6:4),t?(i+="-",i+=Pr(e.c.month),i+="-",i+=Pr(e.c.day)):(i+=Pr(e.c.month),i+=Pr(e.c.day)),i}function eD(e,t,r,i,n,s){let a=Pr(e.c.hour);return t?(a+=":",a+=Pr(e.c.minute),(e.c.second!==0||!r)&&(a+=":")):a+=Pr(e.c.minute),(e.c.second!==0||!r)&&(a+=Pr(e.c.second),(e.c.millisecond!==0||!i)&&(a+=".",a+=Pr(e.c.millisecond,3))),n&&(e.isOffsetFixed&&e.offset===0&&!s?a+="Z":e.o<0?(a+="-",a+=Pr(Math.trunc(-e.o/60)),a+=":",a+=Pr(Math.trunc(-e.o%60))):(a+="+",a+=Pr(Math.trunc(e.o/60)),a+=":",a+=Pr(Math.trunc(e.o%60)))),s&&(a+="["+e.zone.ianaName+"]"),a}const xQ={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ove={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Fve={ordinal:1,hour:0,minute:0,second:0,millisecond:0},MQ=["year","month","day","hour","minute","second","millisecond"],Dve=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Nve=["year","ordinal","hour","minute","second","millisecond"];function tD(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new CZ(e);return t}function rD(e,t){const r=Ou(t.zone,Hr.defaultZone),i=Xt.fromObject(t),n=Hr.now();let s,a;if(nt(e.year))s=n;else{for(const c of MQ)nt(e[c])&&(e[c]=xQ[c]);const o=wQ(e)||_Q(e);if(o)return je.invalid(o);const l=r.offset(n);[s,a]=D5(e,l,r)}return new je({ts:s,zone:r,loc:i,o:a})}function iD(e,t,r){const i=nt(r.round)?!0:r.round,n=(a,o)=>(a=Vk(a,i||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(a,o)),s=a=>r.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(r.unit)return n(s(r.unit),r.unit);for(const a of r.units){const o=s(a);if(Math.abs(o)>=1)return n(o,a)}return n(e>t?-0:0,r.units[r.units.length-1])}function nD(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class je{constructor(t){const r=t.zone||Hr.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new to("invalid input"):null)||(r.isValid?null:Q3(r));this.ts=nt(t.ts)?Hr.now():t.ts;let n=null,s=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[n,s]=[t.old.c,t.old.o];else{const o=r.offset(this.ts);n=KF(this.ts,o),i=Number.isNaN(n.year)?new to("invalid input"):null,n=i?null:n,s=i?null:o}this._zone=r,this.loc=t.loc||Xt.create(),this.invalid=i,this.weekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new je({})}static local(){const[t,r]=nD(arguments),[i,n,s,a,o,l,c]=r;return rD({year:i,month:n,day:s,hour:a,minute:o,second:l,millisecond:c},t)}static utc(){const[t,r]=nD(arguments),[i,n,s,a,o,l,c]=r;return t.zone=an.utcInstance,rD({year:i,month:n,day:s,hour:a,minute:o,second:l,millisecond:c},t)}static fromJSDate(t,r={}){const i=H2e(t)?t.valueOf():NaN;if(Number.isNaN(i))return je.invalid("invalid input");const n=Ou(r.zone,Hr.defaultZone);return n.isValid?new je({ts:i,zone:n,loc:Xt.fromObject(r)}):je.invalid(Q3(n))}static fromMillis(t,r={}){if(mp(t))return t<-YF||t>YF?je.invalid("Timestamp out of range"):new je({ts:t,zone:Ou(r.zone,Hr.defaultZone),loc:Xt.fromObject(r)});throw new Ks(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(mp(t))return new je({ts:t*1e3,zone:Ou(r.zone,Hr.defaultZone),loc:Xt.fromObject(r)});throw new Ks("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const i=Ou(r.zone,Hr.defaultZone);if(!i.isValid)return je.invalid(Q3(i));const n=Hr.now(),s=nt(r.specificOffset)?i.offset(n):r.specificOffset,a=r6(t,tD),o=!nt(a.ordinal),l=!nt(a.year),c=!nt(a.month)||!nt(a.day),d=l||c,p=a.weekYear||a.weekNumber,h=Xt.fromObject(r);if((d||o)&&p)throw new tb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new tb("Can't mix ordinal dates with month/day");const m=p||a.weekday&&!d;let g,b,w=KF(n,s);m?(g=Dve,b=Ove,w=LI(w)):o?(g=Nve,b=Fve,w=O7(w)):(g=MQ,b=xQ);let v=!1;for(const T of g){const A=a[T];nt(A)?v?a[T]=b[T]:a[T]=w[T]:v=!0}const _=m?Rve(a):o?Pve(a):wQ(a),S=_||_Q(a);if(S)return je.invalid(S);const x=m?ZF(a):o?QF(a):a,[M,I]=D5(x,s,i),$=new je({ts:M,zone:i,o:I,loc:h});return a.weekday&&d&&t.weekday!==$.weekday?je.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${$.toISO()}`):$}static fromISO(t,r={}){const[i,n]=K3e(t);return ng(i,n,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[i,n]=X3e(t);return ng(i,n,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[i,n]=eve(t);return ng(i,n,r,"HTTP",r)}static fromFormat(t,r,i={}){if(nt(t)||nt(r))throw new Ks("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=i,a=Xt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[o,l,c,d]=Lve(a,t,r);return d?je.invalid(d):ng(o,l,i,`format ${r}`,t,c)}static fromString(t,r,i={}){return je.fromFormat(t,r,i)}static fromSQL(t,r={}){const[i,n]=ove(t);return ng(i,n,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Ks("need to specify a reason the DateTime is invalid");const i=t instanceof to?t:new to(t,r);if(Hr.throwOnInvalid)throw new V2e(i);return new je({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?D7(this).weekYear:NaN}get weekNumber(){return this.isValid?D7(this).weekNumber:NaN}get weekday(){return this.isValid?D7(this).weekday:NaN}get ordinal(){return this.isValid?O7(this.c).ordinal:NaN}get monthShort(){return this.isValid?Z3.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Z3.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Z3.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Z3.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return j2(this.year)}get daysInMonth(){return e6(this.year,this.month)}get daysInYear(){return this.isValid?Kb(this.year):NaN}get weeksInWeekYear(){return this.isValid?t6(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:i,calendar:n}=An.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:n}}toUTC(t=0,r={}){return this.setZone(an.instance(t),r)}toLocal(){return this.setZone(Hr.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(t=Ou(t,Hr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(r||i){const s=t.offset(this.ts),a=this.toObject();[n]=D5(a,s,t)}return ig(this,{ts:n,zone:t})}else return je.invalid(Q3(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:i}={}){const n=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:i});return ig(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=r6(t,tD),i=!nt(r.weekYear)||!nt(r.weekNumber)||!nt(r.weekday),n=!nt(r.ordinal),s=!nt(r.year),a=!nt(r.month)||!nt(r.day),o=s||a,l=r.weekYear||r.weekNumber;if((o||n)&&l)throw new tb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&n)throw new tb("Can't mix ordinal dates with month/day");let c;i?c=ZF({...LI(this.c),...r}):nt(r.ordinal)?(c={...this.toObject(),...r},nt(r.day)&&(c.day=Math.min(e6(c.year,c.month),c.day))):c=QF({...O7(this.c),...r});const[d,p]=D5(c,this.o,this.zone);return ig(this,{ts:d,o:p})}plus(t){if(!this.isValid)return this;const r=ot.fromDurationLike(t);return ig(this,XF(this,r))}minus(t){if(!this.isValid)return this;const r=ot.fromDurationLike(t).negate();return ig(this,XF(this,r))}startOf(t){if(!this.isValid)return this;const r={},i=ot.normalizeUnit(t);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks"&&(r.weekday=1),i==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,r={}){return this.isValid?An.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):F7}toLocaleString(t=$I,r={}){return this.isValid?An.create(this.loc.clone(r),t).formatDateTime(this):F7}toLocaleParts(t={}){return this.isValid?An.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=t==="extended";let o=N7(this,a);return o+="T",o+=eD(this,a,r,i,n,s),o}toISODate({format:t="extended"}={}){return this.isValid?N7(this,t==="extended"):null}toISOWeekDate(){return Y3(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(n?"T":"")+eD(this,a==="extended",r,t,i,s):null}toRFC2822(){return Y3(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Y3(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?N7(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(r||t)&&(i&&(n+=" "),r?n+="z":t&&(n+="ZZ")),Y3(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():F7}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",i={}){if(!this.isValid||!t.isValid)return ot.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=W2e(r).map(ot.normalizeUnit),a=t.valueOf()>this.valueOf(),o=a?this:t,l=a?t:this,c=yve(o,l,s,n);return a?c.negate():c}diffNow(t="milliseconds",r={}){return this.diff(je.now(),t,r)}until(t){return this.isValid?ur.fromDateTimes(this,t):this}hasSame(t,r){if(!this.isValid)return!1;const i=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(r)<=i&&i<=n.endOf(r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||je.fromObject({},{zone:this.zone}),i=t.padding?this<r?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(n=t.unit,s=void 0),iD(r,this.plus(i),{...t,numeric:"always",units:n,unit:s})}toRelativeCalendar(t={}){return this.isValid?iD(t.base||je.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(je.isDateTime))throw new Ks("min requires all arguments be DateTimes");return OF(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(je.isDateTime))throw new Ks("max requires all arguments be DateTimes");return OF(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,i={}){const{locale:n=null,numberingSystem:s=null}=i,a=Xt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return hQ(a,t,r)}static fromStringExplain(t,r,i={}){return je.fromFormatExplain(t,r,i)}static get DATE_SHORT(){return $I}static get DATE_MED(){return EZ}static get DATE_MED_WITH_WEEKDAY(){return U2e}static get DATE_FULL(){return kZ}static get DATE_HUGE(){return AZ}static get TIME_SIMPLE(){return LZ}static get TIME_WITH_SECONDS(){return RZ}static get TIME_WITH_SHORT_OFFSET(){return PZ}static get TIME_WITH_LONG_OFFSET(){return OZ}static get TIME_24_SIMPLE(){return FZ}static get TIME_24_WITH_SECONDS(){return DZ}static get TIME_24_WITH_SHORT_OFFSET(){return NZ}static get TIME_24_WITH_LONG_OFFSET(){return jZ}static get DATETIME_SHORT(){return VZ}static get DATETIME_SHORT_WITH_SECONDS(){return zZ}static get DATETIME_MED(){return BZ}static get DATETIME_MED_WITH_SECONDS(){return UZ}static get DATETIME_MED_WITH_WEEKDAY(){return G2e}static get DATETIME_FULL(){return GZ}static get DATETIME_FULL_WITH_SECONDS(){return qZ}static get DATETIME_HUGE(){return HZ}static get DATETIME_HUGE_WITH_SECONDS(){return WZ}}function sg(e){if(je.isDateTime(e))return e;if(e&&e.valueOf&&mp(e.valueOf()))return je.fromJSDate(e);if(e&&typeof e=="object")return je.fromObject(e);throw new Ks(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const j7={ar:[".",","],bg:[",","\xA0"],bs:[",","."],ca:[",","."],cs:[",","\xA0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xA0"],fi:[",","\xA0"],fr:[",","\u202F"],"fr-ch":[",","\u202F"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xA0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xA0"],lv:[",","\xA0"],mk:[",","."],nb:[",","\xA0"],nl:[",","."],pl:[",","\xA0"],pt:[",","."],"pt-pt":[",","\xA0"],ro:[",","."],ru:[",","\xA0"],sk:[",","\xA0"],sl:[",","."],sr:[",","."],sv:[",","\xA0"],th:[".",","],tr:[",","."],uk:[",","\xA0"],vi:[",","."],zh:[".",","]};function IQ(e){e||(e=gs());let t=e in j7;if(!t){const s=e.split("-");s.length>1&&s[0]in j7&&(e=s[0],t=!0),t||(e="en")}const[r,i,n="#,##0.###"]=j7[e];return{decimal:r,group:i,pattern:n}}function jve(e,t){const r=IQ((t={...t}).locale);t.customs=r;const i=t.pattern||r.pattern;return isNaN(e)||Math.abs(e)===1/0?null:Vve(e,i,t)}const $Q=/[#0,]*[#0](?:\.0*#*)?/;function Vve(e,t,r){const i=(r=r||{}).customs.group,n=r.customs.decimal,s=t.split(";"),a=s[0];if((t=s[e<0?1:0]||"-"+a).includes("%"))e*=100;else if(t.includes("\u2030"))e*=1e3;else{if(t.includes("\xA4"))throw new Error("currency notation not supported");if(t.includes("E"))throw new Error("exponential notation not supported")}const o=$Q,l=a.match(o);if(!l)throw new Error("unable to find a number expression in pattern: "+t);return r.fractional===!1&&(r.places=0),t.replace(o,zve(e,l[0],{decimal:n,group:i,places:r.places,round:r.round}))}function zve(e,t,r){(r=r||{}).places===!0&&(r.places=0),r.places===1/0&&(r.places=6);const i=t.split("."),n=typeof r.places=="string"&&r.places.indexOf(",");let s=r.places;n?s=r.places.substring(n+1):s>=0||(s=(i[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(s))));const a=String(Math.abs(e)).split("."),o=a[1]||"";if(i[1]||r.places){n&&(r.places=r.places.substring(0,n));const g=r.places!==void 0?r.places:i[1]&&i[1].lastIndexOf("0")+1;g>o.length&&(a[1]=o.padEnd(Number(g),"0")),s<o.length&&(a[1]=o.substr(0,Number(s)))}else a[1]&&a.pop();const l=i[0].replace(",","");let c=l.indexOf("0");c!==-1&&(c=l.length-c,c>a[0].length&&(a[0]=a[0].padStart(c,"0")),l.includes("#")||(a[0]=a[0].substr(a[0].length-c)));let d,p,h=i[0].lastIndexOf(",");if(h!==-1){d=i[0].length-h-1;const g=i[0].substr(0,h);h=g.lastIndexOf(","),h!==-1&&(p=g.length-h-1)}const m=[];for(let g=a[0];g;){const b=g.length-d;m.push(b>0?g.substr(b):g),g=b>0?g.slice(0,b):"",p&&(d=p,p=void 0)}return a[0]=m.reverse().join(r.group||","),a.join(r.decimal||".")}function Bve(e){const t=IQ((e=e||{}).locale),r=e.pattern||t.pattern,i=t.group,n=t.decimal;let s=1;if(r.includes("%"))s/=100;else if(r.includes("\u2030"))s/=1e3;else if(r.includes("\xA4"))throw new Error("currency notation not supported");const a=r.split(";");return a.length===1&&a.push("-"+a[0]),{regexp:n2(a,l=>(l="(?:"+_U(l,".")+")").replace($Q,c=>{const d={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:n,exponent:!1},p=c.split(".");let h=e.places;p.length===1&&s!==1&&(p[1]="###"),p.length===1||h===0?d.fractional=!1:(h===void 0&&(h=e.pattern?p[1].lastIndexOf("0")+1:1/0),h&&e.fractional==null&&(d.fractional=!0),!e.places&&h<p[1].length&&(h+=","+p[1].length),d.places=h);const m=p[0].split(",");return m.length>1&&(d.groupSize=m.pop().length,m.length>1&&(d.groupSize2=m.pop().length)),"("+Gve(d)+")"}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:n,factor:s}}function Uve(e,t){const r=Bve(t),i=new RegExp("^"+r.regexp+"$").exec(e);if(!i)return NaN;let n=i[1];if(!i[1]){if(!i[2])return NaN;n=i[2],r.factor*=-1}return n=n.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(n)*r.factor}function Gve(e){"places"in(e=e||{})||(e.places=1/0),typeof e.decimal!="string"&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=sD(e),r=n2(e.fractional,n=>{let s="";return n&&e.places!==0&&(s="\\"+e.decimal,e.places===1/0?s="(?:"+s+"\\d+)?":s+="\\d{"+e.places+"}"),s},!0);let i=t+r;return r&&(i="(?:(?:"+i+")|(?:"+r+"))"),i+n2(e.exponent,n=>n?"([eE]"+sD({signed:e.eSigned})+")":"")}function sD(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",n2(e.signed,t=>t?"[-+]":"",!0)+n2(e.separator,t=>{if(!t)return"(?:\\d+)";(t=_U(t))===" "?t="\\s":t==="\xA0"&&(t="\\s\\xa0");const r=e.groupSize,i=e.groupSize2;if(i){const n="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+r+"})";return r-i>0?"(?:"+n+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":n}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"},!0)}const n2=(e,t,r)=>{if(!(e instanceof Array))return t(e);const i=[];for(let n=0;n<e.length;n++)i.push(t(e[n]));return qve(i.join("|"),r)},qve=(e,t)=>"("+(t?"?:":"")+e+")";var aD,oD;function VRe(e){return os.fromJSON(e.toJSON())}function Hve(e){return e.toJSON?e.toJSON():e}function zRe(e){return typeof e=="string"||e instanceof String}function BRe(e){return typeof e=="number"}function lD(e){return e instanceof Date}function URe(e,t){return e===t||!(!lD(e)||!lD(t))&&e.getTime()===t.getTime()}function GRe(e){if(e===void 0)return null;if(typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function qRe(e){if(e===null)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new Ve({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function HRe(e){if(e===void 0)return null;if(typeof e=="number"||typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(function(e){e[e.Standardised=0]="Standardised",e[e.StandardisedNoInterval=1]="StandardisedNoInterval",e[e.SqlServer=2]="SqlServer",e[e.Oracle=3]="Oracle",e[e.Postgres=4]="Postgres",e[e.PGDB=5]="PGDB",e[e.FILEGDB=6]="FILEGDB",e[e.NotEvaluated=7]="NotEvaluated"})(aD||(aD={})),function(e){e[e.InFeatureSet=0]="InFeatureSet",e[e.NotInFeatureSet=1]="NotInFeatureSet",e[e.Unknown=2]="Unknown"}(oD||(oD={}));const WRe=1e3,JRe={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},cD={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},ZRe={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function QRe(e){return e===void 0?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function YRe(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const r=typeof t.cycles=="boolean"&&t.cycles,i=t.cmp&&(n=t.cmp,function(a){return function(o,l){const c={key:o,value:a[o]},d={key:l,value:a[l]};return n(c,d)}});var n;const s=[];return function a(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o===void 0)return;if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);let l,c;if(Array.isArray(o)){for(c="[",l=0;l<o.length;l++)l&&(c+=","),c+=a(o[l])||"null";return c+"]"}if(o===null)return"null";if(s.includes(o)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const d=s.push(o)-1,p=Object.keys(o).sort(i&&i(o));for(c="",l=0;l<p.length;l++){const h=p[l],m=a(o[h]);m&&(c&&(c+=","),c+=JSON.stringify(h)+":"+m)}return s.splice(d,1),"{"+c+"}"}(e)}class TQ{constructor(t){this.value=t}}class CQ{constructor(t){this.value=t}}class Wk{constructor(t){this.fn=t}}class Jk{constructor(t,r){this.paramCount=r,this.fn=t}}const Wve=Wk,Jve=CQ,Zve=TQ,Qve=Jk,ls={type:"VOID"},Yve={type:"BREAK"},Kve={type:"CONTINUE"};function s2(e,t,r){return t===""||t==null||t===r||t===r?e:e=e.split(t).join(r)}function Zk(e){return e instanceof Wk||e instanceof j2e||e instanceof Jk}function i6(e){return!!mi(e)||!!nn(e)||!!Ri(e)||!!rn(e)||e===null||e===ls||typeof e=="number"}function Xve(e,t){return e===void 0?t:e}function mi(e){return typeof e=="string"||e instanceof String}function rn(e){return typeof e=="boolean"}function nn(e){return typeof e=="number"}function e5e(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function da(e){return e instanceof Array}function t5e(e){return(e==null?void 0:e.arcadeDeclaredClass)==="esri.arcade.Feature"}function r5e(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureset.support.FeatureSet")===!0}function i5e(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureSetCollection")===!0}function Op(e){return e instanceof ul}function Ri(e){return e instanceof Date}function n5e(e,t,r){if(e.length<t||e.length>r)throw new Error("Function called with wrong number of Parameters")}function s5e(e){return e<0?-Math.round(-e):Math.round(e)}function a5e(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(t==="x"?r:3&r|8).toString(16)})}function Qk(e,t){return isNaN(e)===!1?t==null||t===""?e.toString():(t=s2(t,"\u2030",""),t=s2(t,"\xA4",""),jve(e,{pattern:t})):e.toString()}function jw(e,t){const r=je.fromJSDate(e);return t==null||t===""?r.toISO({suppressMilliseconds:!0}):r.toFormat(EQ(t),{locale:gs(),numberingSystem:"latn"})}function EQ(e){e=e.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let t="";const r=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const i of e.match(r))switch(i){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"Z":t+="ZZ";break;case"ZZ":t+="ZZZ";break;case"S":t+="'S'";break;case"SS":t+="'SS'";break;case"SSS":t+="u";break;case"A":case"a":t+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":t+=i;break;default:i.length>=2&&i.slice(0,1)==="["&&i.slice(-1)==="]"?t+=`'${i.slice(1,-1)}'`:t+=`'${i}'`}return t}function bt(e,t,r){switch(r){case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}return!1}function o5e(e,t,r){if(e===null){if(t===null||t===ls)return bt(null,null,r);if(nn(t))return bt(0,t,r);if(mi(t)||rn(t))return bt(0,Qt(t),r);if(Ri(t))return bt(0,t.getTime(),r)}if(e===ls){if(t===null||t===ls)return bt(null,null,r);if(nn(t))return bt(0,t,r);if(mi(t)||rn(t))return bt(0,Qt(t),r);if(Ri(t))return bt(0,t.getTime(),r)}else if(nn(e)){if(nn(t))return bt(e,t,r);if(rn(t))return bt(e,Qt(t),r);if(t===null||t===ls)return bt(e,0,r);if(mi(t))return bt(e,Qt(t),r);if(Ri(t))return bt(e,t.getTime(),r)}else if(mi(e)){if(mi(t))return bt(ad(e),ad(t),r);if(Ri(t))return bt(Qt(e),t.getTime(),r);if(nn(t))return bt(Qt(e),t,r);if(t===null||t===ls)return bt(Qt(e),0,r);if(rn(t))return bt(Qt(e),Qt(t),r)}else if(Ri(e)){if(Ri(t))return bt(e,t,r);if(t===null||t===ls)return bt(e.getTime(),0,r);if(nn(t))return bt(e.getTime(),t,r);if(rn(t)||mi(t))return bt(e.getTime(),Qt(t),r)}else if(rn(e)){if(rn(t))return bt(e,t,r);if(nn(t))return bt(Qt(e),Qt(t),r);if(Ri(t))return bt(Qt(e),t.getTime(),r);if(t===null||t===ls)return bt(Qt(e),0,r);if(mi(t))return bt(Qt(e),Qt(t),r)}return!!kQ(e,t)&&(r==="<="||r===">=")}function kQ(e,t){if(e===t||e===null&&t===ls||t===null&&e===ls)return!0;if(Ri(e)&&Ri(t))return e.getTime()===t.getTime();if(e instanceof Nk||e instanceof Zp)return e.equalityTest(t);if(e instanceof be&&t instanceof be){const r=e.cache._arcadeCacheId,i=t.cache._arcadeCacheId;if(r!=null)return r===i}return e!==void 0&&t!==void 0&&e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&(e._arcadeCacheId===t._arcadeCacheId&&e._arcadeCacheId!==void 0&&e._arcadeCacheId!==null||e._underlyingGraphic===t._underlyingGraphic&&e._underlyingGraphic!==void 0&&e._underlyingGraphic!==null)}function ad(e,t){if(mi(e))return e;if(e===null)return"";if(nn(e))return Qk(e,t);if(rn(e))return e.toString();if(Ri(e))return jw(e,t);if(e instanceof Vn)return JSON.stringify(e.toJSON());if(da(e)){const r=[];for(let i=0;i<e.length;i++)r[i]=n6(e[i]);return"["+r.join(",")+"]"}if(e instanceof ul){const r=[];for(let i=0;i<e.length();i++)r[i]=n6(e.get(i));return"["+r.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():Zk(e)?"object, Function":""}function l5e(e){const t=[];if(da(e)===!1)return null;if(e instanceof ul){for(let r=0;r<e.length();r++)t[r]=Qt(e.get(r));return t}for(let r=0;r<e.length;r++)t[r]=Qt(e[r]);return t}function N5(e,t){if(mi(e))return e;if(e===null)return"";if(nn(e))return Qk(e,t);if(rn(e))return e.toString();if(Ri(e))return jw(e,t);if(e instanceof Vn)return e instanceof Ve?'{"xmin":'+e.xmin.toString()+',"ymin":'+e.ymin.toString()+","+(e.hasZ?'"zmin":'+e.zmin.toString()+",":"")+(e.hasM?'"mmin":'+e.mmin.toString()+",":"")+'"xmax":'+e.xmax.toString()+',"ymax":'+e.ymax.toString()+","+(e.hasZ?'"zmax":'+e.zmax.toString()+",":"")+(e.hasM?'"mmax":'+e.mmax.toString()+",":"")+'"spatialReference":'+RI(e.spatialReference)+"}":RI(e.toJSON(),(r,i)=>r.key===i.key?0:r.key==="spatialReference"?1:i.key==="spatialReference"||r.key<i.key?-1:r.key>i.key?1:0);if(da(e)){const r=[];for(let i=0;i<e.length;i++)r[i]=n6(e[i]);return"["+r.join(",")+"]"}if(e instanceof ul){const r=[];for(let i=0;i<e.length();i++)r[i]=n6(e.get(i));return"["+r.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():Zk(e)?"object, Function":""}function n6(e){if(e===null)return"null";if(rn(e)||nn(e)||mi(e))return JSON.stringify(e);if(e instanceof Vn||e instanceof ul||e instanceof Array)return N5(e);if(e instanceof Date)return JSON.stringify(jw(e,""));if(e!==null&&typeof e=="object"){if(e.castToText!==void 0)return e.castToText()}else if(e===ls)return"null";return"null"}function Qt(e,t){return nn(e)?e:e===null||e===""?0:Ri(e)?NaN:rn(e)?e?1:0:da(e)||e===""||e===void 0?NaN:t!==void 0&&mi(e)?(t=s2(t,"\u2030",""),t=s2(t,"\xA4",""),Uve(e,{pattern:t})):e===ls?0:Number(e)}function c5e(e){if(Ri(e))return e;if(mi(e)){const t=AQ(e);if(t)return t.toJSDate()}return null}function u5e(e){return Ri(e)?je.fromJSDate(e):mi(e)?AQ(e):null}function AQ(e){const t=/ (\d\d)/;let r=je.fromISO(e);return r.isValid||t.test(e)&&(e=e.replace(t,"T$1"),r=je.fromISO(e),r.isValid)?r:null}function d5e(e){return rn(e)?e:mi(e)?(e=e.toLowerCase())==="true":!!nn(e)&&e!==0&&!isNaN(e)}function f5e(e,t){return B(e)?null:(e.spatialReference!==null&&e.spatialReference!==void 0||(e.spatialReference=t),e)}function p5e(e){if(e===null)return null;if(e instanceof be)return e.x==="NaN"||e.x===null||isNaN(e.x)?null:e;if(e instanceof _s){if(e.rings.length===0)return null;for(const t of e.rings)if(t.length>0)return e;return null}if(e instanceof ps){if(e.paths.length===0)return null;for(const t of e.paths)if(t.length>0)return e;return null}return e instanceof Bp?e.points.length===0?null:e:e instanceof Ve?e.xmin==="NaN"||e.xmin===null||isNaN(e.xmin)?null:e:null}function LQ(e,t){if(!e||!e.domain)return t;let r=null;if(e.field.type==="string"||e.field.type==="esriFieldTypeString")t=ad(t);else{if(t==null)return null;if(t==="")return t;t=Qt(t)}for(let i=0;i<e.domain.codedValues.length;i++){const n=e.domain.codedValues[i];n.code===t&&(r=n)}return r===null?t:r.name}function RQ(e,t){if(!e||!e.domain)return t;let r=null;t=ad(t);for(let i=0;i<e.domain.codedValues.length;i++){const n=e.domain.codedValues[i];n.name===t&&(r=n)}return r===null?t:r.code}function Vw(e,t,r=null,i=null){if(!t||!t.fields)return null;let n,s,a=null;for(let o=0;o<t.fields.length;o++){const l=t.fields[o];l.name.toLowerCase()===e.toString().toLowerCase()&&(a=l)}if(a===null)throw new Error("Field not found");return i===null&&r&&t.typeIdField&&(i=r.hasField(t.typeIdField)?r.field(t.typeIdField):null),i!=null&&t.types.some(function(o){return o.id===i&&(n=o.domains&&o.domains[a.name],n&&n.type==="inherited"&&(n=uD(a.name,t),s=!0),!0)}),s||n||(n=uD(e,t)),{field:a,domain:n}}function uD(e,t){let r;return t.fields.some(function(i){return i.name.toLowerCase()===e.toLowerCase()&&(r=i.domain),!!r}),r}function RI(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const r=typeof t.cycles=="boolean"&&t.cycles,i=t.cmp&&(n=t.cmp,function(a){return function(o,l){const c={key:o,value:a[o]},d={key:l,value:a[l]};return n(c,d)}});var n;const s=[];return function a(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o===void 0)return;if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);let l,c;if(Array.isArray(o)){for(c="[",l=0;l<o.length;l++)l&&(c+=","),c+=a(o[l])||"null";return c+"]"}if(o===null)return"null";if(s.includes(o)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const d=s.push(o)-1,p=Object.keys(o).sort(i&&i(o));for(c="",l=0;l<p.length;l++){const h=p[l],m=a(o[h]);m&&(c&&(c+=","),c+=JSON.stringify(h)+":"+m)}return s.splice(d,1),"{"+c+"}"}(e)}function h5e(e){if(e===null)return null;const t=[];for(const r of e)r&&r.arcadeDeclaredClass&&r.arcadeDeclaredClass==="esri.arcade.Feature"?t.push(r.geometry()):t.push(r);return t}function Bm(e,t){if(!(t instanceof be))throw new Error("Invalid Argument");e.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}function m5e(e,t){if(da(e)||Op(e)){let r=!1,i=!1,n=[],s=t;if(da(e)){for(const a of e)Bm(n,a);n.length>0&&(s=e[0].spatialReference,r=e[0].hasZ,i=e[0].hasM)}else if(e instanceof Zp)n=e._elements,n.length>0&&(r=e._hasZ,i=e._hasM,s=e.get(0).spatialReference);else{if(!Op(e))throw new Error("Invalid Argument");for(const a of e.toArray())Bm(n,a);n.length>0&&(s=e.get(0).spatialReference,r=e.get(0).hasZ===!0,i=e.get(0).hasM===!0)}return n.length===0?null:($E(n,i,r)===!1&&(n=n.slice(0).reverse()),new _s({rings:[n],spatialReference:s,hasZ:r,hasM:i}))}return e}function y5e(e,t){if(da(e)||Op(e)){let r=!1,i=!1,n=[],s=t;if(da(e)){for(const a of e)Bm(n,a);n.length>0&&(s=e[0].spatialReference,r=e[0].hasZ===!0,i=e[0].hasM===!0)}else if(e instanceof Zp)n=e._elements,n.length>0&&(r=e._hasZ,i=e._hasM,s=e.get(0).spatialReference);else if(Op(e)){for(const a of e.toArray())Bm(n,a);n.length>0&&(s=e.get(0).spatialReference,r=e.get(0).hasZ===!0,i=e.get(0).hasM===!0)}return n.length===0?null:new ps({paths:[n],spatialReference:s,hasZ:r,hasM:i})}return e}function g5e(e,t){if(da(e)||Op(e)){let r=!1,i=!1,n=[],s=t;if(da(e)){for(const a of e)Bm(n,a);n.length>0&&(s=e[0].spatialReference,r=e[0].hasZ===!0,i=e[0].hasM===!0)}else if(e instanceof Zp)n=e._elements,n.length>0&&(r=e._hasZ,i=e._hasM,s=e.get(0).spatialReference);else if(Op(e)){for(const a of e.toArray())Bm(n,a);n.length>0&&(s=e.get(0).spatialReference,r=e.get(0).hasZ===!0,i=e.get(0).hasM===!0)}return n.length===0?null:new Bp({points:n,spatialReference:s,hasZ:r,hasM:i})}return e}function b5e(e,t=!1){const r=[];if(e===null)return r;if(da(e)===!0){for(let i=0;i<e.length;i++){const n=ad(e[i]);n===""&&t!==!0||r.push(n)}return r}if(e instanceof ul){for(let i=0;i<e.length();i++){const n=ad(e.get(i));n===""&&t!==!0||r.push(n)}return r}if(i6(e)){const i=ad(e);return i===""&&t!==!0||r.push(i),r}return[]}let V7=0;function v5e(e){return V7++,V7%100==0?(V7=0,new Promise(t=>{setTimeout(()=>{t(e)},0)})):e}function w5e(e,t,r){switch(r){case"&":return e&t;case"|":return e|t;case"^":return e^t;case"<<":return e<<t;case">>":return e>>t;case">>>":return e>>>t}}function a2(e,t=null){return e==null?null:rn(e)||nn(e)||mi(e)?e:e instanceof Vn?(t==null?void 0:t.keepGeometryType)===!0?e:e.toJSON():e instanceof ul?e.toArray().map(r=>a2(r,t)):e instanceof Array?e.map(r=>a2(r,t)):e instanceof Date?e:e!==null&&typeof e=="object"&&e.castAsJson!==void 0?e.castAsJson(t):null}async function _5e(e,t,r,i,n){const s=await Yk(e,t,r);n[i]=s}async function Yk(e,t=null,r=null){if(e instanceof ul&&(e=e.toArray()),e==null)return null;if(i6(e)||e instanceof Vn||e instanceof Date)return a2(e,r);if(e instanceof Array){const i=[],n=[];for(const s of e)s===null||i6(s)||s instanceof Vn||s instanceof Date?n.push(a2(s,r)):(n.push(null),i.push(_5e(s,t,r,n.length-1,n)));return i.length>0&&await Promise.all(i),n}return e!==null&&typeof e=="object"&&e.castAsJsonAsync!==void 0?e.castAsJsonAsync(t,r):null}function S5e(e,t,r){const i=e.fullSchema();return i===null||!i.fields?null:Vw(t,i,e,r)}function x5e(e){const t=e.fullSchema();return t===null?null:t.fields&&t.typeIdField?{subtypeField:t.typeIdField,subtypes:t.types?t.types.map(r=>({name:r.name,code:r.id})):[]}:null}function M5e(e,t,r,i){const n=e.fullSchema();if(n===null||!n.fields)return null;const s=Vw(t,n,e,i);if(r===void 0)try{r=e.field(t)}catch{return null}return LQ(s,r)}function I5e(e,t,r,i){const n=e.fullSchema();if(n===null||!n.fields)return null;if(r===void 0){try{r=e.field(t)}catch{return null}return r}return RQ(Vw(t,n,e,i),r)}function $5e(e){const t=e.fullSchema();if(t===null||!t.fields)return null;const r=[];for(const i of t.fields)r.push(Hve(i));return{objectIdField:t.objectIdField,globalIdField:t.globalIdField,geometryType:cD[t.geometryType]===void 0?"":cD[t.geometryType],fields:r}}const KRe=Object.freeze(Object.defineProperty({__proto__:null,ReturnResultE:TQ,ImplicitResultE:CQ,NativeFunctionE:Wk,SizzleFunctionE:Jk,NativeFunction:Wve,ImplicitResult:Jve,ReturnResult:Zve,SizzleFunction:Qve,voidOperation:ls,breakResult:Yve,continueResult:Kve,multiReplace:s2,isFunctionParameter:Zk,isSimpleType:i6,defaultUndefined:Xve,isString:mi,isBoolean:rn,isNumber:nn,isInteger:e5e,isArray:da,isFeature:t5e,isFeatureSet:r5e,isFeatureSetCollection:i5e,isImmutableArray:Op,isDate:Ri,pcCheck:n5e,absRound:s5e,generateUUID:a5e,formatNumber:Qk,formatDate:jw,standardiseDateFormat:EQ,greaterThanLessThan:o5e,equalityTest:kQ,toString:ad,toNumberArray:l5e,toStringExplicit:N5,toNumber:Qt,toDate:c5e,toDateTime:u5e,toBoolean:d5e,fixSpatialReference:f5e,fixNullGeometry:p5e,getDomainValue:LQ,getDomainCode:RQ,getDomain:Vw,stableStringify:RI,autoCastFeatureToGeometry:h5e,autoCastArrayOfPointsToPolygon:m5e,autoCastArrayOfPointsToPolyline:y5e,autoCastArrayOfPointsToMultiPoint:g5e,toStringArray:b5e,tick:v5e,binaryOperator:w5e,castAsJson:a2,castAsJsonAsync:Yk,featureFullDomain:S5e,featureSubtypes:x5e,featureDomainValueLookup:M5e,featureDomainCodeLookup:I5e,featureSchema:$5e},Symbol.toStringTag,{value:"Module"}));var PI;let ib=PI=class extends Z{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new PI({minValue:this.minValue,maxValue:this.maxValue})}};u([f({type:Number,json:{write:!0}})],ib.prototype,"minValue",void 0),u([f({type:Number,json:{write:!0}})],ib.prototype,"maxValue",void 0),ib=PI=u([E("esri.renderer.support.AuthoringInfoClassBreakInfo")],ib);var OI;let ku=OI=class extends Z{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new OI({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:D(this.classBreakInfos)})}};u([f({type:String,json:{write:!0}})],ku.prototype,"field",void 0),u([f({type:String,json:{write:!0}})],ku.prototype,"normalizationField",void 0),u([f({type:String,json:{write:!0}})],ku.prototype,"label",void 0),u([f({type:[ib],json:{write:!0}})],ku.prototype,"classBreakInfos",void 0),ku=OI=u([E("esri.renderers.support.AuthoringInfoFieldInfo")],ku);var FI;const K3=new Le({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),X3=new Le({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),dD={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},fD=["high-to-low","above-and-below","centered-on","extremes"],pD=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],hD=["seconds","minutes","hours","days","months","years"];let wn=FI=class extends Z{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new FI({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};u([f({types:dD,json:{write:!0}})],wn.prototype,"endTime",void 0),u([Ze("endTime")],wn.prototype,"castEndTime",null),u([f({type:String,json:{write:!0}})],wn.prototype,"field",void 0),u([f({type:Number,json:{write:!0}})],wn.prototype,"maxSliderValue",void 0),u([f({type:Number,json:{write:!0}})],wn.prototype,"minSliderValue",void 0),u([f({types:dD,json:{write:!0}})],wn.prototype,"startTime",void 0),u([Ze("startTime")],wn.prototype,"castStartTime",null),u([f({type:K3.apiValues,value:null,json:{type:K3.jsonValues,read:K3.read,write:K3.write}})],wn.prototype,"style",null),u([f({type:pD,value:null,json:{type:pD,origins:{"web-scene":{type:fD,write:{writer:(e,t)=>{fD.includes(e)&&(t.theme=e)}}}},write:!0}})],wn.prototype,"theme",null),u([f({type:X3.apiValues,json:{type:X3.jsonValues,read:X3.read,write:X3.write}})],wn.prototype,"type",void 0),u([f({type:hD,json:{type:hD,write:!0}})],wn.prototype,"units",void 0),wn=FI=u([E("esri.renderers.support.AuthoringInfoVisualVariable")],wn);const T5e=wn;let j5=class extends Z{constructor(e){super(e),this.type=null}};u([f({readOnly:!0,json:{read:!1,write:!0}})],j5.prototype,"type",void 0),j5=u([E("esri.rest.support.ColorRamp")],j5);const Kk=j5;var DI;let cf=DI=class extends Kk{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new DI({fromColor:D(this.fromColor),toColor:D(this.toColor),algorithm:this.algorithm})}};u([ge({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],cf.prototype,"algorithm",void 0),u([f({type:re,json:{type:[Xe],write:!0}})],cf.prototype,"fromColor",void 0),u([f({type:re,json:{type:[Xe],write:!0}})],cf.prototype,"toColor",void 0),u([f({type:["algorithmic"]})],cf.prototype,"type",void 0),cf=DI=u([E("esri.rest.support.AlgorithmicColorRamp")],cf);const Xk=cf;var NI;let nb=NI=class extends Kk{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new NI({colorRamps:D(this.colorRamps)})}};u([f({type:[Xk],json:{write:!0}})],nb.prototype,"colorRamps",void 0),u([f({type:["multipart"]})],nb.prototype,"type",void 0),nb=NI=u([E("esri.rest.support.MultipartColorRamp")],nb);const zw=nb,Bw={key:"type",base:Kk,typeMap:{algorithmic:Xk,multipart:zw}};function Uw(e){return e&&e.type?e.type==="algorithmic"?Xk.fromJSON(e):e.type==="multipart"?zw.fromJSON(e):null:null}var jI;const Ld=new Le({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),ev=new Le({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),mD=new Le({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),yD=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],C5e=["high-to-low","above-and-below","above","below","90-10"],E5e=["flow-line","wave-front"],k5e=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let yr=jI=class extends Z{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return Uw(e)}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new jI({classificationMethod:this.classificationMethod,colorRamp:D(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:D(this.field1),field2:D(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};u([f({type:Ld.apiValues,value:null,json:{type:Ld.jsonValues,read:Ld.read,write:Ld.write,origins:{"web-document":{default:"manual",type:Ld.jsonValues,read:Ld.read,write:Ld.write}}}})],yr.prototype,"classificationMethod",null),u([f({types:Bw,json:{write:!0}})],yr.prototype,"colorRamp",void 0),u([ie("colorRamp")],yr.prototype,"readColorRamp",null),u([f({type:[String],value:null,json:{write:!0}})],yr.prototype,"fields",null),u([f({type:ku,value:null,json:{write:!0}})],yr.prototype,"field1",null),u([f({type:ku,value:null,json:{write:!0}})],yr.prototype,"field2",null),u([f({type:E5e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],yr.prototype,"flowTheme",null),u([f({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],yr.prototype,"focus",null),u([f({type:Number,value:null,json:{type:Xe,write:!0}})],yr.prototype,"numClasses",null),u([f({type:yD,json:{type:yD,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],yr.prototype,"lengthUnit",void 0),u([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],yr.prototype,"maxSliderValue",void 0),u([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],yr.prototype,"minSliderValue",void 0),u([f({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],yr.prototype,"statistics",null),u([f({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],yr.prototype,"standardDeviationInterval",null),u([f({type:ev.apiValues,value:null,json:{type:ev.jsonValues,read:ev.read,write:ev.write,origins:{"web-scene":{type:mD.jsonValues,write:{writer:mD.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],yr.prototype,"type",null),u([f({type:[T5e],json:{write:!0}})],yr.prototype,"visualVariables",void 0),u([f({type:k5e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],yr.prototype,"univariateSymbolStyle",null),u([f({type:C5e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],yr.prototype,"univariateTheme",null),yr=jI=u([E("esri.renderers.support.AuthoringInfo")],yr);const Gw=yr,z7=new Le({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let sb=class extends Z{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};u([f({type:Gw,json:{write:!0}})],sb.prototype,"authoringInfo",void 0),u([f({type:z7.apiValues,readOnly:!0,json:{type:z7.jsonValues,read:!1,write:{writer:z7.write,ignoreOrigin:!0}}})],sb.prototype,"type",void 0),sb=u([E("esri.renderers.Renderer")],sb);const $c=sb;var VI;let oo=VI=class extends Z{constructor(){super(...arguments),this.title=null}clone(){return new VI({title:this.title})}};u([f({type:String,json:{write:!0}})],oo.prototype,"title",void 0),oo=VI=u([E("esri.renderers.support.LegendOptions")],oo);var zI;let V5=zI=class extends oo{constructor(){super(...arguments),this.showLegend=null}clone(){return new zI({title:this.title,showLegend:this.showLegend})}};u([f({type:Boolean,json:{write:!0}})],V5.prototype,"showLegend",void 0),V5=zI=u([E("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],V5);const PQ=V5,A5e=ae.getLogger("esri.renderers.visualVariables.VisualVariable"),B7=new Le({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let La=class extends Z{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(A5e.error(".field: field must be a string value"),null):$2(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};u([f()],La.prototype,"index",void 0),u([f({type:B7.apiValues,readOnly:!0,json:{read:B7.read,write:B7.write}})],La.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],La.prototype,"field",void 0),u([Ze("field")],La.prototype,"castField",null),u([f({type:String,json:{write:!0}})],La.prototype,"valueExpression",void 0),u([f({type:String,json:{write:!0}})],La.prototype,"valueExpressionTitle",void 0),u([f({readOnly:!0})],La.prototype,"arcadeRequired",null),u([f({type:PQ,json:{write:!0}})],La.prototype,"legendOptions",void 0),La=u([E("esri.renderers.visualVariables.VisualVariable")],La);const U2=La;var BI;let uf=BI=class extends U2{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new BI({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([f({readOnly:!0})],uf.prototype,"cache",null),u([f({type:["color"],json:{type:["colorInfo"]}})],uf.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],uf.prototype,"normalizationField",void 0),u([f({type:[IJ],json:{write:!0}})],uf.prototype,"stops",null),uf=BI=u([E("esri.renderers.visualVariables.ColorVariable")],uf);const OQ=uf;var UI;let su=UI=class extends Z{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return j1(t.transparency)}writeOpacity(e,t,r){t[r]=nw(e)}clone(){return new UI({label:this.label,opacity:this.opacity,value:this.value})}};u([f({type:String,json:{write:!0}})],su.prototype,"label",void 0),u([f({type:Number,json:{type:Xe,write:{target:"transparency"}}})],su.prototype,"opacity",void 0),u([ie("opacity",["transparency"])],su.prototype,"readOpacity",null),u([ce("opacity")],su.prototype,"writeOpacity",null),u([f({type:Number,json:{write:!0}})],su.prototype,"value",void 0),su=UI=u([E("esri.renderers.visualVariables.support.OpacityStop")],su);const L5e=su;var GI;let df=GI=class extends U2{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new GI({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([f({readOnly:!0})],df.prototype,"cache",null),u([f({type:["opacity"],json:{type:["transparencyInfo"]}})],df.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],df.prototype,"normalizationField",void 0),u([f({type:[L5e],json:{write:!0}})],df.prototype,"stops",null),df=GI=u([E("esri.renderers.visualVariables.OpacityVariable")],df);const FQ=df;var qI;let Ll=qI=class extends U2{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,i){if(i&&i.messages){const n=`visualVariables[${this.index}]`;i.messages.push(new R("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpressionTitle",context:i}))}}clone(){return new qI({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};u([f({readOnly:!0})],Ll.prototype,"cache",null),u([f({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Ll.prototype,"axis",void 0),u([f({type:["rotation"],json:{type:["rotationInfo"]}})],Ll.prototype,"type",void 0),u([f({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Ll.prototype,"rotationType",void 0),u([f({type:String,json:{write:!0}})],Ll.prototype,"valueExpressionTitle",void 0),u([ce("web-scene","valueExpressionTitle")],Ll.prototype,"writeValueExpressionTitleWebScene",null),Ll=qI=u([E("esri.renderers.visualVariables.RotationVariable")],Ll);const qw=Ll;var HI;let Bh=HI=class extends Z{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new HI({label:this.label,size:this.size,value:this.value})}};u([f({type:String,json:{write:!0}})],Bh.prototype,"label",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Bh.prototype,"size",void 0),u([f({type:Number,json:{write:!0}})],Bh.prototype,"value",void 0),Bh=HI=u([E("esri.renderers.visualVariables.support.SizeStop")],Bh);const R5e=Bh;var WI;let z5=WI=class extends PQ{constructor(){super(...arguments),this.customValues=null}clone(){return new WI({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};u([f({type:[Number],json:{write:!0}})],z5.prototype,"customValues",void 0),z5=WI=u([E("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],z5);const DQ=z5;var uc,Jr;function D0(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function o2(e){return e!=null&&!isNaN(e)&&isFinite(e)}function NQ(e){return e.valueExpression?uc.Expression:e.field&&typeof e.field=="string"?uc.Field:uc.Unknown}function P5e(e,t){const r=t||NQ(e),i=e.valueUnit||"unknown";return r===uc.Unknown?Jr.Constant:e.stops?Jr.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Jr.ClampedLinear:i==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Jr.Proportional:Jr.Additive:Jr.Identity:Jr.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(uc||(uc={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Jr||(Jr={}));const jQ={inches:js(1,"meters","inches"),feet:js(1,"meters","feet"),"us-feet":js(1,"meters","us-feet"),yards:js(1,"meters","yards"),miles:js(1,"meters","miles"),"nautical-miles":js(1,"meters","nautical-miles"),millimeters:js(1,"meters","millimeters"),centimeters:js(1,"meters","centimeters"),decimeters:js(1,"meters","decimeters"),meters:js(1,"meters","meters"),kilometers:js(1,"meters","kilometers"),"decimal-degrees":1/Gpe(1,"meters",Tt.radius)},vd=ae.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),gD=new vi,B5=Math.PI,VQ=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function zQ(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="color"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void vd.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const n=typeof t=="number",s=n?null:t,a=s&&s.attributes;let o=n?t:null;const l=i.field,{ipData:c,hasExpression:d}=i.cache;let p=i.cache.compiledFunc;if(!l&&!d){const g=i.stops;return g&&g[0]&&g[0].color}if(typeof o!="number")if(d){if(B(r)||B(r.arcade))return void vd.error("Use of arcade expressions requires an arcade context");const g={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},b=r.arcade.arcadeUtils,w=b.getViewInfo(g),v=b.createExecContext(s,w);if(!p){const _=b.createSyntaxTree(i.valueExpression);p=b.createFunction(_),i.cache.compiledFunc=p}o=b.executeFunction(p,v)}else a&&(o=a[l]);const h=i.normalizationField,m=a?parseFloat(a[h]):void 0;if(o!=null&&(!h||n||!isNaN(m)&&m!==0)){isNaN(m)||n||(o/=m);const g=tA(o,c);if(g){const b=g[0],w=g[1],v=b===w?i.stops[b].color:re.blendColors(i.stops[b].color,i.stops[w].color,g[2],C(r)?r.color:void 0);return new re(v)}}}function BQ(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="opacity"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void vd.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const n=typeof t=="number",s=n?null:t,a=s&&s.attributes;let o=n?t:null;const l=i.field,{ipData:c,hasExpression:d}=i.cache;let p=i.cache.compiledFunc;if(!l&&!d){const g=i.stops;return g&&g[0]&&g[0].opacity}if(typeof o!="number")if(d){if(B(r)||B(r.arcade))return void vd.error("Use of arcade expressions requires an arcade context");const g={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},b=r.arcade.arcadeUtils,w=b.getViewInfo(g),v=b.createExecContext(s,w);if(!p){const _=b.createSyntaxTree(i.valueExpression);p=b.createFunction(_),i.cache.compiledFunc=p}o=b.executeFunction(p,v)}else a&&(o=a[l]);const h=i.normalizationField,m=a?parseFloat(a[h]):void 0;if(o!=null&&(!h||n||!isNaN(m)&&m!==0)){isNaN(m)||n||(o/=m);const g=tA(o,c);if(g){const b=g[0],w=g[1];if(b===w)return i.stops[b].opacity;{const v=i.stops[b].opacity;return v+(i.stops[w].opacity-v)*g[2]}}}}function eA(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(m=>m.type==="rotation"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void vd.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const n=i.axis||"heading",s=n==="heading"&&i.rotationType==="arithmetic"?90:0,a=n==="heading"&&i.rotationType==="arithmetic"?-1:1,o=typeof t=="number"?null:t,l=o&&o.attributes,c=i.field,{hasExpression:d}=i.cache;let p=i.cache.compiledFunc,h=0;if(!c&&!d)return h;if(d){if(B(r)||B(r.arcade))return void vd.error("Use of arcade expressions requires an arcade context");const m={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,b=g.getViewInfo(m),w=g.createExecContext(o,b);if(!p){const v=g.createSyntaxTree(i.valueExpression);p=g.createFunction(v),i.cache.compiledFunc=p}h=g.executeFunction(p,w)}else l&&(h=l[c]||0);return h=typeof h!="number"||isNaN(h)?null:s+a*h,h}function O5e(e,t,r){const i=typeof t=="number",n=i?null:t,s=n&&n.attributes;let a=i?t:null;const{isScaleDriven:o}=e.cache;let l=e.cache.compiledFunc;if(o){const d=C(r)?r.scale:void 0,p=C(r)?r.view:void 0;a=d==null||p==="3d"?F5e(e):d}else if(!i)switch(e.inputValueType){case uc.Expression:{if(B(r)||B(r.arcade))return void vd.error("Use of arcade expressions requires an arcade context");const d={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},p=r.arcade.arcadeUtils,h=p.getViewInfo(d),m=p.createExecContext(n,h);if(!l){const g=p.createSyntaxTree(e.valueExpression);l=p.createFunction(g),e.cache.compiledFunc=l}a=p.executeFunction(l,m);break}case uc.Field:s&&(a=s[e.field]);break;case uc.Unknown:a=null}if(!o2(a))return null;if(i||!e.normalizationField)return a;const c=s?parseFloat(s[e.normalizationField]):null;return o2(c)&&c!==0?a/c:null}function F5e(e){let t=null,r=null;const i=e.stops;return i?(t=i[0].value,r=i[i.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function Hw(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(s=>s.type==="size"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void vd.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const n=GQ(O5e(i,t,r),i,t,r,i.cache.ipData);return n==null||isNaN(n)?0:n}function Dn(e,t,r){return e==null?null:D0(e)?Hw(e,t,r):o2(e)?e:null}function UQ(e,t,r){return o2(r)&&e>r?r:o2(t)&&e<t?t:e}function D5e(e,t,r,i){return e+(Dn(t.minSize,r,i)||t.minDataValue)}function N5e(e,t,r){const i=e.stops;let n=i&&i.length&&i[0].size;return n==null&&(n=e.minSize),Dn(n,t,r)}function j5e(e,t,r,i){const n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=Dn(t.minSize,r,i),a=Dn(t.maxSize,r,i),o=C(i)?i.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return a;if(t.scaleBy==="area"&&o){const l=o==="circle",c=l?B5*(s/2)**2:s*s,d=c+n*((l?B5*(a/2)**2:a*a)-c);return l?2*Math.sqrt(d/B5):Math.sqrt(d)}return s+n*(a-s)}function V5e(e,t,r,i){const n=C(i)?i.shape:void 0,s=e/t.minDataValue,a=Dn(t.minSize,r,i),o=Dn(t.maxSize,r,i);let l=null;return l=n==="circle"?2*Math.sqrt(s*(a/2)**2):n==="square"||n==="diamond"||n==="image"?Math.sqrt(s*a**2):s*a,UQ(l,a,o)}function z5e(e,t,r,i,n){const[s,a,o]=tA(e,n);if(s===a)return Dn(t.stops[s].size,r,i);{const l=Dn(t.stops[s].size,r,i);return l+(Dn(t.stops[a].size,r,i)-l)*o}}function B5e(e,t,r,i){const n=(C(i)&&i.resolution?i.resolution:1)*jQ[t.valueUnit],s=Dn(t.minSize,r,i),a=Dn(t.maxSize,r,i),{valueRepresentation:o}=t;let l=null;return l=o==="area"?2*Math.sqrt(e/B5)/n:o==="radius"||o==="distance"?2*e/n:e/n,UQ(l,s,a)}function GQ(e,t,r,i,n){switch(t.transformationType){case Jr.Additive:return D5e(e,t,r,i);case Jr.Constant:return N5e(t,r,i);case Jr.ClampedLinear:return j5e(e,t,r,i);case Jr.Proportional:return V5e(e,t,r,i);case Jr.Stops:return z5e(e,t,r,i,n);case Jr.RealWorldSize:return B5e(e,t,r,i);case Jr.Identity:return e;case Jr.Unknown:return null}}function U5e(e,t,r){const{isScaleDriven:i}=e.cache;if(!(i&&r==="3d"||t))return null;const n={scale:t,view:r};let s=Dn(e.minSize,gD,n),a=Dn(e.maxSize,gD,n);if(s!=null||a!=null){if(s>a){const o=a;a=s,s=o}return{minSize:s,maxSize:a}}}function G5e(e,t,r){if(!e.visualVariables)return;const i=[],n=[],s=[],a=[],o=[];for(const l of e.visualVariables)switch(l.type){case"color":n.push(l);break;case"opacity":s.push(l);break;case"rotation":o.push(l);break;case"size":a.push(l)}return n.forEach(l=>{const c=zQ(l,t,r);i.push({variable:l,value:c})}),s.forEach(l=>{const c=BQ(l,t,r);i.push({variable:l,value:c})}),o.forEach(l=>{const c=eA(l,t,r);i.push({variable:l,value:c})}),a.forEach(l=>{const c=Hw(l,t,r);i.push({variable:l,value:c})}),i.filter(l=>l.value!=null)}function tA(e,t){if(!t)return;let r=0,i=t.length-1;return t.some((n,s)=>e<n?(i=s,!0):(r=s,!1)),[r,i,(e-t[r])/(t[i]-t[r])]}function qQ(e,t,r){const i=["proportional","proportional","proportional"];for(const n of e){const s=n.useSymbolValue?"symbol-value":Hw(n,t,r);switch(n.axis){case"width":i[0]=s;break;case"depth":i[1]=s;break;case"height":i[2]=s;break;case"width-and-depth":i[0]=s,i[1]=s;break;case"all":case void 0:case null:i[0]=s,i[1]=s,i[2]=s;break;default:n.axis}}return i}const Yp=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:qQ,getColor:zQ,getOpacity:BQ,getRotationAngle:eA,getSize:Hw,getSizeForValue:GQ,getSizeFromNumberOrVariable:Dn,getSizeRangeAtScale:U5e,getVisualVariableValues:G5e,viewScaleRE:VQ},Symbol.toStringTag,{value:"Module"}));var JI;const ah=ae.getLogger("esri.renderers.visualVariables.SizeVariable"),tv=new Le({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),ZI=new Le({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function bD(e){if(e!=null)return typeof e=="string"||typeof e=="number"?Ye(e):e.type==="size"?D0(e)?e:(delete(e={...e}).type,new at(e)):void 0}function vD(e,t,r){if(typeof e!="object")return e;const i=new at;return i.read(e,r),i}let at=JI=class extends U2{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:VQ.test(this.valueExpression)}}set expression(e){ah.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){D0(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),D0(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return NQ(this)}set maxDataValue(e){e&&this.stops&&(ah.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(ah.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return bD(e)}readMaxSize(e,t,r){return vD(e,t,r)}set minDataValue(e){e&&this.stops&&(ah.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(ah.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return bD(e)}readMinSize(e,t,r){return vD(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(ah.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return P5e(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,i){if(e==="$view.scale"){if(i&&i.messages){const n=this.index,s=typeof n=="string"?n:`visualVariables[${n}]`;i.messages.push(new R("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:s+".valueExpression",context:i}))}}else t[r]=e}readValueUnit(e){return e?ZI.read(e):null}clone(){return new JI({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:D0(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:D0(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===Jr.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Jr.Stops){const e=this.stops,t=e.map(i=>i.size).reverse(),r=e.length;for(let i=0;i<r;i++)e[i].size=t[i];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([f({readOnly:!0})],at.prototype,"cache",null),u([f({type:tv.apiValues,json:{type:tv.jsonValues,origins:{"web-map":{read:!1}},read:tv.read,write:tv.write}})],at.prototype,"axis",void 0),u([f({type:String,value:null,json:{read:!1}})],at.prototype,"expression",null),u([f()],at.prototype,"index",null),u([f({type:String,readOnly:!0})],at.prototype,"inputValueType",null),u([f({type:DQ,json:{write:!0}})],at.prototype,"legendOptions",void 0),u([f({type:Number,value:null,json:{write:!0}})],at.prototype,"maxDataValue",null),u([f({type:Number,value:null,json:{write:!0}})],at.prototype,"maxSize",null),u([Ze("maxSize")],at.prototype,"castMaxSize",null),u([ie("maxSize")],at.prototype,"readMaxSize",null),u([f({type:Number,value:null,json:{write:!0}})],at.prototype,"minDataValue",null),u([f({type:Number,value:null,json:{write:!0}})],at.prototype,"minSize",null),u([Ze("minSize")],at.prototype,"castMinSize",null),u([ie("minSize")],at.prototype,"readMinSize",null),u([f({type:String,json:{write:!0}})],at.prototype,"normalizationField",void 0),u([f({readOnly:!0})],at.prototype,"arcadeRequired",null),u([f({type:String})],at.prototype,"scaleBy",void 0),u([f({type:[R5e],value:null,json:{write:!0}})],at.prototype,"stops",null),u([f({type:["outline"],json:{write:!0}})],at.prototype,"target",void 0),u([f({type:String,readOnly:!0})],at.prototype,"transformationType",null),u([f({type:["size"],json:{type:["sizeInfo"]}})],at.prototype,"type",void 0),u([f({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],at.prototype,"useSymbolValue",void 0),u([f({type:String,json:{write:!0}})],at.prototype,"valueExpression",void 0),u([ie("valueExpression",["valueExpression","expression"])],at.prototype,"readValueExpression",null),u([ce("web-scene","valueExpression")],at.prototype,"writeValueExpressionWebScene",null),u([f({type:["radius","diameter","area","width","distance"],json:{write:!0}})],at.prototype,"valueRepresentation",void 0),u([f({type:ZI.apiValues,json:{write:ZI.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],at.prototype,"valueUnit",void 0),u([ie("valueUnit")],at.prototype,"readValueUnit",null),at=JI=u([E("esri.renderers.visualVariables.SizeVariable")],at);const xs=at,q5e=ae.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),H5e={color:OQ,size:xs,opacity:FQ,rotation:qw},W5e=new Le({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),J5e=/^\[([^\]]+)\]$/i;let U5=class extends ye{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter(t=>!!t))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&e.sort((t,r)=>{let i=null;return i=t.target===r.target?0:t.target?1:-1,i});for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,r){const{rotationExpression:i,rotationType:n}=t,s=i&&i.match(J5e),a=s&&s[1];if(a&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:n,field:a})),e)return e.map(o=>{const l=W5e.read(o.type),c=H5e[l];c||(q5e.warn(`Unknown variable type: ${l}`),r&&r.messages&&r.messages.push(new Bi("visual-variable:unsupported",`visualVariable of type '${l}' is not supported`,{definition:o,context:r})));const d=new c;return d.read(o,r),d})}writeVariables(e,t){const r=[];for(const i of e){const n=i.toJSON(t);n&&r.push(n)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};u([f()],U5.prototype,"visualVariables",null),U5=u([E("esri.renderers.visualVariables.VisualVariableFactory")],U5);const Z5e=U5,Q5e={base:U2,key:"type",typeMap:{opacity:FQ,color:OQ,rotation:qw,size:xs}},Cd=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new Z5e}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,i,n){return this._vvFactory.readVariables(r,i,n)}writeVisualVariables(r,i,n,s){i[n]=this._vvFactory.writeVariables(r,s)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,i){return r?this.getVisualVariablesForType(r,i).length>0:this.getVisualVariablesForType("size",i).length>0||this.getVisualVariablesForType("color",i).length>0||this.getVisualVariablesForType("opacity",i).length>0||this.getVisualVariablesForType("rotation",i).length>0}getVisualVariablesForType(r,i){const n=this.visualVariables;return n?n.filter(s=>s.type===r&&(typeof i=="string"?s.target===i:i!==!1||!s.target)):[]}async collectVVRequiredFields(r,i){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(const s of n)s&&(s.field&&sa(r,i,s.field),s.normalizationField&&sa(r,i,s.normalizationField),s.valueExpression&&await un(r,i,s.valueExpression))}};return u([f({types:[Q5e],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),u([ie("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),u([ce("visualVariables")],t.prototype,"writeVisualVariables",null),t=u([E("esri.renderers.mixins.VisualVariablesMixin")],t),t},ag={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function Y5e(e,t=ag){var o,l;if(!e)return{symbol:null};const{retainId:r=ag.retainId,ignoreDrivers:i=ag.ignoreDrivers,hasLabelingContext:n=ag.hasLabelingContext,retainCIM:s=ag.retainCIM}=t;let a;if(sl(e)||e instanceof qp)a=e.clone();else if(e.type==="cim"){const c=(l=(o=e.data)==null?void 0:o.symbol)==null?void 0:l.type;if(c!=="CIMPointSymbol")return{error:new R("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${c||"unknown"}' is unsupported in 3D`,{symbol:e})};a=s?e.clone():ic.fromCIMSymbol(e)}else if(e instanceof qi)a=Dm.fromSimpleLineSymbol(e);else if(e instanceof Ni)a=ic.fromSimpleMarkerSymbol(e);else if(e instanceof cp)a=ic.fromPictureMarkerSymbol(e);else if(e instanceof po)a=Ap.fromSimpleFillSymbol(e);else{if(!(e instanceof my))return{error:new R("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=n?mw.fromTextSymbol(e):ic.fromTextSymbol(e)}if(r&&a.type!=="cim"&&(a.id=e.id),i&&sl(a))for(let c=0;c<a.symbolLayers.length;++c)a.symbolLayers.getItemAt(c)._ignoreDrivers=!0;return{symbol:a}}const K5e=["building-scene","integrated-mesh","point-cloud","scene"];function s6(e,t,r,i){const n=HQ(e,{},{context:i,isLabelSymbol:!1});C(n)&&(t[r]=n)}function wD(e,t,r,i){const n=HQ(e,{},{context:i,isLabelSymbol:!0});C(n)&&(t[r]=n)}function _D(e){return e instanceof hy||e instanceof qp}function HQ(e,t,r){var o;if(B(e))return null;const{context:i,isLabelSymbol:n}=r,s=i==null?void 0:i.origin,a=i==null?void 0:i.messages;if(s==="web-scene"&&!_D(e)){const l=Y5e(e,{retainCIM:!0,hasLabelingContext:n});return C(l.symbol)?l.symbol.write(t,i):(a==null||a.push(new R("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:l.error})),null)}return(s==="web-map"||s==="portal-item"&&!K5e.includes((o=i==null?void 0:i.layer)==null?void 0:o.type))&&_D(e)?(a==null||a.push(new R("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i)}function WQ(e,t){return tpe(e,null,t)}const G2={types:OH,json:{write:{writer:s6},origins:{"web-scene":{types:YP,write:{writer:s6},read:{reader:ay({types:YP})}}}}},JQ={types:{base:pn,key:"type",typeMap:{"simple-fill":up.typeMap["simple-fill"],"picture-fill":up.typeMap["picture-fill"],"polygon-3d":up.typeMap["polygon-3d"]}},json:{write:{writer:s6},origins:{"web-scene":{type:Ap,write:{writer:s6}}}}};var QI;let au=QI=class extends Z{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new QI({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};u([f({type:String,json:{write:!0}})],au.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],au.prototype,"label",void 0),u([f({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],au.prototype,"minValue",void 0),u([f({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],au.prototype,"maxValue",void 0),u([f(G2)],au.prototype,"symbol",void 0),au=QI=u([E("esri.renderers.support.ClassBreakInfo")],au);const Um=au;var YI;const rv=ae.getLogger("esri.renderers.ClassBreaksRenderer"),ZQ="log",G5="percent-of-total",q5="field",iv=new Le({esriNormalizeByLog:ZQ,esriNormalizeByPercentOfTotal:G5,esriNormalizeByField:q5}),X5e=_r(Um);let kr=YI=class extends Cd($c){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let i=t.minValue;return e.map(n=>{const s=new Um;return s.read(n,r),s.minValue==null&&(s.minValue=i),s.maxValue==null&&(s.maxValue=s.minValue),i=s.maxValue,s})}writeClassBreakInfos(e,t,r,i){const n=e.map(s=>s.write({},i));this._areClassBreaksConsecutive()&&n.forEach(s=>delete s.classMinValue),t[r]=n}castField(e){return e==null?e:typeof e=="function"?(rv.error(".field: field must be a string value"),null):$2(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&q5||r&&G5||null,t&&r&&rv.warn("warning: both normalizationField and normalizationTotal are set!")):e!==q5&&e!==G5||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let i=null;i=typeof e=="number"?new Um({minValue:e,maxValue:t,symbol:FH(r)}):X5e(D(e)),this.classBreakInfos.push(i),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let i=0;i<r;i++){const n=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(n[0]===e&&n[1]===t){this.classBreakInfos.splice(i,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(B(t)||B(t.arcade))&&rv.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&(B(t)||B(t.arcade))&&(r={...r,arcade:await uo()});const i=this.getBreakIndex(e,r);return i!==-1?this.classBreakInfos[i]:null}getSymbol(e,t){if(this.valueExpression&&(B(t)||B(t.arcade)))return void rv.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(B(t)||B(t.arcade))){const n=await uo(),{arcadeUtils:s}=n;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),r={...r,arcade:n}}const i=this.getBreakIndex(e,r);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((i,n)=>i+n.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new YI({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:D(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(i=>i.collectRequiredFields(e,t)),un(e,t,this.valueExpression)];sa(e,t,this.field),sa(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:n,arcade:s}=B6(t,{});let a=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const o=s.arcadeUtils;if(!a){const c=o.createSyntaxTree(this.valueExpression);a=o.createFunction(c),this._compiledValueExpression.compiledFunction=a}this._compiledValueExpression.valueExpression=this.valueExpression;const l=o.executeFunction(a,o.createExecContext(e,o.getViewInfo({viewingMode:r,scale:i,spatialReference:n})));return this._getBreakIndexfromInfos(l)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,i=this.normalizationType;let n=parseFloat(r[t]);if(i){const s=this.normalizationTotal,a=parseFloat(r[this.normalizationField]);if(i===ZQ)n=Math.log(n)*Math.LOG10E;else if(i!==G5||isNaN(s)){if(i===q5&&!isNaN(a)){if(isNaN(n)||isNaN(a))return-1;n/=a}}else n=n/s*100}return this._getBreakIndexfromInfos(n)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const i=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(i[0]<=e&&(t?e<=i[1]:e<i[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};u([f(JQ)],kr.prototype,"backgroundFillSymbol",void 0),u([f({type:[Um]})],kr.prototype,"classBreakInfos",void 0),u([ie("classBreakInfos")],kr.prototype,"readClassBreakInfos",null),u([ce("classBreakInfos")],kr.prototype,"writeClassBreakInfos",null),u([f({type:String,json:{write:!0}})],kr.prototype,"defaultLabel",void 0),u([f(G2)],kr.prototype,"defaultSymbol",void 0),u([f({type:String,json:{write:!0}})],kr.prototype,"field",void 0),u([Ze("field")],kr.prototype,"castField",null),u([f({type:Boolean})],kr.prototype,"isMaxInclusive",void 0),u([f({type:oo,json:{write:!0}})],kr.prototype,"legendOptions",void 0),u([f({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],kr.prototype,"minValue",null),u([f({type:String,json:{write:!0}})],kr.prototype,"normalizationField",void 0),u([f({type:Number,cast:e=>ds(e),json:{write:!0}})],kr.prototype,"normalizationTotal",void 0),u([f({type:iv.apiValues,value:null,json:{type:iv.jsonValues,read:iv.read,write:iv.write}})],kr.prototype,"normalizationType",null),u([ge({classBreaks:"class-breaks"})],kr.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],kr.prototype,"valueExpression",void 0),u([f({type:String,json:{write:!0}})],kr.prototype,"valueExpressionTitle",void 0),kr=YI=u([E("esri.renderers.ClassBreaksRenderer")],kr);const $y=kr;class e9e{constructor(t,r){this._storage=new kJ,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r,i){this._storage.put(t,r,i,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}const SD=ae.getLogger("esri.renderers.support.DictionaryLoader"),t9e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class rA{constructor(t,r,i){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new e9e(100),this.url=t,this.config=r,this.fieldMap=i}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{i=await this._dictionaryPromise}catch(m){if(zi(m))return this._dictionaryPromise=null,null}const n={};if(this.fieldMap)for(const m of this._symbolFields){const g=this.fieldMap[m];if(g&&t.attributes[g]!=null){const b=""+t.attributes[g];n[m]=b}else n[m]=""}const s=i(n,r);if(!s||typeof s!="string")return null;const a=WC(s).toString(),o=this._symbolCache.get(a);if(o)return o.catch(()=>{this._symbolCache.pop(a)}),o;const l=s.split(";"),c=[],d=[];for(const m of l)if(m)if(m.includes("po:")){const g=m.substr(3).split("|");if(g.length===3){const b=g[0],w=g[1];let v=g[2];if(w==="DashTemplate")v=v.split(" ").map(_=>Number(_));else if(w==="Color"){const _=new re(v).toRgba();v=[_[0],_[1],_[2],255*_[3]]}else v=Number(v);d.push({primitiveName:b,propertyName:w,value:v})}}else if(m.includes("|")){for(const g of m.split("|"))if(this._itemNames.has(g)){c.push(g);break}}else this._itemNames.has(m)&&c.push(m);const p=!C(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",h=this._cimPartsToCIMSymbol(c,d,p,r);return this._symbolCache.put(a,h,1),h}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void SD.error("no valid URL!");const r=$e(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:C(t)?t.signal:null}),[{data:i}]=await Promise.all([r,uo()]);if(!i)throw this._dictionaryPromise=null,new R("esri.renderers.DictionaryRenderer","Bad dictionary data!");const n=i.expression,s=i.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(i.itemsNames),this._symbolFields=s.symbol;const a={};if(this.config){const l=this.config;for(const c in l)a[c]=l[c]}if(s.configuration)for(const l of s.configuration)a.hasOwnProperty(l.name)||(a[l.name]=l.value);const o=[];if(C(t)&&t.fields&&this.fieldMap)for(const l of this._symbolFields){const c=this.fieldMap[l],d=t.fields.filter(p=>p.name===c);d.length>0&&o.push({...d[0],name:l})}return this._dictionaryPromise=hde(n,C(t)?t.spatialReference:null,o,a).then(l=>{const c={scale:0};return(d,p)=>{const h=l.repurposeFeature({geometry:null,attributes:d});return c.scale=C(p)?p.scale:void 0,l.evaluate({$feature:h,$view:c})}}).catch(l=>(SD.error("Creating dictinoary expression failed:",l),null)),this._dictionaryPromise}async _cimPartsToCIMSymbol(t,r,i,n){const s=new Array(t.length);for(let l=0;l<t.length;l++)s[l]=this._getSymbolPart(t[l],n);const a=await Promise.all(s),o=this.fieldMap;for(const l of a)QQ(l,o);return new L2({data:this._combineSymbolParts(a,r,i)})}async _getSymbolPart(t,r){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(s=>s.data);const i=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),n=$e(i,{responseType:"json",query:{f:"json"},...r});this._ongoingRequests.set(t,n);try{return(await n).data}catch(s){throw this._ongoingRequests.delete(t),s}}_combineSymbolParts(t,r,i){if(!t||t.length===0)return null;const n={...t[0]};if(t.length>1){n.symbolLayers=[];for(const s of t){const a=s;n.symbolLayers.unshift(...a.symbolLayers)}}return i&&(n.callout=t9e),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:r}}}function QQ(e,t){if(!e)return;const r=e.symbolLayers;if(!r)return;let i=r.length;for(;i--;){const n=r[i];n&&n.enable!==!1&&n.type==="CIMVectorMarker"&&r9e(n,t)}}function r9e(e,t){const r=e.markerGraphics;if(r)for(const i of r){if(!i)continue;const n=i.symbol;if(n)switch(n.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":QQ(n,t);break;case"CIMTextSymbol":n.fieldMap=t}}}const XRe=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:rA},Symbol.toStringTag,{value:"Module"}));var KI;let Ra=KI=class extends Cd($c){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new rA(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,i){i!=null&&i.origin||super.writeVisualVariables(e,t,r,i)}clone(){return new KI({config:D(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:D(this.fieldMap),url:D(this.url),visualVariables:D(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await un(e,t,this.scaleExpression);for(const r in this.fieldMap){const i=this.fieldMap[r];t.has(i)&&e.add(i)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};u([f({type:rA})],Ra.prototype,"_loader",null),u([f({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Ra.prototype,"config",void 0),u([f({type:Object,json:{write:!0}})],Ra.prototype,"fieldMap",void 0),u([f({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Ra.prototype,"scaleExpression",void 0),u([ce("scaleExpression")],Ra.prototype,"writeData",null),u([f({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Ra.prototype,"scaleExpressionTitle",void 0),u([f({type:String,json:{write:!0}})],Ra.prototype,"url",void 0),u([ce("visualVariables")],Ra.prototype,"writeVisualVariables",null),Ra=KI=u([E("esri.renderers.DictionaryRenderer")],Ra);const i9e=Ra;var XI;const n9e=ae.getLogger("esri.renderers.support.AttributeColorInfo");let Rl=XI=class extends Z{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(n9e.error(".field: field must be a string value"),null):$2(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new XI({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([f({type:re,json:{type:[Number],write:!0}})],Rl.prototype,"color",void 0),u([f({type:String,json:{write:!0}})],Rl.prototype,"field",void 0),u([Ze("field")],Rl.prototype,"castField",null),u([f({type:String,json:{write:!0}})],Rl.prototype,"label",void 0),u([f({type:String,json:{write:!0}})],Rl.prototype,"valueExpression",void 0),u([f({type:String,json:{write:!0}})],Rl.prototype,"valueExpressionTitle",void 0),Rl=XI=u([E("esri.renderers.support.AttributeColorInfo")],Rl);const YQ=Rl;var e$;let H5=e$=class extends Z{constructor(){super(...arguments),this.unit=null}clone(){return new e$({unit:this.unit})}};u([f({type:String,json:{write:!0}})],H5.prototype,"unit",void 0),H5=e$=u([E("esri.renderers.support.DotDensityLegendOptions")],H5);const s9e=H5;var t$;let Ti=t$=class extends Cd($c){constructor(e){super(e),this.attributes=null,this.backgroundColor=new re([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new qi,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new po({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new t$({attributes:D(this.attributes),backgroundColor:D(this.backgroundColor),dotBlendingEnabled:D(this.dotBlendingEnabled),dotShape:D(this.dotShape),dotSize:D(this.dotSize),dotValue:D(this.dotValue),legendOptions:D(this.legendOptions),outline:D(this.outline),referenceScale:D(this.referenceScale),visualVariables:D(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await un(e,t,r.valueExpression),r.field&&e.add(r.field)}};u([f({type:[YQ],json:{write:!0}})],Ti.prototype,"attributes",void 0),u([f({type:re,json:{write:!0}})],Ti.prototype,"backgroundColor",void 0),u([f({type:Boolean}),fe("dotBlendingEnabled")],Ti.prototype,"blendDots",void 0),u([f({type:Boolean,json:{write:!0}})],Ti.prototype,"dotBlendingEnabled",void 0),u([f({type:String,json:{write:!1}})],Ti.prototype,"dotShape",void 0),u([f({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],Ti.prototype,"dotSize",void 0),u([f({type:s9e,json:{write:!0}})],Ti.prototype,"legendOptions",void 0),u([f({type:qi,json:{default:null,write:!0}})],Ti.prototype,"outline",void 0),u([f({type:Number,json:{write:!0}})],Ti.prototype,"dotValue",void 0),u([f({type:Number}),fe("dotValue")],Ti.prototype,"referenceDotValue",void 0),u([f({type:Number,json:{write:!0}})],Ti.prototype,"referenceScale",void 0),u([f({type:Number,json:{write:!0}})],Ti.prototype,"seed",void 0),u([ge({dotDensity:"dot-density"})],Ti.prototype,"type",void 0),Ti=t$=u([E("esri.renderers.DotDensityRenderer")],Ti);const a9e=Ti;let Uh=class extends Un(Z){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};u([f({type:String,json:{write:!0}})],Uh.prototype,"minLabel",void 0),u([f({type:String,json:{write:!0}})],Uh.prototype,"maxLabel",void 0),u([f({type:String,json:{write:!0}})],Uh.prototype,"title",void 0),Uh=u([E("esri.renderers.support.HeatmapLegendOptions")],Uh);function Ww(){return[0,0,0,0]}function o9e(e){return[e[0],e[1],e[2],e[3]]}function Ty(e,t,r,i){return[e,t,r,i]}function l9e(e){const t=Ww(),r=Math.min(4,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function c9e(e,t){return new Float64Array(e,t,4)}function KQ(){return Ww()}function XQ(){return Ty(1,1,1,1)}function eY(){return Ty(1,0,0,0)}function tY(){return Ty(0,1,0,0)}function rY(){return Ty(0,0,1,0)}function iY(){return Ty(0,0,0,1)}const u9e=KQ(),d9e=XQ(),f9e=eY(),p9e=tY(),h9e=rY(),m9e=iY();Object.freeze(Object.defineProperty({__proto__:null,create:Ww,clone:o9e,fromValues:Ty,fromArray:l9e,createView:c9e,zeros:KQ,ones:XQ,unitX:eY,unitY:tY,unitZ:rY,unitW:iY,ZEROS:u9e,ONES:d9e,UNIT_X:f9e,UNIT_Y:p9e,UNIT_Z:h9e,UNIT_W:m9e},Symbol.toStringTag,{value:"Module"}));const iA=2.4;function y9e(e){return oi(e*iA)}function g9e(e){return $t(e)/iA}function b9e(e,t,r,i){let{color:n,ratio:s}=t,{color:a,ratio:o}=r;o===s&&(o===1?s-=1e-6:o+=1e-6);const l=zn((i-s)/(o-s),0,1);fq(e,n.toArray(),a.toArray(),l)}function ePe(e){const r=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:o})=>o>=0&&o<=1).sort((o,l)=>o.ratio-l.ratio).map(({color:o,ratio:l})=>({color:o,ratio:Math.max(l,.001)})),e.length<1)return r;let i=e[0],n=e[0],s=1;const a=Ww();for(let o=0;o<512;o++){const l=(o+.5)/512;for(;l>n.ratio&&s<e.length;)i=n,n=e[s++];b9e(a,i,n,l),r.set(a,4*o)}return r}function tPe(e,t,r,i){const{radius:n,fieldOffset:s,field:a}=t,o=Math.round($t(n)),l=new Float64Array(r*i);let c,d=Number.NEGATIVE_INFINITY;const p=_9e(a,s),h=new Set;for(const m of e){const g=m.getCursor();for(;g.next();){const b=g.getObjectId();if(h.has(b))continue;h.add(b);const w=g.readLegacyPointGeometry(),v=128;if(w.x<-v||w.x>=r+v||w.y<-v||w.y>i+v)continue;const _=+p(g),S=Math.max(0,Math.round(w.x)-o),x=Math.max(0,Math.round(w.y)-o),M=Math.min(i,Math.round(w.y)+o),I=Math.min(r,Math.round(w.x)+o);for(let $=x;$<M;$++)for(let T=S;T<I;T++){const A=$*r+T,P=nY(w.x-T,w.y-$,o);c=l[A]+=P*_,c>d&&(d=c)}}}return{matrix:l.buffer,max:d}}function rPe(e,t,r,i,n,s){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);const a=e.getImageData(0,0,t,t);r&&i&&a.data.set(new Uint8ClampedArray(v9e(t,r,i,n,s))),e.putImageData(a,0,0)}function v9e(e,t,r,i,n){const s=new Uint32Array(e*e),a="buffer"in t?t:new Float64Array(t),o="buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer),l=o.length/(n-i);for(let c=0;c<a.length;c++){const d=a[c],p=Math.floor((d-i)*l);s[c]=o[zn(p,0,o.length-1)]}return s.buffer}function nY(e,t,r){const i=Math.sqrt(e**2+t**2)/r;return i>1?0:3/(Math.PI*r**2)*(1-i**2)**2}function w9e(e,t){return typeof e=="function"?e:e?typeof t=="string"?r=>-1*+r[e]:r=>+r[e]+t:()=>1}function _9e(e,t){return e!=null?typeof t=="string"?r=>-1*+r.readAttribute(e):r=>+r.readAttribute(e)+t:r=>1}var r$;const S9e=ae.getLogger("esri.renderers.HeatmapRenderer");function xD(e){if(e!=null){const{maxDensity:t,minDensity:r,radius:i}=e;if(t!=null||r!=null||i!=null){const{blurRadius:n,maxPixelIntensity:s,minPixelIntensity:a,...o}=e;return o}}return e}let Gr=r$=class extends $c{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new Zb({ratio:0,color:new re("rgba(255, 140, 0, 0)")}),new Zb({ratio:.75,color:new re("rgba(255, 140, 0, 1)")}),new Zb({ratio:.9,color:new re("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return xD(e)}get blurRadius(){return g9e(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",y9e(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(iA**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||Vi(this).getDefaultOrigin()==="user"&&(this._warnedProps[e]=!0,sy(()=>{Use(S9e,e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=xD(e),super.read(e,t)}getSymbol(){const e=this.referenceScale!==0?5:1,t=Math.min(this.radius*e,oi(256));return new Ni({size:t})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,i=this.valueExpression;r&&typeof r=="string"&&await sa(e,t,r),i&&typeof i=="string"&&await un(e,t,i)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new r$({colorStops:D(this.colorStops),field:this.field,legendOptions:D(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([f({type:Gw,json:{write:!1}})],Gr.prototype,"authoringInfo",void 0),u([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Gr.prototype,"blurRadius",null),u([f({type:[Zb],json:{write:!0}})],Gr.prototype,"colorStops",void 0),u([f({type:String,json:{write:!0}})],Gr.prototype,"field",void 0),u([f({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:r==null})},origins:{"web-scene":{write:!1}}}})],Gr.prototype,"fieldOffset",void 0),u([f({type:Uh,json:{write:!0}})],Gr.prototype,"legendOptions",void 0),u([f({type:Number,json:{write:!0}})],Gr.prototype,"maxDensity",void 0),u([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Gr.prototype,"maxPixelIntensity",null),u([f({type:Number,json:{write:!0}})],Gr.prototype,"minDensity",void 0),u([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Gr.prototype,"minPixelIntensity",null),u([f({type:Number,cast:Ye,json:{write:!0}})],Gr.prototype,"radius",void 0),u([f({type:Number,range:{min:0},json:{default:0,write:!0}})],Gr.prototype,"referenceScale",void 0),u([ge({heatmap:"heatmap"})],Gr.prototype,"type",void 0),u([f({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Gr.prototype,"valueExpression",void 0),u([f({type:String})],Gr.prototype,"valueExpressionTitle",void 0),u([f({readOnly:!0})],Gr.prototype,"_pixelIntensityToDensity",null),Gr=r$=u([E("esri.renderers.HeatmapRenderer")],Gr);const sY=Gr;let Df=class extends Un(Z){constructor(){super(...arguments),this.color=new re([0,0,0,0]),this.label=null,this.threshold=0}};u([f({type:re,json:{write:!0}})],Df.prototype,"color",void 0),u([f({type:String,json:{write:!0}})],Df.prototype,"label",void 0),u([f({type:Number,range:{min:0,max:1},json:{write:!0}})],Df.prototype,"threshold",void 0),Df=u([E("esri.renderers.support.OthersCategory")],Df);let W5=class extends Un(Z){constructor(){super(...arguments),this.title=null}};u([f({type:String,json:{write:!0}})],W5.prototype,"title",void 0),W5=u([E("esri.renderers.support.PieChartLegendOptions")],W5);let Yn=class extends Cd(Un($c)){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new re([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new Df,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var e;return new Ni({size:this.size?this.size/2+(((e=this.outline)==null?void 0:e.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await un(e,t,r.valueExpression),r.field&&e.add(r.field)}};u([f({type:[YQ],json:{write:!0}})],Yn.prototype,"attributes",void 0),u([f({type:po,json:{default:null,write:!0}})],Yn.prototype,"backgroundFillSymbol",void 0),u([f({type:re,json:{write:!0}})],Yn.prototype,"defaultColor",void 0),u([f({type:String,json:{write:!0}})],Yn.prototype,"defaultLabel",void 0),u([f({type:Number,range:{min:0,max:1},json:{write:!0}})],Yn.prototype,"holePercentage",void 0),u([f({type:Df,json:{write:!0}})],Yn.prototype,"othersCategory",void 0),u([f({type:W5,json:{write:!0}})],Yn.prototype,"legendOptions",void 0),u([f({type:qi,json:{default:null,write:!0}})],Yn.prototype,"outline",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Yn.prototype,"size",void 0),u([ge({pieChart:"pie-chart"})],Yn.prototype,"type",void 0),Yn=u([E("esri.renderers.PieChartRenderer")],Yn);const x9e=Yn;var i$;let ff=i$=class extends Cd($c){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new i$({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:D(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};u([f({type:String,json:{write:!0}})],ff.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],ff.prototype,"label",void 0),u([f(G2)],ff.prototype,"symbol",void 0),u([ge({simple:"simple"})],ff.prototype,"type",void 0),ff=i$=u([E("esri.renderers.SimpleRenderer")],ff);const nA=ff,M9e=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function n$(e){return e instanceof ye}function MD(e){return e instanceof Se?Object.keys(e.items):n$(e)?Vi(e).keys():e?Object.keys(e):[]}function nv(e,t){return e instanceof Se?e.items[t]:e[t]}function I9e(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function e1(e){return e?e.declaredClass:null}function aY(e,t){const r=e.diff;if(r&&typeof r=="function")return r(e,t);const i=MD(e),n=MD(t);if(i.length===0&&n.length===0)return;if(!i.length||!n.length||I9e(e,t))return{type:"complete",oldValue:e,newValue:t};const s=n.filter(p=>!i.includes(p)),a=i.filter(p=>!n.includes(p)),o=i.filter(p=>n.includes(p)&&nv(e,p)!==nv(t,p)).concat(s,a).sort(),l=e1(e);if(l&&M9e.includes(l)&&o.length)return{type:"complete",oldValue:e,newValue:t};let c;const d=n$(e)&&n$(t);for(const p of o){const h=nv(e,p),m=nv(t,p);let g;if((d||typeof h!="function"&&typeof m!="function")&&h!==m&&(h!=null||m!=null)){if(r&&r[p]&&typeof r[p]=="function")g=r[p](h,m);else if(h instanceof Date&&m instanceof Date){if(h.getTime()===m.getTime())continue;g={type:"complete",oldValue:h,newValue:m}}else g=typeof h=="object"&&typeof m=="object"&&e1(h)===e1(m)?aY(h,m):{type:"complete",oldValue:h,newValue:m};C(g)&&(C(c)?c.diff[p]=g:c={type:"partial",diff:{[p]:g}})}}return c}function $9e(e,t){if(B(e))return!1;const r=t.split(".");let i=e;for(const n of r){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{const s=i.diff[n];if(!s)return!1;i=s}}return!0}function iPe(e,t){for(const r of t)if($9e(e,r))return!0;return!1}function T9e(e,t){if(!(typeof e=="function"||typeof t=="function"||B(e)&&B(t)))return B(e)||B(t)||typeof e=="object"&&typeof t=="object"&&e1(e)!==e1(t)?{type:"complete",oldValue:e,newValue:t}:aY(e,t)}var s$;let ou=s$=class extends Z{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(e){return e==null||typeof e=="string"||typeof e=="number"?e:`${e}`}clone(){return new s$({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};u([f({type:String,json:{write:!0}})],ou.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],ou.prototype,"label",void 0),u([f(G2)],ou.prototype,"symbol",void 0),u([f({json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}})],ou.prototype,"value",void 0),u([Ze("value")],ou.prototype,"castValue",null),ou=s$=u([E("esri.renderers.support.UniqueValueInfo")],ou);const Gm=ou,C9e=()=>!!W("enable-feature:force-wosr"),U7={};async function E9e(e,t){try{return{data:(await sA(e,t)).data,baseUrl:dE(e),styleUrl:e}}catch(r){return ny(r),null}}function k9e(e,t,r){const i=C(t.portal)?t.portal:ai.getDefault();let n;const s=`${i.url} - ${i.user&&i.user.username} - ${e}`;return U7[s]||(U7[s]=A9e(e,i,r).then(a=>(n=a,a.fetchData())).then(a=>({data:a,baseUrl:n.itemUrl,styleName:e}))),U7[s]}function A9e(e,t,r){return t.load(r).then(()=>{const i=new ec({disableExtraQuery:!0,query:`owner:${ID} AND type:${$D} AND typekeywords:"${e}"`});return t.queryItems(i,r)}).then(({results:i})=>{let n=null;const s=e.toLowerCase();if(i&&Array.isArray(i)){for(const a of i)if(a.typeKeywords.some(o=>o.toLowerCase()===s)&&a.type===$D&&a.owner===ID){n=a;break}}if(!n)throw new R("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return n.load(r)})}function oY(e,t,r){return e.styleUrl?E9e(e.styleUrl,r):e.styleName?k9e(e.styleName,t,r):Promise.reject(new R("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function lY(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function L9e(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!C9e()){for(const r of e.formatInfos)if(r.type==="gltf")return r.href}return e.webRef}function sA(e,t){const r={responseType:"json",query:{f:"json"},...t};return $e(na(e),r)}const ID="esri_en",$D="Style",R9e="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var ab;const Rd=ae.getLogger("esri.renderers.UniqueValueRenderer"),P9e=_r(Gm);let Zt=ab=class extends Cd($c){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let i=!1;const n={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let s=0;s<r.length;s++){const a=t.find(o=>o.value===r[s].value);a?T9e(a,r[s])?(n.changed.push({type:"complete",oldValue:a,newValue:r[s]}),i=!0):n.unchanged.push({oldValue:a,newValue:r[s]}):(n.added.push(r[s]),i=!0)}for(let s=0;s<t.length;s++)r.find(a=>a.value===t[s].value)||(n.removed.push(t[s]),i=!0);return i?n:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return e==null||typeof e=="function"?e:$2(e)}writeField(e,t,r,i){typeof e=="string"?t[r]=e:i&&i.messages?i.messages.push(new R("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Rd.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,r){return r.portal||ai.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const i=yd(t.styleUrl,r);return Object.freeze({styleUrl:i})}}writeStyleOrigin(e,t,r,i){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=R2(e.styleUrl,i))}set uniqueValueInfos(e){this.styleOrigin?Rd.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void Rd.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?P9e(e):new Gm({value:e,symbol:FH(t)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r}removeUniqueValueInfo(e){if(this.styleOrigin)Rd.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&(B(t)||B(t.arcade))&&(r={...r,arcade:await uo()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(B(t)||B(t.arcade)))return void Rd.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(B(r)||B(r.arcade))){const n=await uo(),{arcadeUtils:s}=n;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),r={...r,arcade:n}}const i=this._getUniqueValueInfo(e,r);return i&&i.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((e,t)=>e+t.getMeshHash(),"")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new ab({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:D(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:D(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=D(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(D(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(i=>i.collectRequiredFields(e,t)),un(e,t,this.valueExpression)];sa(e,t,this.field),sa(e,t,this.field2),sa(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return oY(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const i=new qp({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=i,this._isDefaultSymbolDerived=!0);const n=new Gm({value:r.name,symbol:i});t.push(n),this._valueInfoMap[r.name]=n}),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(e=>this._valueInfoMap[e.value+""]=e)}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:n,arcade:s}=B6(t,{});let a=this._cache.compiledFunc;const o=s.arcadeUtils;if(!a){const c=o.createSyntaxTree(this.valueExpression);a=o.createFunction(c),this._cache.compiledFunc=a}const l=o.executeFunction(a,o.createExecContext(e,o.getViewInfo({viewingMode:r,scale:i,spatialReference:n})));return this._valueInfoMap[l+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let i;if(typeof t!="function"&&this.field2){const n=this.field2,s=this.field3,a=[];t&&a.push(r[t]),n&&a.push(r[n]),s&&a.push(r[s]),i=a.join(this.fieldDelimiter||"")}else typeof t=="function"?i=t(e):t&&(i=r[t]);return this._valueInfoMap[i+""]}static fromPortalStyle(e,t){const r=new ab(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||ai.getDefault());const i=r.populateFromStyle();return i.catch(n=>{Rd.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",n)}),i}static fromStyleUrl(e,t){const r=new ab(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const i=r.populateFromStyle();return i.catch(n=>{Rd.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",n)}),i}};u([f({readOnly:!0})],Zt.prototype,"_cache",null),u([ge({uniqueValue:"unique-value"})],Zt.prototype,"type",void 0),u([f(JQ)],Zt.prototype,"backgroundFillSymbol",void 0),u([f({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Zt.prototype,"field",void 0),u([Ze("field")],Zt.prototype,"castField",null),u([ce("field")],Zt.prototype,"writeField",null),u([f({type:String,json:{write:!0}})],Zt.prototype,"field2",void 0),u([f({type:String,json:{write:!0}})],Zt.prototype,"field3",void 0),u([f({type:String,json:{write:!0}})],Zt.prototype,"valueExpression",void 0),u([f({type:String,json:{write:!0}})],Zt.prototype,"valueExpressionTitle",void 0),u([f({type:oo,json:{write:!0}})],Zt.prototype,"legendOptions",void 0),u([f({type:String,json:{write:!0}})],Zt.prototype,"defaultLabel",void 0),u([f(bU({...G2},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Zt.prototype,"defaultSymbol",null),u([f({type:String,json:{write:!0}})],Zt.prototype,"fieldDelimiter",void 0),u([f({type:ai,readOnly:!0})],Zt.prototype,"portal",void 0),u([ie("portal",["styleName"])],Zt.prototype,"readPortal",null),u([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Zt.prototype,"styleOrigin",void 0),u([ie("styleOrigin",["styleName","styleUrl"])],Zt.prototype,"readStyleOrigin",null),u([ce("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Zt.prototype,"writeStyleOrigin",null),u([f({type:[Gm],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Zt.prototype,"uniqueValueInfos",null),Zt=ab=u([E("esri.renderers.UniqueValueRenderer")],Zt);const Kp=Zt,q2={key:"type",base:$c,typeMap:{heatmap:sY,simple:nA,"unique-value":Kp,"class-breaks":$y,"dot-density":a9e,dictionary:i9e,"pie-chart":x9e},errorContext:"renderer"},cY={key:"type",base:$c,typeMap:{simple:nA,"unique-value":Kp,"class-breaks":$y,heatmap:sY},errorContext:"renderer"};function uY(e,t){return dY(e,null,t)}const O9e=ay({types:q2});function dY(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r&&r.messages&&r.messages.push(new Bi("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):O9e(e,t,r):null}class aA{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(BS),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new aA,i=this._originStores[Fe.DEFAULTS];i&&i.forEach((n,s)=>{r.set(s,D(n),Fe.DEFAULTS)});for(let n=Fe.SERVICE;n<BS;n++){const s=this._originStores[n];s&&s.forEach((a,o)=>{t&&t.has(o)||r.set(o,D(a),n)})}return r}get(t,r){const i=r===void 0?this._values:this._originStores[r];return i?i.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,i=Fe.USER){let n=this._originStores[i];if(n||(n=new Map,this._originStores[i]=n),n.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=i){const s=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,i),s!==r}return!1}delete(t,r=Fe.USER){const i=this._originStores[r];if(!i)return;const n=i.get(t);if(i.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let s=r-1;s>=0;s--){const a=this._originStores[s];if(a&&a.has(t)){this._values.set(t,a.get(t)),this._propertyOriginMap.set(t,s);break}}}return n}has(t,r){const i=r===void 0?this._values:this._originStores[r];return!!i&&i.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const i=this._originStores[r],n=i&&i.get(t),s=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,r),s!==n}originOf(t){return this._propertyOriginMap.get(t)||Fe.DEFAULTS}forEach(t){this._values.forEach(t)}}const fY=e=>{let t=class extends e{constructor(...r){super(...r);const i=Vi(this),n=i.store,s=new aA;i.store=s,lG(i,n,s)}read(r,i){uG(this,r,i)}getAtOrigin(r,i){const n=G7(this),s=ju(i);if(typeof r=="string")return n.get(r,s);const a={};return r.forEach(o=>{a[o]=n.get(o,s)}),a}originOf(r){return Q9(this.originIdOf(r))}originIdOf(r){return G7(this).originOf(r)}revert(r,i){const n=G7(this),s=ju(i),a=Vi(this);let o;o=typeof r=="string"?r==="*"?n.keys(s):[r]:r,o.forEach(l=>{a.invalidate(l),n.revert(l,s),a.commit(l)})}};return t=u([E("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function G7(e){return Vi(e).store}let TD=class extends fY(ye){};TD=u([E("esri.core.ReadOnlyMultiOriginJSONSupport")],TD);const F9e=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,i="user"){return q7(this).delete(r,ju(i))}write(r={},i){return fG(this,r=r||{},i),r}setAtOrigin(r,i,n){Vi(this).setAtOrigin(r,i,ju(n))}removeOrigin(r){const i=q7(this),n=ju(r),s=i.keys(n);for(const a of s)i.originOf(a)===n&&i.set(a,i.get(a,n),Fe.USER)}updateOrigin(r,i){const n=q7(this),s=ju(i),a=this.get(r);for(let o=s+1;o<BS;++o)n.delete(r,o);n.set(r,a,s)}toJSON(r){return this.write({},r)}};return t=u([E("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function q7(e){return Vi(e).store}const Jw=e=>{let t=class extends F9e(fY(e)){constructor(...r){super(...r)}};return t=u([E("esri.core.MultiOriginJSONSupport")],t),t};let CD=class extends Jw(ye){};CD=u([E("esri.core.MultiOriginJSONSupport")],CD);async function D9e(e,t){const{WhereClause:r}=await Y(()=>import("./WhereClause.38a89403.js"),[],import.meta.url);return r.create(e,t)}function pY(e,t){return C(e)?C(t)?`(${e}) AND (${t})`:e:t}var a$;let pf=a$=class extends Z{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new a$({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([f({type:String,json:{write:!0}})],pf.prototype,"expression",void 0),u([f({type:String,json:{write:!0}})],pf.prototype,"name",void 0),u([f({type:["boolean","date","number","string"],json:{write:!0}})],pf.prototype,"returnType",void 0),u([f({type:String,json:{write:!0}})],pf.prototype,"title",void 0),pf=a$=u([E("esri.form.ExpressionInfo")],pf);const N9e=pf;let hf=class extends Z{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};u([f({type:String,json:{write:!0}})],hf.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],hf.prototype,"label",void 0),u([f()],hf.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],hf.prototype,"visibilityExpression",void 0),hf=u([E("esri.form.elements.Element")],hf);const qm=hf;var o$;let J5=o$=class extends Z{constructor(e){super(e),this.type=null}clone(){return new o$({type:this.type})}};u([f({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],J5.prototype,"type",void 0),J5=o$=u([E("esri.form.elements.inputs.AttachmentInput")],J5);const j9e=J5;var l$;let mf=l$=class extends qm{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new l$({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};u([f({type:String,json:{write:!0}})],mf.prototype,"attachmentKeyword",void 0),u([f({type:Boolean,json:{write:!0}})],mf.prototype,"editable",void 0),u([f({type:j9e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],mf.prototype,"input",void 0),u([f({type:["attachment"],json:{read:!1,write:!0}})],mf.prototype,"type",void 0),mf=l$=u([E("esri.form.elements.AttachmentElement")],mf);const ED=mf;let Z5=class extends Z{constructor(e){super(e),this.type=null}};u([f()],Z5.prototype,"type",void 0),Z5=u([E("esri.form.elements.inputs.Input")],Z5);const Cy=Z5;let ob=class extends Cy{constructor(e){super(e),this.maxLength=null,this.minLength=0}};u([f({type:Number,json:{write:!0}})],ob.prototype,"maxLength",void 0),u([f({type:Number,json:{write:!0}})],ob.prototype,"minLength",void 0),ob=u([E("esri.form.elements.inputs.TextInput")],ob);const oA=ob;var c$;let Q5=c$=class extends oA{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new c$({maxLength:this.maxLength,minLength:this.minLength})}};u([f({type:["barcode-scanner"],json:{read:!1,write:!0}})],Q5.prototype,"type",void 0),Q5=c$=u([E("esri.form.elements.inputs.BarcodeScannerInput")],Q5);const V9e=Q5;var u$;let Gh=u$=class extends Cy{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new u$({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};u([f({type:String,json:{write:!0}})],Gh.prototype,"noValueOptionLabel",void 0),u([f({type:Boolean,json:{write:!0}})],Gh.prototype,"showNoValueOption",void 0),u([f({type:["combo-box"],json:{read:!1,write:!0}})],Gh.prototype,"type",void 0),Gh=u$=u([E("esri.form.elements.inputs.ComboBoxInput")],Gh);const z9e=Gh;var d$;function kD(e){return e!=null?new Date(e):null}function AD(e){return e?e.getTime():null}let Pa=d$=class extends Cy{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return kD(t.max)}writeMax(e,t){t.max=AD(e)}readMin(e,t){return kD(t.min)}writeMin(e,t){t.min=AD(e)}clone(){return new d$({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};u([f({type:Boolean,json:{write:!0}})],Pa.prototype,"includeTime",void 0),u([f({type:Date,json:{type:Number,write:!0}})],Pa.prototype,"max",void 0),u([ie("max")],Pa.prototype,"readMax",null),u([ce("max")],Pa.prototype,"writeMax",null),u([f({type:Date,json:{type:Number,write:!0}})],Pa.prototype,"min",void 0),u([ie("min")],Pa.prototype,"readMin",null),u([ce("min")],Pa.prototype,"writeMin",null),u([f({type:["datetime-picker"],json:{read:!1,write:!0}})],Pa.prototype,"type",void 0),Pa=d$=u([E("esri.form.elements.inputs.DateTimePickerInput")],Pa);const B9e=Pa;var f$;let qh=f$=class extends Cy{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new f$({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};u([f({type:String,json:{write:!0}})],qh.prototype,"noValueOptionLabel",void 0),u([f({type:Boolean,json:{write:!0}})],qh.prototype,"showNoValueOption",void 0),u([f({type:["radio-buttons"],json:{read:!1,write:!0}})],qh.prototype,"type",void 0),qh=f$=u([E("esri.form.elements.inputs.RadioButtonsInput")],qh);const U9e=qh;var p$;let Hh=p$=class extends Cy{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new p$({offValue:this.offValue,onValue:this.onValue})}};u([f({type:[String,Number],json:{write:!0}})],Hh.prototype,"offValue",void 0),u([f({type:[String,Number],json:{write:!0}})],Hh.prototype,"onValue",void 0),u([f({type:["switch"],json:{read:!1,write:!0}})],Hh.prototype,"type",void 0),Hh=p$=u([E("esri.form.elements.inputs.SwitchInput")],Hh);const G9e=Hh;var h$;let Y5=h$=class extends oA{constructor(e){super(e),this.type="text-area"}clone(){return new h$({maxLength:this.maxLength,minLength:this.minLength})}};u([f({type:["text-area"],json:{read:!1,write:!0}})],Y5.prototype,"type",void 0),Y5=h$=u([E("esri.form.elements.inputs.TextAreaInput")],Y5);const q9e=Y5;var m$;let K5=m$=class extends oA{constructor(e){super(e),this.type="text-box"}clone(){return new m$({maxLength:this.maxLength,minLength:this.minLength})}};u([f({type:["text-box"],json:{read:!1,write:!0}})],K5.prototype,"type",void 0),K5=m$=u([E("esri.form.elements.inputs.TextBoxInput")],K5);const H9e=K5,W9e={base:Cy,key:"type",typeMap:{"barcode-scanner":V9e,"combo-box":z9e,"datetime-picker":B9e,"radio-buttons":U9e,switch:G9e,"text-area":q9e,"text-box":H9e}};var y$;let Vs=y$=class extends qm{constructor(e){super(e),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new y$({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};u([f({types:QJ,json:{read:{reader:kk},write:!0}})],Vs.prototype,"domain",void 0),u([f({type:Boolean,json:{write:!0}})],Vs.prototype,"editable",void 0),u([f({type:String,json:{write:!0}})],Vs.prototype,"editableExpression",void 0),u([f({type:String,json:{write:!0}})],Vs.prototype,"fieldName",void 0),u([f({type:String,json:{write:!0}})],Vs.prototype,"hint",void 0),u([f({types:W9e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Vs.prototype,"input",void 0),u([f({type:String,json:{write:!0}})],Vs.prototype,"requiredExpression",void 0),u([f({type:String,json:{read:!1,write:!0}})],Vs.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],Vs.prototype,"valueExpression",void 0),Vs=y$=u([E("esri.form.elements.FieldElement")],Vs);const LD=Vs;var g$;let Pl=g$=class extends qm{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new g$({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:D(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};u([f({type:Number,json:{write:!0}})],Pl.prototype,"displayCount",void 0),u([f({type:["list"],json:{write:!0}})],Pl.prototype,"displayType",void 0),u([f({type:Boolean,json:{write:!0}})],Pl.prototype,"editable",void 0),u([f({type:[tH],json:{write:!0}})],Pl.prototype,"orderByFields",void 0),u([f({type:Number,json:{write:!0}})],Pl.prototype,"relationshipId",void 0),u([f({type:["relationship"],json:{read:!1,write:!0}})],Pl.prototype,"type",void 0),Pl=g$=u([E("esri.form.elements.RelationshipElement")],Pl);const RD=Pl;function hY(e){return{typesWithGroup:{base:qm,key:"type",typeMap:{attachment:ED,field:LD,group:e,relationship:RD}},typesWithoutGroup:{base:qm,key:"type",typeMap:{attachment:ED,field:LD,relationship:RD}}}}function mY(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>i[n.type].fromJSON(n))}function yY(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>n.toJSON())}function gY(e,t,r=!0){return e?e.map(i=>Xo(r?t.typesWithGroup:t.typesWithoutGroup,i)):null}var b$;let Vo=b$=class extends qm{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return gY(e,H7,!1)}readElements(e,t){return mY(t.formElements,H7,!1)}writeElements(e,t){t.formElements=yY(e,H7,!1)}clone(){return new b$({description:this.description,elements:D(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};u([f({json:{write:!0}})],Vo.prototype,"elements",void 0),u([Ze("elements")],Vo.prototype,"castElements",null),u([ie("elements",["formElements"])],Vo.prototype,"readElements",null),u([ce("elements")],Vo.prototype,"writeElements",null),u([f({type:["collapsed","expanded"],json:{write:!0}})],Vo.prototype,"initialState",void 0),u([f({type:String,json:{read:!1,write:!0}})],Vo.prototype,"type",void 0),Vo=b$=u([E("esri.form.elements.GroupElement")],Vo);const H7=hY(Vo),J9e=Vo;var v$;const W7=hY(J9e);let Ao=v$=class extends Z{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(e){return gY(e,W7)}readElements(e,t){return mY(t.formElements,W7)}writeElements(e,t){t.formElements=yY(e,W7)}clone(){return new v$({description:this.description,expressionInfos:D(this.expressionInfos),elements:D(this.elements),title:this.title})}};u([f({type:String,json:{write:!0}})],Ao.prototype,"description",void 0),u([f({json:{write:!0}})],Ao.prototype,"elements",void 0),u([Ze("elements")],Ao.prototype,"castElements",null),u([ie("elements",["formElements"])],Ao.prototype,"readElements",null),u([ce("elements")],Ao.prototype,"writeElements",null),u([f({type:[N9e],json:{write:!0}})],Ao.prototype,"expressionInfos",void 0),u([f({type:String,json:{write:!0}})],Ao.prototype,"title",void 0),Ao=v$=u([E("esri.form.FormTemplate")],Ao);const Z9e=Ao;var lb;const a6=ir()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),bY=a6.jsonValues.slice();qC(bY,"orthometric");const t1=ir()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Oa=lb=class extends Z{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return a6.write(e,t,r)}readHeightModel(e,t,r){return a6.read(e)||(r&&r.messages&&r.messages.push(Q9e(e,{context:r})),null)}readHeightUnit(e,t,r){return t1.read(e)||(r&&r.messages&&r.messages.push(PD(e,{context:r})),null)}readHeightUnitService(e,t,r){return GH(e)||t1.read(e)||(r&&r.messages&&r.messages.push(PD(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new lb({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=qpe(t);return new lb({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new lb;return t.read(e,{origin:"web-scene"}),t}};function PD(e,t){return new Bi("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function Q9e(e,t){return new Bi("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}u([f({type:a6.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:bY,default:"ellipsoidal"}}}})],Oa.prototype,"heightModel",void 0),u([ce("web-scene","heightModel")],Oa.prototype,"writeHeightModel",null),u([ie(["web-scene","service"],"heightModel")],Oa.prototype,"readHeightModel",null),u([f({type:t1.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:t1.jsonValues,write:t1.write}}}})],Oa.prototype,"heightUnit",void 0),u([ie("web-scene","heightUnit")],Oa.prototype,"readHeightUnit",null),u([ie("service","heightUnit")],Oa.prototype,"readHeightUnitService",null),u([f({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Oa.prototype,"vertCRS",void 0),u([ie("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Oa.prototype,"readVertCRS",null),Oa=lb=u([E("esri.geometry.HeightModelInfo")],Oa);const Zw=Oa;function OD(e,t,r){if(e.hasM==null||e.hasZ)for(const i of t)for(const n of i)n.length>2&&(n[2]*=r)}function Y9e(e,t,r){if(!e&&!t||!r)return;const i=Nm(r);FD(e,r,i),FD(t,r,i)}function FD(e,t,r){if(e)for(const i of e)K9e(i.geometry,t,r)}function K9e(e,t,r){if(B(e)||!e.spatialReference||bi(e.spatialReference,t))return;const i=Nm(e.spatialReference)/r;if(i!==1){if("x"in e)e.z!=null&&(e.z*=i);else if("rings"in e)OD(e,e.rings,i);else if("paths"in e)OD(e,e.paths,i);else if("points"in e&&(e.hasM==null||e.hasZ))for(const n of e.points)n.length>2&&(n[2]*=i)}}let X9e=0;const J7=ae.getLogger("esri.layers.graphics.sources.MemorySource");let Zl=class extends jn.LoadableMixin(C2(ll(Se))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=C(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get workerGeometryType(){var t;const e=(t=this.layer)==null?void 0:t.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);K4(e,this.layer.spatialReference,r);const i=Ss.fromJSON(r);if(!this._requiresClientGraphicMapping())return i;const n=this.layer.objectIdField;for(const s of i.features){const a=s.attributes[n],o=this._idToClientGraphic.get(a);o&&(s.geometry=o.geometry)}return i.geometryType=this.layer.geometryType,i}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new R("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return K4(e,this.layer.spatialReference,r),r}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(r=>({count:r.count,extent:Ve.fromJSON(r.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async _applyEdits(e){if(!this._connection)throw new R("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let r=null;const i=[],n=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const s=c=>"objectId"in c&&c.objectId!=null?c.objectId:"attributes"in c&&c.attributes[t]!=null?c.attributes[t]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const c of e.deleteFeatures){const d=s(c);d!=null&&i.push(d)}const a=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){for(const c of e.updateFeatures)if(n.push(this._serializeFeature(c)),a){const d=s(c);d!=null&&a.set(d,c)}}Y9e(r?r.features:null,n,this.layer.spatialReference);const{fullExtent:o,featureEditResults:l}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:n,deletes:i});return this.fullExtent=o,r&&r.finish(l.uidToObjectId),this._updateClientGraphicIds(a,l),this._createEditsResult(l)}async _prepareClientMapping(e,t){if(this.layerOrSourceGeometryType!=="mesh"||B(e))return;const r=[];for(const{geometry:i}of e)!C(i)||i.type!=="mesh"||i.hasExtent||i.loaded||r.push(i.load({signal:t}));r.length&&await Promise.all(r)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const r of t.updateResults){if(!r.success)continue;const i=e.get(r.objectId);i!=null&&this._addIdToClientGraphic(i)}for(const r of t.deleteResults)r.success&&this._idToClientGraphic.delete(r.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new R("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,r=new Array(e.length);let i=null;for(let s=0;s<e.length;s++){const a=e[s],o=this._serializeFeature(a);!i&&C(a.geometry)&&(i=a.geometry.type),r[s]=o,t.set(`${o.uid}`,a)}const n=this;return{features:r,inferredGeometryType:i,finish(s){const a=n.sourceJSON.objectIdField;for(const o in s){const l=s[o],c=t.get(o);c&&(c.attributes||(c.attributes={}),l===-1?delete c.attributes[a]:c.attributes[a]=l,n._addIdToClientGraphic(c))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,r=e.attributes&&e.attributes[t];r!=null&&this._idToClientGraphic.set(r,e)}get layerOrSourceGeometryType(){var e,t,r;return(r=(e=this.layer)==null?void 0:e.geometryType)!=null?r:(t=this.sourceJSON)==null?void 0:t.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e),i=(X9e++).toString();return r?{uid:i,geometry:r.toJSON(),attributes:t}:{uid:i,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return B(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?_s.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await bw("MemorySourceWorker",{strategy:W("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:r,objectIdField:i,hasM:n,hasZ:s,timeInfo:a}=this.layer,o=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const l=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",h=>{J7.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),h.preventDefault()}));const c={features:l.features,fields:t&&t.map(h=>h.toJSON()),geometryType:VP.toJSON(this.workerGeometryType),hasM:this.layerOrSourceGeometryType!=="mesh"&&n,hasZ:this.layerOrSourceGeometryType==="mesh"||s,objectIdField:i,spatialReference:o?null:r&&r.toJSON(),timeInfo:a?a.toJSON():null},d=await this._connection.invoke("load",c,{signal:e});for(const h of d.warnings)J7.warn(h.message,{layer:this.layer,warning:h});d.featureErrors.length&&J7.warn(`Encountered ${d.featureErrors.length} validation errors while loading features`,d.featureErrors);const p=d.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(l.inferredGeometryType)&&(p.geometryType=VP.toJSON(l.inferredGeometryType)),this.sourceJSON=p,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),l.finish(d.assignedObjectIds)}};u([rE({Type:vi,ensureType:_r(vi)})],Zl.prototype,"itemType",void 0),u([f()],Zl.prototype,"type",void 0),u([f({constructOnly:!0})],Zl.prototype,"layer",void 0),u([f({readOnly:!0})],Zl.prototype,"workerGeometryType",null),u([f()],Zl.prototype,"sourceJSON",void 0),Zl=u([E("esri.layers.graphics.sources.MemorySource")],Zl);function e4e(e){return"portalItem"in e}const t4e=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):e4e(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return u([f({type:String})],t.prototype,"apiKey",null),t=u([E("esri.layers.mixins.APIKeyMixin")],t),t},vY={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},wY=Object.values(vY),_Y=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${wY.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),r4e=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${wY.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),i4e=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function nPe(e){return!!_Y.test(e)}function Hm(e){if(B(e))return null;const t=jt(e),r=t.path.match(_Y)||t.path.match(r4e);if(!r)return null;const[,i,n,s,a]=r,o=n.indexOf("/");return{title:lA(o!==-1?n.slice(o+1):n),serverType:vY[s.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:i}}}function n4e(e){const t=jt(e).path.match(i4e);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function lA(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function s4e(e,t){const r=[];if(e){const i=Hm(e);C(i)&&i.title&&r.push(i.title)}if(t){const i=lA(t);r.push(i)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function cA(e){if(!e)return!1;const t=".arcgis.com/",r="//services",i="//tiles",n="//features",s=(e=e.toLowerCase()).includes(t),a=e.includes(r)||e.includes(i)||e.includes(n);return s&&a}function a4e(e,t){return e&&xG(MG(e,t))}function o4e(e){let{url:t}=e;if(!t)return{url:t};t=MG(t,e.logger);const r=jt(t),i=Hm(r.path);let n;if(C(i))i.sublayer!=null&&e.layer.layerId==null&&(n=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const s=n4e(r.path);C(s)&&(t=s.serviceUrl,n=s.sublayerId)}return{url:xG(t),layerId:n}}function l4e(e,t,r,i,n){kp(t,i,"url",n),i.url&&e.layerId!=null&&(i.url=hd(i.url,r,e.layerId.toString()))}function sPe(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),i=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(i||n||s)}const SY=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=Hm(this.url);if(C(r)&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",a4e(r,ae.getLogger(this.declaredClass)))}};return u([f()],t.prototype,"title",null),u([f({type:String})],t.prototype,"url",null),t=u([E("esri.layers.mixins.ArcGISService")],t),t},DD={read:{reader:$k},write:{allowNull:!0,writer:Tk}},uA=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return u([f({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),u([f({json:{read:!1,write:!1,origins:{"web-map":DD,"portal-item":DD}}})],t.prototype,"effect",void 0),t=u([E("esri.layers.mixins.BlendLayer")],t),t},dA=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return u([f({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=u([E("esri.layers.mixins.CustomParametersMixin")],t),t};var w$;const Z7=new Le({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Q7=new Le({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Lo=w$=class extends Z{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:n,objectIds:s,units:a,distance:o}=this;return new Ht({geometry:D(r),objectIds:D(s),spatialRelationship:i,timeExtent:D(n),where:t,units:a,distance:o,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:i,objectIds:n,units:s,distance:a}=this;return new w$({geometry:D(t),objectIds:D(n),spatialRelationship:r,timeExtent:D(i),where:e,units:s,distance:a})}};u([f({type:String,json:{write:!0}})],Lo.prototype,"where",void 0),u([f({types:xc,json:{write:!0}})],Lo.prototype,"geometry",void 0),u([f({type:Z7.apiValues,json:{name:"spatialRel",read:{reader:Z7.read},write:{allowNull:!1,writer:Z7.write,overridePolicy(){return{enabled:C(this.geometry)}}}}})],Lo.prototype,"spatialRelationship",void 0),u([f({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Lo.prototype,"distance",void 0),u([f({type:[Number],json:{write:!0}})],Lo.prototype,"objectIds",void 0),u([f({type:Q7.apiValues,json:{read:Q7.read,write:{writer:Q7.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Lo.prototype,"units",void 0),u([f({type:$s,json:{write:!0}})],Lo.prototype,"timeExtent",void 0),Lo=w$=u([E("esri.layers.support.FeatureFilter")],Lo);const c4e=Lo;var _$;const ND={read:{reader:$k},write:{writer:Tk,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},jD={read:{reader:$k},write:{writer:Tk,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},VD={name:"showExcludedLabels",default:!0};let yf=_$=class extends Z{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var i,n;const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const s=Object.keys(r.filter);if(s.length>1||s[0]!=="where")return(i=t.messages)==null||i.push(new R("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return(n=t.messages)==null||n.push(new R("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new _$({filter:C(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};u([f({type:c4e,json:{write:{allowNull:!0,writer(e,t,r,i){const n=e==null?void 0:e.write({},i);n&&Object.keys(n).length!==0?Nn(r,n,t):Nn(r,null,t)}}}})],yf.prototype,"filter",void 0),u([f({json:{write:!0,origins:{"web-map":ND,"portal-item":ND}}})],yf.prototype,"includedEffect",void 0),u([f({json:{write:!0,origins:{"web-map":jD,"portal-item":jD}}})],yf.prototype,"excludedEffect",void 0),u([f({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":VD,"portal-item":VD}}})],yf.prototype,"excludedLabelsVisible",void 0),yf=_$=u([E("esri.layers.support.FeatureEffect")],yf);const u4e=yf,zD={write:{allowNull:!0}},xY=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return u([f({type:u4e,json:{origins:{"web-map":zD,"portal-item":zD}}})],t.prototype,"featureEffect",void 0),t=u([E("esri.layers.mixins.FeatureEffectLayer")],t),t},d4e={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};function f4e(e){if(!e)return e;const{start:t,end:r}=e;return new $s({start:C(t)?pp(t,-t.getTimezoneOffset(),"minutes"):t,end:C(r)?pp(r,-r.getTimezoneOffset(),"minutes"):r})}function p4e(e){if(!e)return e;const{start:t,end:r}=e;return new $s({start:C(t)?pp(t,t.getTimezoneOffset(),"minutes"):t,end:C(r)?pp(r,r.getTimezoneOffset(),"minutes"):r})}var S$;let cb=S$=class extends Z{async collectRequiredFields(e,t){return un(e,t,this.expression)}clone(){return new S$({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};u([f({type:String,json:{write:!0}})],cb.prototype,"expression",void 0),u([f({type:String,json:{write:!0}})],cb.prototype,"title",void 0),cb=S$=u([E("esri.layers.support.FeatureExpressionInfo")],cb);const BD=cb;function h4e(){const e=Object.keys(jQ);return e.sort(),e}const m4e=h4e();var x$;const sv=ir()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),UD=new Le({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Ol=x$=class extends Z{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return e!=null?e:t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,r,i){t[r]=e.write({},i),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):C(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new x$({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Xne(this.featureExpressionInfo,e.featureExpressionInfo)}};u([f({type:BD,json:{write:!0}})],Ol.prototype,"featureExpressionInfo",void 0),u([ie("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Ol.prototype,"readFeatureExpressionInfo",null),u([ce("featureExpressionInfo",{featureExpressionInfo:{type:BD},"featureExpression.value":{type:[0]}})],Ol.prototype,"writeFeatureExpressionInfo",null),u([f({type:sv.apiValues,nonNullable:!0,json:{type:sv.jsonValues,read:sv.read,write:{writer:sv.write,isRequired:!0}}})],Ol.prototype,"mode",null),u([f({type:Number,json:{write:!0}})],Ol.prototype,"offset",void 0),u([f({type:m4e,json:{type:String,read:UD.read,write:UD.write}})],Ol.prototype,"unit",null),Ol=x$=u([E("esri.layers.support.ElevationInfo")],Ol);const y4e=Ol,MY={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},H2={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},Qw={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},fA={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:kp}}},pA={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},IY={value:null,type:y4e,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function aPe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const dm={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},g4e={...dm,json:{...dm.json,origins:{"web-document":{...dm.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?j1(t.layerDefinition.drawingInfo.transparency):void 0:j1(t.drawingInfo.transparency)}}},b4e={type:$s,readOnly:!0,get(){var o,l;if(!((o=this.layer)!=null&&o.timeInfo))return null;const{datesInUnknownTimezone:e,timeOffset:t,useViewTime:r}=this.layer,i=(l=this.view)==null?void 0:l.timeExtent;let n=this.layer.timeExtent;e&&(n=p4e(n));let s=r?i&&n?i.intersection(n):i||n:n;if(!s||s.isEmpty||s.isAllTime)return s;t&&(s=s.offset(-t.value,t.unit)),e&&(s=f4e(s));const a=this._get("timeExtent");return s.equals(a)?a:s}},oPe={type:Ve,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=Ve.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=Ce.fromJSON(t.spatialReference)),r}}}},read:!1}},$Y={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},v4e={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},w4e={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},TY={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}},hA=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(r,i,n,s){(s&&s.layerContainerType==="ground"||r&&toe(this,n,{},s))&&(i[n]=r)}writeOperationalLayerType(r,i,n,s){!r||s&&s.layerContainerType==="tables"||(i.layerType=r)}writeTitle(r,i){i.title=r||"Layer"}read(r,i){i&&(i.layer=this),Yae(this,r,n=>super.read(r,n),i)}write(r,i){var a,o;if(i!=null&&i.origin){const l=`${i.origin}/${i.layerContainerType||"operational-layers"}`,c=d4e[l];let d=c&&c[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&l==="web-scene/operational-layers"&&(d=!1),!d)return(a=i.messages)==null||a.push(new R("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${l}'`,{layer:this})),null}const n=super.write(r,{...i,layer:this}),s=!!i&&!!i.messages&&!!i.messages.filter(l=>l instanceof R&&l.name==="web-document-write:property-required").length;return tw(n==null?void 0:n.url)?((o=i==null?void 0:i.messages)==null||o.push(new R("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:n}beforeSave(){}};return u([f({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),u([f(TY)],t.prototype,"listMode",void 0),u([ce("listMode")],t.prototype,"writeListMode",null),u([f({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),u([ce("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),u([f(dm)],t.prototype,"opacity",void 0),u([f({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),u([ce([void 0,"web-scene"],"title")],t.prototype,"writeTitle",null),u([f({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=u([E("esri.layers.mixins.OperationalLayer")],t),t};var M$;const Y7=new Le({asc:"ascending",desc:"descending"});let Wh=M$=class extends Z{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new M$({field:this.field,valueExpression:this.valueExpression,order:this.order})}};u([f({type:String,json:{write:!0}})],Wh.prototype,"field",void 0),u([f({type:String,json:{write:!0}})],Wh.prototype,"valueExpression",void 0),u([f({type:Y7.apiValues,json:{read:Y7.read,write:Y7.write}})],Wh.prototype,"order",void 0),Wh=M$=u([E("esri.layers.support.OrderByInfo")],Wh);const CY=Wh;function _4e(e,t,r){if(!e)return null;const i=e.find(s=>!!s.field);if(!i)return null;const n=new CY;return n.read(i,r),[n]}function S4e(e,t,r,i){const n=e.find(s=>!!s.field);n&&Nn(r,[n.toJSON()],t)}const EY=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return u([f({type:[CY],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:_4e},write:{target:"layerDefinition.orderBy",writer:S4e}}})],t.prototype,"orderBy",void 0),t=u([E("esri.layers.mixins.OrderedLayer")],t),t},x4e=ae.getLogger("esri.layers.mixins.PortalLayer"),kY=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var r;(r=this.portalItem)==null||r.destroy(),this.portalItem=null}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,i,n){if(i.itemId)return new h4({id:i.itemId,portal:n&&n.portal})}writePortalItem(r,i){r&&r.id&&(i.itemId=r.id)}async loadFromPortal(r,i){if(this.portalItem&&this.portalItem.id)try{const n=await Y(()=>import("./layersLoader.e71b579c.js").then(s=>s.l),["layersLoader.e71b579c.js","lazyLayerLoader.d60fff42.js","jsonContext.3563f828.js"],import.meta.url);return Ge(i),await n.load({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData},i)}catch(n){throw zi(n)||x4e.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${n}`),n}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(i=>(ny(i),!0)))}async _fetchUserHasEditingPrivileges(r){const i=this.url?Dt==null?void 0:Dt.findCredential(this.url):null;if(!i)return!0;const n=av.credential===i?av.user:await this._fetchEditingUser(r);return av.credential=i,av.user=n,B(n)||n.privileges==null||n.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var d,p;const i=(p=(d=this.portalItem)==null?void 0:d.portal)==null?void 0:p.user;if(i)return i;const n=Dt.findServerInfo(this.url);if(!(n!=null&&n.owningSystemUrl))return null;const s=`${n.owningSystemUrl}/sharing/rest`,a=ai.getDefault();if(a&&a.loaded&&na(a.restUrl)===na(s))return a.user;const o=`${s}/community/self`,l=C(r)?r.signal:null,c=await X6($e(o,{authMode:"no-prompt",query:{f:"json"},signal:l}));return c.ok?gE.fromJSON(c.value.data):null}read(r,i){i&&(i.layer=this),super.read(r,i)}write(r,i){const n=i&&i.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||ai.getDefault());return n&&s&&!vG(s.restUrl,n.restUrl)?(i.messages&&i.messages.push(new R("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...i,layer:this})}};return u([f({type:h4})],t.prototype,"portalItem",null),u([ie("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),u([ce("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),u([f({clonable:!1})],t.prototype,"resourceReferences",void 0),u([f({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=u([E("esri.layers.mixins.PortalLayer")],t),t},av={credential:null,user:null},l2=new Se,r1=new WeakMap;function M4e(e){AY(e)&&l2.push(e)}function I4e(e){AY(e)&&l2.includes(e)&&l2.remove(e)}function AY(e){return e&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function LY(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:LY(t,e%t):0}let K7=0,ov=0;function $4e(){var t;const e=Date.now();for(const r of l2)r.refreshInterval&&e-((t=r1.get(r))!=null?t:0)+5>=6e4*r.refreshInterval&&(r1.set(r,e),r.refresh(e))}jU(()=>{const e=Date.now();let t=0;for(const r of l2)t=LY(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?r1.get(r)||r1.set(r,e):r1.delete(r);if(t!==ov){if(ov=t,clearInterval(K7),ov===0)return void(K7=0);K7=setInterval($4e,ov)}});const mA=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=Z6(()=>this.hasDataChanged()),this.when().then(()=>{M4e(this)},()=>{})}destroy(){I4e(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){qS(this._debounceHasDataChanged()).then(i=>{i&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:i})},i=>{ae.getLogger(this.declaredClass).error(i),this.emit("refresh",{dataChanged:!1,error:i})})}async hasDataChanged(){return!0}};return u([f({type:Number,cast:r=>r>=.1?r:r<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),u([f({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),u([f()],t.prototype,"refreshParameters",null),t=u([E("esri.layers.mixins.RefreshableLayer")],t),t},yA=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},i=this.parent;i&&"effectiveScaleRange"in i&&T4e(r,i.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===r.minScale&&n.maxScale===r.maxScale?n:r}};return u([f({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),u([f({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),u([f({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=u([E("esri.layers.mixins.ScaleRangeLayer")],t),t};function T4e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const ip=ir()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});var I$;let ub=I$=class extends Z{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return r2e(this.value,this.unit,"milliseconds")}clone(){return new I$({value:this.value,unit:this.unit})}};u([f({type:Number,json:{write:!0},nonNullable:!0})],ub.prototype,"value",void 0),u([f({type:ip.apiValues,json:{type:ip.jsonValues,read:ip.read,write:ip.write},nonNullable:!0})],ub.prototype,"unit",void 0),ub=I$=u([E("esri.TimeInterval")],ub);const c2=ub;var $$;let Jh=$$=class extends Z{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return t.respectsDaylightSaving!==void 0?t.respectsDaylightSaving:t.respectDaylightSaving!==void 0&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new $$({respectsDaylightSaving:e,timezone:t})}};u([f({type:Boolean,json:{write:!0}})],Jh.prototype,"respectsDaylightSaving",void 0),u([ie("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],Jh.prototype,"readRespectsDaylightSaving",null),u([f({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],Jh.prototype,"timezone",void 0),Jh=$$=u([E("esri.layers.support.TimeReference")],Jh);const C4e=Jh;var T$;let Ci=T$=class extends Z{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||t.timeExtent.length!==2)return null;const r=new Date(t.timeExtent[0]),i=new Date(t.timeExtent[1]);return new $s({start:r,end:i})}writeFullTimeExtent(e,t){e&&C(e.start)&&C(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new c2({value:t.timeInterval,unit:ip.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new c2({value:t.defaultTimeInterval,unit:ip.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:r,interval:i,startField:n,timeReference:s,fullTimeExtent:a,trackIdField:o,useTime:l}=this;return new T$({cumulative:e,endField:t,hasLiveData:r,interval:i,startField:n,timeReference:D(s),fullTimeExtent:D(a),trackIdField:o,useTime:l})}};u([f({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],Ci.prototype,"cumulative",void 0),u([f({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],Ci.prototype,"endField",void 0),u([f({type:$s,json:{write:{enabled:!0,allowNull:!0}}})],Ci.prototype,"fullTimeExtent",void 0),u([ie("fullTimeExtent",["timeExtent"])],Ci.prototype,"readFullTimeExtent",null),u([ce("fullTimeExtent")],Ci.prototype,"writeFullTimeExtent",null),u([f({type:Boolean,json:{write:!0}})],Ci.prototype,"hasLiveData",void 0),u([f({type:c2,json:{write:{enabled:!0,allowNull:!0}}})],Ci.prototype,"interval",void 0),u([ie("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Ci.prototype,"readInterval",null),u([ce("interval")],Ci.prototype,"writeInterval",null),u([f({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],Ci.prototype,"startField",void 0),u([f({type:C4e,json:{write:{enabled:!0,allowNull:!0}}})],Ci.prototype,"timeReference",void 0),u([f({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Ci.prototype,"trackIdField",void 0),u([f({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],Ci.prototype,"useTime",void 0),Ci=T$=u([E("esri.layers.support.TimeInfo")],Ci);const RY=Ci,gA=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,i){const n=i.timeInfo.exportOptions;if(!n)return null;const s=n.timeOffset,a=ip.fromJSON(n.timeOffsetUnits);return s&&a?new c2({value:s,unit:a}):null}set timeInfo(r){RE(r,this.fieldsIndex),this._set("timeInfo",r)}};return u([f({type:$s,json:{write:!1}})],t.prototype,"timeExtent",void 0),u([f({type:c2})],t.prototype,"timeOffset",void 0),u([ie("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),u([f({value:null,type:RY,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),u([f({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=u([E("esri.layers.mixins.TemporalLayer")],t),t};var C$;let Ql=C$=class extends Z{constructor(e){super(e)}clone(){const{name:e,fields:t,isAscending:r,isUnique:i,description:n}=this;return new C$({name:e,fields:t,isAscending:r,isUnique:i,description:n})}};u([f({constructOnly:!0})],Ql.prototype,"name",void 0),u([f({constructOnly:!0})],Ql.prototype,"fields",void 0),u([f({constructOnly:!0})],Ql.prototype,"isAscending",void 0),u([f({constructOnly:!0})],Ql.prototype,"isUnique",void 0),u([f({constructOnly:!0})],Ql.prototype,"description",void 0),Ql=C$=u([E("esri.layers.support.FeatureIndex")],Ql);let od=class extends Z{constructor(){super(...arguments),this.type=null}};u([f({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],od.prototype,"type",void 0),od=u([E("esri.layers.support.FeatureReduction")],od);var E$;let Zh=E$=class extends Z{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new E$({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};u([f({type:String,json:{write:!0}})],Zh.prototype,"statisticType",void 0),u([f({type:String,json:{write:!0}})],Zh.prototype,"onStatisticField",void 0),u([f({type:String,json:{write:!0}})],Zh.prototype,"onStatisticValueExpression",void 0),Zh=E$=u([E("esri.layers.support.OutStatistic")],Zh);const E4e=Zh;var k$;let db=k$=class extends Z{constructor(){super(...arguments),this.name=null,this.outStatistic=null}clone(){return new k$({name:this.name,outStatistic:this.outStatistic.clone()})}};u([f({type:String,json:{write:!0}})],db.prototype,"name",void 0),u([f({type:E4e,json:{write:!0}})],db.prototype,"outStatistic",void 0),db=k$=u([E("esri.layers.support.AggregateField")],db);const PY=db,bA="__begin__",vA="__end__",k4e=new RegExp(bA,"ig"),A4e=new RegExp(vA,"ig"),GD=new RegExp("^"+bA,"i"),qD=new RegExp(vA+"$","i"),o6='"',L4e=o6+" + ",R4e=" + "+o6;function P4e(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function O4e(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function wA(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=P4e(e.labelExpression),t.type="conventional"),t}function F4e(e){const t=wA(e);if(!t)return null;switch(t.type){case"conventional":return A$(t.expression);case"arcade":return t.expression}return null}function D4e(e){const t=wA(e);if(!t)return null;switch(t.type){case"conventional":return j4e(t.expression);case"arcade":return OY(t.expression)}return null}function A$(e){let t;return e?(t=Ko(e,r=>bA+'$feature["'+r+'"]'+vA),t=GD.test(t)?t.replace(GD,""):o6+t,t=qD.test(t)?t.replace(qD,""):t+o6,t=t.replace(k4e,L4e).replace(A4e,R4e)):t='""',t}const N4e=/^\s*\{([^}]+)\}\s*$/i;function j4e(e){const t=e.match(N4e);return t&&t[1].trim()||null}const V4e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,z4e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,B4e=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function OY(e){if(!e)return null;let t=V4e.exec(e)||z4e.exec(e);return t?t[1]||t[3]:(t=B4e.exec(e),t?t[2]:null)}var L$;let lu=L$=class extends Z{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?A$(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=A$(this.value)),e!=null&&(t[r]=e)}clone(){return new L$({expression:this.expression,title:this.title,value:this.value})}};u([f({type:String,json:{write:{writerEnsuresNonNull:!0}}})],lu.prototype,"expression",void 0),u([ie("expression",["expression","value"])],lu.prototype,"readExpression",null),u([ce("expression")],lu.prototype,"writeExpression",null),u([f({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],lu.prototype,"title",void 0),u([f({json:{read:!1,write:!1}})],lu.prototype,"value",void 0),lu=L$=u([E("esri.layers.support.LabelExpressionInfo")],lu);const FY=lu,DY=[252,146,31,255],NY={type:"esriSMS",style:"esriSMSCircle",size:6,color:DY,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},jY={type:"esriSLS",style:"esriSLSSolid",width:.75,color:DY},VY={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},U4e={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},G4e={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},q4e={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},H4e={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};Ni.fromJSON(NY);qi.fromJSON(jY);po.fromJSON(VY);const W4e=my.fromJSON(U4e),lPe=Ni.fromJSON(G4e),cPe=qi.fromJSON(q4e),uPe=po.fromJSON(H4e);var R$;const lv=new Le({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function zY(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function J4e(e){return(e==null?void 0:e.type)==="map-image"}function BY(e){var t,r;return!!J4e(e)&&!!((r=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&r.supportsArcadeExpressionForLabeling)}function Z4e(e){return zY(e)||BY(e.layer)}let ar=R$=class extends Z{constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=W4e,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=(i,n,s)=>{switch(n){case"=":return i==s;case"<>":return i!=s;case">":return i>s;case">=":return i>=s;case"<":return i<s;case"<=":return i<=s}return!1};try{if(e==null)return!0;const i=e.split(" ");if(i.length===3)return r(t[i[0]],i[1],i[2]);if(i.length===7){const n=r(t[i[0]],i[1],i[2]),s=i[3],a=r(t[i[4]],i[5],i[6]);switch(s){case"AND":return n&&a;case"OR":return n||a}}return!1}catch{console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=O4e(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const i=OY(this.labelExpressionInfo.expression);i&&(e="["+i+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,i){if(e==null&&this.labelExpression!=null&&zY(i))e=new FY({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(i);n.expression&&(t[r]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return wA(this)}getLabelExpressionArcade(){return F4e(this)}getLabelExpressionSingleField(){return D4e(this)}hash(){return JSON.stringify(this)}clone(){return new R$({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:D(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:D(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};u([f({type:String,json:{write:!0}})],ar.prototype,"name",void 0),u([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],ar.prototype,"allowOverrun",void 0),u([f({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],ar.prototype,"deconflictionStrategy",void 0),u([f({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&BY(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],ar.prototype,"labelExpression",void 0),u([ie("labelExpression")],ar.prototype,"readLabelExpression",null),u([ce("labelExpression")],ar.prototype,"writeLabelExpression",null),u([f({type:FY,json:{write:{overridePolicy:(e,t,r)=>Z4e(r)?{allowNull:!0}:{enabled:!1}}}})],ar.prototype,"labelExpressionInfo",void 0),u([ce("labelExpressionInfo")],ar.prototype,"writeLabelExpressionInfo",null),u([f({type:lv.apiValues,json:{type:lv.jsonValues,read:lv.read,write:lv.write}})],ar.prototype,"labelPlacement",void 0),u([f({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],ar.prototype,"labelPosition",void 0),u([f({type:Number})],ar.prototype,"maxScale",void 0),u([ce("maxScale")],ar.prototype,"writeMaxScale",null),u([f({type:Number})],ar.prototype,"minScale",void 0),u([ce("minScale")],ar.prototype,"writeMinScale",null),u([f({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],ar.prototype,"repeatLabel",void 0),u([f({type:Number,cast:Ye,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ar.prototype,"repeatLabelDistance",void 0),u([f({types:rpe,json:{origins:{"web-scene":{types:ipe,write:wD,default:null}},write:wD,default:null}})],ar.prototype,"symbol",void 0),u([f({type:Boolean,json:{write:!0}})],ar.prototype,"useCodedValues",void 0),u([f({type:String,json:{write:!0}})],ar.prototype,"where",void 0),ar=R$=u([E("esri.layers.support.LabelClass")],ar);const W2=ar;var P$;let Fa=P$=class extends od{constructor(e){super(e),this.type="binning",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}clone(){return new P$({fields:D(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:D(this.labelingInfo),labelsVisible:this.labelsVisible,popupEnabled:this.popupEnabled,popupTemplate:D(this.popupTemplate),renderer:D(this.renderer)})}};u([ge({binning:"binning"})],Fa.prototype,"type",void 0),u([f({type:Number,json:{write:!0}})],Fa.prototype,"fixedBinLevel",void 0),u([f({type:[W2],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Fa.prototype,"labelingInfo",void 0),u([f(Qw)],Fa.prototype,"labelsVisible",void 0),u([f(H2)],Fa.prototype,"popupEnabled",void 0),u([f({type:Gp,json:{name:"popupInfo",write:!0}})],Fa.prototype,"popupTemplate",void 0),u([f({type:[PY],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Fa.prototype,"fields",void 0),u([f({types:q2,json:{write:!0}})],Fa.prototype,"renderer",void 0),Fa=P$=u([E("esri.layers.support.FeatureReductionBinning")],Fa);const Q4e=Fa;var O$;let _n=O$=class extends Z{constructor(e){super(e),this.type="cluster",this.clusterRadius=Ye("80px"),this.clusterMinSize=Ye("12px"),this.clusterMaxSize=Ye("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new O$({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:D(this.labelingInfo),labelsVisible:this.labelsVisible,fields:D(this.fields),renderer:D(this.renderer),popupEnabled:this.popupEnabled,popupTemplate:D(this.popupTemplate)})}};u([f({type:["cluster"],readOnly:!0,json:{write:!0}})],_n.prototype,"type",void 0),u([f({type:Number,cast:e=>e==="auto"?e:Ye(e),json:{write:!0}})],_n.prototype,"clusterRadius",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],_n.prototype,"clusterMinSize",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],_n.prototype,"clusterMaxSize",void 0),u([f(H2)],_n.prototype,"popupEnabled",void 0),u([f({type:Gp,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],_n.prototype,"popupTemplate",void 0),u([f({types:q2,json:{write:!0}})],_n.prototype,"renderer",void 0),u([f({types:epe})],_n.prototype,"symbol",void 0),u([f({type:[W2],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],_n.prototype,"labelingInfo",void 0),u([f(Qw)],_n.prototype,"labelsVisible",void 0),u([f({type:[PY],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],_n.prototype,"fields",void 0),_n=O$=u([E("esri.layers.support.FeatureReductionCluster")],_n);const UY=_n;var F$;let X5=F$=class extends od{constructor(e){super(e),this.type="selection"}clone(){return new F$}};u([f({type:["selection"]})],X5.prototype,"type",void 0),X5=F$=u([E("esri.layers.support.FeatureReductionSelection")],X5);const HD=X5,WD={key:"type",base:od,typeMap:{selection:UY}},GY={types:{key:"type",base:od,typeMap:{selection:HD,cluster:UY,binning:Q4e}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:WD},"portal-item":{types:WD},"web-scene":{types:{key:"type",base:od,typeMap:{selection:HD}}}}}},JD=new Le({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let cu=class extends Un(Z){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};u([f({json:{write:!0}})],cu.prototype,"name",void 0),u([f({json:{write:!0}})],cu.prototype,"description",void 0),u([f({json:{read:JD.read,write:JD.write}})],cu.prototype,"drawingTool",void 0),u([f({json:{write:!0}})],cu.prototype,"prototype",void 0),u([f({json:{write:!0}})],cu.prototype,"thumbnail",void 0),cu=u([E("esri.layers.support.FeatureTemplate")],cu);const Yw=cu;let Fl=class extends Un(Z){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r of Object.keys(e))t[r]=kk(e[r]);return t}writeDomains(e,t){var i;const r={};for(const n of Object.keys(e))e[n]&&(r[n]=(i=e[n])==null?void 0:i.toJSON());t.domains=r}};u([f({json:{write:!0}})],Fl.prototype,"id",void 0),u([f({json:{write:!0}})],Fl.prototype,"name",void 0),u([f({json:{write:!0}})],Fl.prototype,"domains",void 0),u([ie("domains")],Fl.prototype,"readDomains",null),u([ce("domains")],Fl.prototype,"writeDomains",null),u([f({type:[Yw],json:{write:!0}})],Fl.prototype,"templates",void 0),Fl=u([E("esri.layers.support.FeatureType")],Fl);const _A=Fl;function Y4e(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function ZD(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function QD(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}class qY{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const r=[];for(const i of t){const n=i&&i.name;if(n){const s=YD(n);this._fieldsMap.set(n,i),this._fieldsMap.set(s,i),r.push(s),Y4e(i)?(this.dateFields.push(i),this._dateFieldsSet.add(i)):k2(i)&&(this._numericFieldsSet.add(i),this.numericFields.push(i)),ZD(i)||QD(i)||(i.editable=i.editable==null||!!i.editable,i.nullable=i.nullable==null||!!i.nullable)}}r.sort(),this.uid=r.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)ZD(t)||QD(t)||t.nullable||Sde(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){return t!=null?this._fieldsMap.get(t)||this._fieldsMap.get(YD(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const r=this.get(t);if(r)return r.name}}function YD(e){return e.toLowerCase().trim()}const K4e=ae.getLogger("esri.layers.support.fieldProperties");function HY(){return{fields:{type:[os],value:null},fieldsIndex:{readOnly:!0,get(){return new qY(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||K4e.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return Fq(this.fieldsIndex,e)}}}}let Qh=class extends Un(Z){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};u([f({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Qh.prototype,"shapeAreaField",void 0),u([f({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Qh.prototype,"shapeLengthField",void 0),u([f({type:String,json:{read:e=>Qpe.read(e)||Ype.read(e)}})],Qh.prototype,"units",void 0),Qh=u([E("esri.layers.support.GeometryFieldsInfo")],Qh);const X4e=Qh,e6e=/\[([^\[\]]+)\]/gi;function D$(e,t,r){return e?e.map(i=>{const n=new W2;if(n.read(i,r),n.labelExpression){const s=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;n.labelExpression=n.labelExpression.replace(e6e,(a,o)=>`[${t6e(o,s)}]`)}return n}):null}function t6e(e,t){if(!t)return e;const r=e.toLowerCase();for(let i=0;i<t.length;i++){const n=t[i].name;if(n.toLowerCase()===r)return n}return e}var N$;let Yh=N$=class extends Z{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new Se}clone(){return new N$({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};u([f({type:String,json:{write:!0}})],Yh.prototype,"floorField",void 0),u([f({json:{read:!1,write:!1}})],Yh.prototype,"viewAllMode",void 0),u([f({json:{read:!1,write:!1}})],Yh.prototype,"viewAllLevelIds",void 0),Yh=N$=u([E("esri.layers.support.LayerFloorInfo")],Yh);const r6e=Yh,KD=new Le({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),XD=new Le({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let zs=class extends Un(Z){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};u([f({json:{read:KD.read,write:KD.write}})],zs.prototype,"cardinality",void 0),u([f({json:{read:!0,write:!0}})],zs.prototype,"composite",void 0),u([f({json:{read:!0,write:!0}})],zs.prototype,"id",void 0),u([f({json:{read:!0,write:!0}})],zs.prototype,"keyField",void 0),u([f({json:{read:!0,write:!0}})],zs.prototype,"keyFieldInRelationshipTable",void 0),u([f({json:{read:!0,write:!0}})],zs.prototype,"name",void 0),u([f({json:{read:!0,write:!0}})],zs.prototype,"relatedTableId",void 0),u([f({json:{read:!0,write:!0}})],zs.prototype,"relationshipTableId",void 0),u([f({json:{read:XD.read,write:XD.write}})],zs.prototype,"role",void 0),zs=u([E("esri.layers.support.Relationship")],zs);const i6e=zs,Da=[];function WY(e,t){if(cA(e.url))return!0;const{wkid:r}=t;for(const i of Da){if(e.version>=i[0])return!0;if(typeof i[1]=="function"&&(i[1]=i[1]()),i[1].has(r))return!1}return!0}Da.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102955;t++)e.add(t);return e}]),Da.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Da.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Da.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Da.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);for(let t=103696;t<=103698;t++)e.add(t);return e}]),Da.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),Da.push([10.61,()=>new Set([102497])]),Da.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),Da.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),Da.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function n6e(e,t,r){const i=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(i&&i.type==="unique-value"&&i.styleOrigin){const n=await X6(i.populateFromStyle());if(Ge(r),n.ok===!1){const s=n.error;t&&t.messages&&t.messages.push(new Bi("renderer:style-reference",`Failed to create unique value renderer from style reference: ${s.message}`,{error:s,context:t})),e.clear("renderer",t.origin)}}}const s6e=["oid","global-id"],a6e=["oid","global-id","guid"];function SA({displayField:e,editFieldsInfo:t,fields:r,objectIdField:i,title:n},s){if(!r)return null;const a=f6e({editFieldsInfo:t,fields:r,objectIdField:i},s);if(!a.length)return null;const o=m6e({titleBase:n,fields:r,displayField:e}),l=h6e();return new Gp({title:o,content:l,fieldInfos:a})}const o6e=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],l6e=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:i})=>i?i.has(e.name):!JY(e.name,t)&&(!r||e.name!==r)&&!s6e.includes(e.type)&&!o6e.some(n=>n.test(e.name));function c6e(e,t){const r=e;return t&&(e=e.filter(i=>!t.includes(i.type))),e===r&&(e=e.slice()),e.sort(u6e),e}function u6e(e,t){return e.type==="oid"?-1:t.type==="oid"?1:eN(e)?-1:eN(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function JY(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:i,editDateField:n,editorField:s}=t;return[r&&r.toLowerCase(),i&&i.toLowerCase(),n&&n.toLowerCase(),s&&s.toLowerCase()].includes(e.toLowerCase())}function d6e(e,t){return e.editable&&!a6e.includes(e.type)&&!JY(e.name,t)}function f6e({editFieldsInfo:e,fields:t,objectIdField:r},i){return c6e(t,(i==null?void 0:i.ignoreFieldTypes)||y6e).map(n=>new A2({fieldName:n.name,isEditable:d6e(n,e),label:n.alias,format:p6e(n),visible:l6e(n,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:i==null?void 0:i.visibleFieldNames})}))}function p6e(e){switch(e.type){case"small-integer":case"integer":case"single":return new A0({digitSeparator:!0,places:0});case"double":return new A0({digitSeparator:!0,places:2});case"date":return new A0({dateFormat:"long-month-day-year"});default:return e.type==="string"&&Bq(e.name)?new A0({digitSeparator:!0,places:0}):null}}function h6e(){return[new Pm,new B1]}function m6e(e){const t=gde(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}function eN(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"||void 0}const y6e=["geometry","blob","raster","guid","xml"],X7=new Le({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),g6e={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},sr="FeatureLayer",tN=ae.getLogger("esri.layers.FeatureLayer");function cv(e,t){return new R("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function rN(e){return e&&e instanceof Se}function Re(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function uv(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function b6e(e){var r;const t=(r=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:r.map(i=>i.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function og(e,t){var i;const r=(i=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:i.map(n=>n.toLowerCase());return!!(r!=null&&r.includes(t.toLowerCase()))}const e_=HY();function t_(e,t,r){const i=!!(r!=null&&r.writeLayerSchema);return{enabled:i,ignoreOrigin:i}}let le=class extends xY(uA(EY(gA(yA(mA(SY(hA(kY(Jw(dA(t4e(Un(Lm))))))))))))){constructor(...e){super(...e),this._handles=new hr,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=Ce.WGS84,this.subtypeCode=null,this.subtypeField=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(Se.ofType(Ql)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=Tn(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){const t=C(e)?e.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(t).then(i=>this._initLayerProperties(i)));const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(ny).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const i=await this._fetchFirstLayerId(t);i!=null&&(this.layerId=i)}if(!this.url&&!this._hasMemorySource())throw new R("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this.finishLoadEditablePortalLayer(e));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,{analytics:this._readAnalyticsCapabilities(t),attachment:this._readAttachmentCapabilities(t),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),queryTopFeatures:this._readQueryTopFeaturesCapabilities(t),editing:this._readEditingCapabilities(t)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){e!=null?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,i){this._writeEditingEnabled(e,t,!0,i)}readEditingInfo(e,t){const{editingInfo:r}=t;return r?{lastEditDate:r.lastEditDate!=null?new Date(r.lastEditDate):null}:null}readIsTable(e,t){return(t=t&&t.layerDefinition||t).type==="Table"||!t.geometryType}writeIsTable(e,t,r,i){i!=null&&i.writeLayerSchema&&Nn(r,e?"Table":"Feature Layer",t)}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeGlobalID")return r.name}}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeOID")return r.name}}get parsedUrl(){const e=this.url?jt(this.url):null;return e!=null&&(this.dynamicDataSource!=null?e.path=hd(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=hd(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){v4(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){const i=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(i){const n=dY(i,t,r)||void 0;return n||tN.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),n}if(t.defaultSymbol)return t.types&&t.types.length?new Kp({defaultSymbol:r_(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(n=>({id:n.id,symbol:r_(n.symbol,n,r)}))}):new nA({symbol:r_(t.defaultSymbol,t,r)})}set source(e){const t=this._get("source");t!==e&&(rN(t)&&this._resetMemorySource(t),rN(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof Se?new Zl({layer:this,items:e}):e:null}readSource(e,t){const r=Ss.fromJSON(t.featureSet);return new Zl({layer:this,items:r&&r.features||[]})}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readTemplates(e,t){const r=t.editFieldsInfo,i=r&&r.creatorField,n=r&&r.editorField;return e=e&&e.map(s=>Yw.fromJSON(s)),this._fixTemplates(e,i),this._fixTemplates(e,n),e}readTitle(e,t){const r=t.layerDefinition&&t.layerDefinition.name||t.name,i=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){const n=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?s4e(this.url,r):r;let s=r;if(!s&&this.url){const a=Hm(this.url);C(a)&&(s=a.title)}return s?(this.sublayerTitleMode==="item-title-and-service-name"&&n&&n!==s&&(s=n+" - "+s),lA(s)):void 0}if(this.sublayerTitleMode==="item-title"&&i)return i}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const i=t.fields.find(n=>n.name.toLowerCase()===r);i&&(r=i.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,i=r&&r.creatorField,n=r&&r.editorField;return e&&e.map(s=>(s=_A.fromJSON(s),this._fixTemplates(s.templates,i),this._fixTemplates(s.templates,n),s))}set url(e){const t=o4e({layer:this,url:e,nonStandardUrlAllowed:!0,logger:tN});this._set("url",t.url),t.layerId!=null&&this._set("layerId",t.layerId)}writeUrl(e,t,r,i){l4e(this,e,null,t,i)}readVersion(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}addAttachment(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("addAttachment"in this.source))throw new R(sr,"Layer source does not support addAttachment capability");return this.source.addAttachment(e,t)})}updateAttachment(e,t,r){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("updateAttachment"in this.source))throw new R(sr,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(e,t,r)})}async applyEdits(e,t){const r=await Y(()=>import("./editingSupport.9fd12ac9.js"),[],import.meta.url);return await this.load(),r.applyEdits(this,this.source,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return SA(this,e)}async createGraphicsSource(e){if(this._hasMemorySource())return this.source.load({signal:e});const{default:t}=await kU(Y(()=>import("./FeatureLayerSource.94c1f29a.js"),[],import.meta.url),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=new Ht,t=this.get("capabilities.data"),r=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,r&&(e.compactGeometryEnabled=r.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),t&&(t.supportsZ&&this.returnZ!=null&&(e.returnZ=this.returnZ),t.supportsM&&this.returnM!=null&&(e.returnM=this.returnM)),e.outFields=["*"];const i=C(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null,n=pY(this.definitionExpression,i);e.where=n||"1=1";const{timeOffset:s,timeExtent:a}=this;return e.timeExtent=s!=null&&a!=null?a.offset(-s.value,s.unit):a||null,e.multipatchOption=this.geometryType==="multipatch"?"xyFootprint":null,e}deleteAttachments(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("deleteAttachments"in this.source))throw new R(sr,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(e,t)})}fetchRecomputedExtents(e){return this.load({signal:e==null?void 0:e.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(e);throw new R(sr,"Layer source does not support fetchUpdates capability")})}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const i=e.attributes?e.attributes[t]:void 0;if(i==null)return null;let n=null;return r.some(s=>{const{id:a}=s;return a!=null&&(a.toString()===i.toString()&&(n=s),!!n)}),n}getFieldDomain(e,t){const r=t&&t.feature,i=this.getFeatureType(r);if(i){const n=i.domains&&i.domains[e];if(n&&n.type!=="inherited")return n}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}queryAttachments(e,t){return e=z4.from(e),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new R(sr,"this layer doesn't support attachments");const{attachmentTypes:r,objectIds:i,globalIds:n,num:s,size:a,start:o,where:l}=e;if(!this.get("capabilities.operations.supportsQueryAttachments")){const c=i&&i.length>1,d=r&&r.length,p=n&&n.length,h=a&&a.length;if(c||d||p||h||s||o||l)throw new R(sr,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(i&&i.length||l))throw new R(sr,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in this.source))throw new R(sr,"Layer source does not support queryAttachments capability",e);return this.source.queryAttachments(e)})}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(Ht.from(e)||this.createQuery(),t)).then(r=>{if(r!=null&&r.features)for(const i of r.features)i.layer=i.sourceLayer=this;return r})}queryObjectIds(e,t){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Ht.from(e)||this.createQuery(),t);throw new R(sr,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(e,t){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Ht.from(e)||this.createQuery(),t);throw new R(sr,"Layer source does not support queryFeatureCount capability")})}queryExtent(e,t){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(Ht.from(e)||this.createQuery(),t);throw new R(sr,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(e,t){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(Pp.from(e),t);throw new R(sr,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(e,t){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(Pp.from(e),t);throw new R(sr,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(e,t){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(Hu.from(e),t).then(r=>{if(r!=null&&r.features)for(const i of r.features)i.layer=i.sourceLayer=this;return r});throw new R(sr,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(e,t){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(Hu.from(e),t);throw new R(sr,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(e,t){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(Hu.from(e),t);throw new R(sr,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(e,t){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(Hu.from(e),t);throw new R(sr,"Layer source does not support queryFeatureCount capability")})}read(e,t){const r=e.featureCollection;if(r){const i=r.layers;i&&i.length===1&&(super.read(i[0],t),r.showLegend!=null&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(e,t){var s;t={...t,writeLayerSchema:(s=t==null?void 0:t.writeLayerSchema)!=null?s:this._hasMemorySource()};const{origin:r,layerContainerType:i,messages:n}=t;if(this.dynamicDataSource)return n==null||n.push(cv(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(r==="web-scene"||r==="web-map"&&i!=="tables")return n==null||n.push(cv(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return n==null||n.push(cv(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&r==="web-map"&&i==="tables")return n==null||n.push(cv(this,"using a non-table source cannot be written to tables in web maps")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new R(sr,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source.type==="memory"||WY(this,e))}async save(e){return(await Y(()=>import("./featureLayerUtils.020ca015.js"),["featureLayerUtils.020ca015.js","originUtils.10ab3775.js","multiOriginJSONSupportUtils.2c03086c.js","arcgisLayers.98f9b470.js","lazyLayerLoader.d60fff42.js","jsonContext.3563f828.js","portalItemUtils.f3eef975.js"],import.meta.url)).save(this,e)}async saveAs(e,t){return(await Y(()=>import("./featureLayerUtils.020ca015.js"),["featureLayerUtils.020ca015.js","originUtils.10ab3775.js","multiOriginJSONSupportUtils.2c03086c.js","arcgisLayers.98f9b470.js","lazyLayerLoader.d60fff42.js","jsonContext.3563f828.js","portalItemUtils.f3eef975.js"],import.meta.url)).saveAs(this,e,t)}_readEditingEnabled(e,t,r){var n;let i=(n=e.layerDefinition)==null?void 0:n.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,t&&(r==null?void 0:r.origin)==="web-map"&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,r,i){var n,s;if(!e){const a=(s=(n=this.capabilities)==null?void 0:n.operations)!=null&&s.supportsSync?"Query,Sync":"Query";Nn("layerDefinition.capabilities",a,t),r&&!(i!=null&&i.writeLayerSchema)&&(t.capabilities=a)}}_checkAttachmentSupport(e){const{attributes:t}=e,{objectIdField:r}=this;return this.get("capabilities.data.supportsAttachment")?e?t?t[r]?void 0:Promise.reject(new R(sr,`feature is missing the identifying attribute ${r}`)):Promise.reject(new R(sr,"'attributes' are required on a feature to query attachments")):Promise.reject(new R(sr,"A feature is required to add/delete/update attachments")):Promise.reject(new R(sr,"this layer doesn't support attachments"))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return $e(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const r=t.data;if(r)return Array.isArray(r.layers)&&r.layers.length>0?r.layers[0].id:Array.isArray(r.tables)&&r.tables.length>0?r.tables[0].id:void 0})}async _initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),v4(this.renderer,this.fieldsIndex),RE(this.timeInfo,this.fieldsIndex),n6e(this,{origin:"service"})}async hasDataChanged(){var e,t;if((e=this.source)!=null&&e.refresh)try{const{dataChanged:r,updates:i}=await((t=this.source)==null?void 0:t.refresh());if(C(i)&&(this.sourceJSON={...this.sourceJSON,...i},this.read(i,{origin:"service",url:this.parsedUrl})),r)return!0}catch{}if(this.definitionExpression)try{return(await D9e(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1}_verifyFields(){var t;const e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||((t=this.fields)==null?void 0:t.some(r=>r.type==="geometry"))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(r=>{const i=r.prototype&&r.prototype.attributes;i&&t&&delete i[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new R("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new R("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAnalyticsCapabilities(e){return{supportsCacheHint:og(e.advancedQueryCapabilities,"queryAnalytics")}}_readAttachmentCapabilities(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:og(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:Re(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(i=>{const n=g6e[i.name];n&&(r[n]=!!i.isEnabled)}),r}_readDataCapabilities(e){return{isVersioned:Re(e,"isDataVersioned",!1),supportsAttachment:Re(e,"hasAttachments",!1),supportsM:Re(e,"hasM",!1),supportsZ:Re(e,"hasZ",!1)}}_readMetadataCapabilities(e){return{supportsAdvancedFieldProperties:Re(e,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(e,t){const r=e?e.toLowerCase().split(",").map(p=>p.trim()):[],i=this.url?Hm(this.url):null,n=r.includes(C(i)&&i.serverType==="MapServer"?"data":"query"),s=r.includes("editing")&&!t.datesInUnknownTimezone;let a=s&&r.includes("create"),o=s&&r.includes("delete"),l=s&&r.includes("update");const c=r.includes("changetracking"),d=t.advancedQueryCapabilities;return s&&!(a||o||l)&&(a=o=l=!0),{supportsCalculate:Re(t,"supportsCalculate",!1),supportsTruncate:Re(t,"supportsTruncate",!1),supportsValidateSql:Re(t,"supportsValidateSql",!1),supportsAdd:a,supportsDelete:o,supportsEditing:s,supportsChangeTracking:c,supportsQuery:n,supportsQueryAnalytics:Re(d,"supportsQueryAnalytic",!1),supportsQueryAttachments:Re(d,"supportsQueryAttachments",!1),supportsQueryTopFeatures:Re(d,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Re(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:l,supportsExceedsLimitStatistics:Re(t,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(e){var l;const t=e.advancedQueryCapabilities,r=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,n=(l=this.url)==null?void 0:l.includes("MapServer"),s=!W("mapserver-pbf-enabled")&&n&&this.version<10.81,a=cA(this.url),o=(e.supportedQueryFormats||"").split(",").reduce((c,d)=>{const p=d.toLowerCase().trim();return p&&c.add(p),c},new Set);return{supportsStatistics:Re(t,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:Re(t,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Re(t,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:b6e(t),supportsCentroid:Re(t,"supportsReturningGeometryCentroid",!1),supportsDistance:Re(t,"supportsQueryWithDistance",!1),supportsDistinct:Re(t,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Re(t,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Re(t,"supportsReturningGeometryProperties",!1),supportsHavingClause:Re(t,"supportsHavingClause",!1),supportsOrderBy:Re(t,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Re(t,"supportsPagination",!1),supportsQuantization:Re(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Re(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Re(e,"supportsReturningQueryGeometry",!1),supportsResultType:Re(t,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Re(t,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Re(t,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Re(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Re(t,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Re(r,"allowOthersToQuery",!0),supportsHistoricMoment:Re(i,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!s&&o.has("pbf"),supportsDisjointSpatialRelationship:Re(t,"supportsDisjointSpatialRel",!1),supportsCacheHint:Re(t,"supportsQueryWithCacheHint",!1)||og(t,"query"),supportsDefaultSpatialReference:Re(t,"supportsDefaultSR",!1),supportsCompactGeometry:a,maxRecordCountFactor:uv(e,"maxRecordCountFactor",void 0),maxRecordCount:uv(e,"maxRecordCount",void 0),standardMaxRecordCount:uv(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:uv(e,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(e){const t=e.advancedQueryCapabilities,r=Re(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Re(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:og(t,"queryRelated")}}_readQueryTopFeaturesCapabilities(e){return{supportsCacheHint:og(e.advancedQueryCapabilities,"queryTopFilter")}}_readEditingCapabilities(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Re(e,"allowGeometryUpdates",!0),supportsGlobalId:Re(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Re(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Re(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Re(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Re(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Re(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Re(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Re(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Re(t,"allowOthersToUpdate",!0)}}};u([f({readOnly:!0,json:{read:!1}})],le.prototype,"capabilities",void 0),u([ie("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],le.prototype,"readCapabilities",null),u([f({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],le.prototype,"charts",void 0),u([f({readOnly:!0})],le.prototype,"createQueryVersion",null),u([f({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],le.prototype,"copyright",void 0),u([f({type:Boolean})],le.prototype,"datesInUnknownTimezone",void 0),u([f({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],le.prototype,"displayField",void 0),u([f({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],le.prototype,"definitionExpression",void 0),u([f({types:up,readOnly:!0})],le.prototype,"defaultSymbol",void 0),u([f({type:In})],le.prototype,"dynamicDataSource",void 0),u([f({readOnly:!0})],le.prototype,"editFieldsInfo",void 0),u([f({type:Boolean})],le.prototype,"editingEnabled",null),u([ie(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],le.prototype,"readEditingEnabled",null),u([ie("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],le.prototype,"readEditingEnabledFromWebMap",null),u([ce(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],le.prototype,"writeEditingEnabled",null),u([ce("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],le.prototype,"writeEditingEnabledToWebMap",null),u([f({readOnly:!0})],le.prototype,"editingInfo",void 0),u([ie("editingInfo")],le.prototype,"readEditingInfo",null),u([f((()=>{const e=D(IY),t=e.json.origins;return t["web-map"]={read:!1,write:!1},t["portal-item"]={read:!1,write:!1},e})())],le.prototype,"elevationInfo",void 0),u([f(GY)],le.prototype,"featureReduction",void 0),u([f({...e_.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:t_}}}}})],le.prototype,"fields",void 0),u([f(e_.fieldsIndex)],le.prototype,"fieldsIndex",void 0),u([f({type:r6e,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],le.prototype,"floorInfo",void 0),u([f({type:Z9e,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],le.prototype,"formTemplate",void 0),u([f({type:Ve,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],le.prototype,"fullExtent",void 0),u([f()],le.prototype,"gdbVersion",void 0),u([f({readOnly:!0,type:X4e,json:{read:{source:"geometryProperties"}}})],le.prototype,"geometryFieldsInfo",void 0),u([f({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:X7.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:t_,writer(e,t,r){const i=e?X7.toJSON(e):null;i&&Nn(r,i,t)}}}},read:{source:"layerDefinition.geometryType",reader:X7.read}}})],le.prototype,"geometryType",void 0),u([f({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],le.prototype,"hasM",void 0),u([f({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],le.prototype,"hasZ",void 0),u([f({readOnly:!0,type:Zw})],le.prototype,"heightModelInfo",void 0),u([f({type:Date})],le.prototype,"historicMoment",void 0),u([f($Y)],le.prototype,"id",void 0),u([f({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],le.prototype,"infoFor3D",void 0),u([f({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],le.prototype,"isTable",void 0),u([ie("service","isTable",["type","geometryType"]),ie("isTable",["layerDefinition.type","layerDefinition.geometryType"])],le.prototype,"readIsTable",null),u([ce("web-map","isTable")],le.prototype,"writeIsTable",null),u([f(Qw)],le.prototype,"labelsVisible",void 0),u([f({type:[W2],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:D$},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:D$},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],le.prototype,"labelingInfo",void 0),u([f((()=>{const e=D(g4e);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,i){Nn(i,nw(t),r)}}},e})())],le.prototype,"opacity",void 0),u([f({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],le.prototype,"layerId",void 0),u([f(pA)],le.prototype,"legendEnabled",void 0),u([f({type:["show","hide"],json:(()=>{const e=D(TY.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],le.prototype,"listMode",void 0),u([f(v4e)],le.prototype,"minScale",void 0),u([ie("service","minScale",["minScale","effectiveMinScale"])],le.prototype,"readMinScale",null),u([f(w4e)],le.prototype,"maxScale",void 0),u([ie("service","maxScale",["maxScale","effectiveMaxScale"])],le.prototype,"readMaxScale",null),u([f({type:String})],le.prototype,"globalIdField",void 0),u([ie("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),ie("service","globalIdField",["globalIdField","fields"])],le.prototype,"readGlobalIdFieldFromService",null),u([f({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:t_}}}}})],le.prototype,"objectIdField",void 0),u([ie("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),ie("service","objectIdField",["objectIdField","fields"])],le.prototype,"readObjectIdFieldFromService",null),u([f({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],le.prototype,"operationalLayerType",void 0),u([f(e_.outFields)],le.prototype,"outFields",void 0),u([f({readOnly:!0})],le.prototype,"parsedUrl",null),u([f({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],le.prototype,"path",void 0),u([f(H2)],le.prototype,"popupEnabled",void 0),u([f({type:Gp,json:{name:"popupInfo",write:!0}})],le.prototype,"popupTemplate",void 0),u([f({readOnly:!0})],le.prototype,"defaultPopupTemplate",null),u([f({type:[i6e],readOnly:!0})],le.prototype,"relationships",void 0),u([f({types:q2,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:cY,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],le.prototype,"renderer",null),u([ie("service","renderer",["drawingInfo.renderer","defaultSymbol"]),ie("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],le.prototype,"readRenderer",null),u([f()],le.prototype,"sourceJSON",void 0),u([f({type:Boolean})],le.prototype,"returnM",void 0),u([f({type:Boolean})],le.prototype,"returnZ",void 0),u([f((()=>{const e=D(MY);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],le.prototype,"screenSizePerspectiveEnabled",void 0),u([f({clonable:!1})],le.prototype,"source",null),u([Ze("source")],le.prototype,"castSource",null),u([ie("portal-item","source",["featureSet"]),ie("web-map","source",["featureSet"])],le.prototype,"readSource",null),u([f({readOnly:!0})],le.prototype,"serviceDefinitionExpression",void 0),u([ie("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],le.prototype,"readServiceDefinitionExpression",null),u([f({type:Ce,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],le.prototype,"spatialReference",void 0),u([f({type:Number})],le.prototype,"subtypeCode",void 0),u([f({type:String,json:{origins:{service:{read:!0}}}})],le.prototype,"subtypeField",void 0),u([f({type:[Yw]})],le.prototype,"templates",void 0),u([ie("templates",["editFieldsInfo","creatorField","editorField","templates"])],le.prototype,"readTemplates",null),u([f({type:RY})],le.prototype,"timeInfo",void 0),u([f()],le.prototype,"title",void 0),u([ie("service","title",["name"]),ie("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],le.prototype,"readTitle",null),u([ie("web-map","title",["layerDefinition.name","title"])],le.prototype,"readTitleFromWebMap",null),u([f({type:String})],le.prototype,"sublayerTitleMode",void 0),u([f({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],le.prototype,"trackIdField",void 0),u([f({json:{read:!1}})],le.prototype,"type",void 0),u([f({type:String})],le.prototype,"typeIdField",void 0),u([ie("service","typeIdField"),ie("typeIdField",["layerDefinition.typeIdField"])],le.prototype,"readTypeIdField",null),u([f({type:[_A]})],le.prototype,"types",void 0),u([ie("service","types",["types"]),ie("types",["layerDefinition.types"])],le.prototype,"readTypes",null),u([f({readOnly:!0,json:{write:!1}})],le.prototype,"serverGens",void 0),u([f({type:Se.ofType(Ql),readOnly:!0})],le.prototype,"indexes",void 0),u([f(fA)],le.prototype,"url",null),u([ce("url")],le.prototype,"writeUrl",null),u([f({readOnly:!0})],le.prototype,"userIsAdmin",void 0),u([f({json:{origins:{service:{read:!0}},read:!1}})],le.prototype,"version",void 0),u([ie("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],le.prototype,"readVersion",null),u([f({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],le.prototype,"visible",void 0),u([ie("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],le.prototype,"readVisible",null),le=u([E("esri.layers.FeatureLayer")],le);const r_=ay({types:OH}),ZY=le,dPe=Object.freeze(Object.defineProperty({__proto__:null,default:ZY},Symbol.toStringTag,{value:"Module"})),v6e=["$datastore","$map","$layer","$aggregatedfeatures"],w6e="esri.widgets.Feature.support.arcadeFeatureUtils",_6e=ae.getLogger(w6e);function S6e(e){return typeof e=="string"?F2(gk(e)):Array.isArray(e)?x6e(e):(e==null?void 0:e.declaredClass)==="esri.arcade.Dictionary"?M6e(e):e}function x6e(e){return`<ul class="esri-widget__list">${e.map(t=>`<li>${typeof t=="string"?F2(gk(t)):t}</li>`).join("")}</ul>`}function M6e(e){return`<table class="esri-widget__table">${e.keys().map(t=>{const r=e.field(t);return`<tr><th>${t}</th><td>${typeof r=="string"?F2(gk(r)):r}</td></tr>`}).join("")}</table>`}function I6e({aggregatedFeatures:e,arcadeUtils:t,featureSetVars:r,context:i,viewInfo:n,map:s,graphic:a,interceptor:o}){r.forEach(l=>{const c=l.toLowerCase(),d={map:s,spatialReference:n.sr,interceptor:o};if(c==="$map"&&(i.vars[c]=t.convertMapToFeatureSetCollection(d)),c==="$layer"&&(i.vars[c]=t.convertFeatureLayerToFeatureSet({layer:a.sourceLayer,spatialReference:n.sr,interceptor:o})),c==="$datastore"&&(i.vars[c]=t.convertServiceUrlToWorkspace({url:a.sourceLayer.url,spatialReference:n.sr,interceptor:o})),c==="$aggregatedfeatures"){const p=a.layer,{fields:h,objectIdField:m,geometryType:g,spatialReference:b,displayField:w}=p,v=new ZY({fields:h,objectIdField:m,geometryType:g,spatialReference:b,displayField:w,...p.type==="feature"?{templates:p.templates,typeIdField:p.typeIdField,types:p.types}:null,source:e});i.vars[c]=t.convertFeatureLayerToFeatureSet({layer:v,spatialReference:n.sr,interceptor:o})}})}function QY(){return Y(()=>import("./arcadeUtils.c6cc38f6.js").then(e=>e.t),[],import.meta.url)}async function $6e({graphic:e,view:t}){const{isAggregate:r,layer:i}=e;if(!r||!i||(t==null?void 0:t.type)!=="2d")return[];const n=await t.whenLayerView(i);if(!n.createQuery||!n.queryFeatures)return[];const s=n.createQuery();s.aggregateIds=[e.getObjectId()];const{features:a}=await n.queryFeatures(s);return a}async function YY({expressionInfo:e,arcadeUtils:t,interceptor:r,spatialReference:i,map:n,graphic:s,view:a}){if(!e||!e.expression)return null;const o=t.createSyntaxTree(e.expression),l=v6e.filter(m=>t.hasVariable(o,m)),[c]=await Promise.all([$6e({graphic:s,view:a}),t.loadScriptDependencies(o,!0,l)]),d=t.getViewInfo({spatialReference:i}),p=t.createExecContext(s,d);p.interceptor=r,p.useAsync=!0,I6e({aggregatedFeatures:c,arcadeUtils:t,featureSetVars:l,context:p,viewInfo:d,map:n,graphic:s,interceptor:r});const h=t.createFunction(o,p);return t.executeAsyncFunction(h,p).catch(m=>_6e.error("arcade-execution-error",{error:m,graphic:s,expressionInfo:e}))}async function T6e({expressionInfos:e,spatialReference:t,graphic:r,interceptor:i,map:n,view:s}){if(!e||!e.length)return{};const a=await QY(),o={};for(const d of e)o[`expression/${d.name}`]=YY({expressionInfo:d,arcadeUtils:a,interceptor:i,spatialReference:t,map:n,graphic:r,view:s});const l=await Kt(o),c={};for(const d in l)c[d]=S6e(l[d].value);return c}const C6e=1;let Kn=class extends ll(ye){constructor(e){super(e),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:t}=this;t&&t.abort(),this._abortController=null},this._createVM=()=>{var i,n;const t=(i=this.contentElement)==null?void 0:i.type;(n=this.contentElementViewModel)==null||n.destroy();const r=t==="fields"?new xw:t==="media"?new rp:t==="text"?new G4:null;this._set("contentElementViewModel",r)},this._compile=async()=>{this._cancelQuery();const t=new AbortController;this._abortController=t,await this._compileExpression(),this._abortController===t&&(this._abortController=null)},this._compileThrottled=uk(this._compile,C6e,this),this._compileExpression=async()=>{const{expressionInfo:t,graphic:r,interceptor:i,spatialReference:n,map:s,view:a,_abortController:o}=this;if(!(t&&r&&n&&s))return void this._set("contentElement",null);const l=await QY();if(o!==this._abortController)return;const c=await YY({arcadeUtils:l,expressionInfo:t,graphic:r,interceptor:i,map:s,spatialReference:n,view:a});if(!c||c.declaredClass!=="esri.arcade.Dictionary")return void this._set("contentElement",null);const d=await Yk(c,o.signal),p=d==null?void 0:d.type,h=p==="media"?q1.fromJSON(d):p==="text"?Om.fromJSON(d):p==="fields"?Pm.fromJSON(d):null;this._set("contentElement",h)},this.handles.add([ee(()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view],()=>this._compileThrottled(),Ke),ee(()=>[this.contentElement],()=>this._createVM(),Ke)])}destroy(){var e;this._cancelQuery(),(e=this.contentElementViewModel)==null||e.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get state(){const{_abortController:e,contentElement:t,contentElementViewModel:r}=this;return e?"loading":t||r?"ready":"disabled"}get map(){var e;return((e=this.view)==null?void 0:e.map)||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}};u([f()],Kn.prototype,"_abortController",void 0),u([f({type:Uq})],Kn.prototype,"expressionInfo",void 0),u([f({type:vi})],Kn.prototype,"graphic",void 0),u([f({readOnly:!0})],Kn.prototype,"contentElement",void 0),u([f({readOnly:!0})],Kn.prototype,"contentElementViewModel",void 0),u([f()],Kn.prototype,"interceptor",void 0),u([f()],Kn.prototype,"spatialReference",null),u([f({readOnly:!0})],Kn.prototype,"state",null),u([f()],Kn.prototype,"map",null),u([f()],Kn.prototype,"view",void 0),Kn=u([E("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],Kn);const xA=Kn,dv={iconLoading:"esri-icon-loading-indicator esri-rotating",base:"esri-feature-expression",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"};let e9=class extends xr{constructor(e,t){super(e,t),this.viewModel=new xA}initialize(){this.own(ee(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentElementViewModel},()=>this._setupExpressionWidget(),Ke))}destroy(){this._destroyContentWidget()}renderLoading(){return L("div",{key:"loading-container",class:dv.loadingSpinnerContainer},L("span",{class:this.classes(dv.iconLoading,dv.spinner)}))}render(){var t;const{state:e}=this.viewModel;return L("div",{class:dv.base},e==="loading"?this.renderLoading():e==="disabled"?null:(t=this._contentWidget)==null?void 0:t.render())}_destroyContentWidget(){const{_contentWidget:e}=this;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:t}=this.viewModel,r=t==null?void 0:t.type;this._destroyContentWidget();const i=e?r==="fields"?new xJ({viewModel:e}):r==="media"?new TZ({viewModel:e}):r==="text"?new L5({viewModel:e}):null:null;this._contentWidget=i,this.scheduleRender()}};u([f({type:xA})],e9.prototype,"viewModel",void 0),e9=u([E("esri.widgets.Feature.FeatureExpression")],e9);const E6e=e9;class k6e{constructor(t,r){this.preLayerQueryCallback=t,this.preRequestCallback=r,this.preLayerQueryCallback||(this.preLayerQueryCallback=i=>{}),this.preRequestCallback||(this.preLayerQueryCallback=i=>{})}}var t9;const A6e=1,iN="content-view-models",KY="esri.widgets.FeatureViewModel",L6e=ae.getLogger(KY),nN={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let Ut=t9=class extends ye{constructor(e){super(e),this._handles=new hr,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=uk(this._graphicChanged,A6e,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...nN},this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=t=>{const{abilities:r}=this;return t.type==="attachments"&&r.attachmentsContent||t.type==="custom"&&r.customContent||t.type==="fields"&&r.fieldsContent||t.type==="media"&&r.mediaContent||t.type==="text"&&r.textContent||t.type==="expression"&&r.expressionContent},this._handles.add(ee(()=>[this.graphic,this._effectivePopupTemplate,this.abilities],()=>this.graphicChangedThrottled(),Ke))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return C(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return wge(YO(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return cJ(this.graphic)}castAbilities(e){return{...nN,...e}}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",e?e.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const r=this.contentViewModels[e];r instanceof rp&&r.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof rp&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof rp&&t.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:e}=this;if(!e)return;const t=new AbortController;this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(r){zi(r)||(this._error=r,L6e.error("error","The popupTemplate could not be displayed for this feature.",{error:r,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return e.type==="attachments"?this._compileAttachments(e,t):e.type==="custom"?this._compileCustom(e,t):e.type==="fields"?this._compileFields(e,t):e.type==="media"?this._compileMedia(e,t):e.type==="text"?this._compileText(e,t):e.type==="expression"?this._compileExpression(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((t,r)=>this._compileContentElement(t,r)):typeof e=="string"?this._compileText(new Om({text:e}),0).text:e}_destroyContentViewModels(){var e;(e=this._handles)==null||e.remove(iN),this.contentViewModels.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(e,t){const{formattedAttributes:r}=this,{contentElement:i,contentElementViewModel:n}=e,s=i==null?void 0:i.type;n&&s&&(s==="fields"&&(this._createFieldsFormattedAttributes({contentElement:i,contentElementIndex:t,formattedAttributes:r}),n.set(this._createFieldsVMParams(i,t))),s==="media"&&(this._createMediaFormattedAttributes({contentElement:i,contentElementIndex:t,formattedAttributes:r}),n.set(this._createMediaVMParams(i,t))),s==="text"&&n.set(this._createTextVMParams(i)))}_compileExpression(e,t){const{expressionInfo:r}=e,{graphic:i,map:n,spatialReference:s,view:a}=this,o=new xA({expressionInfo:r,graphic:i,interceptor:t9.interceptor,map:n,spatialReference:s,view:a});return this.contentViewModels[t]=o,this._handles.add(ee(()=>o.contentElementViewModel,()=>this._setExpressionContentVM(o,t),Ke),iN),e}_compileAttachments(e,t){const{graphic:r}=this,{description:i,title:n}=e;return this.contentViewModels[t]=new vk({graphic:r,...this._compileTitleAndDesc({title:n,description:i})}),e}_compileCustom(e,t){const{graphic:r}=this,{creator:i,destroyer:n}=e;return this.contentViewModels[t]=new G4({graphic:r,creator:i,destroyer:n}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:r,_sourceLayer:i,graphic:n,formattedAttributes:s,_expressionAttributes:a}=this,{attributes:o}=n,l=s.global;return{title:ep({attributes:o,fieldInfoMap:r,globalAttributes:l,expressionAttributes:a,layer:i,text:e}),description:ep({attributes:o,fieldInfoMap:r,globalAttributes:l,expressionAttributes:a,layer:i,text:t})}}_createFieldsVMParams(e,t){var c;const{_effectivePopupTemplate:r,formattedAttributes:i}=this,n={...i.global,...i.content[t]},s=(c=(e==null?void 0:e.fieldInfos)||(r==null?void 0:r.fieldInfos))==null?void 0:c.filter(({fieldName:d})=>dJ(d)||nc(d)||n.hasOwnProperty(d)),a=r==null?void 0:r.expressionInfos,{description:o,title:l}=e;return{attributes:n,expressionInfos:a,fieldInfos:s,...this._compileTitleAndDesc({title:l,description:o})}}_compileFields(e,t){const r=e.clone(),i=new xw(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=i,r.fieldInfos=i.formattedFieldInfos.slice(0),r}_createMediaVMParams(e,t){const{abilities:r,graphic:i,_fieldInfoMap:n,formattedAttributes:s,_effectivePopupTemplate:a,relatedInfos:o,_sourceLayer:l,_expressionAttributes:c}=this,{attributes:d}=i,{description:p,mediaInfos:h,title:m}=e;return{abilities:{chartAnimation:r.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:d,layer:l,fieldInfoMap:n,formattedAttributes:{...s.global,...s.content[t]},expressionAttributes:c,mediaInfos:h,popupTemplate:a,relatedInfos:o,...this._compileTitleAndDesc({title:m,description:p})}}_compileMedia(e,t){const r=e.clone(),i=new rp(this._createMediaVMParams(e,t));return r.mediaInfos=i.formattedMediaInfos.slice(0),this.contentViewModels[t]=i,r}_createTextVMParams(e){const{graphic:t,_fieldInfoMap:r,_sourceLayer:i,_expressionAttributes:n}=this;if(e&&e.text){const{attributes:s}=t,a=this.formattedAttributes.global;e.text=ep({attributes:s,fieldInfoMap:r,globalAttributes:a,expressionAttributes:n,layer:i,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const r=e.clone();return this.contentViewModels[t]=new G4(this._createTextVMParams(r)),r}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:r}=this;if(!e)return;const{lastEditInfoEnabled:i}=e,n=t==null?void 0:t.editFieldsInfo;return i&&n?vge(n,r.attributes):void 0}_compileTitle(e){const{_fieldInfoMap:t,_sourceLayer:r,graphic:i,_expressionAttributes:n}=this,{attributes:s}=i,a=this.formattedAttributes.global;return ep({attributes:s,fieldInfoMap:t,globalAttributes:a,expressionAttributes:n,layer:r,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this,r=e==null?void 0:e.title;return B4(r,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this,r=e==null?void 0:e.content;return B4(r,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:r,graphic:i,_effectivePopupTemplate:n,spatialReference:s,map:a,view:o}=this,{content:{value:l},title:{value:c}}=await Kt({content:this._getContent(),title:this._getTitle()});if(t!==this._featureAbortController||!i)return;await xge({graphic:i,popupTemplate:n,layer:r,spatialReference:s},e);const{expressionAttributes:{value:d}}=await Kt({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:T6e({expressionInfos:n==null?void 0:n.expressionInfos,spatialReference:s,graphic:i,map:a,interceptor:t9.interceptor,view:o})});t===this._featureAbortController&&i&&(this._expressionAttributes=d,this._graphicExpressionAttributes={...i.attributes,...d},this._set("formattedAttributes",this._createFormattedAttributes(l)),this._set("title",this._compileTitle(c)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(l)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){const{_effectivePopupTemplate:i,graphic:n,relatedInfos:s,_sourceLayer:a,_fieldInfoMap:o,_graphicExpressionAttributes:l}=this;r.content[t]=g7({fieldInfos:i==null?void 0:i.fieldInfos,graphic:n,attributes:{...l,...e.attributes},layer:a,fieldInfoMap:o,relatedInfos:s})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){if(e.fieldInfos){const{graphic:i,relatedInfos:n,_sourceLayer:s,_fieldInfoMap:a,_graphicExpressionAttributes:o}=this;r.content[t]=g7({fieldInfos:e.fieldInfos,graphic:i,attributes:{...o,...e.attributes},layer:s,fieldInfoMap:a,relatedInfos:n})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:r,relatedInfos:i,_sourceLayer:n,_fieldInfoMap:s,_graphicExpressionAttributes:a}=this,o=t==null?void 0:t.fieldInfos,l={global:g7({fieldInfos:o,graphic:r,attributes:a,layer:n,fieldInfoMap:s,relatedInfos:i}),content:[]};return Array.isArray(e)&&e.forEach((c,d)=>{c.type==="fields"&&this._createFieldsFormattedAttributes({contentElement:c,contentElementIndex:d,formattedAttributes:l}),c.type==="media"&&this._createMediaFormattedAttributes({contentElement:c,contentElementIndex:d,formattedAttributes:l})}),l}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:r}=this;return this._queryRelatedInfos(t,YO(r),e)}async _queryRelatedInfos(e,t,r){const{relatedInfos:i,_sourceLayer:n}=this;i.clear();const s=C(n.associatedLayer)?await n.associatedLayer.load(r):n;if(!s)return;const a=t.filter(c=>c&&nc(c.fieldName));if(!a||!a.length)return;t.forEach(c=>this._configureRelatedInfo(c,s));const o=await E2e({relatedInfos:i,layer:s},r);Object.keys(o).forEach(c=>{var h;const d=i.get(c.toString()),p=(h=o[c])==null?void 0:h.value;d&&p&&(d.layerInfo=p.data)});const l=await k2e({graphic:e,relatedInfos:i,layer:s},r);Object.keys(l).forEach(c=>{var d;M2e((d=l[c])==null?void 0:d.value,i.get(c.toString()))})}_configureRelatedInfo(e,t){const{relatedInfos:r}=this,i=II(e.fieldName);if(!i)return;const{layerId:n,fieldName:s}=i;if(!n)return;const a=r.get(n.toString())||x2e(n,t);a&&(A2e({relatedInfo:a,fieldName:s,fieldInfo:e}),this.relatedInfos.set(n,a))}};Ut.interceptor=new k6e($ge,Tge),u([f()],Ut.prototype,"_error",void 0),u([f()],Ut.prototype,"_featureAbortController",void 0),u([f({readOnly:!0})],Ut.prototype,"_effectivePopupTemplate",null),u([f({readOnly:!0})],Ut.prototype,"_fieldInfoMap",null),u([f({readOnly:!0})],Ut.prototype,"_sourceLayer",null),u([f()],Ut.prototype,"abilities",void 0),u([Ze("abilities")],Ut.prototype,"castAbilities",null),u([f({readOnly:!0})],Ut.prototype,"content",void 0),u([f({readOnly:!0})],Ut.prototype,"contentViewModels",void 0),u([f({type:Boolean})],Ut.prototype,"defaultPopupTemplateEnabled",void 0),u([f({readOnly:!0})],Ut.prototype,"state",null),u([f({readOnly:!0})],Ut.prototype,"formattedAttributes",void 0),u([f({type:vi,value:null})],Ut.prototype,"graphic",null),u([f({readOnly:!0})],Ut.prototype,"lastEditInfo",void 0),u([f({readOnly:!0})],Ut.prototype,"relatedInfos",void 0),u([f()],Ut.prototype,"spatialReference",null),u([f({readOnly:!0})],Ut.prototype,"title",void 0),u([f()],Ut.prototype,"map",null),u([f({readOnly:!0})],Ut.prototype,"waitingForContent",null),u([f()],Ut.prototype,"view",void 0),Ut=t9=u([E(KY)],Ut);const MA=Ut,XY=e=>{let t=class extends e{constructor(){super(...arguments),this.renderNodeContent=r=>q4(r)&&!r.destroyed?L("div",{key:r},r.render()):r instanceof HTMLElement?L("div",{key:r,bind:r,afterCreate:this._attachToNode}):SJ(r)?L("div",{key:r,bind:r.domNode,afterCreate:this._attachToNode}):null}_attachToNode(r){const i=this;r.appendChild(i)}};return t=u([E("esri.widgets.Feature.ContentMixin")],t),t},ui={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:"esri-feature",container:"esri-feature__size-container",title:"esri-feature__title",main:"esri-feature__main-container",btn:"esri-feature__button",icon:"esri-feature__icon",content:"esri-feature__content",contentElement:"esri-feature__content-element",text:"esri-feature__text",lastEditedInfo:"esri-feature__last-edited-info",fields:"esri-feature__fields",fieldHeader:"esri-feature__field-header",fieldData:"esri-feature__field-data",fieldDataDate:"esri-feature__field-data--date",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"},sN={title:!0,content:!0,lastEditedInfo:!0};let di=class extends XY(xr){constructor(e,t){super(e,t),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements={...sN},this.map=null,this.view=null,this.viewModel=new MA}initialize(){this.own(ee(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentViewModels},()=>this._setupContentWidgets(),Ke))}loadDependencies(){return Y(()=>import("./calcite-notice.4175fa62.js"),[],import.meta.url)}destroy(){this._destroyContentWidgets()}castVisibleElements(e){return{...sN,...e}}render(){const{state:e}=this.viewModel,t=L("div",{class:ui.container,key:"container"},this.renderTitle(),e==="error"?this.renderError():e==="loading"?this.renderLoading():this.renderContentContainer());return L("div",{class:this.classes(ui.base,ui.esriWidget)},t)}setActiveMedia(e,t){this.viewModel.setActiveMedia(e,t)}nextMedia(e){this.viewModel.nextMedia(e)}previousMedia(e){this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:r}=this;return L("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},r.title?L("div",{key:"error-title",slot:"title"},e.errorMessage):null,L("div",{key:"error-message",slot:"message"},t.loadingError))}renderLoading(){return L("div",{key:"loading-container",class:ui.loadingSpinnerContainer},L("span",{class:this.classes(ui.iconLoading,ui.spinner)}))}renderContentContainer(){const{visibleElements:e}=this;return e.content?L("div",{class:ui.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this;return e.title?L(sd,{level:this.headingLevel,class:ui.title,innerHTML:t}):null}renderContent(){const e=this.viewModel.content,t="content";if(!e)return null;if(Array.isArray(e))return e.length?L("div",{key:`${t}-content-elements`},e.map(this.renderContentElement,this)):null;if(typeof e=="string"){const r=this._contentWidgets[0];return!r||r.destroyed?null:L("div",{key:`${t}-content`},r.render())}return this.renderNodeContent(e)}renderContentElement(e,t){const{visibleElements:r}=this;if(typeof r.content!="boolean"&&!r.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);case"expression":return this.renderExpression(t);default:return null}}renderAttachments(e){const t=this._contentWidgets[e];if(!t||t.destroyed)return null;const{state:r,attachmentInfos:i}=t.viewModel;return r==="loading"||i.length>0?L("div",{key:this._buildKey("attachments-element",e),class:this.classes(ui.contentElement)},t.render()):null}renderExpression(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:L("div",{key:this._buildKey("expression-element",e),class:ui.contentElement},t.render())}renderCustom(e,t){const{creator:r}=e,i=this._contentWidgets[t];return!i||i.destroyed?null:r?L("div",{key:this._buildKey("custom-element",t),class:ui.contentElement},i.render()):null}renderFields(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:L("div",{key:this._buildKey("fields-element",e),class:ui.contentElement},t.render())}renderMedia(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:L("div",{key:this._buildKey("media-element",e),class:ui.contentElement},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:t}=this,{lastEditInfo:r}=this.viewModel;if(!r||!e.lastEditedInfo)return null;const{date:i,user:n}=r,s=r.type==="edit"?n?t.lastEditedByUser:t.lastEdited:n?t.lastCreatedByUser:t.lastCreated,a=Ws(s,{date:i,user:n});return L("div",{key:"edit-info-element",class:this.classes(ui.lastEditedInfo,ui.contentElement)},a)}renderText(e,t){const r=e.text,i=this._contentWidgets[t];return!i||i.destroyed?null:r?L("div",{key:this._buildKey("text-element",t),class:this.classes(ui.contentElement,ui.text)},i.render()):null}_buildKey(e,...t){return`${e}__${this.get("viewModel.graphic.uid")||"0"}-${t.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(e=>this._destroyContentWidget(e)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:t}=this,r=this.get("viewModel.content"),{contentViewModels:i}=this.viewModel;if(Array.isArray(r))r.forEach((n,s)=>{n.type==="attachments"&&(this._contentWidgets[s]=new Dge({displayType:n.displayType,headingLevel:t.title?e+1:e,viewModel:i[s]})),n.type==="fields"&&(this._contentWidgets[s]=new xJ({viewModel:i[s]})),n.type==="media"&&(this._contentWidgets[s]=new TZ({viewModel:i[s]})),n.type==="text"&&(this._contentWidgets[s]=new L5({viewModel:i[s]})),n.type==="custom"&&(this._contentWidgets[s]=new L5({viewModel:i[s]})),n.type==="expression"&&(this._contentWidgets[s]=new E6e({viewModel:i[s]}))},this);else{const n=i[0];n&&!n.destroyed&&(this._contentWidgets[0]=new L5({viewModel:n}))}this.scheduleRender()}};u([fe("viewModel.graphic")],di.prototype,"graphic",void 0),u([fe("viewModel.defaultPopupTemplateEnabled")],di.prototype,"defaultPopupTemplateEnabled",void 0),u([f()],di.prototype,"headingLevel",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],di.prototype,"label",void 0),u([f(),tr("esri/widgets/Feature/t9n/Feature")],di.prototype,"messages",void 0),u([f(),tr("esri/t9n/common")],di.prototype,"messagesCommon",void 0),u([f(),tr("esri/widgets/support/t9n/uriUtils")],di.prototype,"messagesURIUtils",void 0),u([fe("viewModel.spatialReference")],di.prototype,"spatialReference",void 0),u([fe("viewModel.title")],di.prototype,"title",void 0),u([f()],di.prototype,"visibleElements",void 0),u([Ze("visibleElements")],di.prototype,"castVisibleElements",null),u([fe("viewModel.map")],di.prototype,"map",void 0),u([fe("viewModel.view")],di.prototype,"view",void 0),u([f({type:MA})],di.prototype,"viewModel",void 0),di=u([E("esri.widgets.Feature")],di);const R6e=di;var eK;const r9=Symbol("anchorHandles");let gf=class extends Sc.EventedAccessor{constructor(e){super(e),this[eK]=new hr,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[r9].add([Gi(()=>qo(this.screenLocationEnabled?this.view:null,t=>[t.size,t.type==="3d"?t.camera:t.viewpoint]),()=>this.notifyChange("screenLocation")),ee(()=>this.screenLocation,(t,r)=>{C(t)&&C(r)&&this.emit("view-change")})])}destroy(){this.view=null,this[r9]=Tn(this[r9])}get screenLocation(){const{location:e,view:t,screenLocationEnabled:r}=this;return r&&C(e)&&C(t)&&t.ready?t.toScreen(e):null}};eK=r9,u([f()],gf.prototype,"location",void 0),u([f()],gf.prototype,"screenLocation",null),u([f()],gf.prototype,"screenLocationEnabled",void 0),u([f()],gf.prototype,"view",void 0),gf=u([E("esri.widgets.support.AnchorElementViewModel")],gf);const tK=gf,P6e="esri.widgets.CompassViewModel";let i9=class extends tK{constructor(e){super(e),this.visible=!1}};u([f()],i9.prototype,"visible",void 0),i9=u([E(P6e)],i9);const rK=i9,i_={base:"esri-spinner",spinnerStart:"esri-spinner--start",spinnerFinish:"esri-spinner--finish"};let bf=class extends xr{constructor(e,t){super(e,t),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new rK,this.visible=!1}initialize(){this.own([ee(()=>this.visible,e=>this._visibleChange(e))])}destroy(){this._animationPromise=null}show(e){const{location:t,promise:r}=e;t&&(this.viewModel.location=t),this.visible=!0;const i=()=>this.hide();r&&r.catch(()=>{}).then(i)}hide(){this.visible=!1}render(){const{visible:e}=this,{screenLocation:t}=this.viewModel,r=!!t,i=e&&r,n=!e&&r,s={[i_.spinnerStart]:i,[i_.spinnerFinish]:n},a=this._getPositionStyles();return L("div",{class:this.classes(i_.base,s),styles:a})}_visibleChange(e){if(e)return void(this.viewModel.screenLocationEnabled=!0);const t=YC(this._animationDelay);this._animationPromise=t,t.catch(()=>{}).then(()=>{this._animationPromise===t&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:e,view:t}=this.viewModel;if(B(t)||B(e))return{};const{padding:r}=t;return{left:e.x-r.left+"px",top:e.y-r.top+"px"}}};u([fe("viewModel.location")],bf.prototype,"location",void 0),u([fe("viewModel.view")],bf.prototype,"view",void 0),u([f({type:rK})],bf.prototype,"viewModel",void 0),u([fe("viewModel.visible")],bf.prototype,"visible",void 0),bf=u([E("esri.widgets.Spinner")],bf);const O6e=bf;var Dr;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(Dr||(Dr={}));const j$={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function F6e(e,t,r){const i=Dr.size;let n=i,s=i;e<1?n*=.75:e>1&&(s*=1.25);const a=0,o=0;let l=i,c=i;return t&&r&&(n=s=l=c=0),[{type:"path",path:[{command:"M",values:[l,a]},{command:"L",values:[r?l:.875*l,a]},{command:"L",values:[r?n-.5*l:o,s-.5*c]},{command:"L",values:[n-.5*l,s-.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[l,a]},{command:"L",values:[l,t?a:.125*c]},{command:"L",values:[n-.5*l,t?s-.5*c:c]},{command:"L",values:[n-.5*l,s-.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n-.5*l,s-.5*c]},{command:"L",values:[r?n-.5*l:o,s-.5*c]},{command:"L",values:[r?n-.5*l:o,t?s-.5*c:c]},{command:"L",values:[n-.5*l,t?s-.5*c:c]},{command:"Z",values:[]}]}]}function D6e(e){const t=Dr.size,r=.5*e,i=0,n=0;return[{type:"path",path:[{command:"M",values:[n,.7*t*.5]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+r]},{command:"L",values:[n,.7*t+r-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+r]},{command:"L",values:[t,r]},{command:"L",values:[t,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,i]},{command:"L",values:[t,i]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[n,.7*t*.5]},{command:"Z",values:[]}]}]}function N6e(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function j6e(e,t){let r=t?Dr.tallSymbolWidth:e;const i=e,n=t?4:6;r<=Dr.size?r-=.5*n:r-=n;const s=0,a=0,o=t?.35*r:.5*r;return[{type:"path",path:[{command:"M",values:[.5*r,s]},{command:"L",values:[r,.5*o]},{command:"L",values:[.5*r,o]},{command:"L",values:[a,.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s,.5*o]},{command:"L",values:[.5*r,o]},{command:"L",values:[.5*r,i]},{command:"L",values:[a,i-.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*r,o]},{command:"L",values:[.5*r,i]},{command:"L",values:[r,i-.5*o]},{command:"L",values:[r,.5*o]},{command:"Z",values:[]}]}]}function V6e(e,t){let r=t?Dr.tallSymbolWidth:e;const i=e,n=t?4:6;r<=Dr.size?r-=.5*n:r-=n;const s=.5*r,a=.15*r,o=0,l=i-a;return[{type:"ellipse",cx:.5*r,cy:l,rx:s,ry:a},{type:"path",path:[{command:"M",values:[o,a]},{command:"L",values:[o,l]},{command:"L",values:[r,l]},{command:"L",values:[r,a]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*r,cy:a,rx:s,ry:a}]}function z6e(e,t){let r=t?Dr.tallSymbolWidth:e;const i=e,n=t?4:6;r<=Dr.size?r-=.5*n:r-=n;const s=.15*r,a=i-s;return[{type:"ellipse",cx:.5*r,cy:a,rx:.5*r,ry:s},{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,a]},{command:"L",values:[0,a]},{command:"Z",values:[]}]}]}function B6e(e){let t=e;const r=e,i=6;t<Dr.size?t-=.5*i:t-=i;const n=.15*t,s=0;return[{type:"path",path:[{command:"M",values:[0,s]},{command:"L",values:[t,s]},{command:"L",values:[.5*t,r-n]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:s,rx:.5*t,ry:n}]}function U6e(e){let t=e;const r=e,i=4;t<Dr.size?t-=.5*i:t-=i;const n=0,s=0,a=t,o=r,l=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*a,n]},{command:"L",values:[a,.5*o-l]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*a,n]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"L",values:[s,.5*o-l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s,.5*o-l]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"L",values:[.45*a,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*a,r]},{command:"L",values:[a,.5*o-l]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"Z",values:[]}]}]}function G6e(e){const t=e,r=2;let i=e;i<Dr.size?i-=.5*r:i-=r;const n=0,s=0;return[{type:"path",path:[{command:"M",values:[.45*t,n]},{command:"L",values:[t,i]},{command:"L",values:[.45*t,.6*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*t,n]},{command:"L",values:[.45*t,.6*i]},{command:"L",values:[s,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s,i]},{command:"L",values:[.45*t,.6*i]},{command:"L",values:[t,i]},{command:"Z",values:[]}]}]}function ld(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function fPe(e,t){if("type"in e&&(e.type==="linear"||e.type==="pattern"))return e;const r=new re(e);return new re([ld(r.r,t),ld(r.g,t),ld(r.b,t),r.a])}function q6e(e){return"r"in e&&"g"in e&&"b"in e}function iK(e){return"h"in e&&"s"in e&&"v"in e}function nK(e){return"l"in e&&"a"in e&&"b"in e}function sK(e){return"l"in e&&"c"in e&&"h"in e}function H6e(e){return"x"in e&&"y"in e&&"z"in e}const W6e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],J6e=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function aK(e,t){const r=[];let i,n;if(e[0].length!==t.length)throw"dimensions do not match";const s=e.length,a=e[0].length;let o=0;for(i=0;i<s;i++){for(o=0,n=0;n<a;n++)o+=e[i][n]*t[n];r.push(o)}return r}function oK(e){const t=[e.r/255,e.g/255,e.b/255].map(i=>i<=.04045?i/12.92:((i+.055)/1.055)**2.4),r=aK(W6e,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function IA(e){const t=aK(J6e,[e.x/100,e.y/100,e.z/100]).map(r=>{const i=r<=.0031308?12.92*r:1.055*r**.4166666666666667-.055;return Math.min(1,Math.max(i,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function lK(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(r=>r>.008856451679035631?r**.3333333333333333:7.787037037037035*r+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function cK(e){const t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(i=>i>6/29?i**3:3*(6/29)**2*(i-4/29));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function Z6e(e){const t=e.l,r=e.a,i=e.b,n=Math.sqrt(r*r+i*i);let s=Math.atan2(i,r);return s=s>0?s:s+2*Math.PI,{l:t,c:n,h:s}}function Q6e(e){const t=e.l,r=e.c,i=e.h;return{l:t,a:r*Math.cos(i),b:r*Math.sin(i)}}function Y6e(e){return lK(oK(e))}function K6e(e){return IA(cK(e))}function X6e(e){return Z6e(lK(oK(e)))}function ewe(e){return IA(cK(Q6e(e)))}function twe(e){const t=e.r,r=e.g,i=e.b,n=Math.max(t,r,i),s=n-Math.min(t,r,i);let a=n,o=s===0?0:n===t?(r-i)/s%6:n===r?(i-t)/s+2:(t-r)/s+4,l=s===0?0:s/a;return o<0&&(o+=6),o*=60,l*=100,a*=100/255,{h:o,s:l,v:a}}function rwe(e){const t=(e.h+360)%360/60,r=e.s/100,i=e.v/100*255,n=i*r,s=n*(1-Math.abs(t%2-1));let a;switch(Math.floor(t)){case 0:a={r:n,g:s,b:0};break;case 1:a={r:s,g:n,b:0};break;case 2:a={r:0,g:n,b:s};break;case 3:a={r:0,g:s,b:n};break;case 4:a={r:s,g:0,b:n};break;case 5:case 6:a={r:n,g:0,b:s};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+i-n),a.g=Math.round(a.g+i-n),a.b=Math.round(a.b+i-n),a}function Ey(e){return q6e(e)?e:sK(e)?ewe(e):nK(e)?K6e(e):H6e(e)?IA(e):iK(e)?rwe(e):e}function Fp(e){return iK(e)?e:twe(Ey(e))}function aN(e){return nK(e)?e:Y6e(Ey(e))}function oN(e){return sK(e)?e:X6e(Ey(e))}function l6(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function iwe(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function nwe(e,t,r,i,n,s){const a=new Float32Array(6);return a[0]=e,a[1]=t,a[2]=r,a[3]=i,a[4]=n,a[5]=s,a}function swe(e,t){return new Float32Array(e,t,6)}function uK(e,t,r,i){const n=t[i],s=t[i+1];e[i]=r[0]*n+r[2]*s+r[4],e[i+1]=r[1]*n+r[3]*s+r[5]}function awe(e,t,r,i=0,n=0,s=2){const a=n||t.length/s;for(let o=i;o<a;o++)uK(e,t,r,o*s)}Object.freeze(Object.defineProperty({__proto__:null,create:l6,clone:iwe,fromValues:nwe,createView:swe,transform:uK,transformMany:awe},Symbol.toStringTag,{value:"Module"}));function owe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Kw(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function lwe(e,t,r,i,n,s,a){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=s,e[5]=a,e}function $A(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],a=t[4],o=t[5];let l=r*s-i*n;return l?(l=1/l,e[0]=s*l,e[1]=-i*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*o-s*a)*l,e[5]=(i*a-r*o)*l,e):null}function cwe(e){return e[0]*e[3]-e[1]*e[2]}function Nf(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=r[0],d=r[1],p=r[2],h=r[3],m=r[4],g=r[5];return e[0]=i*c+s*d,e[1]=n*c+a*d,e[2]=i*p+s*h,e[3]=n*p+a*h,e[4]=i*m+s*g+o,e[5]=n*m+a*g+l,e}function J2(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=Math.sin(r),d=Math.cos(r);return e[0]=i*d+s*c,e[1]=n*d+a*c,e[2]=i*-c+s*d,e[3]=n*-c+a*d,e[4]=o,e[5]=l,e}function Xw(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=r[0],d=r[1];return e[0]=i*c,e[1]=n*c,e[2]=s*d,e[3]=a*d,e[4]=o,e[5]=l,e}function Wm(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=r[0],d=r[1];return e[0]=i,e[1]=n,e[2]=s,e[3]=a,e[4]=i*c+s*d+o,e[5]=n*c+a*d+l,e}function dK(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=0,e[5]=0,e}function fK(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function TA(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function uwe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function dwe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function fwe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function pK(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function pwe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function hwe(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e}function mwe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function ywe(e,t){const r=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=t[0],c=t[1],d=t[2],p=t[3],h=t[4],m=t[5];return Math.abs(r-l)<=Oe*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-c)<=Oe*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(n-d)<=Oe*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(s-p)<=Oe*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(a-h)<=Oe*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-m)<=Oe*Math.max(1,Math.abs(o),Math.abs(m))}const gwe=Nf,bwe=pK;Object.freeze(Object.defineProperty({__proto__:null,copy:owe,identity:Kw,set:lwe,invert:$A,determinant:cwe,multiply:Nf,rotate:J2,scale:Xw,translate:Wm,fromRotation:dK,fromScaling:fK,fromTranslation:TA,str:uwe,frob:dwe,add:fwe,subtract:pK,multiplyScalar:pwe,multiplyScalarAndAdd:hwe,exactEquals:mwe,equals:ywe,mul:gwe,sub:bwe},Symbol.toStringTag,{value:"Module"}));const vwe="http://www.w3.org/2000/svg";let wwe=0,_we=0;const lN=W("android"),Swe=W("chrome")||lN&&lN>=4?"auto":"optimizeLegibility",xwe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},Mwe=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let Rr={},ut={};const cN={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},Iwe=Math.PI;let $we=1;function N0(e,t){const r=e*(Iwe/180);return Math.abs(t*Math.sin(r))+Math.abs(t*Math.cos(r))}function hK(e){return e.map(t=>`${t.command} ${t.values.join(" ")}`).join(" ").trim()}function CA(e,t,r,i){if(e){if(e.type==="circle")return L("circle",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-dashoffset":r.dashOffset,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,r:e.r});if(e.type==="ellipse")return L("ellipse",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry});if(e.type==="rect")return L("rect",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",x:e.x,y:e.y,width:e.width,height:e.height});if(e.type==="image")return L("image",{href:e.src,x:e.x,y:e.y,width:e.width,height:e.height,preserveAspectRatio:"none"});if(e.type==="path"){const n=typeof e.path!="string"?hK(e.path):e.path;return L("path",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",d:n})}if(e.type==="text")return L("text",{"alignment-baseline":i.alignBaseline,fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4","text-anchor":i.align,"text-decoration":i.decoration,kerning:i.kerning,rotate:i.rotate,"text-rendering":Swe,"font-style":i.font.style,"font-variant":i.font.variant,"font-weight":i.font.weight,"font-size":i.font.size,"font-family":i.font.family,x:e.x,y:e.y},e.text)}return null}function EA(e){const t={fill:"none",pattern:null,linearGradient:null};if(e){if("type"in e&&e.type==="pattern"){const r="patternId-"+ ++wwe;t.fill=`url(#${r})`,t.pattern={id:r,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&e.type==="linear"){const r="linearGradientId-"+ ++_we;t.fill=`url(#${r})`,t.linearGradient={id:r,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(i=>({offset:i.offset,color:i.color&&new re(i.color).toString()}))}}else if(e){const r=new re(e);t.fill=r.toString()}}return t}function kA(e){const t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};if(e&&(e.width!=null&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new re(e.color).toString()),e.dashArray&&(t.dashArray=e.dashArray),e.dashArray&&(t.dashOffset=e.dashoffset),e.style)){let r=null;if(e.style in cN&&(r=cN[e.style]),Array.isArray(r)){r=r.slice(0);for(let i=0;i<r.length;++i)r[i]*=e.width;if(e.cap!=="butt"){for(let i=0;i<r.length;i+=2)r[i]-=e.width,r[i]<1&&(r[i]=1);for(let i=1;i<r.length;i+=2)r[i]+=e.width}r=r.join(",")}t.dashArray=r}return t}function mK(e,t){const r={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return e&&(r.align=e.align,r.alignBaseline=e.alignBaseline,r.decoration=e.decoration,r.kerning=e.kerning?"auto":"0",r.rotate=e.rotated?"90":"0",r.font.style=t.style||"normal",r.font.variant=t.variant||"normal",r.font.weight=t.weight||"normal",r.font.size=t.size&&t.size.toString()||"10pt",r.font.family=t.family||"serif"),r}function yK(e){const{pattern:t,linearGradient:r}=e;if(t)return L("pattern",{id:t.id,patternUnits:"userSpaceOnUse",x:t.x,y:t.y,width:t.width,height:t.height},L("image",{x:t.image.x,y:t.image.y,width:t.image.width,height:t.image.height,href:t.image.href}));if(r){const i=r.stops.map((n,s)=>L("stop",{key:`${s}-stop`,offset:n.offset,"stop-color":n.color}));return L("linearGradient",{id:r.id,gradientUnits:"userSpaceOnUse",x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},i)}return null}function Twe(e,t){if(!e)return null;const r=[];for(const i of e){const{shape:n,fill:s,stroke:a,font:o}=i,l=EA(s),c=kA(a),d=n.type==="text"?mK(n,o):null;r.push(CA(n,l.fill,c,d))}return L("mask",{id:t,maskUnits:"userSpaceOnUse"},L("g",null,r))}function uN(e,t,r){return Wm(e,Kw(e),[t,r])}function dN(e,t,r,i,n){return Xw(e,Kw(e),[t,r]),e[4]=e[4]*t-i*t+i,e[5]=e[5]*r-n*r+n,e}function Cwe(e,t,r,i){const n=t%360*Math.PI/180;J2(e,Kw(e),n);const s=Math.cos(n),a=Math.sin(n),o=e[4],l=e[5];return e[4]=o*s-l*a+i*a-r*s+r,e[5]=l*s+o*a-r*a-i*s+i,e}function Hi(e,t){Rr&&"left"in Rr?(Rr.left>e&&(Rr.left=e),Rr.right<e&&(Rr.right=e),Rr.top>t&&(Rr.top=t),Rr.bottom<t&&(Rr.bottom=t)):Rr={left:e,bottom:t,right:e,top:t}}function fN(e){const t=e.args,r=t.length;let i;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(i=0;i<r;i+=2)Hi(t[i],t[i+1]);ut.x=t[r-2],ut.y=t[r-1];break;case"H":for(i=0;i<r;++i)Hi(t[i],ut.y);ut.x=t[r-1];break;case"V":for(i=0;i<r;++i)Hi(ut.x,t[i]);ut.y=t[r-1];break;case"m":{let n=0;for(("x"in ut)||(Hi(ut.x=t[0],ut.y=t[1]),n=2),i=n;i<r;i+=2)Hi(ut.x+=t[i],ut.y+=t[i+1]);break}case"l":case"t":for(i=0;i<r;i+=2)Hi(ut.x+=t[i],ut.y+=t[i+1]);break;case"h":for(i=0;i<r;++i)Hi(ut.x+=t[i],ut.y);break;case"v":for(i=0;i<r;++i)Hi(ut.x,ut.y+=t[i]);break;case"c":for(i=0;i<r;i+=6)Hi(ut.x+t[i],ut.y+t[i+1]),Hi(ut.x+t[i+2],ut.y+t[i+3]),Hi(ut.x+=t[i+4],ut.y+=t[i+5]);break;case"s":case"q":for(i=0;i<r;i+=4)Hi(ut.x+t[i],ut.y+t[i+1]),Hi(ut.x+=t[i+2],ut.y+=t[i+3]);break;case"A":for(i=0;i<r;i+=7)Hi(t[i+5],t[i+6]);ut.x=t[r-2],ut.y=t[r-1];break;case"a":for(i=0;i<r;i+=7)Hi(ut.x+=t[i+5],ut.y+=t[i+6])}}function pN(e,t,r){const i=xwe[e.toLowerCase()];let n;typeof i=="number"&&(i?t.length>=i&&(n={action:e,args:t.slice(0,t.length-t.length%i)},r.push(n),fN(n)):(n={action:e,args:[]},r.push(n),fN(n)))}function Ewe(e){const t=(typeof e.path!="string"?hK(e.path):e.path).match(Mwe),r=[];if(Rr={},ut={},!t)return null;let i="",n=[];const s=t.length;for(let o=0;o<s;++o){const l=t[o],c=parseFloat(l);isNaN(c)?(i&&pN(i,n,r),n=[],i=l):n.push(c)}pN(i,n,r);const a={x:0,y:0,width:0,height:0};return Rr&&"left"in Rr&&(a.x=Rr.left,a.y=Rr.top,a.width=Rr.right-Rr.left,a.height=Rr.bottom-Rr.top),a}function gK(e){const t={x:0,y:0,width:0,height:0};if(e.type==="circle")t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if(e.type==="ellipse")t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if(e.type==="image"||e.type==="rect")t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if(e.type==="path"){const r=Ewe(e);t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height}return t}function bK(e){const t={x:0,y:0,width:0,height:0};let r=null,i=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY;for(const s of e)r?(r.x=Math.min(r.x,s.x),r.y=Math.min(r.y,s.y),i=Math.max(i,s.x+s.width),n=Math.max(n,s.y+s.height)):(r=t,r.x=s.x,r.y=s.y,i=s.x+s.width,n=s.y+s.height);return r&&(r.width=i-r.x,r.height=n-r.y),r}function V$(e,t,r,i,n,s,a,o,l){let c=(a&&s?N0(s,t):t)/2,d=(a&&s?N0(s,r):r)/2;if(l){const _=l[0],S=l[1];c=(a&&s?N0(s,_):_)/2,d=(a&&s?N0(s,S):S)/2}const p=e.width+i,h=e.height+i,m=l6(),g=l6();let b=!1;if(n&&p!==0&&h!==0){const _=t!==r?t/r:p/h,S=t>r?t:r;let x=1,M=1;isNaN(S)||(_>1?(x=S/p,M=S/_/h):(M=S/h,x=S*_/p)),Nf(g,g,dN(m,x,M,c,d)),b=!0}const w=e.x+(p-i)/2,v=e.y+(h-i)/2;if(Nf(g,g,uN(m,c-w,d-v)),!b&&(p>t||h>r)){const _=p/t>h/r,S=(_?t:r)/(_?p:h);Nf(g,g,dN(m,S,S,w,v))}return s&&Nf(g,g,Cwe(m,s,w,v)),o&&Nf(g,g,uN(m,o[0],o[1])),`matrix(${g[0]},${g[1]},${g[2]},${g[3]},${g[4]},${g[5]})`}function kwe(e,t,r){const i=e==null?void 0:e.effects.find(c=>c.type==="bloom");if(!i)return null;const{strength:n,radius:s}=i,a=n>0?s:0,o=(n+a)*t,l=4*n+1;return L("filter",{id:`bloom${r}`,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},L("feMorphology",{operator:"dilate",radius:(n+.5*a)*(5**(t/100)*(.4+t/100)),in:"SourceGraphic",result:"dilate"}),L("feGaussianBlur",{in:"dilate",stdDeviation:o/25,result:"blur"}),L("feGaussianBlur",{in:"blur",stdDeviation:o/50,result:"intensityBlur"}),L("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},L("feFuncR",{type:"linear",slope:l}),L("feFuncG",{type:"linear",slope:l}),L("feFuncB",{type:"linear",slope:l})),L("feMerge",null,L("feMergeNode",{in:"intensityBlur"}),L("feMergeNode",{in:"intensityBrightness"}),L("feGaussianBlur",{stdDeviation:n/10})))}function vK(e,t,r,i={}){var c;const n=[],s=[],a=++$we,o=kwe(i.effectView,t,a);let l=null;if(o){const d=(c=i.effectView)==null?void 0:c.effects.find(g=>g.type==="bloom"),p=(d.strength?d.strength+d.radius/2:0)/3,h=t+t*p,m=r+r*p;l=[Math.max(h,10),Math.max(m,10)]}for(let d=0;d<e.length;d++){const p=e[d],h=[],m=[];let g=0,b=0,w=0;for(const S of p){const{shape:x,fill:M,stroke:I,font:$,offset:T}=S;i.ignoreStrokeWidth||(g+=I&&I.width||0);const A=EA(M),P=kA(I),F=x.type==="text"?mK(x,$):null;n.push(yK(A)),h.push(CA(x,A.fill,P,F)),m.push(gK(x)),T&&(b+=T[0],w+=T[1])}const v=V$(bK(m),t,r,g,i.scale,i.rotation,i.useRotationSize,[b,w],l);let _=null;if(i.masking){const S=`mask-${d}`,x=i.masking[d];n.push(Twe(x,S)),_=`url(#${S})`}s.push(_?L("g",{mask:_},L("g",{transform:v},h)):L("g",{transform:v},h))}return i.useRotationSize&&i.rotation&&(t=N0(i.rotation,t),r=N0(i.rotation,r)),o&&(t=l[0],r=l[1]),L("svg",{xmlns:vwe,width:t,height:r,style:"display: block;"},o,L("defs",null,n),o?L("g",{filter:`url(#bloom${a})`},s):s)}const Awe=R4();function Z2(e,t,r){const i=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!e.some(a=>!!a.length))return null;const s=r&&r.node||document.createElement("div");return r.opacity!=null&&(s.style.opacity=r.opacity.toString()),r.effectView!=null&&(s.style.filter=i2(r.effectView)),Awe.append(s,vK.bind(null,e,i,n,r)),s}function Lwe(e,t){e=Math.ceil(e),t=Math.ceil(t);const r=document.createElement("canvas");r.width=e,r.height=t,r.style.width=e+"px",r.style.height=t+"px";const i=r.getContext("2d");return i.clearRect(0,0,e,t),i}function Rwe(e,t,r){return e?$e(e,{responseType:"image"}).then(i=>{const n=i.data,s=n.width,a=n.height,o=s/a;let l=t;if(r){const c=Math.max(s,a);l=Math.min(l,c)}return{image:n,width:o<=1?Math.ceil(l*o):l,height:o<=1?l:Math.ceil(l/o)}}):Promise.reject(new R("renderUtils: imageDataSize","href not provided."))}function Pwe(e,t){return!(!e||t==="ignore")&&(t!=="multiply"||e.r!==255||e.g!==255||e.b!==255||e.a!==1)}function Owe(e,t,r,i,n){switch(n){case"multiply":e[t+0]*=r[0],e[t+1]*=r[1],e[t+2]*=r[2],e[t+3]*=r[3];break;default:{const s=Fp({r:e[t+0],g:e[t+1],b:e[t+2]});s.h=i.h,s.s=i.s,s.v=s.v/100*i.v;const a=Ey(s);e[t+0]=a.r,e[t+1]=a.g,e[t+2]=a.b,e[t+3]*=r[3];break}}}function Fwe(e,t,r,i,n){return Rwe(e,t,n).then(s=>{const a=s.width?s.width:t,o=s.height?s.height:t;if(s.image&&Pwe(r,i)){let l=s.image.width,c=s.image.height;W("edge")&&/\.svg$/i.test(e)&&(l-=1,c-=1);const d=Lwe(a,o);d.drawImage(s.image,0,0,l,c,0,0,a,o);const p=d.getImageData(0,0,a,o),h=[r.r/255,r.g/255,r.b/255,r.a],m=Fp(r);for(let g=0;g<p.data.length;g+=4)Owe(p.data,g,h,m,i);d.putImageData(p,0,0),e=d.canvas.toDataURL("image/png")}else{const l=Dt&&Dt.findCredential(e);if(l&&l.token){const c=e.includes("?")?"&":"?";e=`${e}${c}token=${l.token}`}}return{url:e,width:a,height:o}}).catch(()=>({url:e,width:t,height:t}))}let oh=null;const hN=[255,255,255];function mN(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Dwe(e,t,r){const{backgroundColor:i,outline:n,dotSize:s}=e,a=r&&r.swatchSize||Dr.size,o=.8,l=Math.round(a*a/s**2*o),c=window.devicePixelRatio,d=document.createElement("canvas"),p=a*c;d.width=p,d.height=p,d.style.width=d.width/c+"px",d.style.height=d.height/c+"px";const h=d.getContext("2d");if(i&&(h.fillStyle=i.toCss(!0),h.fillRect(0,0,p,p),h.fill()),h.fillStyle=t.toCss(!0),oh&&oh.length/2===l)for(let g=0;g<2*l;g+=2){const b=oh[g],w=oh[g+1];h.fillRect(b,w,s*c,s*c),h.fill()}else{oh=[];for(let g=0;g<2*l;g+=2){const b=mN(0,p),w=mN(0,p);oh.push(b,w),h.fillRect(b,w,s*c,s*c),h.fill()}}n&&(n.color&&(h.strokeStyle=n.color.toCss(!0)),h.lineWidth=n.width,h.strokeRect(0,0,p,p));const m=new Image(a,a);return m.src=d.toDataURL(),m}function Nwe(e,t={}){const r=t.radius||40,i=2*Math.PI*r,n=e.length,s=i/n,a=[],o=t2(t.outline);o&&(o.width*=2),(o||t.backgroundColor)&&a.push({shape:{type:"circle",cx:r,cy:r,r},fill:t.backgroundColor,stroke:o,offset:[0,0]});const l=t.values,c=l&&l.length===n&&l.reduce((g,b)=>g+b,0)===100,d=[0];for(let g=0;g<n;g++){const b=c?l[g]*i/100:null;c&&d.push(b+d[g]),a.push({shape:{type:"circle",cx:r,cy:r,r:r/2},fill:[0,0,0,0],stroke:{width:r,dashArray:`${b||s} ${i}`,dashoffset:"-"+(c?d[g]/2:g*(s/2)),color:e[g]},offset:[0,0]})}let p=null;const h=2*r+((o==null?void 0:o.width)||0),m=t.holePercentage;if(m){o&&a.push({shape:{type:"circle",cx:r,cy:r,r:r*m},fill:null,stroke:o,offset:[0,0]});const g=h/2;p=[[{shape:{type:"circle",cx:g,cy:g,r:g},fill:hN,stroke:o?{...o,color:hN}:null,offset:[0,0]},{shape:{type:"circle",cx:g,cy:g,r:r*m},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return Z2([a],[h,h],{effectView:t.effectList,ignoreStrokeWidth:!0,masking:p,rotation:-90})}function vf(e,t={}){const n=t.align==="horizontal",s=n?75:24,a=n?24:75,{width:o=s,height:l=a,gradient:c=!0}=t,d=window.devicePixelRatio,p=o*d,h=l*d,m=document.createElement("canvas");m.width=p,m.height=h,m.style.width=`${o}px`,m.style.height=`${l}px`;const g=m.getContext("2d"),b=n?p:0,w=n?0:h;if(c){const _=g.createLinearGradient(0,0,b,w),S=e.length,x=S===1?0:1/(S-1);e.forEach((M,I)=>_.addColorStop(I*x,M.toString())),g.fillStyle=_,g.fillRect(0,0,p,h)}else{const _=n?p/e.length:p,S=n?h:h/e.length;let x=0,M=0;for(const I of e)g.fillStyle=I.toString(),g.fillRect(x,M,_,S),x=n?x+_:0,M=n?0:M+S}const v=document.createElement("div");return v.style.width=`${o}px`,v.style.height=`${l}px`,jwe(v,t==null?void 0:t.effectList),v.appendChild(m),v}function jwe(e,t){if(!t)return;e.style.filter=i2(t);const r=t.effects;if(r){for(const i of r)if((i==null?void 0:i.type)==="drop-shadow"){i.offsetX<0?e.style.marginLeft=`${Math.abs(i.offsetX)}px`:e.style.marginRight=`${i.offsetX}px`;break}}}async function wK(e,t){switch(e.type){case"web-style":{const{previewWebStyleSymbol:r}=await Y(()=>import("./previewWebStyleSymbol.b151d9f3.js"),[],import.meta.url);return r(e,wK,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:r}=await Y(()=>Promise.resolve().then(()=>Jxe),void 0,import.meta.url);return r(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:r}=await Y(()=>import("./previewSymbol2D.a28ad08e.js"),[],import.meta.url);return r(e,t)}case"cim":{const{previewCIMSymbol:r}=await Y(()=>import("./previewCIMSymbol.99c715a7.js"),["previewCIMSymbol.99c715a7.js","cimAnalyzer.92f51743.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","enums.9bd521fc.js","alignmentUtils.84250e5d.js","number.6e30c64a.js","GeometryUtils.f3664fe1.js","Rasterizer.cb69cb24.js"],import.meta.url);return r(e,t)}default:return}}function _K(e){return e&&"opacity"in e?e.opacity*_K(e.parent):1}async function Vwe(e,t){var w;if(!e)return;const r=e.sourceLayer,i=(w=C(t)&&t.useSourceLayer?r:e.layer)!=null?w:r,n=_K(i);if(C(e.symbol)&&(!C(t)||t.ignoreGraphicSymbol!==!0)){const v=e.symbol.type==="web-style"?await e.symbol.fetchSymbol({...t,cache:C(t)?t.webStyleCache:null}):e.symbol.clone();return x7(v,null,n),v}const s=C(t)&&t.renderer||i&&"renderer"in i&&i.renderer;let a=s&&"getSymbolAsync"in s?await s.getSymbolAsync(e,t):null;if(!a)return;if(a=a.type==="web-style"?await a.fetchSymbol({...t,cache:C(t)?t.webStyleCache:null}):a.clone(),!("visualVariables"in s)||!s.visualVariables||!s.visualVariables.length)return x7(a,null,n),a;if("arcadeRequiredForVisualVariables"in s&&s.arcadeRequiredForVisualVariables&&(B(t)||B(t.arcade))){const v={...t};v.arcade=await uo(),t=v}const o=await Y(()=>Promise.resolve().then(()=>Yp),void 0,import.meta.url),l=[],c=[],d=[],p=[];for(const v of s.visualVariables)switch(v.type){case"color":l.push(v);break;case"opacity":c.push(v);break;case"rotation":p.push(v);break;case"size":v.target||d.push(v)}const h=!!l.length&&l[l.length-1],m=h?o.getColor(h,e,t):null,g=!!c.length&&c[c.length-1];let b=g?o.getOpacity(g,e,t):null;if(n!=null&&(b=b!=null?b*n:n),x7(a,m,b),d.length){const v=o.getAllSizes(d,e,t);await NJ(a,v)}for(const v of p)jJ(a,o.getRotationAngle(v,e,t),v.axis);return a}class zwe{constructor(t,r){this.owner=r,this.properties={},this.afterDispatchHandle=null;for(const i in t){const n=t[i],s=new TU(n,null,null,2,2);this.properties[i]={pool:s,acquired:[]}}this.afterDispatchHandle=sae(()=>this._release())}destroy(){this.afterDispatchHandle&&(this.afterDispatchHandle.remove(),this.afterDispatchHandle=null);for(const t in this.properties){const r=this.properties[t];for(const i of r.acquired)eP(i)||r.pool.release(i);r.pool.destroy(),r.pool=null,r.acquired=null}this.properties=null,this.owner=null}get(t){const r=this.owner._get(t),i=this.properties[t];let n=i.pool.acquire();for(i.acquired.push(n);n===r;)i.acquired.push(n),n=i.pool.acquire();return n}_release(){for(const t in this.properties){const r=this.properties[t];let i=0;for(const n of r.acquired)eP(n)?r.acquired[i++]=n:r.pool.release(n);r.acquired.length=i}}}const Bwe=W("mac")?"Meta":"Ctrl",e8={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let e=48;e<58;e++)e8[e]=String.fromCharCode(e);for(let e=1;e<25;e++)e8[111+e]=`F${e}`;for(let e=65;e<91;e++)e8[e]=[String.fromCharCode(e+32),String.fromCharCode(e)];function Uwe(e){if(e.key!==void 0)return Af(e);const t=e8[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function Gwe(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}class qwe{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const i of this.keyModifiers)if(!r.has(i))return!1;return!0}}const yN=ae.getLogger("esri.views.input.InputHandler");class li{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const i of r)this._incomingEventMatches.push(i.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?yN.error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,i){let n;typeof r=="function"?(i=r,n=[]):n=r||[];const s=typeof t=="string"?new qwe(t,n):t,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},o=d=>{const p=this._incoming[d.match.eventType];if(p){const h=p.indexOf(d);p.splice(h,1),a(),this._manager&&this._manager.updateDependencies()}},l=new Hwe(s,i,{onPause:o,onRemove:o,onResume:d=>{const p=this._incoming[d.match.eventType];p&&!p.includes(d)&&(p.push(d),a(),this._manager&&this._manager.updateDependencies())}});let c=this._incoming[s.eventType];return c||(c=[],this._incoming[s.eventType]=c),c.push(l),a(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new Wwe(t,{onEmit:(i,n,s,a)=>{this._manager.emit(i.eventType,n,s,a)},onRemove:i=>{delete this._outgoing[i.eventType],this._manager.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){this._manager.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):yN.error("This InputHandler is not registered with an InputManager")}_handleEvent(t){const r=this._incoming[t.type];if(r){for(const i of r)if(i.match.matches(t)&&(i.callback(t),t.shouldStopPropagation()))break}}}class Hwe{constructor(t,r,i){this.match=t,this._callback=r,this._handler=i}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class Wwe{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,i){this._removed||this._handler.onEmit(this,t,r,i)}remove(){this._removed=!0,this._handler.onRemove(this)}}class Jwe extends li{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>{const i=r.data.native.pointerType==="touch";this._setValue(i?"touch":"mouse",r.data.x,r.data.y)})}_setValue(t,r,i){t===this._value&&this._x===r&&this._y===i||(this._value=t,this._x=r,this._y=i,this._onChange(t,r,i))}}const n_=ae.getLogger("esri.views.input.InputManager");let uu=class extends ye{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=Bwe,this.latestPointerType="mouse",this._propertiesPool=new zwe({latestPointerLocation:Qwe},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource=null,this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}installHandlers(e,t,r=cd.INTERNAL){if(this._nameToGroup[e])return void n_.error("There is already an InputHandler group registered under the name `"+e+"`");if(t.length===0)return void n_.error("Can't register a group of zero handlers");const i={name:e,handlers:t.map(n=>({handler:n,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=i;for(let n=i.handlers.length-1;n>=0;n--){const s=i.handlers[n];this._handlers.push(s),s.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(a,o,l,c,d)=>{this._emitInputEvent(s.priorityIndex+1,a,o,l,d,c)},setPointerCapture:(a,o)=>{this._setPointerCapture(i,s,a,o)},setEventCallback:a=>{s.eventCallback=a},setUninstallCallback:a=>{s.uninstallCallback=a},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach(r=>{r.removed=!0,r.uninstallCallback()}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):n_.error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const i=this._handlers[r];i.priorityIndex=r,this._handlersPriority.push(i)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const i=this._handlersPriority[r];i.priorityIndex=r;let n=i.handler.hasSideEffects;if(!n){for(const s of i.handler.outgoingEventTypes)if(e.has(s)){n=!0;break}}if(n)for(const s of i.handler.incomingEventMatches){e.add(s.eventType);for(const a of s.keyModifiers)Gwe(a)||t.add(a)}i.active=n}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,r){this._get("latestPointerType")!==e&&this._set("latestPointerType",e);const i=this._get("latestPointerLocation");if(B(i)||i.x!==t||i.y!==r){const n=this._propertiesPool.get("latestPointerLocation");n.x=t,n.y=r,this._set("latestPointerLocation",n)}}_onEventReceived(e,t){if(e==="pointer-capture-lost"){const n=t;this._pointerCaptures.delete(n.native.pointerId)}this._updateKeyModifiers(e,t);const r=this.test.timestamp!=null?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i)}_updateKeyModifiers(e,t){if(!t)return;let r=!1;const i=()=>{if(!r){const a=new Set;this._activeKeyModifiers.forEach(o=>{a.add(o)}),this._activeKeyModifiers=a,r=!0}},n=(a,o)=>{o&&!this._activeKeyModifiers.has(a)?(i(),this._activeKeyModifiers.add(a)):!o&&this._activeKeyModifiers.has(a)&&(i(),this._activeKeyModifiers.delete(a))};if(e==="key-down"||e==="key-up"){const a=t.key;this._keyModifiers.has(a)&&n(a,e==="key-down")}const s=t.native;n("Alt",!(!s||!s.altKey)),n("Ctrl",!(!s||!s.ctrlKey)),n("Shift",!(!s||!s.shiftKey)),n("Meta",!(!s||!s.metaKey)),n("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new Jwe((e,t,r)=>this._setLatestPointer(e,t,r)),this.installHandlers("input-manager-logic",[this._latestPointerHandler],cd.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,cd.INTERNAL)}_setPointerCapture(e,t,r,i){const n=e.name+"-"+t.priorityIndex,s=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,s),i?(s.add(n),s.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):s.has(n)&&(s.delete(n),s.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,t,r,i){this._emitInputEvent(0,e,t,r,i)}_emitInputEvent(e,t,r,i,n,s){const a=i!==void 0?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),o=n!==void 0&&n,l={event:new Zwe(t,r,a,s||this._activeKeyModifiers,o),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new S4,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){const{event:t,priorityIndex:r}=this._currentPropagation.events.pop(),i=t.data&&t.data.eventId;if(!(i!=null&&this._stoppedPropagationEventIds.has(i)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){i!=null&&this._stoppedPropagationEventIds.add(i);break}if(t.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new S4;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const i of t.handler.incomingEventMatches){if(r.eventType!==i.eventType)continue;const n=r.keyModifiers.filter(s=>i.keyModifiers.includes(s));if(n.length===r.keyModifiers.length!=(n.length===i.keyModifiers.length))return r.keyModifiers.length>i.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const r of e){let i=0;for(;i<t.length&&this._compareHandlerPriority(r,t[i])>=0;)i++;t.splice(i,0,r)}return t}get debug(){const e=t=>{const r=this._setPointerCapture;this._setPointerCapture=()=>{},t(),this._setPointerCapture=r};return{injectEvent:(t,r)=>{e(()=>{this._onEventReceived(t,r)})},disablePointerCapture:e}}};u([f({readOnly:!0})],uu.prototype,"hasPendingInputs",null),u([f()],uu.prototype,"eventSource",void 0),u([f()],uu.prototype,"recognizers",void 0),u([f({readOnly:!0})],uu.prototype,"latestPointerType",void 0),u([f({readOnly:!0})],uu.prototype,"latestPointerLocation",void 0),uu=u([E("esri.views.input.InputManager")],uu);class Zwe{constructor(t,r,i,n,s){this.type=t,this.data=r,this.timestamp=i,this.modifiers=n,this.cancelable=s,this._propagationState=Au.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Au.STOPPED}shouldStopPropagation(){return(this._propagationState&Au.STOPPED)!=0}async(t){this._propagationState|=Au.PAUSED;const r=(i,n)=>{this._propagationState&=~Au.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),n)throw i;return i};return(typeof t=="function"?t():t).then(i=>r(i,!1),i=>r(i,!0))}shouldPausePropagation(t){return!!(this._propagationState&Au.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}}var Au;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Au||(Au={}));const cd={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class Qwe{}function gN(e){return e&&typeof e.highlight=="function"}const t8={iconZoom:"esri-icon-zoom-in-magnifying-glass",iconTrash:"esri-icon-trash",iconBrowseClusteredFeatures:"esri-icon-table"},np=new dy({id:"zoom-to-feature",title:"{messages.zoom}",className:t8.iconZoom}),bN=new dy({id:"remove-selected-feature",title:"{messages.remove}",className:t8.iconTrash}),j0=new dy({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:t8.iconZoom}),V0=new dy({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:t8.iconBrowseClusteredFeatures}),Ywe="esri.widgets.Popup.PopupViewModel",c6=ae.getLogger(Ywe),Kwe=e=>{const{event:t,view:r}=e,{action:i}=t,n=r&&r.popup;if(!i)return Promise.reject(new R("trigger-action:missing-arguments","Event has no action"));if(!n)return Promise.reject(new R("trigger-action:missing-arguments","view.popup is missing"));const{disabled:s,id:a}=i;if(!a)return Promise.reject(new R("trigger-action:invalid-action","action.id is missing"));if(s)return Promise.reject(new R("trigger-action:invalid-action","Action is disabled"));if(a===np.id)return e8e(n.viewModel).catch(GS);if(a===j0.id)return t8e(n.viewModel);if(a===V0.id)return n.featureMenuOpen=!n.featureMenuOpen,n.viewModel.browseClusterEnabled=!n.viewModel.browseClusterEnabled,Promise.resolve();if(n.viewModel.browseClusterEnabled=!1,a===bN.id){n.close();const{selectedFeature:o}=n;if(!o)return Promise.reject(new R(`trigger-action:${bN.id}`,"selectedFeature is required",{selectedFeature:o}));const{sourceLayer:l}=o;return l?l.remove(o):r.graphics.remove(o),Promise.resolve()}return Promise.resolve()};function SK(e){const{selectedFeature:t,location:r,view:i}=e;return i?i.type==="3d"?t||r:e.get("selectedFeature.geometry")||r:null}function jf(e){var t,r;return(e==null?void 0:e.isAggregate)&&((r=(t=e==null?void 0:e.sourceLayer)==null?void 0:t.featureReduction)==null?void 0:r.type)==="cluster"}function Xwe(e,t){if((t==null?void 0:t.type)!=="3d"||!e||e.declaredClass!=="esri.Graphic")return!0;const r=t.getViewForGraphic(e);if(r&&"whenGraphicBounds"in r){let i=!1;return r.whenGraphicBounds(e,{useViewElevation:!0}).then(n=>{i=!n||!n.boundingBox||n.boundingBox[0]===n.boundingBox[3]&&n.boundingBox[1]===n.boundingBox[4]&&n.boundingBox[2]===n.boundingBox[5]}).catch(()=>{const n=new R("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:e});c6.error(n)}),i}return!0}async function e8e(e){const{location:t,selectedFeature:r,view:i,zoomFactor:n}=e,s=SK(e);if(!s){const c=new R("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:s,view:i});throw c6.error(c),c}const a=i.scale/n,o=e.get("selectedFeature.geometry")||t,l=o&&o.type==="point"&&Xwe(r,i);np.active=!0,np.disabled=!0;try{await e.view.goTo({target:s,scale:l?a:void 0})}finally{np.active=!1,np.disabled=!1,e.zoomToLocation=null,l&&(e.location=o)}}async function t8e(e){const{selectedFeature:t,view:r}=e;if((r==null?void 0:r.type)!=="2d"){const o=new R("zoomToCluster:invalid-view","View must be 2d MapView.",{view:r});throw c6.error(o),o}if(!jf(t)){const o=new R("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw c6.error(o),o}const i=t.sourceLayer,n=await r.whenLayerView(i),s=n.createQuery();s.aggregateIds=[t.getObjectId()],j0.active=!0,j0.disabled=!0;const{extent:a}=await n.queryExtent(s);await r.goTo({target:a}),j0.active=!1,j0.disabled=!1}async function r8e(e){const{selectedFeature:t,view:r}=e,i=t.sourceLayer,n=await r.whenLayerView(i),s=n.createQuery();s.aggregateIds=[t.getObjectId()];const{extent:a}=await n.queryExtent(s);e.selectedClusterBoundaryFeature.geometry=a,r.graphics.add(e.selectedClusterBoundaryFeature)}async function i8e(e){const{selectedFeature:t,view:r}=e,i=t.sourceLayer,n=await r.whenLayerView(i),s=n.createQuery();s.aggregateIds=[t.getObjectId()],V0.active=!0,V0.disabled=!0;const{features:a}=await n.queryFeatures(s);V0.active=!1,V0.disabled=!1,r.popup.open({features:[t].concat(a),featureMenuOpen:!0})}function n8e(e){const t=e.features.filter(r=>jf(r));t.length&&(e.features=t)}const AA=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:i}=this;return this.goToOverride?this.goToOverride(i,r):i.goTo(r.target,r.options)}};return u([f()],t.prototype,"goToOverride",void 0),u([f()],t.prototype,"view",void 0),t=u([E("esri.widgets.support.GoTo")],t),t},i1=Se.ofType({key:"type",defaultKeyValue:"button",base:dw,typeMap:{button:dy,toggle:rH}}),s8e=()=>[np.clone()],a8e=()=>[j0.clone(),V0.clone()],xK="esri.widgets.Popup.PopupViewModel",fv=ae.getLogger(xK);let qe=class extends AA(tK){constructor(e){super(e),this._handles=new hr,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new i1,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new vi({symbol:new po({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(e=>e.waitingForContent)}initialize(){this._handles.add([ee(()=>[this.autoOpenEnabled,this.view],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),ee(()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view],()=>this._highlightSelectedFeature()),ee(()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view],()=>this._highlightActiveFeature()),ee(()=>{var e,t;return(t=(e=this.view)==null?void 0:e.animation)==null?void 0:t.state},e=>this._animationStateChange(e)),ee(()=>this.location,e=>this._locationChange(e)),ee(()=>this.selectedFeature,e=>this._selectedFeatureChange(e)),ee(()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage],()=>this._selectedFeatureIndexChange()),ee(()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels],()=>this._setGraphicOnFeatureViewModels()),ee(()=>this.featureViewModels,()=>this._featureViewModelsChange()),this.on("trigger-action",e=>Kwe({event:e,view:this.view})),Gi(()=>!this.waitingForResult,()=>this._waitingForResultChange(),Cm),ee(()=>{var e,t;return[this.features,(e=this.view)==null?void 0:e.map,(t=this.view)==null?void 0:t.spatialReference]},()=>this._updateFeatureVMs()),ee(()=>{var e;return(e=this.view)==null?void 0:e.scale},()=>this._viewScaleChange()),Gi(()=>!this.visible,()=>this.browseClusterEnabled=!1),ee(()=>this.browseClusterEnabled,e=>e?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get("allActions")||new i1;e.removeAll();const{actions:t,defaultActions:r,defaultPopupTemplateEnabled:i,includeDefaultActions:n,selectedFeature:s}=this,a=n?r.concat(t):t,o=s&&(typeof s.getEffectivePopupTemplate=="function"&&s.getEffectivePopupTemplate(i)||s.popupTemplate),l=o&&o.actions,c=o&&o.overwriteActions?l:l?l.concat(a):a;return c&&c.filter(Boolean).forEach(d=>e.add(d)),e}get defaultActions(){const e=this._get("defaultActions")||new i1;return e.removeAll(),e.addMany(jf(this.selectedFeature)?a8e():s8e()),e}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(e){const t=e||[];this._set("features",t);const{pendingPromisesCount:r,promiseCount:i,selectedFeatureIndex:n}=this,s=i&&t.length;s&&r&&n===-1?this.selectedFeatureIndex=0:s&&n!==-1||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get("location")||null}set location(e){const t=this.get("view.spatialReference.isWebMercator");e&&e.get("spatialReference.isWGS84")&&t&&(e=rd(e)),this._set("location",e)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||this.featureCount!==0)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",e),(e=e.slice(0)).forEach(t=>{this._pendingPromises.add(t);const r=n=>{this._pendingPromises.has(t)&&this._updateFeatures(n),this._updatePendingPromises(t)},i=()=>this._updatePendingPromises(t);t.then(r,i)}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;return t===-1?null:e[t]||null}get selectedFeatureIndex(){const e=this._get("selectedFeatureIndex");return typeof e=="number"?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this.activeFeature=null,this._set("selectedFeatureIndex",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:e}=this,t=SK(this);if(!t){const r=new R("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:t,view:e});return fv.error(r),Promise.reject(r)}return this.callGoTo({target:{target:t,scale:e.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(e,t){const{view:r}=this;if(!r||!e){const i=new R("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:e,view:r});return fv.error(i),Promise.reject(i)}return r.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:r}=t;delete t.fetchFeatures,r&&this._setFetchFeaturesPromises(t.location);const i=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const n of i)delete t[n];this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit("trigger-action",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){n8e(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){const{view:e,selectedFeature:t}=this;(e==null?void 0:e.type)==="2d"?jf(t)?(await r8e(this),await i8e(this)):fv.warn("enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.",t):fv.warn("enableClusterBrowsing:invalid-view: View must be 2d MapView.",t)}_animationStateChange(e){this.zoomToLocation||(np.disabled=e==="waiting-for-target")}_clearBrowsedClusterGraphics(){var t;const e=(t=this.view)==null?void 0:t.graphics;e&&(e.remove(this.selectedClusterBoundaryFeature),e.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(jf(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=[this.selectedFeature])}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:r}=this;r&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:e,featureCount:t,featurePage:r,featuresPerPage:i,featureViewModels:n}=this;if(r===null)return;const s=((r-1)*i+t)%t,a=s+i;n.slice(s,a).forEach((o,l)=>{o&&!o.graphic&&(o.graphic=e[s+l])})}async _selectedFeatureChange(e){if(!e)return;const{location:t,updateLocationEnabled:r,view:i}=this;if(this.browseClusterEnabled)return this._selectedClusterFeature&&(i.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),jf(e)?void 0:(e.symbol=await Vwe(e),this._selectedClusterFeature=e,void i.graphics.add(this._selectedClusterFeature));!r&&t||!e.geometry?r&&!e.geometry&&this.centerAtLocation().then(()=>{this.location=i.center.clone()}):this.location=this._getPointFromGeometry(e.geometry)}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then(t=>{const{clientOnlyGraphics:r,promisesPerLayerView:i}=t,n=Promise.resolve(r),s=i.map(a=>a.promise);this.promises=[n,...s]})}_destroyFeatureVMs(){this.featureViewModels.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:e,features:t,featureViewModels:r}=this;if(jf(e)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!t||!t.length)return;const i=r.slice(0),n=[];t.forEach((s,a)=>{var l,c;if(!s)return;let o=null;if(i.some((d,p)=>(d&&d.graphic===s&&(o=d,i.splice(p,1)),!!o)),o)n[a]=o;else{const d=new MA({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:(l=this.view)==null?void 0:l.spatialReference,graphic:s===e?s:null,map:(c=this.view)==null?void 0:c.map,view:this.view});n[a]=d}}),i.forEach(s=>s&&!s.destroyed&&s.destroy()),this._set("featureViewModels",n)}_getScreenPoint(e){const{view:t}=this;return t&&e&&typeof t.toScreen=="function"?t.toScreen(e):null}_autoOpenEnabledChange(){const e="auto-fetch-features",{_handles:t,autoOpenEnabled:r}=this;if(t.remove(e),r&&this.view){const i=this.view.on("click",n=>{n.pointerType==="mouse"&&n.button!==0||this._fetchFeaturesAndOpen(n)},cd.WIDGET);t.add(i,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const r=new AbortController,{signal:i}=r;this._fetchFeaturesController=r,this.notifyChange("waitingForResult");const n=this.fetchFeatures(e,{signal:i,event:t});return n.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),n}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:r}=e,{view:i}=this;this._fetchFeaturesWithController(t,e).then(n=>{const{clientOnlyGraphics:s,promisesPerLayerView:a,location:o}=n,l=[Promise.resolve(s),...a.map(c=>c.promise)];return i.popup.open({location:o||r,promises:l}),n})}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(e){return B(e)?null:e.type==="point"?e:e.type==="extent"?e.center:e.type==="polygon"?e.centroid:e.type==="multipoint"||e.type==="polyline"?e.extent.center:null}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}_getHighlightLayer(e){const{layer:t,sourceLayer:r}=e;return(r==null?void 0:r.type)==="map-notes"||(r==null?void 0:r.type)==="subtype-group"?r:t}_getHighlightTarget(e,t){const r=t.type==="imagery"?void 0:"objectIdField"in t&&t.objectIdField,i=e.attributes;return i&&r&&i[r]||e}async _highlightActiveFeature(){const e="highlight-active-feature";this._handles.remove(e);const{highlightEnabled:t,view:r,activeFeature:i,visible:n}=this;if(!(i&&r&&t&&n))return;const s=this._getHighlightLayer(i);if(!(s&&s instanceof Lm))return;const a=this._getLayerView(r,s);this._highlightActiveFeaturePromise=a;const o=await a;if(!(o&&gN(o)&&this._highlightActiveFeaturePromise===a&&this.activeFeature&&this.highlightEnabled))return;const l=o.highlight(this._getHighlightTarget(i,s));this._handles.add(l,e)}async _highlightSelectedFeature(){const e="highlight-selected-feature";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:r,view:i,visible:n}=this;if(!(t&&i&&r&&n))return;const s=this._getHighlightLayer(t);if(!(s&&s instanceof Lm))return;const a=this._getLayerView(i,s);this._highlightSelectedFeaturePromise=a;const o=await a;if(!(o&&gN(o)&&this._highlightSelectedFeaturePromise===a&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const l=o.highlight(this._getHighlightTarget(t,s));this._handles.add(l,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const r=e.filter(i=>!t.includes(i));this.features=t.concat(r)}};u([f()],qe.prototype,"featurePage",void 0),u([f()],qe.prototype,"isLoadingFeature",null),u([f({type:i1})],qe.prototype,"actions",void 0),u([f({readOnly:!0})],qe.prototype,"active",null),u([f()],qe.prototype,"activeFeature",void 0),u([f({readOnly:!0})],qe.prototype,"allActions",null),u([f({type:Boolean})],qe.prototype,"defaultPopupTemplateEnabled",void 0),u([f()],qe.prototype,"autoCloseEnabled",void 0),u([f()],qe.prototype,"autoOpenEnabled",void 0),u([f()],qe.prototype,"browseClusterEnabled",void 0),u([f()],qe.prototype,"content",void 0),u([f({type:i1,readOnly:!0})],qe.prototype,"defaultActions",null),u([f({readOnly:!0})],qe.prototype,"featureCount",null),u([f()],qe.prototype,"features",null),u([f()],qe.prototype,"featuresPerPage",void 0),u([f()],qe.prototype,"featureViewModelAbilities",void 0),u([f({readOnly:!0})],qe.prototype,"featureViewModels",void 0),u([f()],qe.prototype,"highlightEnabled",void 0),u([f()],qe.prototype,"includeDefaultActions",void 0),u([f({type:be})],qe.prototype,"location",null),u([f({readOnly:!0})],qe.prototype,"pendingPromisesCount",null),u([f({readOnly:!0})],qe.prototype,"selectedClusterBoundaryFeature",void 0),u([f({readOnly:!0})],qe.prototype,"waitingForResult",null),u([f({readOnly:!0})],qe.prototype,"promiseCount",null),u([f()],qe.prototype,"promises",null),u([f({value:null,readOnly:!0})],qe.prototype,"selectedFeature",null),u([f({value:-1})],qe.prototype,"selectedFeatureIndex",null),u([f({readOnly:!0})],qe.prototype,"selectedFeatureViewModel",null),u([f({readOnly:!0})],qe.prototype,"state",null),u([f()],qe.prototype,"title",void 0),u([f()],qe.prototype,"updateLocationEnabled",void 0),u([f()],qe.prototype,"view",void 0),u([f()],qe.prototype,"visible",void 0),u([f()],qe.prototype,"zoomFactor",void 0),u([f()],qe.prototype,"zoomToLocation",void 0),u([f()],qe.prototype,"centerAtLocation",null),qe=u([E(xK)],qe);const MK=qe,vN="selected-index",o8e=0,wN="popup-spinner",oe={iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:"esri-popup",widget:"esri-widget",main:"esri-popup__main-container",loadingContainer:"esri-popup__loading-container",isCollapsible:"esri-popup--is-collapsible",isCollapsed:"esri-popup--is-collapsed",shadow:"esri-popup--shadow",isDocked:"esri-popup--is-docked",isDockedTopLeft:"esri-popup--is-docked-top-left",isDockedTopCenter:"esri-popup--is-docked-top-center",isDockedTopRight:"esri-popup--is-docked-top-right",isDockedBottomLeft:"esri-popup--is-docked-bottom-left",isDockedBottomCenter:"esri-popup--is-docked-bottom-center",isDockedBottomRight:"esri-popup--is-docked-bottom-right",alignTopCenter:"esri-popup--aligned-top-center",alignBottomCenter:"esri-popup--aligned-bottom-center",alignTopLeft:"esri-popup--aligned-top-left",alignBottomLeft:"esri-popup--aligned-bottom-left",alignTopRight:"esri-popup--aligned-top-right",alignBottomRight:"esri-popup--aligned-bottom-right",isFeatureMenuOpen:"esri-popup--feature-menu-open",isActionsMenuOpen:"esri-popup--actions-menu-open",hasFeatureUpdated:"esri-popup--feature-updated",header:"esri-popup__header",headerButtons:"esri-popup__header-buttons",headerContainer:"esri-popup__header-container",headerContainerButton:"esri-popup__header-container--button",headerTitle:"esri-popup__header-title",content:"esri-popup__content",footer:"esri-popup__footer",footerHasPagination:"esri-popup__footer--has-pagination",footerHasActions:"esri-popup__footer--has-actions",footerHasActionsMenu:"esri-popup__footer--has-actions-menu",button:"esri-popup__button",buttonDisabled:"esri-popup__button--disabled",buttonDock:"esri-popup__button--dock",icon:"esri-popup__icon",iconDock:"esri-popup__icon--dock-icon",inlineActionsContainer:"esri-popup__inline-actions-container",actionsMenuButton:"esri-popup__actions-menu-button",actions:"esri-popup__actions",action:"esri-popup__action",actionImage:"esri-popup__action-image",actionText:"esri-popup__action-text",actionToggle:"esri-popup__action-toggle",actionToggleOn:"esri-popup__action-toggle--on",pointer:"esri-popup__pointer",pointerDirection:"esri-popup__pointer-direction",navigation:"esri-popup__navigation",paginationPrevious:"esri-popup__pagination-previous",paginationNext:"esri-popup__pagination-next",paginationPreviousIconLTR:"esri-popup__pagination-previous-icon",paginationPreviousIconRTL:"esri-popup__pagination-previous-icon--rtl",paginationNextIconLTR:"esri-popup__pagination-next-icon",paginationNextIconRTL:"esri-popup__pagination-next-icon--rtl",featureMenu:"esri-popup__feature-menu",featureMenuList:"esri-popup__feature-menu-list",featureMenuItem:"esri-popup__feature-menu-item",featureMenuViewport:"esri-popup__feature-menu-viewport",featureMenuHeader:"esri-popup__feature-menu-header",featureMenuNote:"esri-popup__feature-menu-note",featureMenuSelected:"esri-popup__feature-menu-item--selected",featureMenuButton:"esri-popup__feature-menu-button",featureMenuTitle:"esri-popup__feature-menu-title",featureMenuObserver:"esri-popup__feature-menu-observer",featureMenuLoader:"esri-popup__feature-menu-loader",collapseButton:"esri-popup__collapse-button"},_N={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},SN="esri-popup";function bl(e,t){return t===void 0?`${SN}__${e}`:`${SN}__${e}-${t}`}const IK="esri.widgets.Popup",xN=ae.getLogger(IK),MN={closeButton:!0,featureNavigation:!0};let Te=class extends XY(xr){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new hr,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([r])=>{r!=null&&r.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=uk(()=>this._displaySpinner(),o8e),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new MK,this.visible=null,this.visibleElements={...MN},this._addSelectedFeatureIndexHandle(),this.own([ee(()=>{var r;return(r=this.viewModel)==null?void 0:r.screenLocation},()=>this._positionContainer()),ee(()=>{var r;return[(r=this.viewModel)==null?void 0:r.active,this.dockEnabled]},()=>this._toggleScreenLocationEnabled()),ee(()=>{var r;return(r=this.viewModel)==null?void 0:r.screenLocation},(r,i)=>{!!r!=!!i&&this.reposition()}),ee(()=>{var r,i,n,s,a,o;return[(i=(r=this.viewModel)==null?void 0:r.view)==null?void 0:i.padding,(s=(n=this.viewModel)==null?void 0:n.view)==null?void 0:s.size,(a=this.viewModel)==null?void 0:a.active,(o=this.viewModel)==null?void 0:o.location,this.alignment]},()=>this.reposition()),ee(()=>this.spinnerEnabled,r=>this._spinnerEnabledChange(r)),ee(()=>{var r,i;return(i=(r=this.viewModel)==null?void 0:r.view)==null?void 0:i.size},(r,i)=>this._updateDockEnabledForViewSize(r,i)),ee(()=>{var r;return(r=this.viewModel)==null?void 0:r.view},(r,i)=>this._viewChange(r,i)),ee(()=>{var r,i;return(i=(r=this.viewModel)==null?void 0:r.view)==null?void 0:i.ready},(r,i)=>this._viewReadyChange(r,i)),ee(()=>{var r,i;return[(r=this.viewModel)==null?void 0:r.waitingForResult,(i=this.viewModel)==null?void 0:i.location]},()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),ee(()=>{var r,i,n,s;return[(i=(r=this.selectedFeatureWidget)==null?void 0:r.viewModel)==null?void 0:i.title,(s=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:s.state]},()=>this._setTitleFromFeatureWidget()),ee(()=>{var r,i,n,s;return[(i=(r=this.selectedFeatureWidget)==null?void 0:r.viewModel)==null?void 0:i.content,(s=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:s.state]},()=>this._setContentFromFeatureWidget()),Gi(()=>!this.collapsed,()=>{var r,i;((i=(r=this.viewModel)==null?void 0:r.view)==null?void 0:i.widthBreakpoint)==="xsmall"&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),Fn(()=>{var r;return(r=this.viewModel)==null?void 0:r.allActions},"change",()=>this._watchActions()),ee(()=>{var r;return(r=this.viewModel)==null?void 0:r.allActions},()=>this._watchActions(),Ke),ee(()=>{var r;return(r=this.viewModel)==null?void 0:r.featureViewModels},()=>this._featureMenuViewportScrollTop())])}destroy(){var e,t;this._destroySelectedFeatureWidget(),this._destroySpinner(),(e=this._handles)==null||e.destroy(),this._unobserveFeatureMenuObserver(),(t=this._featureMenuIntersectionObserver)==null||t.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var e,t,r,i,n,s,a;return!!(this.selectedFeatureWidget?((t=(e=this.selectedFeatureWidget)==null?void 0:e.viewModel)==null?void 0:t.waitingForContent)||((i=(r=this.selectedFeatureWidget)==null?void 0:r.viewModel)==null?void 0:i.state)==="error"||((s=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:s.content):(a=this.viewModel)==null?void 0:a.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(e){this._set("actionsMenuOpen",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||_N}set dockOptions(e){const t={..._N},r=this.get("viewModel.view.breakpoints"),i={};r&&(i.width=r.xsmall,i.height=r.xsmall);const n={...t,...e},s={...t.breakpoint,...i},{breakpoint:a}=n;a===!0?n.breakpoint=s:typeof a=="object"&&(n.breakpoint={...s,...a}),this._set("dockOptions",n),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:r}=this,{selectedFeatureViewModel:i}=this.viewModel,n={...t,title:!1};return i?(e?(e.viewModel=i,e.visibleElements=n):this._feature=new R6e({headingLevel:r+1,viewModel:i,visibleElements:n}),this._feature):null}castVisibleElements(e){return{...MN,...e}}blur(){const{active:e}=this.viewModel;e||xN.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||xN.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var n,s;this._handles.remove(vN);const t=!!e&&!!e.featureMenuOpen,r=!!e&&!!e.actionsMenuOpen,i={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:r,featureMenuOpen:t};((s=(n=this.viewModel)==null?void 0:n.view)==null?void 0:s.widthBreakpoint)==="xsmall"&&(i.collapsed=!0),this.set(i),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){this.viewModel.triggerAction(e)}render(){var g,b,w,v;const{actionsMenuOpen:e,dockEnabled:t,featureMenuVisible:r,dividedActions:i,currentAlignment:n,currentDockPosition:s}=this,{active:a}=this.viewModel,{menuActions:o}=i,l=a&&o.length>1&&e,c=a&&t,d=a&&!t,p=(b=(g=this.selectedFeature)==null?void 0:g.layer)==null?void 0:b.title,h=(v=(w=this.selectedFeature)==null?void 0:w.layer)==null?void 0:v.id,m={[oe.alignTopCenter]:n==="top-center",[oe.alignBottomCenter]:n==="bottom-center",[oe.alignTopLeft]:n==="top-left",[oe.alignBottomLeft]:n==="bottom-left",[oe.alignTopRight]:n==="top-right",[oe.alignBottomRight]:n==="bottom-right",[oe.isDocked]:c,[oe.shadow]:d,[oe.isDockedTopLeft]:s==="top-left",[oe.isDockedTopCenter]:s==="top-center",[oe.isDockedTopRight]:s==="top-right",[oe.isDockedBottomLeft]:s==="bottom-left",[oe.isDockedBottomCenter]:s==="bottom-center",[oe.isDockedBottomRight]:s==="bottom-right",[oe.isFeatureMenuOpen]:r,[oe.isActionsMenuOpen]:l};return L("div",{class:this.classes(oe.base,m),role:"presentation","data-layer-title":p,"data-layer-id":h,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},a?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return L("span",{"aria-hidden":"true",class:this.classes(oe.icon,oe.iconLoading,oe.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?L("div",{key:bl("loading-container"),role:"presentation",class:oe.loadingContainer,"aria-label":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=eo(this.container),t={[oe.iconRightTriangleArrow]:e,[oe.paginationPreviousIconRTL]:e,[oe.iconLeftTriangleArrow]:!e,[oe.paginationPreviousIconLTR]:!e};return L("span",{"aria-hidden":"true",class:this.classes(oe.icon,t)})}renderPreviousButton(){const{messages:e}=this;return L("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(oe.button,oe.paginationPrevious),"aria-label":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=eo(this.container),t={[oe.iconLeftTriangleArrow]:e,[oe.paginationNextIconRTL]:e,[oe.iconRightTriangleArrow]:!e,[oe.paginationNextIconLTR]:!e};return L("span",{"aria-hidden":"true",class:this.classes(oe.icon,t)})}renderNextButton(){const{messages:e}=this;return L("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(oe.button,oe.paginationNext),"aria-label":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:r}=this,{featureCount:i,selectedFeatureIndex:n}=this.viewModel;return L("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(oe.button,oe.featureMenuButton),"aria-haspopup":"true","aria-controls":t,"aria-expanded":e.toString(),"aria-label":r.menu,title:r.menu},this._getPageText(i,n))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),r={[oe.iconUndock]:e,[oe.iconDock]:!e,[oe.iconDockToRight]:!e&&(t==="top-right"||t==="bottom-right"),[oe.iconDockToLeft]:!e&&(t==="top-left"||t==="bottom-left"),[oe.iconDockToTop]:!e&&t==="top-center",[oe.iconDockToBottom]:!e&&t==="bottom-center"};return L("span",{"aria-hidden":"true",class:this.classes(r,oe.icon)})}renderDockButton(){var n,s,a;const{dockEnabled:e,messages:t}=this,r=(s=(n=this.viewModel)==null?void 0:n.view)==null?void 0:s.widthBreakpoint,i=e?t.undock:t.dock;return r!=="xsmall"&&((a=this.dockOptions)==null?void 0:a.buttonEnabled)?L("div",{role:"button","aria-label":i,title:i,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(oe.button,oe.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:r,contentCollapsed:i,messagesCommon:n}=this,s={[oe.headerContainerButton]:r},a=L(sd,{level:this.headingLevel,class:oe.headerTitle,innerHTML:e}),o=r?L("button",{key:`${e}--collapsible`,id:t,title:i?n.expand:n.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(oe.headerContainer,s),"aria-expanded":i?"false":"true",onclick:this._toggleCollapsed,type:"button"},a):L("div",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(oe.headerContainer,s)},a);return e?o:null}renderCloseIcon(){return L("span",{"aria-hidden":"true",class:this.classes(oe.icon,oe.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?L("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:oe.button,"aria-label":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return L("header",{class:oe.header},this.renderTitle(),L("div",{class:oe.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:r}=this,{content:i}=this.viewModel;return t&&!r?L("article",{key:i,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:oe.content},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:r,dividedActions:i,messagesCommon:n}=this,s=r?n.close:n.open,{menuActions:a}=i;return a.length?L("div",{key:bl("actions-menu-button"),class:this.classes(oe.button,oe.actionsMenuButton),role:"button",id:t,"aria-haspopup":"true","aria-controls":r?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":s,title:s},L("span",{"aria-hidden":"true",class:oe.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:r,dividedActions:i}=this,{menuActions:n}=i;return n.length&&r?L("ul",{id:e,role:"menu","aria-labelledby":t,key:bl("actions"),class:oe.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},n.toArray().map(s=>this.renderAction({action:s,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map(t=>this.renderAction({action:t,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,r=!!e.length,i=!!t.length;return r||i?L("div",{key:"inline-actions-container","data-inline-actions":r.toString(),"data-menu-actions":i.toString(),class:oe.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?L("section",{key:bl("navigation"),class:this.classes(oe.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:r,menuActions:i}=t,n=!!r.length,s=!!i.length,a={[oe.footerHasPagination]:e,[oe.footerHasActions]:n,[oe.footerHasActionsMenu]:s};return e||n?L("div",{key:bl("feature-buttons"),class:this.classes(oe.footer,a)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:r}=this.viewModel,i=Ws(e.selectedFeatures,{total:t.length});return L("section",{key:bl("menu"),class:oe.featureMenu},L("strong",{class:oe.featureMenuHeader},i),L("nav",{bind:this,class:oe.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:zM},this.renderFeatureMenu(),L("div",{class:oe.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),r?L("div",{class:oe.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:L("div",{key:bl("pointer"),class:oe.pointer,role:"presentation"},L("div",{class:this.classes(oe.pointerDirection,oe.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:r,titleId:i,contentId:n,collapsible:s,hasContent:a,contentCollapsed:o,visibleElements:l}=this,{title:c}=this.viewModel,d=t==="bottom-left"||t==="bottom-center"||t==="bottom-right"||r==="top-left"||r==="top-center"||r==="top-right",p=t==="top-left"||t==="top-center"||t==="top-right"||r==="bottom-left"||r==="bottom-center"||r==="bottom-right",h={[oe.shadow]:e,[oe.isCollapsible]:s,[oe.isCollapsed]:o};return L("div",{class:this.classes(oe.main,oe.widget,h),tabIndex:l.closeButton?null:-1,role:"dialog","aria-labelledby":c?i:"","aria-describedby":a&&!o?n:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),p?this.renderFooter():null,p?this.renderFeatureMenuContainer():null)}renderContent(){var t;const e=(t=this.viewModel)==null?void 0:t.content;return e?typeof e=="string"?L("div",{key:e,innerHTML:e}):this.renderNodeContent(e):null}renderActionText(e){return L("span",{key:"text",class:oe.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),r=this._getActionImage(e),i={[oe.iconLoading]:e.active,[oe.rotating]:e.active,[oe.icon]:!!t,[oe.actionImage]:!e.active&&!!r};return t&&(i[t]=!e.active),L("span",{key:"icon","aria-hidden":"true",class:this.classes(oe.icon,i),styles:this._getIconStyles(r)})}renderAction(e){const{action:t,type:r}=e,i=this._getActionTitle(t),n={[oe.action]:t.type!=="toggle",[oe.actionToggle]:t.type==="toggle",[oe.actionToggleOn]:t.type==="toggle"&&t.value,[oe.buttonDisabled]:t.disabled},s=[this.renderActionIcon(t),this.renderActionText(i)],a=r==="menu-item"?L("li",{key:t.uid,role:"menuitem",tabIndex:0,title:i,"aria-label":i,class:this.classes(oe.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s):L("div",{key:t.uid,role:"button",tabIndex:0,title:i,"aria-label":i,class:this.classes(oe.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s);return t.visible?a:null}renderFeatureMenuItem(e,t){const{messages:r,messagesCommon:i}=this,{selectedFeatureIndex:n,selectedFeatureViewModel:s}=this.viewModel,a=e===s,o={[oe.featureMenuSelected]:a},l=a?L("span",{key:bl(`feature-menu-selected-feature-${n}`),title:r.selectedFeature,"aria-label":r.selectedFeature,class:oe.iconCheckMark}):null,c=L("span",{innerHTML:e.title||i.untitled});return L("li",{role:"menuitem",tabIndex:-1,key:bl(`feature-menu-feature-${n}`),class:this.classes(o,oe.featureMenuItem),bind:this,"data-feature-index":t,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},L("span",{class:oe.featureMenuTitle},c,l))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?L("ol",{class:oe.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},t.filter(r=>!!r.graphic).map((r,i)=>this.renderFeatureMenuItem(r,i))):null}_getActionTitle(e){const{messages:t,selectedFeature:r,messagesCommon:i}=this,{id:n}=e,s=r==null?void 0:r.attributes,a=n==="zoom-to-feature"?Ws(e.title,{messages:t}):n==="remove-selected-feature"?Ws(e.title,{messages:i}):n==="zoom-to-clustered-features"||n==="browse-clustered-features"?Ws(e.title,{messages:t}):e.title;return a&&s?Ws(a,s):a}_getActionClass(e){const{selectedFeature:t}=this,r=t==null?void 0:t.attributes,{className:i,image:n}=e,s=n||i?i:oe.iconDefaultAction;return s&&r?Ws(s,r):s}_getActionImage(e){const{selectedFeature:t}=this,r=t==null?void 0:t.attributes,{image:i}=e;return i&&r?Ws(i,r):i}_createFeatureUpdatedAnimation(){return xme("enter",oe.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(typeof e!="number")return null;const r=Math.round(e);return Math.max(t?r-1:r,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange("dividedActions");const t="actions";this._handles.remove(t),e&&e.forEach(r=>{this._handles.add(ee(()=>[r.uid,r.active,r.className,r.disabled,r.id,r.title,r.image,r.visible],()=>this.scheduleRender()),t)})}_divideActions(){const{allActions:e}=this.viewModel,t=e.filter(s=>s.visible),r=this._getInlineActionCount(),i=r===null,n=r===0;return{inlineActions:i?t.slice(0):n?new Se:t.slice(0,r),menuActions:i?new Se:n?t.slice(0):t.slice(r)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){var r,i;const{selectedFeatureWidget:e,messagesCommon:t}=this;e&&(this.viewModel.title=((r=e.viewModel)==null?void 0:r.state)==="error"?t.errorMessage:((i=e.viewModel)==null?void 0:i.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){Af(e)==="Escape"&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){Af(e)==="Escape"&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(e){const{viewModel:t}=this,r=e.currentTarget["data-feature-index"];t.activeFeature=t.features[r]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(e){const t=Af(e),{_featureMenuNode:r}=this,i=e.currentTarget["data-feature-index"];if(!r)return;const n=r.querySelectorAll("li"),s=n.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),n[n.length-1].focus()):(e.stopPropagation(),n[0].focus()):(e.stopPropagation(),n[(i+1+s)%s].focus()):(e.stopPropagation(),n[(i-1+s)%s].focus())}_handleActionMenuItemKeyup(e){const t=Af(e),{_actionsMenuNode:r}=this,i=e.currentTarget.dataset.actionUid,{menuActions:n}=this.dividedActions,s=n.findIndex(l=>l.uid===i);if(!r)return;const a=r.querySelectorAll("li"),o=a.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),a[a.length-1].focus()):(e.stopPropagation(),a[0].focus()):(e.stopPropagation(),a[(s+1+o)%o].focus()):(e.stopPropagation(),a[(s-1+o)%o].focus())}_handleMainKeyup(e){const t=Af(e);t==="ArrowLeft"&&(e.stopPropagation(),this.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get("viewModel.view");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:r}=this.viewModel;r?e.show({location:t}):e.hide()}_getIconStyles(e){return{"background-image":e?`url(${e})`:""}}async _shouldFocus(e){e.shouldFocus&&(await Xa(()=>{var t;return((t=this.viewModel)==null?void 0:t.active)===!0}),this.focus())}_addSelectedFeatureIndexHandle(){const e=ee(()=>{var t;return(t=this.viewModel)==null?void 0:t.selectedFeatureIndex},(t,r)=>this._selectedFeatureIndexUpdated(t,r));this._handles.add(e,vN)}_selectedFeatureIndexUpdated(e,t){const{featureCount:r}=this;r&&e!==t&&e!==-1&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:r,screenLocation:i,side:n,view:s}=e;if(isNaN(r)||isNaN(t)||!s||!i)return!1;const a=s.padding;return n==="right"&&i.x+r/2>s.width-a.right||n==="left"&&i.x-r/2<a.left||n==="top"&&i.y-t<a.top||n==="bottom"&&i.y+t>s.height-a.bottom}_calculateAutoAlignment(e){if(e!=="auto")return e;const{_pointerOffsetInPx:t,_containerNode:r,_mainContainerNode:i,viewModel:n}=this,{screenLocation:s,view:a}=n;if(B(s)||!a||!r)return"top-center";if(!this._isScreenLocationWithinView(s,a))return this._get("currentAlignment")||"top-center";function o(S){return parseInt(S.replace(/[^-\d\.]/g,""),10)}const l=i?window.getComputedStyle(i,null):null,c=l?o(l.getPropertyValue("max-height")):0,d=l?o(l.getPropertyValue("height")):0,{height:p,width:h}=r.getBoundingClientRect(),m=h+t,g=Math.max(p,c,d)+t,b=this._isOutsideView({popupHeight:g,popupWidth:m,screenLocation:s,side:"right",view:a}),w=this._isOutsideView({popupHeight:g,popupWidth:m,screenLocation:s,side:"left",view:a}),v=this._isOutsideView({popupHeight:g,popupWidth:m,screenLocation:s,side:"top",view:a}),_=this._isOutsideView({popupHeight:g,popupWidth:m,screenLocation:s,side:"bottom",view:a});return w?v?"bottom-right":"top-right":b?v?"bottom-left":"top-left":v?_?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(e){return typeof e=="function"?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=["left","right"];return eo(this.container)&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return typeof e=="function"?e.call(this):e}_getDockPosition(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition((e=this.dockOptions)==null?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var a;if(e!=="auto")return e;const t=(a=this.viewModel)==null?void 0:a.view,r=eo(this.container)?"top-left":"top-right";if(!t)return r;const i=t.padding||{left:0,right:0,top:0,bottom:0},n=t.width-i.left-i.right,{breakpoints:s}=t;return s&&n<=s.xsmall?"bottom-center":r}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:r}=e.getBoundingClientRect(),i=this._calculatePositionStyle(t,r);i&&(e.style.top=i.top,e.style.left=i.left,e.style.bottom=i.bottom,e.style.right=i.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:r}=this;return t==="top-left"||t==="bottom-left"||t==="top-right"||t==="bottom-right"?e+r:e}_calculateAlignmentPosition(e,t,r,i){const{currentAlignment:n,_pointerOffsetInPx:s}=this,a=i/2,o=r.height-t,l=r.width-e,{padding:c}=this.view;return n==="bottom-center"?{top:t+s-c.top,left:e-a-c.left}:n==="top-left"?{bottom:o+s-c.bottom,right:l+s-c.right}:n==="bottom-left"?{top:t+s-c.top,right:l+s-c.right}:n==="top-right"?{bottom:o+s-c.bottom,left:e+s-c.left}:n==="bottom-right"?{top:t+s-c.top,left:e+s-c.left}:n==="top-center"?{bottom:o+s-c.bottom,left:e-a-c.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:r,view:i}=this;if(!i)return;if(r)return{left:"",top:"",right:"",bottom:""};if(B(e)||!t)return;const n=this._calculateFullWidth(t),s=this._calculateAlignmentPosition(e.x,e.y,i,n);return s?{top:s.top!==void 0?`${s.top}px`:"auto",left:s.left!==void 0?`${s.left}px`:"auto",bottom:s.bottom!==void 0?`${s.bottom}px`:"auto",right:s.right!==void 0?`${s.right}px`:"auto"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const r=this.get("viewModel.view");this._wireUpView(r)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,r){const[i,n]=e,[s,a]=t,{width:o,height:l}=r;return i<=o&&s>o||i>o&&s<=o||n<=l&&a>l||n>l&&a<=l}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const r=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},i=r.left+r.right,n=r.top+r.bottom,s=[],a=[];s[0]=e[0]-i,s[1]=e[1]-n,a[0]=t[0]-i,a[1]=t[1]-n;const{dockOptions:o}=this,l=o.breakpoint;this._dockingThresholdCrossed(s,a,l)&&this._setDockEnabledForViewSize(o),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const r=t.active&&!e;t.screenLocationEnabled=r}_shouldDockAtCurrentViewSize(e){var o,l;const t=e.breakpoint,r=(l=(o=this.viewModel)==null?void 0:o.view)==null?void 0:l.ui;if(!r)return!1;const{width:i,height:n}=r;if(isNaN(i)||isNaN(n))return!1;const s=t.hasOwnProperty("width")&&i<=t.width,a=t.hasOwnProperty("height")&&n<=t.height;return s||a}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?Ws(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,wN),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new O6e({view:e}),e.ui.add(this._spinner,{key:wN,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget.dataset.actionUid,{allActions:r}=this.viewModel,i=r.findIndex(s=>s.uid===t),n=r.getItemAt(i);n&&n.type==="toggle"&&(n.value=!n.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(i)}_selectFeature(e){const t=e.currentTarget["data-feature-index"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};u([f({readOnly:!0})],Te.prototype,"actionsMenuId",null),u([f({readOnly:!0})],Te.prototype,"actionsMenuButtonId",null),u([f({readOnly:!0})],Te.prototype,"featureMenuId",null),u([f({readOnly:!0})],Te.prototype,"titleId",null),u([f({readOnly:!0})],Te.prototype,"contentId",null),u([f({readOnly:!0})],Te.prototype,"hasContent",null),u([f({readOnly:!0})],Te.prototype,"featureNavigationVisible",null),u([f({readOnly:!0})],Te.prototype,"collapsible",null),u([f({readOnly:!0})],Te.prototype,"featureMenuVisible",null),u([f({readOnly:!0})],Te.prototype,"contentCollapsed",null),u([f({readOnly:!0})],Te.prototype,"dividedActions",null),u([fe("viewModel.actions")],Te.prototype,"actions",void 0),u([f()],Te.prototype,"actionsMenuOpen",null),u([f()],Te.prototype,"alignment",void 0),u([fe("viewModel.autoCloseEnabled")],Te.prototype,"autoCloseEnabled",void 0),u([fe("viewModel.autoOpenEnabled")],Te.prototype,"autoOpenEnabled",void 0),u([fe("viewModel.defaultPopupTemplateEnabled")],Te.prototype,"defaultPopupTemplateEnabled",void 0),u([fe("viewModel.content")],Te.prototype,"content",void 0),u([f()],Te.prototype,"collapsed",void 0),u([f()],Te.prototype,"collapseEnabled",void 0),u([f({readOnly:!0})],Te.prototype,"currentAlignment",null),u([f({readOnly:!0})],Te.prototype,"currentDockPosition",null),u([f()],Te.prototype,"dockOptions",null),u([f()],Te.prototype,"dockEnabled",void 0),u([fe("viewModel.featureCount")],Te.prototype,"featureCount",void 0),u([f()],Te.prototype,"featureMenuOpen",void 0),u([fe("viewModel.features")],Te.prototype,"features",void 0),u([fe("viewModel.goToOverride")],Te.prototype,"goToOverride",void 0),u([f()],Te.prototype,"headingLevel",void 0),u([fe("viewModel.highlightEnabled")],Te.prototype,"highlightEnabled",void 0),u([fe("viewModel.location")],Te.prototype,"location",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Te.prototype,"label",void 0),u([f()],Te.prototype,"maxInlineActions",void 0),u([f(),tr("esri/widgets/Popup/t9n/Popup")],Te.prototype,"messages",void 0),u([f(),tr("esri/t9n/common")],Te.prototype,"messagesCommon",void 0),u([fe("viewModel.promises")],Te.prototype,"promises",void 0),u([fe("viewModel.selectedFeature")],Te.prototype,"selectedFeature",void 0),u([fe("viewModel.selectedFeatureIndex")],Te.prototype,"selectedFeatureIndex",void 0),u([f({readOnly:!0})],Te.prototype,"selectedFeatureWidget",null),u([f()],Te.prototype,"spinnerEnabled",void 0),u([fe("viewModel.title")],Te.prototype,"title",void 0),u([fe("viewModel.updateLocationEnabled")],Te.prototype,"updateLocationEnabled",void 0),u([fe("viewModel.view")],Te.prototype,"view",void 0),u([f({type:MK}),wJ(["triggerAction","trigger-action"])],Te.prototype,"viewModel",void 0),u([fe("viewModel.visible")],Te.prototype,"visible",void 0),u([f()],Te.prototype,"visibleElements",void 0),u([Ze("visibleElements")],Te.prototype,"castVisibleElements",null),u([Li()],Te.prototype,"_close",null),u([Li()],Te.prototype,"_toggleDockEnabled",null),u([Li()],Te.prototype,"_toggleFeatureMenu",null),u([Li()],Te.prototype,"_toggleActionsMenu",null),u([Li()],Te.prototype,"_triggerAction",null),u([Li()],Te.prototype,"_selectFeature",null),u([Li()],Te.prototype,"_next",null),u([Li()],Te.prototype,"_previous",null),Te=u([E(IK)],Te);const IN=Te,s_=[0,0];function l8e(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return s_[0]=r.left+t.pageXOffset,s_[1]=r.top+t.pageYOffset,s_}function $N(e){e&&(dW(e),e.parentNode&&e.parentNode.removeChild(e))}function c8e(e){const t=document.createElement("div");return e.appendChild(t),t}const lg=16,pv=750,u8e=512,d8e=2,f8e=e=>{let t=class extends e{constructor(...r){super(...r),this._freqInfo={freq:lg,time:pv},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([ee(()=>this.cursor,i=>{const{surface:n}=this;n&&n.setAttribute("data-cursor",i)}),ee(()=>this.interacting,i=>{const{surface:n}=this;n&&n.setAttribute("data-interacting",i.toString())})])}initialize(){this.handles.add(ee(()=>this.ui,(r,i)=>this._handleUIChange(r,i))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(r){const i=this._get("container");if(i===r)return;const n="dom-size";if(this.handles.remove(n),this._stopMeasuring(),i&&(i.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),$N(this.root),this._set("root",null),xO(this.userContent,i),$N(this.userContent),this._set("userContent",null)),r){r.classList.add("esri-view");const s=document.createElement("div");s.className="esri-view-user-storage",xO(r,s),r.appendChild(s),this._set("userContent",s);const a=document.createElement("div");a.className="esri-view-root",r.insertBefore(a,r.firstChild),this._set("root",a);const o=document.createElement("div");o.className="esri-view-surface",o.setAttribute("role","application"),o.tabIndex=0,a.appendChild(o),this._set("surface",o);const l=new RO;a.appendChild(l.surface),this._set("overlay",l),ee(()=>l.needsRender,c=>{c&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=$m({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add(ee(()=>this.size,c=>{const[d,p]=c,h="esri-view-surface--inset-outline";d>=document.body.clientWidth||p>=document.body.clientHeight?o.classList.add(h):o.classList.remove(h)},Ke),n),this._set("container",r),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get popup(){return this._get("popup")||new IN({view:this})}set popup(r){const i=this._get("popup");i&&i!==r&&i.destroy(),this._set("popup",r)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(r,i,n){const s=this.position;return r-=s[0],i-=s[1],n?(n[0]=r,n[1]=i):n=[r,i],n}containerToPage(r,i,n){const s=this.position;return r+=s[0],i+=s[1],n?(n[0]=r,n[1]=i):n=[r,i],n}_handleUIChange(r,i){i&&(this.handles.remove("ui"),i.destroy()),r&&this._wireUI(r),this._set("ui",r)}_wireUI(r){this.handles.remove("ui"),r&&(r.view=this,this.handles.add([ee(()=>this.root,i=>{r.container=i?c8e(i):null},Ke),ee(()=>this.popup,(i,n)=>{const s="popup",a="manual";n&&r.remove(n,s),i&&(i.view=r.view,r.add(i,{key:s,position:a}))},Ke)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=lg,r.time=pv,this.handles.add([(()=>{const i=()=>{r.freq=lg,r.time=pv};return window.addEventListener("resize",i),{remove(){window.removeEventListener("resize",i)}}})(),$m({prepare:i=>{const n=this._measure(),s=this._freqInfo;if(s.time+=i.deltaTime,n&&(s.freq=lg,this._get("resizing")||this._set("resizing",!0)),s.time<s.freq)return;s.time=0;const a=this._position();s.freq=a||n?lg:Math.min(pv,s.freq*d8e),!n&&s.freq>=u8e&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,i=r?r.clientWidth:0,n=r?r.clientHeight:0;if(i===0||n===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,a=this.height;return i===s&&n===a?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",i),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:a,width:i,height:n}),!0)}_position(){const r=this.container,i=this.position,n=l8e(r);return(!i||n[0]!==i[0]||n[1]!==i[1])&&(this._set("position",[n[0],n[1]]),!0)}forceDOMReadyCycle(){}};return u([f({value:null,cast:r=>ak(r)})],t.prototype,"container",null),u([f({readOnly:!0})],t.prototype,"focused",null),u([f({readOnly:!0})],t.prototype,"height",void 0),u([f({type:IN})],t.prototype,"popup",null),u([f({type:RO})],t.prototype,"overlay",void 0),u([f({readOnly:!0})],t.prototype,"position",void 0),u([f({readOnly:!0})],t.prototype,"resizing",void 0),u([f({readOnly:!0})],t.prototype,"root",void 0),u([f({value:null,readOnly:!0})],t.prototype,"size",null),u([f({readOnly:!0})],t.prototype,"surface",void 0),u([f({readOnly:!0})],t.prototype,"suspended",void 0),u([f()],t.prototype,"ui",void 0),u([f({readOnly:!0})],t.prototype,"userContent",void 0),u([f({readOnly:!0})],t.prototype,"width",void 0),u([f()],t.prototype,"widthBreakpoint",void 0),t=u([E("esri.views.DOMContainer")],t),t},p8e=e=>{let t=class extends e{async fetchPopupFeatures(r,i){await this.when();const{location:n,queryArea:s,layerViewsAndGraphics:a,clientOnlyGraphics:o}=await this._prepareFetchPopupFeatures(r,i),l=Promise.resolve(o),c=this._queryLayerPopupFeatures(s,a,i),d=c.map(p=>p.promise);return{location:n,clientOnlyGraphics:o,allGraphicsPromise:qse([l,...d]).then(p=>Array.from(new Set(p.flat()))),promisesPerLayerView:c}}_queryLayerPopupFeatures(r,i,n){return i.map(({layerView:s,graphics:a})=>{const o={clientGraphics:a,event:C(n)?n.event:null,signal:C(n)?n.signal:null,defaultPopupTemplateEnabled:!!C(n)&&!!n.defaultPopupTemplateEnabled},l=s.fetchPopupFeatures(r,o);return{layerView:s,promise:l}})}_isValidPopupGraphic(r,i){return r&&!!r.getEffectivePopupTemplate(C(i)&&i.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(r,i){const{clientGraphics:n,queryArea:s,location:a}=await this._popupHitTestGraphics(r,i),o=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:l,clientOnlyGraphics:c}=this._graphicsPerFetchPopupLayerView(n,o);return{clientOnlyGraphics:c,layerViewsAndGraphics:l,queryArea:s,location:a}}async _popupHitTestGraphics(r,i){const{results:n,mapPoint:s}=await this.popupHitTest(r),a=n.filter(l=>l.type==="graphic"&&this._isValidPopupGraphic(l.graphic,i)),o=a.length?a[0].mapPoint:null;return{clientGraphics:a.map(l=>l.graphic),queryArea:s,location:s||o}}_getFetchPopupLayerViews(){const r=[];return this.allLayerViews.forEach(i=>{this._isValidPopupLayerView(i)&&r.push(i)}),C(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&r.push(this.graphicsView),r.reverse()}_isValidPopupLayerView(r){return C(r)&&(!("layer"in r)||!r.suspended)&&"fetchPopupFeatures"in r}_graphicsPerFetchPopupLayerView(r,i){const n=[],s=new Map,a=i.map(o=>{const l=[];return"layer"in o?s.set(o.layer,l):s.set(o.graphics,l),{layerView:o,graphics:l}});for(const o of r){const l=s.get(o.layer)||s.get(o.sourceLayer)||null;l?l.push(o):n.push(o)}return{layerViewsAndGraphics:a,clientOnlyGraphics:n}}};return t=u([E("esri.views.PopupView")],t),t};ae.getLogger("esri.core.support.OwningCollection");let n1=class extends ll(Se){constructor(e){super(e),this.handles.add([this.on("before-add",t=>{B(t.item)&&t.preventDefault()}),this.on("after-add",t=>this._own(t.item)),this.on("after-remove",t=>this._release(t.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(Se.ofType(this.itemType.Type))(e):new Se(e)}};function TN(e,t){return{type:e,cast:oG,set(r){const i=Mp(r,this._get(t),e);i.owner=this,this._set(t,i)}}}u([f()],n1.prototype,"owner",null),n1=u([E("esri.core.support.OwningCollection")],n1);const h8e=ae.getLogger("esri.support.AnalysesCollection");let u6=class extends n1{constructor(e){super(e),this.handles.add(this.on("before-add",t=>{B(t.item)||t.item.parent===this.owner&&(h8e.warn("Analysis inside the collection must be unique. Not adding this element again."),t.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};u6=u([E("esri.support.AnalysesCollection")],u6);let s1=class extends n1{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};u([rE({Type:vi,ensureType:_r(vi)})],s1.prototype,"itemType",void 0),s1=u([E("esri.support.GraphicsCollection")],s1);let du=class extends ye{constructor(e){super(e),this.view=null,this.baseLayerViews=new Se,this.referenceLayerViews=new Se,this._loadingHandle=ee(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.basemap},t=>{t&&t.load().catch(()=>{})},Ke)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var t,r;if(this.view&&this.view.suspended)return!1;const e=(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.basemap;return!!e&&!!e.loaded&&(this.baseLayerViews.some(i=>i.updating)||this.referenceLayerViews.some(i=>i.updating))}};u([f({constructOnly:!0})],du.prototype,"view",void 0),u([f({readOnly:!0})],du.prototype,"baseLayerViews",void 0),u([f({readOnly:!0})],du.prototype,"referenceLayerViews",void 0),u([f({readOnly:!0})],du.prototype,"suspended",null),u([f({type:Boolean,readOnly:!0})],du.prototype,"updating",null),du=u([E("esri.views.BasemapView")],du);const m8e=ae.getLogger("esri.views.LayerViewManager");class y8e{constructor(t,r,i){this.layer=t,this.view=r,this.layerViewImporter=i,this._controller=new AbortController,this._deferred=yc(),this._started=!1,this.done=!1,ca(this._controller.signal,()=>{const n=new R("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(n)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:t}=this;if(!t)return;const{layer:r,view:i}=this;r.emit("layerview-destroy",{view:i,layerView:t}),i.emit("layerview-destroy",{layer:r,layerView:t}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){var n,s;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:i}=this;this._map=i.map;try{let a,o;if(await r.load({signal:t}),"prefetchResources"in r&&await r.prefetchResources({signal:t}),r.createLayerView)a=await r.createLayerView(i,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new R("layer:view-not-supported","No layerview implementation was found");const d=await this.layerViewImporter.importLayerView(r);Ge(t),a="default"in d?new d.default({layer:r,view:i}):new d({layer:r,view:i})}const l=()=>{o=On(o),a.destroyed||a.destroy(),a.layer=null,a.parent=null,a.view=null,this.done=!0};o=ca(t,l),Ge(t);try{await a.when()}catch(d){throw l(),d}if(!((s=(n=this._map)==null?void 0:n.allLayers)==null?void 0:s.includes(r)))return l(),void this._deferred.reject(new R("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=a,r.emit("layerview-create",{view:i,layerView:a}),i.emit("layerview-create",{layer:r,layerView:a}),this.done=!0,this._deferred.resolve(a)}catch(a){r.emit("layerview-create-error",{view:i,error:a}),i.emit("layerview-create-error",{layer:r,error:a}),this.done=!0,this._deferred.reject(new R("layerview:create-error","layerview creation failed",{layer:r,error:a}))}}}let Bs=class extends V1{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new im,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r;const t=(r=this.view.map)==null?void 0:r.allLayers;if(t)for(const i of t)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>(B(this._workPromise)&&(this._workPromise=yc()),this.handles.remove("reschedule"),this.handles.add(sy(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var s,a,o;const t=this.view.map;if(this._map!==t&&(this.clear(),this._map=t),B(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const r=new Em({getCollections:()=>this._rootCollectionNames.map(l=>this.get(l)),getChildrenFunction:l=>l&&"layers"in l?l.layers:null});if(!r)return this._workPromise.resolve(),void(this._workPromise=null);for(const l of r)this._createLayerView(l);this._refreshCollections();for(const[l,c]of this._layerLayerViewInfoMap)r.includes(l)||(this._layerLayerViewInfoMap.delete(c.layer),c.destroy());const i=r.filter(l=>l.type==="group").map(l=>l.layers),n=[(s=t==null?void 0:t.ground)==null?void 0:s.layers,(a=t==null?void 0:t.basemap)==null?void 0:a.baseLayers,(o=t==null?void 0:t.basemap)==null?void 0:o.referenceLayers,t==null?void 0:t.layers,...i].filter(l=>!!l);this.handles.add(n.map(l=>this._watchUpdatingTracking.addOnCollectionChange(()=>l,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([Fn(()=>{var e,t;return(t=(e=this.view)==null?void 0:e.map)==null?void 0:t.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),ee(()=>{const e=this.view,t=e==null?void 0:e.map;return[t==null?void 0:t.basemap,t==null?void 0:t.ground,t==null?void 0:t.layers,e==null?void 0:e.ready]},()=>this._reschedule(),Gd)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return C(this._workPromise)||this._watchUpdatingTracking.updating||Y6(this._layerLayerViewInfoMap,e=>!e.done)}get updatingRemaining(){let e=0;for(const t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){if(!this.destroyed){for(const e of this._layerLayerViewInfoMap.values())e.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e))throw new R("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});return this._layerLayerViewInfoMap.get(e).promise}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(t),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(e,t,r){if(!e||!t)return void(t&&t.removeAll());let i=0;for(const n of e){const s=this._layerLayerViewInfoMap.get(n);if(!s||!s.layerView)continue;const a=s.layerView;a.layer=n,a.parent=r,t.getItemAt(i)!==a&&t.splice(i,0,a),n.layers&&this._populateLayerViewsOwners(n.layers,a.layerViews,a),i+=1}i<t.length&&t.splice(i,t.length)}_createLayerView(e){if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new y8e(e,this.view,this.layerViewImporter);t.promise.then(()=>this._refreshCollections(),r=>{var i,n;r&&(zi(r)||r.name==="cancelled:layerview-create")||m8e.error(`Failed to create layerview for layer title:'${(i=e.title)!=null?i:"no title"}', id:'${(n=e.id)!=null?n:"no id"}' of type '${e.type}'.`,{layer:e,error:r}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};u([f()],Bs.prototype,"_workPromise",void 0),u([f({readOnly:!0})],Bs.prototype,"_watchUpdatingTracking",void 0),u([f({readOnly:!0})],Bs.prototype,"_layersToLayerViews",null),u([f({readOnly:!0})],Bs.prototype,"_rootCollectionNames",null),u([f()],Bs.prototype,"layerViewImporter",void 0),u([f()],Bs.prototype,"supportsGround",void 0),u([f({readOnly:!0})],Bs.prototype,"updating",null),u([f({readOnly:!0})],Bs.prototype,"updatingRemaining",null),u([f({constructOnly:!0})],Bs.prototype,"view",void 0),Bs=u([E("esri.views.LayerViewManager")],Bs);const g8e=Bs;let Xn=class extends ye{constructor(e){super(e),this.factor=1.5,this.offset=Fi(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};u([f({type:Number})],Xn.prototype,"factor",void 0),u([f({nonNullable:!0})],Xn.prototype,"offset",void 0),u([f()],Xn.prototype,"position",void 0),u([f({type:Number,range:{min:0}})],Xn.prototype,"size",void 0),u([f()],Xn.prototype,"maskUrl",void 0),u([f()],Xn.prototype,"maskEnabled",void 0),u([f()],Xn.prototype,"overlayUrl",void 0),u([f()],Xn.prototype,"overlayEnabled",void 0),u([f({readOnly:!0})],Xn.prototype,"version",null),u([f({type:Boolean})],Xn.prototype,"visible",void 0),Xn=u([E("esri.views.Magnifier")],Xn);const $K=Xn;let n9=class extends ye{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(e){for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,r){return this.running=!0,new Promise((i,n)=>this._tasks.push(new CN(i,n,e,t,r)))}unshift(e,t,r){return this.running=!0,new Promise((i,n)=>this._tasks.unshift(new CN(i,n,e,t,r)))}_process(e){if(this._tasks.length===0)return!1;const t=this._tasks.shift();try{const r=la(t.signal);if(r&&!t.abortCallback)t.reject(Nt());else{const i=r?t.abortCallback(Nt()):t.callback(e);_c(i)?i.then(t.resolve,t.reject):t.resolve(i)}}catch(r){t.reject(r)}return this.running=this._tasks.length>0,!0}cancelAll(){const e=Nt();for(const t of this._tasks)if(t.abortCallback){const r=t.abortCallback(e);t.resolve(r)}else t.reject(e);this._tasks.length=0,this.running=!1}};u([f()],n9.prototype,"running",void 0),n9=u([E("esri.layers.support.PromiseQueue")],n9);class CN{constructor(t,r,i,n,s){this.resolve=t,this.reject=r,this.callback=i,this.signal=n,this.abortCallback=s}}let fb=class extends ye{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};u([f()],fb.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),u([f()],fb.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),fb=u([E("esri.views.support.DebugFlags")],fb);const b8e=new fb,v8e=ae.getLogger("esri.views.support.Scheduler");var We;(function(e){e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="cloud generator",e[e.TEST_PRIO=1]="TEST_PRIO"})(We||(We={}));const Bo=0,EN=new Map([[We.RESOURCE_CONTROLLER,Bo],[We.SLIDE,Bo],[We.STREAM_DATA_LOADER,Bo],[We.ELEVATION_QUERY,Bo],[We.TERRAIN_SURFACE,1],[We.SURFACE_GEOMETRY_UPDATES,1],[We.GRAPHICS_CORE,2],[We.I3S_CONTROLLER,2],[We.POINT_CLOUD_LAYER,2],[We.FEATURE_TILE_FETCHER,2],[We.OVERLAY,4],[We.STAGE,4],[We.GRAPHICS_DECONFLICTOR,4],[We.FILTER_VISIBILITY,4],[We.SCALE_VISIBILITY,4],[We.FRUSTUM_VISIBILITY,4],[We.POINT_OF_INTEREST_FREQUENT,6],[We.POINT_OF_INTEREST_INFREQUENT,30],[We.LABELER,8],[We.FEATURE_QUERY_ENGINE,8],[We.FEATURE_TILE_TREE,16],[We.FEATURE_TILE_TREE_ACTIVE,Bo],[We.ELEVATION_ALIGNMENT,12],[We.TEXT_TEXTURE_ATLAS,12],[We.CLOUDS_GENERATOR,12],[We.TEXTURE_UNLOAD,12],[We.LINE_OF_SIGHT_TOOL,16],[We.LINE_OF_SIGHT_TOOL_INTERACTIVE,Bo],[We.SNAPPING,Bo],[We.SHADOW_ACCUMULATOR,30]]);function kN(e){return EN.has(e)?EN.get(e):typeof e=="number"?e:1}var is;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(is||(is={}));const AN=6.5,LN=1,w8e=30,RN=1e3/30,PN=100,ON=.9;var z$,Pd;(function(e){let t=class extends ye{constructor(){super(),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new Fb("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new i,this._state=is.INTERACTING,this._tasks=new op,this._runQueue=new op,this._load=0,this._idleStateCallbacks=new op,this._idleUpdatesStartFired=!1,this._maxReschedule=hv,this._forceTask=!1,this._debug=!1,this._debugHandle=ee(()=>b8e.SCHEDULER_LOG_SLOW_TASKS,a=>this._debug=a,Ke);for(const a of Object.keys(We))this.performanceInfo.tasks.set(We[a],new Fb(We[a]));let n;const s=this;this._test={get state(){return B6(n,s._state)},set state(a){n=a},FRAME_SAFETY_BUDGET:AN,INTERACTING_BUDGET:RN,IDLE_BUDGET:PN,get availableBudget(){return s._budget.budget},usedBudget:0,getBudget:()=>s._budget,setBudget:a=>s._budget=a,updateTask:a=>this._updateTask(a),getState:a=>this._getState(a),getRuntime:a=>this._getRuntime(a),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(n=>n.remove()),this._tasks.clear(),On(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=hv,this._schedule(),this.frame()))}))}registerTask(n,s){const a=kN(n),o=new r(this,n,s,a);return this._tasks.push(o),this.performanceInfo.tasks.has(n)||this.performanceInfo.tasks.set(n,new Fb(n)),o}registerIdleStateCallbacks(n,s){const a={idleBegin:n,idleEnd:s};this._idleStateCallbacks.push(a),this.state===is.IDLE&&this._idleUpdatesStartFired&&a.idleBegin();const o=this;return{remove:()=>this._removeIdleStateCallbacks(a),set idleBegin(l){o._idleUpdatesStartFired&&(a.idleEnd(),o._state===is.IDLE&&l()),a.idleBegin=l},set idleEnd(l){a.idleEnd=l}}}get load(){return this._load}set state(n){this._state!==n&&(this._state=n,this.state!==is.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(s=>s.idleEnd())))}get state(){return B(this._test.state)?this._state:this._test.state}updateBudget(n){this._test.usedBudget=0;let s=AN,a=n.frameDuration,o=LN;switch(this.state){case is.IDLE:s=0,a=Math.max(PN,n.frameDuration),o=w8e;break;case is.INTERACTING:a=Math.max(RN,n.frameDuration);case is.ANIMATING:}return a=a-n.elapsedFrameTime-s,this.state!==is.IDLE&&a<LN&&!this._forceTask?(this._forceTask=!0,!1):(a=Math.max(a,o),this._budget.reset(a,this.state),this._maxReschedule=hv,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case is.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(n=>n.idleBegin())),this._runIdle();break;case is.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(n){this._idleUpdatesStartFired&&n.idleEnd(),this._idleStateCallbacks.removeUnordered(n)}removeTask(n){this._tasks.removeUnordered(n),this._runQueue.removeUnordered(n)}_updateTask(n){this._tasks.forAll(s=>{s.name===n&&s.setPriority(n)})}_getState(n){if(this._runQueue.some(a=>a.name===n))return Pd.SCHEDULED;let s=Pd.IDLE;return this._tasks.forAll(a=>{a.name===n&&a.needsUpdate&&(a.schedulePriority<=1?s=Pd.READY:s!==Pd.READY&&(s=Pd.WAITING))}),s}_getRuntime(n){let s=0;return this._tasks.forAll(a=>{a.name===n&&(s+=a.runtime)}),s}_resetRuntimes(){this._tasks.forAll(n=>n.runtime=0)}_getRunning(){const n=new Map;if(this._tasks.forAll(a=>{a.needsUpdate&&n.set(a.name,(n.get(a.name)||0)+1)}),n.size===0)return null;let s="";return n.forEach((a,o)=>{s+=a>1?` ${a}x ${o}`:` ${o}`}),s}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const n=this._tasks.reduce((s,a)=>a.needsUpdate?++s:s,0);this._load=this._load*ON+n*(1-ON)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(n=>!!n.needsUpdate||(n.schedulePriority=n.basePriority,!1)),this._tasks.forAll(n=>{n.basePriority===Bo&&n.needsUpdate&&!this._runQueue.includes(n)&&this._runQueue.unshift(n)});this._runQueue.length===0;){let n=!1,s=0;if(this._tasks.forAll(a=>{a.needsUpdate&&a.schedulePriority!==0&&a.basePriority!==Bo&&(n=!0,s=Math.max(s,a.basePriority),a.schedulePriority===1?(a.schedulePriority=0,this._runQueue.push(a)):--a.schedulePriority)}),!n)return this.updating=!1,!1;this._maxReschedule===hv&&(this._maxReschedule=s),--this._maxReschedule}return this.updating=!0,!0}_run(){const n=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const s=this._budget.now(),a=this._runQueue.pop();this._budget.resetProgress();try{a.task.runTask(this._budget)}catch(l){v8e.error(`Exception in task "${a.name}"`,l)}a.schedulePriority=a.basePriority;const o=this._budget.now()-s;if(a.runtime+=o,this._frameTaskTimes.set(a.priority,this._frameTaskTimes.get(a.priority)+o),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",a.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this.updating=this._tasks.some(l=>l.needsUpdate),void this._recordFrameTaskTimes(this._budget.now()-n)}while(this._schedule());this.updating=this._tasks.some(s=>s.needsUpdate),this._recordFrameTaskTimes(this._budget.now()-n)}_startFrameTaskTimes(){for(const n of Object.keys(We))this._frameTaskTimes.set(We[n],0)}_recordFrameTaskTimes(n){this._frameTaskTimes.forEach((s,a)=>this.performanceInfo.tasks.get(a).record(s)),this.performanceInfo.total.record(n)}get test(){return this._test}};u([f()],t.prototype,"updating",void 0),t=u([E("esri.views.support.Scheduler")],t),e.Scheduler=t;let r=class extends ye{constructor(n,s,a,o){super({}),this._scheduler=n,this.name=s,this._basePriority=o,this.runtime=0,this._queue=new n9,this._handles=new hr,this.schedulePriority=this._basePriority,this.task=C(a)?a:this._queue,this._handles.add(Gi(()=>this.task.running,()=>n.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(TK),this._scheduler.removeTask(this),this.schedule=B$.schedule,this.reschedule=B$.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(n){this.name=n;const s=kN(n);this._basePriority!==Bo&&this.schedulePriority===0||(this.schedulePriority=s),this._basePriority=s}get priority(){return this.name}set priority(n){this.setPriority(n)}get needsUpdate(){return this.updating||this.task.running}schedule(n,s,a){return this._queue.push(n,s,a)}reschedule(n,s,a){return this._queue.unshift(n,s,a)}processQueue(n){this._queue.runTask(n)}};u([f({constructOnly:!0})],r.prototype,"task",void 0),u([f({readOnly:!0})],r.prototype,"updating",null),r=u([E("esri.views.support.SchedulerTask")],r);class i{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=is.IDLE,this._didWork=!1,this._enabled=!0}run(s){return!this.done&&(s()===!0&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(s){this._enabled=s}reset(s,a){this._begin=this.now(),this._budget=s,this._state=a,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}e.Budget=i})(z$||(z$={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(Pd||(Pd={}));const TK=(()=>{const e=new z$.Budget;return e.enabled=!1,e})();class _8e{remove(){}processQueue(){}schedule(t,r,i){try{if(la(r)){const n=Nt();return i?Promise.resolve(i(n)):Promise.reject(n)}return e4(t(TK))}catch(n){return Promise.reject(n)}}reschedule(t,r,i){return this.schedule(t,r,i)}}const B$=new _8e,hv=Number.MAX_SAFE_INTEGER;let pb=class extends ye{constructor(e,t){var r;super({}),this._stage=e,this._textureRequests=new Map,this._frameTask=(r=t==null?void 0:t.registerTask(We.TEXTURE_UNLOAD))!=null?r:B$}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(e=>this._releaseTextureRequest(e)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(e,t,r){const i=this.makeUid(e);let n=this._textureRequests.get(i);return n||(n={referenceCount:0,texture:t(),textureAsync:null,abortController:null,onRemove:r},this._stage&&(this._stage.add(n.texture),this._stage.loadImmediate(n.texture)),this._textureRequests.set(i,n)),n.referenceCount++,{uid:i,texture:n.texture,release:()=>this._release(i)}}_release(e){const t=this._textureRequests.get(e);t?(t.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+e),t.referenceCount--,t.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(e))):console.warn(`TextureCollection: texture doesn't exist: '${e}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(e){if(!this._textureRequests)return;const t=this._textureRequests.get(e);!t||t.referenceCount>0||(this._releaseTextureRequest(t),this._textureRequests.delete(e))}_releaseTextureRequest(e){var t;e.onRemove&&e.onRemove(),e.texture?(t=this._stage)==null||t.remove(e.texture):e.abortController&&(e.abortController.abort(),e.abortController=null)}makeUid(e,t=null){return C(t)?`${e}.${t}px`:e}};u([f()],pb.prototype,"_frameTask",void 0),u([f()],pb.prototype,"updating",null),pb=u([E("esri.views.3d.support.TextureCollection")],pb);var FN;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(FN||(FN={}));const CK=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],EK={};function kK(e){return!!EK[e]}function S8e(e){for(const t of e)if(!kK(t))return!1;return!0}CK.forEach(e=>{EK[e]=!0});class x8e{constructor(t){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this.handlers.forEach(({handler:r,priority:i},n)=>this.inputManager.installHandlers(n,[r],i))}disconnect(){this.inputManager&&this.handlers.forEach((t,r)=>this.inputManager.uninstallHandlers(r)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(t,r,i,n){const s=Array.isArray(t)?t:t.split(",");if(!S8e(s))return s.some(kK)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let a,o;Array.isArray(r)?o=r:(a=r,o=[]),typeof i=="function"?a=i:n=i,n=n!=null?n:cd.DEFAULT;const l=this._createUniqueGroupName(),c=new M8e(this.view,s,o,a);this.handlers.set(l,{handler:c,priority:n});for(const d of s){const p=this.handlerCounts.get(d)||0;this.handlerCounts.set(d,p+1)}return this.inputManager&&this.inputManager.installHandlers(l,[c],n),{remove:()=>this._removeHandler(l,s)}}hasHandler(t){return!!this.handlerCounts.get(t)}_removeHandler(t,r){if(this.handlers.has(t)){this.handlers.delete(t);for(const i of r){const n=this.handlerCounts.get(i);n===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",i):n===1?this.handlerCounts.delete(i):this.handlerCounts.set(i,n-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class M8e extends li{constructor(t,r,i,n){super(!0),this.view=t;for(const s of r)switch(s){case"click":this.registerIncoming("click",i,a=>n(this._wrapClick(a)));break;case"double-click":this.registerIncoming("double-click",i,a=>n(this._wrapDoubleClick(a)));break;case"immediate-click":this.registerIncoming("immediate-click",i,a=>n(this._wrapImmediateClick(a)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,a=>n(this._wrapImmediateDoubleClick(a)));break;case"hold":this.registerIncoming("hold",i,a=>n(this._wrapHold(a)));break;case"drag":this.registerIncoming("drag",i,a=>{const o=this._wrapDrag(a);o&&n(o)});break;case"key-down":this.registerIncoming("key-down",i,a=>n(this._wrapKeyDown(a)));break;case"key-up":this.registerIncoming("key-up",i,a=>n(this._wrapKeyUp(a)));break;case"pointer-down":this.registerIncoming("pointer-down",i,a=>n(this._wrapPointer(a,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",i,a=>n(this._wrapPointer(a,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",i,a=>n(this._wrapPointer(a,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,a=>n(this._wrapPointerDrag(a)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,a=>n(this._wrapMouseWheel(a)));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,a=>n(this._wrapPointer(a,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,a=>n(this._wrapPointer(a,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",i,a=>{n(this._wrapGamepad(a))});break;case"focus":this.registerIncoming("focus",i,a=>{n(this._wrapFocus(a))});break;case"blur":this.registerIncoming("blur",i,a=>{n(this._wrapBlur(a))})}}_wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:r,button:i,buttons:n,x:s,y:a,native:o,eventId:l}=t.data,{cancelable:c,timestamp:d}=t;return{type:"click",pointerType:r,button:i,buttons:n,x:s,y:a,native:o,timestamp:d,screenPoint:Fi(s,a),mapPoint:this._getMapPoint(s,a),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:r,button:i,buttons:n,x:s,y:a,native:o,eventId:l}=t.data,{cancelable:c,timestamp:d}=t;return{type:"double-click",pointerType:r,button:i,buttons:n,x:s,y:a,native:o,timestamp:d,mapPoint:this._getMapPoint(s,a),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:r,button:i,buttons:n,x:s,y:a,native:o,eventId:l}=t.data,c=o.pointerId,{cancelable:d,timestamp:p}=t;return{type:"immediate-click",pointerId:c,pointerType:r,button:i,buttons:n,x:s,y:a,native:o,timestamp:p,mapPoint:this._getMapPoint(s,a),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:h=>t.async(h),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:r,button:i,buttons:n,x:s,y:a,native:o,eventId:l}=t.data,c=o.pointerId,{cancelable:d,timestamp:p}=t;return{type:"immediate-double-click",pointerId:c,pointerType:r,button:i,buttons:n,x:s,y:a,native:o,timestamp:p,mapPoint:this._getMapPoint(s,a),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:h=>t.async(h),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:r,button:i,buttons:n,x:s,y:a,native:o}=t.data,{cancelable:l,timestamp:c}=t;return{type:"hold",pointerType:r,button:i,buttons:n,x:s,y:a,native:o,timestamp:c,mapPoint:this._getMapPoint(s,a),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:d=>t.async(d),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,r){return this.view.toMap(Fi(t,r),{exclude:[]})}_wrapDrag(t){const r=t.data,{x:i,y:n}=r.center,{action:s,pointerType:a,button:o}=r;if(s==="start"&&(this.latestDragStart=r),!this.latestDragStart)return;const l=r.pointer.native,c=r.buttons,{cancelable:d,timestamp:p}=t,h={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return s==="end"&&(this.latestDragStart=void 0),{type:"drag",action:s,x:i,y:n,origin:h,pointerType:a,button:o,buttons:c,radius:r.radius,angle:pq(r.angle),native:l,timestamp:p,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapKeyDown(t){const{key:r,repeat:i,native:n}=t.data,{cancelable:s,timestamp:a}=t;return{type:"key-down",key:r,repeat:i,native:n,timestamp:a,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:o=>t.async(o),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:r,native:i}=t.data,{cancelable:n,timestamp:s}=t;return{type:"key-up",key:r,native:i,timestamp:s,cancelable:n,stopPropagation:()=>t.stopPropagation(),async:a=>t.async(a),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,r){const{x:i,y:n,button:s,buttons:a,native:o,eventId:l}=t.data,c=o.pointerId,d=o.pointerType,{cancelable:p,timestamp:h}=t;return{type:r,x:i,y:n,pointerId:c,pointerType:d,button:s,buttons:a,native:o,timestamp:h,eventId:l,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:r,y:i,buttons:n,native:s,eventId:a}=t.data.currentEvent,{button:o}=t.data.startEvent,l=t.data.startEvent.native.pointerId,c=t.data.startEvent.native.pointerType,d=t.data.action,p={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:h,timestamp:m}=t;return{type:"pointer-drag",x:r,y:i,pointerId:l,pointerType:c,button:o,buttons:n,action:d,origin:p,native:s,timestamp:m,eventId:a,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:r,data:i,timestamp:n}=t,{x:s,y:a,deltaY:o,native:l}=i;return{type:"mouse-wheel",x:s,y:a,deltaY:o,native:l,timestamp:n,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:r,state:i,device:n}=t.data,{cancelable:s,timestamp:a}=t,{buttons:o,axes:l}=i;return{type:"gamepad",device:n,timestamp:a,action:r,buttons:o,axes:l,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}}var u2,DN,NN;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(u2||(u2={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(DN||(DN={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(NN||(NN={}));const I8e=ae.getLogger("esri.views.interactive.interactiveToolUtils");function $8e(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return I8e.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.visible=!1,r.active&&(r.view.activeTool=null),r.destroy()})]}function d6(e){return e.visible&&e.getEditableFlag(u2.USER)&&e.getEditableFlag(u2.MANAGER)}function Ro(e){return Fi(e.x,e.y)}function AK(e,t){const r=(e instanceof HTMLElement?e:e.surface).getBoundingClientRect();return Fi(t.clientX-r.left,t.clientY-r.top)}function jN(e,t){return t instanceof Event?AK(e,t):Ro(t)}function VN(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class T8e{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(t,r){const i=()=>t.stopPropagation();switch(t.type){case"pointer-move":zN(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(i(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!BN(t))break;const n=Ro(t),s=this._intersect(n,t.pointerType,r.forEachTool);if(B(s))break;const a=this._findToolAndManipulatorByKey(s,r.forEachTool,mv),o=qo(a,c=>c.manipulator),l=qo(a,c=>c.tool);!(C(o)&&C(l)&&o.interactive)||o.grabbable&&o.grabbableForEvent(t)||!o.grabbing||o.dragging||this._ungrabManipulatorBeforeDragging(o,l,t),C(o)&&o.interactive&&o.grabbable&&o.grabbableForEvent(t)&&!o.grabbing&&(this._grabbedManipulators.set(t.pointerId,{key:s,start:n,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&r.activeTool!==s.tool&&(this._currentlyActiveTool=r.activeTool,this._revertToActiveTool=!0,r.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:n}),i());break}case"pointer-up":this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!BN(t))break;const n=this._grabbedManipulators.get(t.pointerId),s=this._draggedManipulators.get(t.pointerId),a=qo(n||s,({key:d})=>d),o=this._findManipulatorByKey(a,r.forEachTool);if(B(o))break;const l=Ro(t);l.x=zn(l.x,0,r.view.width),l.y=zn(l.y,0,r.view.height);const c=(n||s).start;switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(o.dragging=!0,s?o.events.emit("drag",{action:"update",start:c,screenPoint:l}):o.events.emit("drag",{action:"start",start:c,screenPoint:l,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{key:a,start:c}));break;case"end":o.dragging=!1,s&&o.events.emit("drag",{action:"end",start:c,screenPoint:l}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}i();break}case"immediate-click":{const n=Ro(t),s=this._intersect(n,t.pointerType,r.forEachTool),a=this._findToolAndManipulatorByKey(s,r.forEachTool,mv);if(C8e(t)||r.forEachTool(d=>{if((!C(a)||a.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let p=!1;d.manipulators.forEach(({manipulator:h})=>{h.selected&&(h.selected=!1,p=!0)}),p&&d.manipulatorSelectionChanged&&d.manipulatorSelectionChanged()}}),B(a))break;const{manipulator:o,tool:l}=a;if(!o.interactive)break;o.selectable&&l.automaticManipulatorSelection&&(o.selected=!o.selected,l.manipulatorSelectionChanged&&l.manipulatorSelectionChanged());const c=t.native.shiftKey;o.events.emit("immediate-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:c,stopPropagation:i});break}case"click":{const n=Ro(t),s=this._intersect(n,t.pointerType,r.forEachTool),a=this._findManipulatorByKey(s,r.forEachTool);if(B(a)||!a.interactive)break;const o=t.native.shiftKey;a.events.emit(t.type,{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:o}),i();break}case"double-click":{const n=Ro(t),s=this._intersect(n,t.pointerType,r.forEachTool),a=this._findManipulatorByKey(s,r.forEachTool);if(B(a)||!a.interactive)break;const o=t.native.shiftKey;a.events.emit("double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:o,stopPropagation:i});break}case"immediate-double-click":{const n=Ro(t),s=this._intersect(n,t.pointerType,r.forEachTool),a=this._findManipulatorByKey(s,r.forEachTool);if(B(a)||!a.interactive)break;const o=t.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:o,stopPropagation:i});break}}this._onFocusChange(r.forEachTool)}_ungrabManipulatorBeforeDragging(t,r,i){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Ro(i)}),this._grabbedManipulators.forEach(({key:n},s)=>{n.tool===r&&r.manipulators.findById(n.manipulatorId)===t&&this._grabbedManipulators.delete(s)})}_handlePointerEnd(t,r){const i=qo(this._grabbedManipulators.get(t.pointerId),({key:s})=>s),n=this._findManipulatorByKey(i,r.forEachTool);C(n)&&!n.dragging&&(this._grabbedManipulators.size===1&&this._draggedManipulators.size===0&&this._revertToActiveTool&&(r.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Ro(t)})),this._grabbedManipulators.delete(t.pointerId))}_cursorFromMap(t,r){let i=null;return Y6(t,({key:n})=>{const s=this._findManipulatorByKey(n,r);return!!(C(s)&&s.interactive&&"cursor"in s&&s.cursor)&&(i=s.cursor,!0)}),i}_onFocusChange(t){this._updateCursor(t),this._updateFocusedManipulatorTools(t)}_updateCursor(t){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,t)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,t)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set;this._grabbedManipulators.forEach(({key:{tool:i}})=>{r.add(i)}),this._hoveredManipulators.forEach(({key:{tool:i}})=>{r.add(i)}),t(i=>{i.hasFocusedManipulators=r.has(i)})}clearPointers(t,r,i=!0,n){const s=a=>a.tool===t&&(B(n)||a.manipulatorId===n);this._grabbedManipulators.forEach(({key:a,pointerType:o},l)=>{if(s(a)){this._grabbedManipulators.delete(l);const c=this._findManipulatorByKey(a,r);C(c)&&(c.grabbing=!1,c.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:o}))}}),this._draggedManipulators.forEach(({key:a},o)=>{if(s(a)){this._draggedManipulators.delete(o);const l=this._findManipulatorByKey(a,r);C(l)&&(l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}}),i&&this._hoveredManipulators.forEach(({key:a},o)=>{if(s(a)){this._hoveredManipulators.delete(o);const l=this._findManipulatorByKey(a,r);C(l)&&(l.hovering=!1)}}),this._onFocusChange(r)}_intersect(t,r,i){let n=null;return i(s=>{if(s.manipulators==null||!d6(s))return!1;const a=s.manipulators.intersect(t,r);return!B(a)&&(n={manipulatorId:a.id,tool:s},!0)}),n}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,i)=>{this._updateHoveredStateForPointerAtScreenPosition(Fi(r.x,r.y),i,r.pointerType,t)})}handleHoverEvent(t,r){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!zN(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Ro(t),t.pointerId,t.pointerType,r)}_updateHoveredStateForPointerAtScreenPosition(t,r,i,n){const s=this._intersect(t,i,n);let a=this._findManipulatorByKey(s,n);const o=qo(this._hoveredManipulators.get(r),({key:c})=>c),l=this._findManipulatorByKey(o,n);C(a)&&!a.interactive&&(a=null),l!==a&&(C(l)&&(l.hovering=!1),C(a)?(a.hovering=!0,this._hoveredManipulators.set(r,{key:s})):this._hoveredManipulators.delete(r),this._onFocusChange(n))}_findManipulatorByKey(t,r){return this._findToolAndManipulatorByKey(t,r,mv)?mv.manipulator:null}_findToolAndManipulatorByKey(t,r,i){return B(t)?null:(i.tool=null,i.manipulator=null,r(n=>{if(n!==t.tool||n.manipulators==null||!d6(n))return!1;const s=n.manipulators.findById(t.manipulatorId);return!!C(s)&&(i.manipulator=s,i.tool=n,!0)}),i.manipulator?i:null)}}function zN(e){return e==="mouse"}function BN(e){return e.pointerType!=="mouse"||e.button===0}function C8e(e){return!!e.native.shiftKey}const mv={manipulator:null,tool:null},E8e=ae.getLogger("esri.views.ToolViewManager"),UN="attached",a_="tools";let Dl=class extends V1{constructor(e){super(e),this._manipulatorState=new T8e,this.tools=new Se,this.cursor=null,this._forEachTool=t=>{for(const r of this.tools.items)if(t(r))return}}initialize(){this.handles.add([this.view.on(CK,e=>{this._handleInputEvent(e)},cd.TOOL),...$8e(this.tools),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}set activeTool(e){if(C(e)&&!this.view.ready)return void E8e.error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const t=this.activeTool;this._set("activeTool",e),C(t)&&t.deactivate(),C(e)&&e.activate(),this._removeIncompleteTools(e);const r=B(this.activeTool);for(const i of this.tools){i.setEditableFlag(u2.MANAGER,r||i===this.activeTool);const n=d6(i);!r&&n||this._manipulatorState.clearPointers(i,this._forEachTool,!n)}this._updateCursor()}get updating(){var e,t;return this.updatingHandles.updating||this.tools.some(r=>r.updating)||((t=(e=this.textures)==null?void 0:e.updating)!=null?t:!1)}attach(){this.view.type==="3d"?(this._set("textures",new pb(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([ee(()=>{const{state:e}=this.view;return"camera"in e&&e.camera},()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}),this.view.elevationProvider.on("elevation-change",e=>{this._forEachManipulator(t=>{t.onElevationChange!=null&&t.onElevationChange(e)})}),ry(()=>this._set("textures",Tn(this.textures)))],UN)):this.handles.add(ee(()=>this.view.extent,()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}))}detach(){C(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(UN)}_forEachManipulator(e){this._forEachTool(t=>{t.manipulators&&t.manipulators.forEach(({manipulator:r})=>e(r,t))})}_handleInputEvent(e){let t=!1;const r={...e,stopPropagation:()=>{t=!0,e.stopPropagation()}};C(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r):this._forEachTool(i=>{!t&&i.visible&&i.handleInputEvent(r)}),!t&&e.type==="key-down"&&e.key==="Escape"&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:i=>{this.activeTool=i},view:this.view}),!t&&C(this.activeTool)&&this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(a_),this._forEachTool(e=>{if(e instanceof ye){const t=ee(()=>[e.cursor,e.visible,e.editable],()=>{d6(e)||this._manipulatorState.clearPointers(e,this._forEachTool),this._updateCursor()});this.handles.add(t,a_)}e.manipulators&&this.handles.add(e.manipulators.on("change",t=>{t.removed.forEach(({id:r})=>{this._manipulatorState.clearPointers(e,this._forEachTool,!0,r)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),a_)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){const e=this._manipulatorState.cursor;let t=e;this._forEachTool(r=>!(!C(r.cursor)||!r.visible||!B(e)&&r.preferManipulatorCursor)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(e){this.tools.filter(t=>(B(e)||t!==e)&&!t.created&&t.removeIncompleteOnCancel).forEach(t=>{this.tools.remove(t)})}};u([f({constructOnly:!0,nonNullable:!0})],Dl.prototype,"view",void 0),u([f({readOnly:!0,nonNullable:!0})],Dl.prototype,"textures",void 0),u([f({value:null})],Dl.prototype,"activeTool",null),u([f({readOnly:!0,type:Se})],Dl.prototype,"tools",void 0),u([f({readOnly:!0})],Dl.prototype,"cursor",void 0),u([f({readOnly:!0})],Dl.prototype,"updating",null),Dl=u([E("esri.views.ToolViewManager")],Dl);const k8e=Dl;let Kh=class extends ye{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":A8e.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return L8e[this.deviceType]}};u([f({nonNullable:!0,readOnly:!0})],Kh.prototype,"nativeIndex",void 0),u([f({type:String,readOnly:!0})],Kh.prototype,"deviceType",null),u([f({type:Number,readOnly:!0})],Kh.prototype,"axisThreshold",null),Kh=u([E("esri.views.input.gamepad.GamepadInputDevice")],Kh);const A8e=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),L8e={standard:.15,spacemouse:.025,unknown:0},LA=Kh;let hb=class extends ye{constructor(...e){super(...e),this.devices=new Se,this.enabledFocusMode="document"}};u([f({type:Se.ofType(LA),readOnly:!0})],hb.prototype,"devices",void 0),u([f({type:["document","view","none"]})],hb.prototype,"enabledFocusMode",void 0),hb=u([E("esri.views.input.gamepad.GamepadSettings")],hb);const R8e=hb;let s9=class extends ye{constructor(){super(...arguments),this.gamepad=new R8e}};u([f({readOnly:!0})],s9.prototype,"gamepad",void 0),s9=u([E("esri.views.input.Input")],s9);const P8e=s9;let fu=class extends ye{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};u([f({type:Boolean,nonNullable:!0})],fu.prototype,"enabled",void 0),u([f({type:LA})],fu.prototype,"device",void 0),u([f({type:["pan","zoom"],nonNullable:!0})],fu.prototype,"mode",void 0),u([f({type:["forward-down","forward-up"],nonNullable:!0})],fu.prototype,"tiltDirection",void 0),u([f({type:Number,nonNullable:!0})],fu.prototype,"velocityFactor",void 0),fu=u([E("esri.views.navigation.gamepad.GamepadSettings")],fu);const LK=fu;let wf=class extends ye{constructor(e){super(e),this.browserTouchPanEnabled=!0,this.gamepad=new LK,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};u([f({type:Boolean})],wf.prototype,"browserTouchPanEnabled",void 0),u([f({type:LK,nonNullable:!0})],wf.prototype,"gamepad",void 0),u([f({type:Boolean})],wf.prototype,"momentumEnabled",void 0),u([f({type:Boolean})],wf.prototype,"mouseWheelZoomEnabled",void 0),wf=u([E("esri.views.navigation.Navigation")],wf);const RK=wf;var GN;function O8e(e){const t=e.url&&Hm(e.url);return!((e.spatialReference&&e.spatialReference.vcsWkid)==null&&C(t)&&t.serverType==="ImageServer")&&PK(e)&&e.heightModelInfo?e.heightModelInfo:F8e(e)?Zw.deriveUnitFromSR(N8e,e.spatialReference):null}function PK(e){return"heightModelInfo"in e}function OK(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function F8e(e){return OK(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):FK(e)}function D8e(e){return e.layers!=null||FK(e)||OK(e)||PK(e)}function FK(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"line-of-sight":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(GN||(GN={}));const N8e=new Zw({heightModel:"gravity-related-height"});var vc;function qN(e){return e===vc.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(vc||(vc={}));let U$,o_=null;async function j8e(e){o_||(o_=Y(()=>import("./geometryServiceUtils.973d9199.js"),[],import.meta.url).then(t=>U$=t)),await o_,Ge(e)}async function DK(e,t,r,i){if(!e)return null;const n=e.spatialReference;return gd()||gc(n,t)?yy(e,t):U$?U$.projectGeometry(e,t,r,i):(await Promise.race([j8e(i),bd(i)]),DK(e,t,r,i))}let _t=class extends ye{constructor(e){super(e),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=W9(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return C(this.userSpatialReference)?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return B(this.userSpatialReference)||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,i,n,s;const e=(r=this.map)==null?void 0:r.call(this),t=[];return C(this.priorityCollection)&&t.push(this.priorityCollection),t.push({parent:e==null?void 0:e.basemap,layers:(i=e==null?void 0:e.basemap)==null?void 0:i.baseLayers},{layers:e==null?void 0:e.layers},{parent:e==null?void 0:e.ground,layers:(n=e==null?void 0:e.ground)==null?void 0:n.layers},{parent:e==null?void 0:e.basemap,layers:(s=e==null?void 0:e.basemap)==null?void 0:s.referenceLayers}),t}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){var n;if(this.suspended)return(n=this._get("_spatialReferenceTask"))!=null?n:{updating:!1};const{layers:e,updating:t}=this._allLayers;let r=null;for(const s of e){const a=this._getSupportedSpatialReferences(s);if(a.length>0){const o=this._narrowDownSpatialReferenceCandidates(r,a);C(o)&&(r=o)}if(C(r)&&r.length===1)break}if(t&&(B(r)||r.length!==1))return{updating:!0};const i=this._pickSpatialReferenceCandidate(r);return{spatialReference:C(i)?i.spatialReference:null,viewingMode:C(i)?i.viewingMode:null,updating:!1}}get _tileInfoTask(){var r,i,n,s,a,o,l,c;if(!this.required.tileInfo)return(r=this._get("_tileInfoTask"))!=null?r:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:e,updating:t}=this._collectLayers([{parent:(n=(i=this.map)==null?void 0:i.call(this))==null?void 0:n.basemap,layers:(o=(a=(s=this.map)==null?void 0:s.call(this))==null?void 0:a.basemap)==null?void 0:o.baseLayers},{layers:(c=(l=this.map)==null?void 0:l.call(this))==null?void 0:c.layers}]);if(e&&e.length>0&&"tileInfo"in e[0]){const d=e[0].tileInfo;return{tileInfo:d&&d.spatialReference.equals(this.spatialReference)?d:null,updating:!1}}return{updating:t}}get _heightModelInfoTask(){var r,i,n,s;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))==null?void 0:r.heightModelInfo))return(i=this._get("_heightModelInfoTask"))!=null?i:{updating:!1};const{layers:e,updating:t}=this._allLayers;for(const a of e)if(D8e(a)){const o=O8e(a);if(o)return{heightModelInfo:o,vcsWkid:(n=a.spatialReference)==null?void 0:n.vcsWkid,latestVcsWkid:(s=a.spatialReference)==null?void 0:s.latestVcsWkid,updating:!1}}return{updating:t}}get _extentCandidatesTask(){var i,n;if(this.suspended||!this.required.extent)return(i=this._get("_extentCandidatesTask"))!=null?i:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=this._allLayers,t=e.updating,r=[];for(const s of e.layers){const a="fullExtents"in s&&s.fullExtents||(C(s.fullExtent)?[s.fullExtent]:[]),o=this.requiresExtentInSpatialReference?null:a[0],l=(n=a.find(c=>c.spatialReference.equals(this.spatialReference)))!=null?n:o;if(l)return{candidates:[{extent:l,layer:s}],updating:!1};if(this._getSupportedSpatialReferences(s).length>0)for(const c of a)r.push({extent:c,layer:s})}return{candidates:r,updating:t}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if(B(e)||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(e),i=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&i.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:C(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:(C(this._projectExtentTask.task)&&(this._projectExtentTask.task=W9(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:i.clone(),task:RU(async n=>{try{const s=await DK(r.extent,i,r.layer.portalItem,n);this._projectExtentTask={...this._projectExtentTask,task:null,output:s}}catch{if(la(n))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if(B(e))return t;const r=[],i=(n,s)=>C(n)?C(s)?n===s&&n:n:s;for(const n of e)for(const s of t){if(!n.spatialReference.equals(s.spatialReference))continue;const a=i(n.viewingMode,s.viewingMode);if(a!==!1){r.push({spatialReference:n.spatialReference,viewingMode:a});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return B(e)||e.length<1?C(t)?{spatialReference:t,viewingMode:null}:null:(C(t)&&e.length>1&&e.some(({spatialReference:r})=>r.equals(t))&&(e=e.filter(({spatialReference:r})=>r.equals(t))),e.length>1&&e.some(({viewingMode:r})=>r!==vc.Local)&&(e=e.filter(({viewingMode:r})=>r!==vc.Local)),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(t.length===0)return[];const r=[];for(const i of t){const n=this.getSpatialReferenceSupport({spatialReference:i,layer:e});if(C(n)){const s=C(n.constraints)?n.constraints:[{spatialReference:i,viewingMode:null}];for(const{spatialReference:a,viewingMode:o}of s)(!this.requiresExtentInSpatialReference||B(this.userSpatialReference)||a.equals(this.userSpatialReference))&&r.push({spatialReference:a,viewingMode:o})}}return r}_pickExtentCandidate(e){const t=this.spatialReference;return e.find(({extent:r})=>t.equals(r.spatialReference))||e[0]}_collectLayers(e){var r;if(this._loadMaybe((r=this.map)==null?void 0:r.call(this))!=="loaded")return{layers:[],updating:!0};const t={layers:[],preloading:-1,updating:!1};for(const i of e)if(this._collectCollection(i,t),t.preloading===this.sourcePreloadCount)break;return{layers:t.layers,updating:t.updating}}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const r of e.layers){switch(this._loadMaybe(r)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":t.updating||t.layers.push(r),"layers"in r&&this._collectCollection({layers:r.layers},t)}if(t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e?e.loadStatus==="not-loaded"?(e.load(),"loading"):e.loadStatus:"loaded"}};u([f()],_t.prototype,"required",void 0),u([f({constructOnly:!0})],_t.prototype,"map",void 0),u([f({constructOnly:!0})],_t.prototype,"getSpatialReferenceSupport",void 0),u([f()],_t.prototype,"defaultSpatialReference",void 0),u([f()],_t.prototype,"userSpatialReference",void 0),u([f()],_t.prototype,"sourcePreloadCount",void 0),u([f()],_t.prototype,"priorityCollection",void 0),u([f()],_t.prototype,"requiresExtentInSpatialReference",void 0),u([f()],_t.prototype,"suspended",void 0),u([f({readOnly:!0})],_t.prototype,"ready",null),u([f({readOnly:!0})],_t.prototype,"heightModelInfoReady",null),u([f({readOnly:!0})],_t.prototype,"spatialReference",null),u([f({readOnly:!0})],_t.prototype,"extent",null),u([f({readOnly:!0})],_t.prototype,"heightModelInfo",null),u([f({readOnly:!0})],_t.prototype,"vcsWkid",null),u([f({readOnly:!0})],_t.prototype,"latestVcsWkid",null),u([f({readOnly:!0})],_t.prototype,"viewingMode",null),u([f({readOnly:!0})],_t.prototype,"tileInfo",null),u([f({readOnly:!0})],_t.prototype,"mapCollections",null),u([f({readOnly:!0})],_t.prototype,"_allLayers",null),u([f({readOnly:!0})],_t.prototype,"_spatialReferenceTask",null),u([f({readOnly:!0})],_t.prototype,"_tileInfoTask",null),u([f({readOnly:!0})],_t.prototype,"_heightModelInfoTask",null),u([f({readOnly:!0})],_t.prototype,"_extentCandidatesTask",null),u([f()],_t.prototype,"_extentTask",null),u([f()],_t.prototype,"_projectExtentTask",void 0),_t=u([E("esri.views.support.DefaultsFromMap")],_t);var a9;const yv=ae.getLogger("esri.views.View");let ke=a9=class extends ll(Sc.EventedMixin(C2(ye))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new Em({getCollections:()=>{var t,r,i;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:t=>t.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new s1,this.analyses=new u6,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Se,this.magnifier=new $K,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new P8e,this.navigation=new RK,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new x8e(this),this.persistableViewModels=new Se,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(ee(()=>this.preconditionsReady,t=>{var r,i;t?(this._currentSpatialReference=this.spatialReference,a9.views.add(this)):(this._currentSpatialReference=null,a9.views.remove(this)),this.notifyChange("spatialReference"),!t&&this.ready?((r=this.layerViewManager)==null||r.clear(),(i=this.toolViewManager)==null||i.detach(),C(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):t&&!this.ready&&(this._startup(),C(this.analysisViewManager)&&this.analysisViewManager.attach(),this.toolViewManager.attach())},Cm))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,Xa(()=>this.ready)))),this.basemapView=new du({view:this}),this.layerViewManager=new g8e({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new k8e({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([ee(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},{sync:!0,initial:!0}),ee(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},{sync:!0}),ee(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let e=null;this.handles.add([ee(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var i;const r=((i=this.map)==null?void 0:i.allLayers.length)>0;if(t&&!this.spatialReference&&r){if(C(e))return;const n=ry(()=>e=W9(e));e=RU(async s=>{try{await YC(this.spatialReferenceWarningDelay,null,s)}catch{return}finally{e=null}yv.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(n,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Tn(this.graphics),this.analyses=Tn(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Tn(this.analysisViewManager),this.toolViewManager=Tn(this.toolViewManager),this.layerViewManager=Tn(this.layerViewManager),this.basemapView=Tn(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,e==null||e.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return yv.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new _t({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e),...this._defaultsFromMapSettings})}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||jn.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(yv.warn("#map","The provided map is already destroyed",{map:e}),e=null),jn.isLoadable(e)&&e.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e))}get spatialReference(){var t,r;let e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&((r=(t=this.defaultsFromMap)==null?void 0:t.required)==null?void 0:r.heightModelInfo)&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){const t=!bi(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return C(e)?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e,t,r;return(r=(t=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)!=null?t:(e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)!=null?r:null}importLayerView(e){throw new R("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return C(this.getSpatialReferenceSupport({spatialReference:e}))}when(e,t){return this.isResolved()&&!this.ready&&yv.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(Gi(()=>this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};ke.views=new Se,u([f()],ke.prototype,"_userSpatialReference",void 0),u([fe("toolViewManager.activeTool")],ke.prototype,"activeTool",void 0),u([f({readOnly:!0})],ke.prototype,"allLayerViews",void 0),u([f()],ke.prototype,"groundView",void 0),u([f()],ke.prototype,"animation",void 0),u([f()],ke.prototype,"basemapView",void 0),u([f({readOnly:!0})],ke.prototype,"_defaultsFromMapSettings",null),u([f()],ke.prototype,"defaultsFromMap",null),u([f()],ke.prototype,"fatalError",void 0),u([f({type:Ve})],ke.prototype,"extent",void 0),u([f(TN(s1,"graphics"))],ke.prototype,"graphics",void 0),u([f(TN(u6,"analyses"))],ke.prototype,"analyses",void 0),u([f({readOnly:!0,type:Zw})],ke.prototype,"heightModelInfo",null),u([f({readOnly:!0})],ke.prototype,"interacting",null),u([f({readOnly:!0})],ke.prototype,"navigating",void 0),u([f({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ke.prototype,"preconditionsReady",null),u([f({readOnly:!0})],ke.prototype,"typeSpecificPreconditionsReady",void 0),u([f({type:Se,readOnly:!0})],ke.prototype,"layerViews",void 0),u([f({type:$K})],ke.prototype,"magnifier",void 0),u([f({value:null,type:Oq})],ke.prototype,"map",null),u([f()],ke.prototype,"padding",void 0),u([f({readOnly:!0})],ke.prototype,"ready",void 0),u([f({type:Ce})],ke.prototype,"spatialReference",null),u([f()],ke.prototype,"spatialReferenceWarningDelay",void 0),u([f()],ke.prototype,"stationary",null),u([f({readOnly:!0})],ke.prototype,"supportsGround",void 0),u([f({type:$s})],ke.prototype,"timeExtent",void 0),u([fe("toolViewManager.tools")],ke.prototype,"tools",void 0),u([f()],ke.prototype,"toolViewManager",void 0),u([f({readOnly:!0})],ke.prototype,"type",void 0),u([f({type:Number})],ke.prototype,"scale",void 0),u([f({readOnly:!0})],ke.prototype,"updating",void 0),u([f({readOnly:!0})],ke.prototype,"initialExtentRequired",void 0),u([f({readOnly:!0})],ke.prototype,"initialExtent",null),u([f()],ke.prototype,"cursor",null),u([f({readOnly:!0})],ke.prototype,"input",void 0),u([f({type:RK,nonNullable:!0})],ke.prototype,"navigation",void 0),u([f()],ke.prototype,"layerViewManager",void 0),u([f()],ke.prototype,"analysisViewManager",void 0),u([f()],ke.prototype,"width",void 0),u([f()],ke.prototype,"height",void 0),u([f({readOnly:!0})],ke.prototype,"resizing",void 0),u([f({value:null,readOnly:!0})],ke.prototype,"size",null),u([f({readOnly:!0})],ke.prototype,"suspended",void 0),u([f({readOnly:!0})],ke.prototype,"viewEvents",void 0),u([f({readOnly:!0})],ke.prototype,"persistableViewModels",void 0),u([f()],ke.prototype,"_isValid",void 0),u([f()],ke.prototype,"_readyCycleForced",void 0),u([f()],ke.prototype,"_currentSpatialReference",void 0),ke=a9=u([E("esri.views.View")],ke);const V8e=ke;let pu=class extends u4{constructor(e){super(e),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((e,t)=>this._dfd={resolve:e,reject:t}))}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._dfd.reject(new R("ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._dfd.resolve())}update(e,t){t||(t=_c(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};u([f({readOnly:!0})],pu.prototype,"done",null),u([f({readOnly:!0,type:String})],pu.prototype,"state",void 0),u([f()],pu.prototype,"target",void 0),pu=u([E("esri.views.ViewAnimation")],pu),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(pu||(pu={}));const G$=pu;function Vf(e,t,r,i){const n=3*e,s=3*(r-e)-n,a=1-n-s,o=3*t,l=3*(i-t)-o,c=1-o-l;function d(g){return((a*g+s)*g+n)*g}function p(g){return((c*g+l)*g+o)*g}function h(g){return(3*a*g+2*s)*g+n}function m(g,b){let w,v,_,S,x,M;for(_=g,M=0;M<8;M++){if(S=d(_)-g,Math.abs(S)<b)return _;if(x=h(_),Math.abs(x)<1e-6)break;_-=S/x}if(w=0,v=1,_=g,_<w)return w;if(_>v)return v;for(;w<v;){if(S=d(_),Math.abs(S-g)<b)return _;g>S?w=_:v=_,_=.5*(v-w)+w}return _}return function(g,b=1e-6){return p(m(g,b))}}const z8e=/^cubic-bezier\((.*)\)/,Js={};function B8e(e){let t=Js[e]||null;if(!t){const r=z8e.exec(e);if(r){const i=r[1].split(",").map(n=>parseFloat(n.trim()));i.length!==4||i.some(n=>isNaN(n))||(t=Vf.apply(Vf,i))}}return t}Js.ease=Vf(.25,.1,.25,1),Js.linear=Vf(0,0,1,1),Js.easeIn=Js["ease-in"]=Vf(.42,0,1,1),Js.easeOut=Js["ease-out"]=Vf(0,0,.58,1),Js.easeInOut=Js["ease-in-out"]=Vf(.42,0,.58,1);function ud(){return[1,0,0,1,0,0]}function U8e(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function G8e(e,t,r,i,n,s){return[e,t,r,i,n,s]}function q8e(e,t){return new Float64Array(e,t,6)}Object.freeze(Object.defineProperty({__proto__:null,create:ud,clone:U8e,fromValues:G8e,createView:q8e},Symbol.toStringTag,{value:"Module"}));function d2(e,t){return e[0]=t[0],e[1]=t[1],e}function ii(e,t,r){return e[0]=t,e[1]=r,e}function NK(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function f2(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function jK(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function VK(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function H8e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function W8e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function J8e(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function Z8e(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function Q8e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Q2(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function Y8e(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e}function Y2(e,t){const r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function f6(e,t){const r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function p6(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function zK(e){const t=e[0],r=e[1];return t*t+r*r}function BK(e,t){return e[0]=-t[0],e[1]=-t[1],e}function K8e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function q$(e,t){const r=t[0],i=t[1];let n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function UK(e,t){return e[0]*t[0]+e[1]*t[1]}function GK(e,t,r){const i=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=i,e}function X8e(e,t,r,i){const n=t[0],s=t[1];return e[0]=n+i*(r[0]-n),e[1]=s+i*(r[1]-s),e}function e7e(e,t){t=t||1;const r=2*Vu()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function t7e(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n,e[1]=r[1]*i+r[3]*n,e}function Uo(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n+r[4],e[1]=r[1]*i+r[3]*n+r[5],e}function r7e(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[3]*n+r[6],e[1]=r[1]*i+r[4]*n+r[7],e}function i7e(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[4]*n+r[12],e[1]=r[1]*i+r[5]*n+r[13],e}function n7e(e,t,r,i){const n=t[0]-r[0],s=t[1]-r[1],a=Math.sin(i),o=Math.cos(i);return e[0]=n*o-s*a+r[0],e[1]=n*a+s*o+r[1],e}function s7e(e,t){const r=e[0],i=e[1],n=t[0],s=t[1];let a=r*r+i*i;a>0&&(a=1/Math.sqrt(a));let o=n*n+s*s;o>0&&(o=1/Math.sqrt(o));const l=(r*n+i*s)*a*o;return l>1?0:l<-1?Math.PI:Math.acos(l)}function a7e(e){return"vec2("+e[0]+", "+e[1]+")"}function o7e(e,t){return e[0]===t[0]&&e[1]===t[1]}function l7e(e,t){const r=e[0],i=e[1],n=t[0],s=t[1];return Math.abs(r-n)<=Oe*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(i-s)<=Oe*Math.max(1,Math.abs(i),Math.abs(s))}function c7e(e,t,r,i,n){let s=t[0]-r[0],a=t[1]-r[1];const o=(i[0]*s+i[1]*a)*(n-1);return s=i[0]*o,a=i[1]*o,e[0]=t[0]+s,e[1]=t[1]+a,e}const u7e=p6,RA=f2,d7e=jK,f7e=VK,p7e=Y2,h7e=f6,m7e=zK;Object.freeze(Object.defineProperty({__proto__:null,copy:d2,set:ii,add:NK,subtract:f2,multiply:jK,divide:VK,ceil:H8e,floor:W8e,min:J8e,max:Z8e,round:Q8e,scale:Q2,scaleAndAdd:Y8e,distance:Y2,squaredDistance:f6,length:p6,squaredLength:zK,negate:BK,inverse:K8e,normalize:q$,dot:UK,cross:GK,lerp:X8e,random:e7e,transformMat2:t7e,transformMat2d:Uo,transformMat3:r7e,transformMat4:i7e,rotate:n7e,angle:s7e,str:a7e,exactEquals:o7e,equals:l7e,projectAndScale:c7e,len:u7e,sub:RA,mul:d7e,div:f7e,dist:p7e,sqrDist:h7e,sqrLen:m7e},Symbol.toStringTag,{value:"Module"}));function pr(){return[0,0]}function y7e(e){return[e[0],e[1]]}function K2(e,t){return[e,t]}function g7e(e){const t=pr(),r=Math.min(2,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function b7e(e,t){return new Float64Array(e,t,2)}function qK(){return pr()}function HK(){return K2(1,1)}function WK(){return K2(1,0)}function JK(){return K2(0,1)}const v7e=qK(),w7e=HK(),_7e=WK(),S7e=JK();Object.freeze(Object.defineProperty({__proto__:null,create:pr,clone:y7e,fromValues:K2,fromArray:g7e,createView:b7e,zeros:qK,ones:HK,unitX:WK,unitY:JK,ZEROS:v7e,ONES:w7e,UNIT_X:_7e,UNIT_Y:S7e},Symbol.toStringTag,{value:"Module"}));const ZK=96,QK=39.37,x7e=180/Math.PI;function YK(e){return e.wkid?e:e.spatialReference||Ce.WGS84}function PA(e,t){return t.type?ii(e,t.x,t.y):d2(e,t)}function KK(e){return Mc(e)}function a1(e,t){const r=Math.max(1,t[0]),i=Math.max(1,t[1]);return Math.max(e.width/r,e.height/i)*L7e(e.spatialReference)}async function mb(e,t,r,i){let n,s;if(!e||Array.isArray(e)&&!e.length)return null;if(Se.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const o=e.every(d=>"attributes"in d),l=e.some(d=>!d.geometry);let c=e;if(o&&l&&t&&t.allLayerViews){const d=new Map;for(const g of e){const b=g.layer,w=d.get(b)||[],v=g.attributes[b.objectIdField];v!=null&&w.push(v),d.set(b,w)}const p=[];d.forEach((g,b)=>{const w=t.allLayerViews.find(v=>v.layer.id===b.id);if("queryFeatures"in w){const v=b.createQuery();v.objectIds=g,v.returnGeometry=!0,p.push(w.queryFeatures(v))}});const h=await Promise.all(p),m=[];for(const g of h)if(g&&g.features&&g.features.length)for(const b of g.features)C(b.geometry)&&m.push(b.geometry);c=m}for(const d of c)i=await mb(d,t,r,i);return i}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")n=new be(e);else if(e instanceof Vn)n=e;else if("geometry"in e){if(e.geometry)n=e.geometry;else if(e.layer){const o=e.layer,l=t.allLayerViews.find(c=>c.layer.id===o.id);if("queryFeatures"in l){const c=o.createQuery();c.objectIds=[e.attributes[o.objectIdField]],c.returnGeometry=!0;const d=await l.queryFeatures(c);n=UC(d,"features",0,"geometry")}}}if(B(n)||(s=n.type==="point"?new Ve({xmin:n.x,ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference}):n.extent,!s))return null;gd()||gc(s.spatialReference,r)||await bd();const a=yy(s,r);return a?i=i?i.union(a):a:null}function M7e(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,r=0;for(const i of e){const n=i.layer;n&&n.minScale&&n.maxScale&&(t=n.minScale<t?n.minScale:t,r=n.maxScale>r?n.maxScale:r)}return t&&r?{min:t,max:r}:null}}}function l_(e,t){return bi(YK(e),t)?e:yy(e,t)}async function I7e(e,t){if(!e||!t)return new so({targetGeometry:new be,scale:0,rotation:0});let r=t.spatialReference;const{constraints:i,padding:n,viewpoint:s,size:a}=t,o=[n?a[0]-n.left-n.right:a[0],n?a[1]-n.top-n.bottom:a[1]];let l=null;e instanceof so?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let c=null;l&&l.targetGeometry?c=l.targetGeometry:e instanceof Ve?c=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(c=await mb(e.center,t,r)||await mb(e.extent,t,r)||await mb(e.target,t,r)||await mb(e,t,r)),!c&&s&&s.targetGeometry?c=s.targetGeometry:!c&&t.extent&&(c=t.extent),r||(r=YK(t.spatialReference||t.extent||c)),gd()||bi(c.spatialReference,r)||gc(c,r)||await bd();const d=l_(c.center?c.center:c,r);let p=null;if(l&&C(l.targetGeometry)&&l.targetGeometry.type==="point")p=l.scale;else if("scale"in e&&e.scale)p=e.scale;else if("zoom"in e&&e.zoom!==-1&&i&&i.effectiveLODs)p=i.zoomToScale(e.zoom);else if(Array.isArray(c)||c.type==="point"||c.type==="extent"&&c.width===0&&c.height===0){const b=l_(t.extent,r);p=C(b)?a1(b,o):t.extent?a1(t.extent,o):s.scale}else p=a1(l_(c.extent,r),o);const h=M7e(e);h&&(h.min&&h.min>p?p=h.min:h.max&&h.max<p&&(p=h.max));let m=0;l?m=l.rotation:e.hasOwnProperty("rotation")?m=e.rotation:s&&(m=s.rotation);let g=new so({targetGeometry:d,scale:p,rotation:m});return i&&(g=i.fit(g),i.constrainByGeometry(g),i.rotationEnabled||(g.rotation=m)),g}function ho(e,t){const r=e.targetGeometry,i=t.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function $7e(e,t,r){return r?ii(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):Q2(e,t,.5)}const T7e=function(){const e=pr();return function(t,r,i){const n=r.targetGeometry;PA(e,n);const s=.5*ky(r);return t.xmin=e[0]-s*i[0],t.ymin=e[1]-s*i[1],t.xmax=e[0]+s*i[0],t.ymax=e[1]+s*i[1],t.spatialReference=n.spatialReference,t}}();function C7e(e,t,r,i,n){return H$(e,t,r.center),e.scale=a1(r,i),n&&n.constraints&&n.constraints.constrain(e),e}function E7e(e,t,r,i){return DA(e,t,r,i),$A(e,e)}const XK=function(){const e=pr();return function(t,r,i){return RA(t,R7e(t,r),$7e(e,r,i))}}(),k7e=function(){const e=ud(),t=pr();return function(r,i,n,s){const a=ky(i),o=OA(i);return ii(t,a,a),fK(e,t),J2(e,e,o),Wm(e,e,XK(t,n,s)),Wm(e,e,[0,s.top-s.bottom]),ii(r,e[4],e[5])}}();function ky(e){return e.scale*A7e(e.targetGeometry)}function A7e(e){return C(e)&&Ui(e.spatialReference)?1/(KK(e.spatialReference)*QK*ZK):1}function OA(e){return _E(e.rotation)||0}function L7e(e){return Ui(e)?KK(e)*QK*ZK:1}function R7e(e,t){return Q2(e,t,.5)}const FA=function(){const e=pr(),t=pr(),r=pr();return function(i,n,s,a,o,l){return BK(e,n),Q2(t,s,.5*l),ii(r,1/a*l,-1/a*l),TA(i,t),o&&J2(i,i,o),Xw(i,i,r),Wm(i,i,e),i}}(),DA=function(){const e=pr();return function(t,r,i,n){const s=ky(r),a=OA(r);return PA(e,r.targetGeometry),FA(t,e,i,s,a,n)}}(),P7e=function(){const e=pr();return function(t,r,i,n){const s=ky(r);return PA(e,r.targetGeometry),FA(t,e,i,s,0,n)}}();function O7e(e){const t=ys(e);return t?t.valid[1]-t.valid[0]:0}function F7e(e,t){return Math.round(O7e(e)/t)}const D7e=function(){const e=pr(),t=pr(),r=[0,0,0];return function(i,n,s){f2(e,i,n),q$(e,e),f2(t,i,s),q$(t,t),GK(r,e,t);let a=Math.acos(UK(e,t)/(p6(e)*p6(t)))*x7e;return r[2]<0&&(a=-a),isNaN(a)&&(a=0),a}}(),N7e=function(){const e=pr();return function(t,r,i,n){const s=t.targetGeometry;return ho(t,r),k7e(e,r,i,n),s.x+=e[0],s.y+=e[1],t}}(),H$=function(e,t,r){ho(e,t);const i=e.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e},j7e=function(){const e=pr();return function(t,r,i,n,s){s||(s="center"),RA(e,i,n),Q2(e,e,.5);const a=e[0],o=e[1];switch(s){case"center":ii(e,0,0);break;case"left":ii(e,-a,0);break;case"top":ii(e,0,o);break;case"right":ii(e,a,0);break;case"bottom":ii(e,0,-o);break;case"top-left":ii(e,-a,o);break;case"bottom-left":ii(e,-a,-o);break;case"top-right":ii(e,a,o);break;case"bottom-right":ii(e,a,-o)}return r8(t,r,e),t}}();function pPe(e,t,r){return ho(e,t),e.rotation+=r,e}function V7e(e,t,r){return ho(e,t),e.rotation=r,e}const z7e=function(){const e=pr();return function(t,r,i,n,s){return ho(t,r),isNaN(i)||i===0||(tX(e,n,r,s),t.scale=r.scale*i,rX(e,e,t,s),r8(t,t,ii(e,e[0]-n[0],n[1]-e[1]))),t}}();function HN(e,t,r){return ho(e,t),e.scale=r,e}const eX=function(){const e=pr();return function(t,r,i,n,s,a){return ho(t,r),isNaN(i)||i===0||(tX(e,s,r,a),t.scale=r.scale*i,t.rotation+=n,rX(e,e,t,a),r8(t,t,ii(e,e[0]-s[0],s[1]-e[1]))),t}}(),hPe=function(){const e=pr(),t=pr();return function(r,i,n,s,a,o,l){return XK(t,o,l),NK(e,a,t),s?eX(r,i,n,s,e,o):z7e(r,i,n,e,o)}}(),tX=function(){const e=ud();return function(t,r,i,n){return Uo(t,r,E7e(e,i,n,1))}}(),rX=function(){const e=ud();return function(t,r,i,n){return Uo(t,r,DA(e,i,n,1))}}(),r8=function(){const e=pr(),t=ud();return function(r,i,n){ho(r,i);const s=ky(i),a=r.targetGeometry;return dK(t,OA(i)),Xw(t,t,K2(s,s)),Uo(e,n,t),a.x+=e[0],a.y+=e[1],r}}();class B7e{constructor(t,r,i,n){const s=t.targetGeometry,a=r.targetGeometry;n?typeof n=="string"&&(n=B8e(n)||Js.ease):n=Js.ease,this.easing=n,this.duration=i,this.sCenterX=s.x,this.sCenterY=s.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=a.x,this.tCenterY=a.y,this.tScale=r.scale,this.tRotation=r.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,r){const i=this.easing(r);let n,s,a,o;r>=1?(n=this.tCenterX,s=this.tCenterY,a=this.tRotation,o=this.tScale):(n=this.sCenterX+i*this.dCenterX,s=this.sCenterY+i*this.dCenterY,a=this.sRotation+i*this.dRotation,o=this.sScale+i*this.dScale),t.targetGeometry.x=n,t.targetGeometry.y=s,t.scale=o,t.rotation=a}}let Nl=class extends ye{constructor(e){super(e),this.duration=200,this.transition=null,this.easing=Js.ease,this.view=null,this.viewpoint=null,this.viewpoint=new so({targetGeometry:new be,scale:0,rotation:0}),this._updateTask=$m({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(e,t,r){this.stop();const i=this.viewpoint;ho(i,t),this.transition=new B7e(this.viewpoint,e.target,r&&r.duration||this.duration,r&&r.easing||this.easing);const n=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const r=new G$({target:e.clone()}),i=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==G$.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime);else{const r=(performance.now()-this._startTime)/this.transition.duration,i=r>=1;this.transition.applyRatio(this.viewpoint,r),i&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};u([f()],Nl.prototype,"animation",void 0),u([f()],Nl.prototype,"duration",void 0),u([f()],Nl.prototype,"transition",void 0),u([f()],Nl.prototype,"easing",void 0),u([f()],Nl.prototype,"view",void 0),u([f()],Nl.prototype,"viewpoint",void 0),Nl=u([E("esri.views.2d.AnimationManager")],Nl);const U7e=Nl;class G7e{constructor(t){this.view=t,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{this._updateRequested=!1;const{basemapView:r,graphicsView:i,labelManager:n,layerViews:s,state:{id:a}}=this.view;r.baseLayerViews.forEach(this._updateLayerView,this),s.forEach(this._updateLayerView,this),r.referenceLayerViews.forEach(this._updateLayerView,this),C(n)&&(n.lastUpdateId!==a&&(n.viewChange(),n.lastUpdateId=a),n.updateRequested&&n.processUpdate(this._updateParameters)),C(i)&&(i.lastUpdateId!==a&&(i.viewChange(),i.lastUpdateId=a),i.updateRequested&&i.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=ee(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=$m(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){const r=this.view.state,i=t.lastUpdateId;i!=null&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),i!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews.forEach(this._updateLayerView,this)}}function Lr(){return Promise.all([Y(()=>import("./webglDeps.4936449e.js"),["webglDeps.4936449e.js","VertexArrayObject.4f327ffb.js","Texture.ccb8779a.js","enums.c60b1dad.js","ProgramTemplate.f984cffb.js","programUtils.5160469a.js"],import.meta.url),Y(()=>import("./mapViewDeps.6eec4294.js"),["mapViewDeps.6eec4294.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","enums.9bd521fc.js","alignmentUtils.84250e5d.js","number.6e30c64a.js","GeometryUtils.f3664fe1.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","WGLContainer.22a0c4e4.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","enums.58eeda20.js","programUtils.5160469a.js","Rasterizer.cb69cb24.js","cimAnalyzer.92f51743.js","commonjsHelpers.ce2b5698.js","imageutils.fd6b3d4c.js","Matcher.d151d078.js","visualVariablesUtils.3b6fdf98.js","visualVariablesUtils.e34b6b98.js","tileUtils.40106882.js","TileClipper.5b46af68.js","Geometry.f2d62961.js","ExpandedCIM.ec020537.js","CircularArray.b67074d5.js","requestImageUtils.ef914741.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","BaseGraphicContainer.1fa0b98f.js","normalizeUtilsSync.924df729.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","FeatureContainer.3d3ea08e.js","TileContainer.65a061dc.js","schemaUtils.a0315d44.js","createSymbolSchema.6b64f055.js","MD5.7323a015.js","util.6c0fb4fc.js","vec3f32.ca7a14c1.js","GraphicContainer.0564b6c8.js"],import.meta.url)])}const cg=()=>Lr().then(()=>Y(()=>import("./TileLayerView2D.4a9960d7.js"),["TileLayerView2D.4a9960d7.js","imageUtils.1f28d9be.js","BitmapTileContainer.d8bb861e.js","Bitmap.e9c63c63.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","TileContainer.65a061dc.js","WGLContainer.22a0c4e4.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","RefreshableLayerView.6c560e1f.js","drapedUtils.2cb5ce95.js"],import.meta.url)),gv=()=>Lr().then(()=>Y(()=>import("./FeatureLayerView2D.44e6efd3.js"),["FeatureLayerView2D.44e6efd3.js","enums.9bd521fc.js","LayerView.cda7cf95.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","schemaUtils.a0315d44.js","visualVariablesUtils.e34b6b98.js","createSymbolSchema.6b64f055.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","MD5.7323a015.js","util.6c0fb4fc.js","popupUtils.b17f3311.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),WN={"base-dynamic":()=>Lr().then(()=>Y(()=>import("./BaseDynamicLayerView2D.fdb38d04.js"),["BaseDynamicLayerView2D.fdb38d04.js","BitmapContainer.3a932641.js","WGLContainer.22a0c4e4.js","enums.c60b1dad.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","ExportStrategy.6ef70e13.js","Bitmap.e9c63c63.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),"base-tile":cg,"bing-maps":cg,csv:gv,"geo-rss":()=>Lr().then(()=>Y(()=>import("./GeoRSSLayerView2D.57519ba9.js"),["GeoRSSLayerView2D.57519ba9.js","LayerView.cda7cf95.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","GraphicContainer.0564b6c8.js","BaseGraphicContainer.1fa0b98f.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.924df729.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","VertexArrayObject.4f327ffb.js","FeatureContainer.3d3ea08e.js","TileContainer.65a061dc.js","WGLContainer.22a0c4e4.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","visualVariablesUtils.3b6fdf98.js","visualVariablesUtils.e34b6b98.js","Matcher.d151d078.js","tileUtils.40106882.js","TileClipper.5b46af68.js","Geometry.f2d62961.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","schemaUtils.a0315d44.js","createSymbolSchema.6b64f055.js","MD5.7323a015.js","util.6c0fb4fc.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","vec3f32.ca7a14c1.js"],import.meta.url)),feature:gv,geojson:gv,graphics:()=>Lr().then(()=>Y(()=>import("./GraphicsLayerView2D.7b5a66ba.js"),["GraphicsLayerView2D.7b5a66ba.js","LayerView.cda7cf95.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","GraphicContainer.0564b6c8.js","BaseGraphicContainer.1fa0b98f.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.924df729.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","VertexArrayObject.4f327ffb.js","FeatureContainer.3d3ea08e.js","TileContainer.65a061dc.js","WGLContainer.22a0c4e4.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","visualVariablesUtils.3b6fdf98.js","visualVariablesUtils.e34b6b98.js","Matcher.d151d078.js","tileUtils.40106882.js","TileClipper.5b46af68.js","Geometry.f2d62961.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","schemaUtils.a0315d44.js","createSymbolSchema.6b64f055.js","MD5.7323a015.js","util.6c0fb4fc.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","vec3f32.ca7a14c1.js"],import.meta.url)),group:()=>Lr().then(()=>Y(()=>import("./GroupLayerView2D.b2348f51.js"),["GroupLayerView2D.b2348f51.js","GroupContainer.3f96898d.js","WGLContainer.22a0c4e4.js","enums.c60b1dad.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js"],import.meta.url)),imagery:()=>Lr().then(()=>Y(()=>import("./ImageryLayerView2D.0ac77d30.js"),["ImageryLayerView2D.0ac77d30.js","RasterVFDisplayObject.c0b2305b.js","VertexArrayObject.4f327ffb.js","Texture.ccb8779a.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js","WGLContainer.22a0c4e4.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","BaseGraphicContainer.1fa0b98f.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.924df729.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","FeatureContainer.3d3ea08e.js","TileContainer.65a061dc.js","visualVariablesUtils.3b6fdf98.js","visualVariablesUtils.e34b6b98.js","Matcher.d151d078.js","tileUtils.40106882.js","TileClipper.5b46af68.js","Geometry.f2d62961.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","schemaUtils.a0315d44.js","createSymbolSchema.6b64f055.js","MD5.7323a015.js","util.6c0fb4fc.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","vec3f32.ca7a14c1.js","HighlightGraphicContainer.6281cf01.js","BitmapContainer.3a932641.js","Bitmap.e9c63c63.js","ExportStrategy.6ef70e13.js","rasterProjectionHelper.1279bba3.js","popupUtils.b17f3311.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),"imagery-tile":()=>Lr().then(()=>Y(()=>import("./ImageryTileLayerView2D.421fa6e2.js"),["ImageryTileLayerView2D.421fa6e2.js","RasterVFDisplayObject.c0b2305b.js","VertexArrayObject.4f327ffb.js","Texture.ccb8779a.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js","WGLContainer.22a0c4e4.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","TileContainer.65a061dc.js","RawBlockCache.990d327c.js","rasterProjectionHelper.1279bba3.js","util.6c0fb4fc.js","popupUtils.b17f3311.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),kml:()=>Lr().then(()=>Y(()=>import("./KMLLayerView2D.c1125774.js"),["KMLLayerView2D.c1125774.js","kmlUtils.d858ad45.js","Bitmap.e9c63c63.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","BitmapContainer.3a932641.js","WGLContainer.22a0c4e4.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","GraphicContainer.0564b6c8.js","BaseGraphicContainer.1fa0b98f.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.924df729.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","FeatureContainer.3d3ea08e.js","TileContainer.65a061dc.js","visualVariablesUtils.3b6fdf98.js","visualVariablesUtils.e34b6b98.js","Matcher.d151d078.js","tileUtils.40106882.js","TileClipper.5b46af68.js","Geometry.f2d62961.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","schemaUtils.a0315d44.js","createSymbolSchema.6b64f055.js","MD5.7323a015.js","util.6c0fb4fc.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","vec3f32.ca7a14c1.js"],import.meta.url)),"map-image":()=>Lr().then(()=>Y(()=>import("./MapImageLayerView2D.a2414b9d.js"),["MapImageLayerView2D.a2414b9d.js","BitmapContainer.3a932641.js","WGLContainer.22a0c4e4.js","enums.c60b1dad.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","BaseGraphicContainer.1fa0b98f.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.924df729.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","FeatureContainer.3d3ea08e.js","TileContainer.65a061dc.js","visualVariablesUtils.3b6fdf98.js","visualVariablesUtils.e34b6b98.js","Matcher.d151d078.js","tileUtils.40106882.js","TileClipper.5b46af68.js","Geometry.f2d62961.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","schemaUtils.a0315d44.js","createSymbolSchema.6b64f055.js","MD5.7323a015.js","util.6c0fb4fc.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","vec3f32.ca7a14c1.js","HighlightGraphicContainer.6281cf01.js","ExportStrategy.6ef70e13.js","Bitmap.e9c63c63.js","drapedUtils.2cb5ce95.js","popupUtils.b17f3311.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),"map-notes":()=>Lr().then(()=>Y(()=>import("./MapNotesLayerView2D.2ef47eb1.js"),["MapNotesLayerView2D.2ef47eb1.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","GroupContainer.3f96898d.js","WGLContainer.22a0c4e4.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","GraphicContainer.0564b6c8.js","BaseGraphicContainer.1fa0b98f.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.924df729.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","FeatureContainer.3d3ea08e.js","TileContainer.65a061dc.js","visualVariablesUtils.3b6fdf98.js","visualVariablesUtils.e34b6b98.js","Matcher.d151d078.js","tileUtils.40106882.js","TileClipper.5b46af68.js","Geometry.f2d62961.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","schemaUtils.a0315d44.js","createSymbolSchema.6b64f055.js","MD5.7323a015.js","util.6c0fb4fc.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","vec3f32.ca7a14c1.js"],import.meta.url)),media:()=>Lr().then(()=>Y(()=>import("./MediaLayerView2D.f0e5bc49.js"),["MediaLayerView2D.f0e5bc49.js","normalizeUtilsSync.924df729.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","VertexArrayObject.4f327ffb.js","vec3f32.ca7a14c1.js","WGLContainer.22a0c4e4.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js"],import.meta.url)),"ogc-feature":()=>Lr().then(()=>Y(()=>import("./OGCFeatureLayerView2D.2f9b46d4.js"),["OGCFeatureLayerView2D.2f9b46d4.js","FeatureLayerView2D.44e6efd3.js","enums.9bd521fc.js","LayerView.cda7cf95.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","schemaUtils.a0315d44.js","visualVariablesUtils.e34b6b98.js","createSymbolSchema.6b64f055.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","MD5.7323a015.js","util.6c0fb4fc.js","popupUtils.b17f3311.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),"open-street-map":cg,route:()=>Lr().then(()=>Y(()=>import("./RouteLayerView2D.e4eff439.js"),["RouteLayerView2D.e4eff439.js","Stop.712e18d2.js","LayerView.cda7cf95.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","GraphicContainer.0564b6c8.js","BaseGraphicContainer.1fa0b98f.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.924df729.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","VertexArrayObject.4f327ffb.js","FeatureContainer.3d3ea08e.js","TileContainer.65a061dc.js","WGLContainer.22a0c4e4.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","visualVariablesUtils.3b6fdf98.js","visualVariablesUtils.e34b6b98.js","Matcher.d151d078.js","tileUtils.40106882.js","TileClipper.5b46af68.js","Geometry.f2d62961.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","schemaUtils.a0315d44.js","createSymbolSchema.6b64f055.js","MD5.7323a015.js","util.6c0fb4fc.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","vec3f32.ca7a14c1.js"],import.meta.url)),stream:()=>Lr().then(()=>Y(()=>import("./StreamLayerView2D.f7181509.js"),["StreamLayerView2D.f7181509.js","FeatureLayerView2D.44e6efd3.js","enums.9bd521fc.js","LayerView.cda7cf95.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","schemaUtils.a0315d44.js","visualVariablesUtils.e34b6b98.js","createSymbolSchema.6b64f055.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","MD5.7323a015.js","util.6c0fb4fc.js","popupUtils.b17f3311.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),"subtype-group":()=>Lr().then(()=>Y(()=>import("./SubtypeGroupLayerView2D.a4984b39.js"),["SubtypeGroupLayerView2D.a4984b39.js","FeatureLayerView2D.44e6efd3.js","enums.9bd521fc.js","LayerView.cda7cf95.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","schemaUtils.a0315d44.js","visualVariablesUtils.e34b6b98.js","createSymbolSchema.6b64f055.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","GeometryUtils.f3664fe1.js","cimAnalyzer.92f51743.js","ExpandedCIM.ec020537.js","MD5.7323a015.js","util.6c0fb4fc.js","popupUtils.b17f3311.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),tile:cg,"vector-tile":()=>Lr().then(()=>Y(()=>import("./VectorTileLayerView2D.b27b5e30.js"),["VectorTileLayerView2D.b27b5e30.js","enums.58eeda20.js","BidiEngine.95523203.js","enums.c60b1dad.js","Texture.ccb8779a.js","CIMSymbolHelper.9d471047.js","enums.9bd521fc.js","alignmentUtils.84250e5d.js","number.6e30c64a.js","GeometryUtils.f3664fe1.js","VertexArrayObject.4f327ffb.js","config.ded6d251.js","TileContainer.65a061dc.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","WGLContainer.22a0c4e4.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","StyleRepository.cdd403c4.js","Geometry.f2d62961.js","LayerView.cda7cf95.js","Bitmap.e9c63c63.js","BitmapContainer.3a932641.js"],import.meta.url)),wcs:()=>Lr().then(()=>Y(()=>import("./ImageryTileLayerView2D.421fa6e2.js"),["ImageryTileLayerView2D.421fa6e2.js","RasterVFDisplayObject.c0b2305b.js","VertexArrayObject.4f327ffb.js","Texture.ccb8779a.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js","WGLContainer.22a0c4e4.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","TileContainer.65a061dc.js","RawBlockCache.990d327c.js","rasterProjectionHelper.1279bba3.js","util.6c0fb4fc.js","popupUtils.b17f3311.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),"web-tile":cg,wfs:gv,wms:()=>Lr().then(()=>Y(()=>import("./WMSLayerView2D.598cf5d7.js"),["WMSLayerView2D.598cf5d7.js","BitmapContainer.3a932641.js","WGLContainer.22a0c4e4.js","enums.c60b1dad.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","ExportStrategy.6ef70e13.js","Bitmap.e9c63c63.js","RefreshableLayerView.6c560e1f.js","ExportWMSImageParameters.9890d336.js"],import.meta.url)),wmts:()=>Lr().then(()=>Y(()=>import("./WMTSLayerView2D.fc8bf43c.js"),["WMTSLayerView2D.fc8bf43c.js","imageUtils.1f28d9be.js","BitmapTileContainer.d8bb861e.js","Bitmap.e9c63c63.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","number.6e30c64a.js","enums.9bd521fc.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","alignmentUtils.84250e5d.js","TileContainer.65a061dc.js","WGLContainer.22a0c4e4.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cda7cf95.js","RefreshableLayerView.6c560e1f.js"],import.meta.url)),"line-of-sight":null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function q7e(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new R(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const JN={hasLayerViewModule:e=>C(WN[e.type]),importLayerView:e=>{const t=WN[e.type];if(B(t))throw q7e(e);return t(e)}};function H7e(e,t){const{spatialReference:r}=t,i=[t.x,t.y];let n=Number.POSITIVE_INFINITY,s=0,a=0;const o=[0,0],l=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const c of l)for(let d=0;d<c.length-1;d++){Uue(o,i,c,d);const p=Y2(i,o);p<n&&(n=p,s=o[0],a=o[1])}return{coordinate:new be({x:s,y:a,spatialReference:r}),distance:n}}var W$;const W7e=ae.getLogger("esri.views.MapView");let zf=W$=class extends ye{constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(B(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return yy(this.geometry,this.spatialReference)}catch(e){return W7e.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(B(this.normalizedGeometry))return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?iw(this.normalizedGeometry,r):FG(this.normalizedGeometry,r))return e;const{coordinate:i}=H7e(this.normalizedGeometry,r);return i&&(e.targetGeometry=i),e}clone(){var e,t;return new W$({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};u([f({constructOnly:!0})],zf.prototype,"geometry",void 0),u([f({readOnly:!0})],zf.prototype,"normalizedGeometry",null),u([f({constructOnly:!0})],zf.prototype,"spatialReference",void 0),zf=W$=u([E("esri.views.2d.constraints.GeometryConstraint")],zf);var J$;let yb=J$=class extends ye{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new J$({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};u([f()],yb.prototype,"enabled",void 0),u([f()],yb.prototype,"rotationEnabled",void 0),yb=J$=u([E("esri.views.2d.constraints.RotationConstraint")],yb);const iX=yb;var Z$;let Sn=Z$=class extends ye{constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:i,minZoom:n,maxZoom:s}=this,a=-1,o=-1,l=!1,c=!1;if(r!==0&&i!==0&&r<i&&([r,i]=[i,r]),!t||!t.length)return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",i);t=t.map(d=>d.clone()),t.sort((d,p)=>p.scale-d.scale),t.forEach((d,p)=>d.level=p);for(const d of t)!l&&r>0&&r>=d.scale&&(a=d.level,l=!0),!c&&i>0&&i>=d.scale&&(o=e?e.level:-1,c=!0),e=d;n===-1&&(n=r===0?0:a),s===-1&&(s=i===0?t.length-1:o),n=Math.max(n,0),n=Math.min(n,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),n>s&&([n,s]=[s,n]),r=t[n].scale,i=t[s].scale,t.splice(0,n),t.splice(s-n+1,t.length),t.forEach((d,p)=>{this._lodByScale[d.scale]=d,this._scales[p]=d.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",i)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,i=this.effectiveMaxScale,n=e.targetGeometry,s=t&&t.targetGeometry,a=i!==0&&e.scale<i,o=r!==0&&e.scale>r;if(a||o){const l=o?r:i;if(s){const c=(l-t.scale)/(e.scale-t.scale);n.x=s.x+(n.x-s.x)*c,n.y=s.y+(n.y-s.y)*c}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.round(e-.5),i=Math.round(e);return t[i]+(i-e)*(t[r]-t[i])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,i;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let n=0;n<t.length-1;n++){if(r=t[n],i=t[n+1],i===e)return n+this.effectiveMinZoom+1;if(r>e&&i<e)return n+this.effectiveMinZoom+1-(e-i)/(r-i)}}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new Z$({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};u([f({readOnly:!0})],Sn.prototype,"effectiveLODs",void 0),u([f({readOnly:!0})],Sn.prototype,"effectiveMinZoom",void 0),u([f({readOnly:!0})],Sn.prototype,"effectiveMaxZoom",void 0),u([f({readOnly:!0})],Sn.prototype,"effectiveMinScale",void 0),u([f({readOnly:!0})],Sn.prototype,"effectiveMaxScale",void 0),u([f()],Sn.prototype,"lods",void 0),u([f()],Sn.prototype,"minZoom",void 0),u([f()],Sn.prototype,"maxZoom",void 0),u([f()],Sn.prototype,"minScale",void 0),u([f()],Sn.prototype,"maxScale",void 0),u([f()],Sn.prototype,"snapToZoom",void 0),Sn=Z$=u([E("esri.views.2d.constraints.ZoomConstraint")],Sn);const nX=Sn,J7e={base:null,key:"type",typeMap:{extent:Ve,polygon:_s}};let or=class extends ye{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null)}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e;return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),((e=this._get("version"))!=null?e:0)+1}get _defaultLODs(){var r,i,n;const e=(i=(r=this.view)==null?void 0:r.defaultsFromMap)==null?void 0:i.tileInfo,t=(n=this.view)==null?void 0:n.spatialReference;return e&&t&&e.spatialReference.equals(t)?e.lods:null}get _geometry(){var e;return new zf({geometry:this.geometry,spatialReference:(e=this.view)==null?void 0:e.spatialReference})}get _rotation(){return new iX({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),t=this.lods||this._defaultLODs,r=this.minZoom,i=this.maxZoom,n=this.minScale,s=this.maxScale,a=this.snapToZoom;return e&&e.lods===t&&e.minZoom===r&&e.maxZoom===i&&e.minScale===n&&e.maxScale===s&&e.snapToZoom===a?e:new nX({lods:t,minZoom:r,maxZoom:i,minScale:n,maxScale:s,snapToZoom:a})}canZoomInTo(e){const t=this.effectiveMaxScale;return t===0||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return t===0||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),e}constrainByGeometry(e){return this._geometry.constrain(e)}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};u([f({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],or.prototype,"effectiveLODs",void 0),u([f({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],or.prototype,"effectiveMinScale",void 0),u([f({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],or.prototype,"effectiveMaxScale",void 0),u([f({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],or.prototype,"effectiveMinZoom",void 0),u([f({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],or.prototype,"effectiveMaxZoom",void 0),u([f({types:J7e,value:null})],or.prototype,"geometry",null),u([f({type:[sk]})],or.prototype,"lods",void 0),u([f()],or.prototype,"minScale",void 0),u([f()],or.prototype,"maxScale",void 0),u([f()],or.prototype,"minZoom",void 0),u([f()],or.prototype,"maxZoom",void 0),u([f()],or.prototype,"rotationEnabled",void 0),u([f()],or.prototype,"snapToZoom",void 0),u([f()],or.prototype,"view",void 0),u([f({readOnly:!0})],or.prototype,"version",null),u([f()],or.prototype,"_defaultLODs",null),u([f({type:zf})],or.prototype,"_geometry",null),u([f({type:iX})],or.prototype,"_rotation",null),u([f({readOnly:!0,type:nX})],or.prototype,"_zoom",null),or=u([E("esri.views.2d.MapViewConstraints")],or);const sX=or;function Z7e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Q7e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function aX(e,t,r,i,n,s,a,o,l,c){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=c,e}function oX(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Y7e(e,t){if(e===t){const r=t[1],i=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=i,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function K7e(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],d=t[8],p=d*a-o*c,h=-d*s+o*l,m=c*s-a*l;let g=r*p+i*h+n*m;return g?(g=1/g,e[0]=p*g,e[1]=(-d*i+n*c)*g,e[2]=(o*i-n*a)*g,e[3]=h*g,e[4]=(d*r-n*l)*g,e[5]=(-o*r+n*s)*g,e[6]=m*g,e[7]=(-c*r+i*l)*g,e[8]=(a*r-i*s)*g,e):null}function X7e(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],d=t[8];return e[0]=a*d-o*c,e[1]=n*c-i*d,e[2]=i*o-n*a,e[3]=o*l-s*d,e[4]=r*d-n*l,e[5]=n*s-r*o,e[6]=s*c-a*l,e[7]=i*l-r*c,e[8]=r*a-i*s,e}function e_e(e){const t=e[0],r=e[1],i=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8];return t*(c*s-a*l)+r*(-c*n+a*o)+i*(l*n-s*o)}function NA(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],d=t[7],p=t[8],h=r[0],m=r[1],g=r[2],b=r[3],w=r[4],v=r[5],_=r[6],S=r[7],x=r[8];return e[0]=h*i+m*a+g*c,e[1]=h*n+m*o+g*d,e[2]=h*s+m*l+g*p,e[3]=b*i+w*a+v*c,e[4]=b*n+w*o+v*d,e[5]=b*s+w*l+v*p,e[6]=_*i+S*a+x*c,e[7]=_*n+S*o+x*d,e[8]=_*s+S*l+x*p,e}function Q$(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],d=t[7],p=t[8],h=r[0],m=r[1];return e[0]=i,e[1]=n,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e[6]=h*i+m*a+c,e[7]=h*n+m*o+d,e[8]=h*s+m*l+p,e}function lX(e,t,r){const i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],d=t[7],p=t[8],h=Math.sin(r),m=Math.cos(r);return e[0]=m*i+h*a,e[1]=m*n+h*o,e[2]=m*s+h*l,e[3]=m*a-h*i,e[4]=m*o-h*n,e[5]=m*l-h*s,e[6]=c,e[7]=d,e[8]=p,e}function t_e(e,t,r){const i=r[0],n=r[1],s=r[2];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function r_e(e,t,r){const i=r[0],n=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e}function i_e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function n_e(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=-r,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function s_e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function a_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function o_e(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],a=r+r,o=i+i,l=n+n,c=r*a,d=i*a,p=i*o,h=n*a,m=n*o,g=n*l,b=s*a,w=s*o,v=s*l;return e[0]=1-p-g,e[3]=d-v,e[6]=h+w,e[1]=d+v,e[4]=1-c-g,e[7]=m-b,e[2]=h-w,e[5]=m+b,e[8]=1-c-p,e}function l_e(e,t){const r=t[0],i=t[1],n=t[2],s=t[4],a=t[5],o=t[6],l=t[8],c=t[9],d=t[10],p=d*a-o*c,h=-d*s+o*l,m=c*s-a*l,g=r*p+i*h+n*m;if(!g)return null;const b=1/g;return e[0]=p*b,e[1]=(-d*i+n*c)*b,e[2]=(o*i-n*a)*b,e[3]=h*b,e[4]=(d*r-n*l)*b,e[5]=(-o*r+n*s)*b,e[6]=m*b,e[7]=(-c*r+i*l)*b,e[8]=(a*r-i*s)*b,e}function c_e(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],d=t[8],p=t[9],h=t[10],m=t[11],g=t[12],b=t[13],w=t[14],v=t[15],_=r*o-i*a,S=r*l-n*a,x=r*c-s*a,M=i*l-n*o,I=i*c-s*o,$=n*c-s*l,T=d*b-p*g,A=d*w-h*g,P=d*v-m*g,F=p*w-h*b,j=p*v-m*b,V=h*v-m*w;let z=_*V-S*j+x*F+M*P-I*A+$*T;return z?(z=1/z,e[0]=(o*V-l*j+c*F)*z,e[1]=(l*P-a*V-c*A)*z,e[2]=(a*j-o*P+c*T)*z,e[3]=(n*j-i*V-s*F)*z,e[4]=(r*V-n*P+s*A)*z,e[5]=(i*P-r*j-s*T)*z,e[6]=(b*$-w*I+v*M)*z,e[7]=(w*x-g*$-v*S)*z,e[8]=(g*I-b*x+v*_)*z,e):null}function u_e(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function d_e(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function f_e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function p_e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function cX(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function h_e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function m_e(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e}function y_e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function g_e(e,t){const r=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],p=t[0],h=t[1],m=t[2],g=t[3],b=t[4],w=t[5],v=t[6],_=t[7],S=t[8];return Math.abs(r-p)<=Oe*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-h)<=Oe*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-m)<=Oe*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(s-g)<=Oe*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(a-b)<=Oe*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-w)<=Oe*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(l-v)<=Oe*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-_)<=Oe*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(d-S)<=Oe*Math.max(1,Math.abs(d),Math.abs(S))}function b_e(e){const t=Oe,r=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(i*i+a*a+c*c))<=t&&Math.abs(1-(n*n+o*o+d*d))<=t}const v_e=NA,w_e=cX;Object.freeze(Object.defineProperty({__proto__:null,fromMat4:Z7e,copy:Q7e,set:aX,identity:oX,transpose:Y7e,invert:K7e,adjoint:X7e,determinant:e_e,multiply:NA,translate:Q$,rotate:lX,scale:t_e,scaleByVec2:r_e,fromTranslation:i_e,fromRotation:n_e,fromScaling:s_e,fromMat2d:a_e,fromQuat:o_e,normalFromMat4Legacy:l_e,normalFromMat4:c_e,projection:u_e,str:d_e,frob:f_e,add:p_e,subtract:cX,multiplyScalar:h_e,multiplyScalarAndAdd:m_e,exactEquals:y_e,equals:g_e,isOrthoNormal:b_e,mul:v_e,sub:w_e},Symbol.toStringTag,{value:"Module"}));function o9(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function __e(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function S_e(e,t,r,i,n,s,a,o,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=i,c[4]=n,c[5]=s,c[6]=a,c[7]=o,c[8]=l,c}function x_e(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,create:o9,clone:__e,fromValues:S_e,createView:x_e},Symbol.toStringTag,{value:"Module"}));function uX(){return new Float32Array(2)}function M_e(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Jm(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function I_e(e,t){return new Float32Array(e,t,2)}function dX(){return uX()}function fX(){return Jm(1,1)}function pX(){return Jm(1,0)}function hX(){return Jm(0,1)}const $_e=dX(),T_e=fX(),C_e=pX(),E_e=hX();Object.freeze(Object.defineProperty({__proto__:null,create:uX,clone:M_e,fromValues:Jm,createView:I_e,zeros:dX,ones:fX,unitX:pX,unitY:hX,ZEROS:$_e,ONES:T_e,UNIT_X:C_e,UNIT_Y:E_e},Symbol.toStringTag,{value:"Module"}));function k_e(e){return e instanceof Float32Array&&e.length>=2}function A_e(e){return Array.isArray(e)&&e.length>=2}function c_(e){return k_e(e)||A_e(e)}var Y$;const vl=[0,0];let hu=Y$=class extends Z{constructor(e){super(e),this._viewpoint2D={center:pr(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new Ve,this.id=0,this.inverseTransform=ud(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=ud(),this.transformNoRotation=ud(),this.displayMat3=o9(),this.displayViewMat3=o9(),this.viewMat3=o9(),this.viewMat2d=l6(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=ho(r,e.viewpoint),this._set("size",d2(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new Y$({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return c_(t)?Uo(e,t,this.inverseTransform):(vl[0]=t,vl[1]=r,Uo(e,vl,this.inverseTransform))}toScreen(e,t,r){return c_(t)?Uo(e,t,this.transform):(vl[0]=t,vl[1]=r,Uo(e,vl,this.transform))}toScreenNoRotation(e,t,r){return c_(t)?Uo(e,t,this.transformNoRotation):(vl[0]=t,vl[1]=r,Uo(e,vl,this.transformNoRotation))}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,i=this._get("pixelRatio")||1,n=this._get("size");return FA(e,r,n,t,0,i),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,s=this._get("size"),a=new so({targetGeometry:new be(e[0],e[1],t),scale:r,rotation:i});if(this._set("viewpoint",a),!s||!t||!r)return;this.resolution=ky(a),this.rotation=i,this.scale=r,this.spatialReference=t,d2(this.center,e);const o=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;aX(this.displayMat3,o,0,0,0,l,0,-1,1,1);const c=oX(this.viewMat3),d=Jm(s[0]/2,s[1]/2),p=Jm(-s[0]/2,-s[1]/2),h=_E(i);Q$(c,c,d),lX(c,c,h),Q$(c,c,p),NA(this.displayViewMat3,this.displayMat3,c);const m=TA(this.viewMat2d,d);return J2(m,m,h),Wm(m,m,p),T7e(this.extent,a,s),DA(this.transform,a,s,n),$A(this.inverseTransform,this.transform),P7e(this.transformNoRotation,a,s,n),this.worldScreenWidth=F7e(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};u([f({readOnly:!0})],hu.prototype,"id",void 0),u([f({value:1,json:{write:!0}})],hu.prototype,"pixelRatio",null),u([f({json:{write:!0}})],hu.prototype,"size",null),u([f()],hu.prototype,"spatialReference",void 0),u([f({type:so,json:{write:!0}})],hu.prototype,"viewpoint",null),hu=Y$=u([E("esri.views.2d.ViewState")],hu);const ZN=hu;var K$,X$;let Xl=K$=class extends ye{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new K$({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};u([f()],Xl.prototype,"left",void 0),u([f()],Xl.prototype,"top",void 0),u([f()],Xl.prototype,"right",void 0),u([f()],Xl.prototype,"bottom",void 0),Xl=K$=u([E("esri.views.2d.PaddedViewState.Padding")],Xl);let Xh=X$=class extends ZN{constructor(...e){super(...e),this.paddedViewState=new ZN,this._updateContent=(()=>{const t=pr();return()=>{const r=this._get("size"),i=this._get("padding");if(!r||!i)return;const n=this.paddedViewState;ii(t,i.left+i.right,i.top+i.bottom),f2(t,r,t),d2(n.size,t);const s=n.viewpoint;s&&(this.viewpoint=s)}})(),this.own(ee(()=>[this.size,this.padding],()=>this._updateContent(),Cm)),this.padding=new Xl,this.size=[0,0]}set padding(e){this._set("padding",e||new Xl)}set viewpoint(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,N7e(t,e,this._get("size"),this._get("padding"));const r=this._viewpoint2D,i=t.targetGeometry;r.center[0]=i.x,r.center[1]=i.y,r.rotation=t.rotation,r.scale=t.scale,r.spatialReference=i.spatialReference,this._update()}}clone(){return new X$({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};u([f()],Xh.prototype,"paddedViewState",void 0),u([f({type:Xl})],Xh.prototype,"padding",null),u([f()],Xh.prototype,"viewpoint",null),Xh=X$=u([E("esri.views.2d.PaddedViewState")],Xh);const L_e=Xh;class R_e{constructor(t,r){this.item=t,this.controller=r,this.promise=null}}class mX{constructor(t){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new S4(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&C(r)&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,i)=>t(i))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(t,r){const i=this.get(t);if(i)return i;const n=new AbortController;let s=null;r&&(s=ca(r,()=>n.abort()));const a=()=>{const d=this._processingItems.get(t);d&&d.controller.abort(),o(),c.reject(Nt())},o=()=>{l.remove(),C(s)&&s.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},l=QC(n.signal,a),c=yc();return this._deferreds.set(t,c),this._controllers.set(t,n),c.promise.then(o,o),this._queue.push(t),this._scheduleNext(),c.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(r=>t.push(r)),this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=sy(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(B(t))return;let r;const i=new AbortController,n=new R_e(t,i);this._processingItems.set(t,n);try{r=this.process(t,i.signal)}catch(s){this._processError(n,s)}_c(r)?(n.promise=r,r.then(s=>this._processResult(n,s),s=>this._processError(n,s))):this._processResult(n,r)}get test(){return{update:t=>this.runTask(t)}}}function P_e(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const u_=new Set,bv=[],lh=new Map,QN=[0,0];let Nc=class extends ye{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t}=this;this._queue=new mX({concurrency:e,process:(r,i)=>{const n=this._keyToItem.get(r);return t(n,{signal:i})},peeker:r=>r.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e,t){const r=e.key.id+"-"+t;if(this.has(r))return this.get(r);const i=this._queue.push(r),n=()=>{this._keyToItem.delete(r),this.notifyChange("updating")};return this._keyToItem.set(r,e),i.then(n,n),this.notifyChange("updating"),i}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach(c=>{const d=this._keyToItem.get(c),p=this.tileInfoView.getTileScale(d.key);lh.has(p)||(lh.set(p,[]),r=Math.max(p,r),i=Math.min(p,i)),lh.get(p).push(d.key),u_.add(p)});let n=this.state.scale;lh.has(n)||(P_e(bv,u_),bv.sort((c,d)=>c-d),n=bv.reduce((c,d)=>Math.abs(d-n)<Math.abs(c-n)?d:c,bv[0])),n=Math.min(n,r),n=Math.max(n,i);const s=lh.get(n),a=t.getClosestInfoForScale(n),o=a.getColumnForX(this.state.center[0]),l=a.getRowForY(this.state.center[1]);return s.sort((c,d)=>{const p=a.denormalizeCol(c.col,c.world),h=a.denormalizeCol(d.col,d.world);return Math.sqrt((o-p)*(o-p)+(l-c.row)*(l-c.row))-Math.sqrt((o-h)*(o-h)+(l-d.row)*(l-d.row))}),u_.clear(),lh.clear(),s[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,r=this.state.center;let i=Number.POSITIVE_INFINITY,n=null;return e.forEach(s=>{const a=this._keyToItem.get(s);t.getTileCoords(QN,a.key);const o=Y2(QN,r);o<i&&(i=o,n=a.key)}),n.id}};u([f({constructOnly:!0})],Nc.prototype,"concurrency",void 0),u([f({constructOnly:!0})],Nc.prototype,"process",void 0),u([f()],Nc.prototype,"state",void 0),u([f({constructOnly:!0})],Nc.prototype,"strategy",void 0),u([f({constructOnly:!0})],Nc.prototype,"tileInfoView",void 0),u([f({readOnly:!0})],Nc.prototype,"updating",null),Nc=u([E("esri.views.2d.tiling.PagedTileQueue")],Nc);class Cn{constructor(t,r,i,n){this.set(t,r,i,n)}static getId(t,r,i,n){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${i}/${n}`}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,i=63&this.level;return(3&this.world)<<30|r<<22|t<<8|i}acquire(t,r,i,n){this.set(t,r,i,n)}contains(t){const r=t.level-this.level;return this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Cn(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,i,n){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,a,o,l]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(a),this.col=parseFloat(o),this.world=parseFloat(l)}else this.level=+t,this.row=+r,this.col=+i,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Cn(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,r=this.row<<1,i=this.col<<1,n=this.world;return[new Cn(t,r,i,n),new Cn(t,r,i+1,n),new Cn(t,r+1,i,n),new Cn(t,r+1,i+1,n)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}Cn.pool=new co(Cn,null,null,25,50);function jc(e,t){return[e,t]}function Od(e,t,r){return e[0]=t,e[1]=r,e}function O_e(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}const _a=new Cn("0/0/0/0");class jA{constructor(t,r,i,n,s,a,o,l,c,d,p,h){this.level=t,this.resolution=r,this.scale=i,this.origin=n,this.first=s,this.last=a,this.size=o,this.norm=l,this.worldStart=c,this.worldEnd=d,this.worldSize=p,this.wrap=h}static create(t,r,i=null){const n=ys(t.spatialReference),s=r.origin||jc(t.origin.x,t.origin.y),a=jc(t.size[0]*r.resolution,t.size[1]*r.resolution),o=jc(-1/0,-1/0),l=jc(1/0,1/0),c=jc(1/0,1/0);C(i)&&(Od(o,Math.max(0,Math.floor((i.xmin-s[0])/a[0])),Math.max(0,Math.floor((s[1]-i.ymax)/a[1]))),Od(l,Math.max(0,Math.floor((i.xmax-s[0])/a[0])),Math.max(0,Math.floor((s[1]-i.ymin)/a[1]))),Od(c,l[0]-o[0]+1,l[1]-o[1]+1));const{cols:d,rows:p}=r;let h,m,g,b;return!i&&d&&p&&(Od(o,d[0],p[0]),Od(l,d[1],p[1]),Od(c,d[1]-d[0]+1,p[1]-p[0]+1)),t.isWrappable?(h=jc(Math.ceil(Math.round((n.valid[1]-n.valid[0])/r.resolution)/t.size[0]),c[1]),m=jc(Math.floor((n.origin[0]-s[0])/a[0]),o[1]),g=jc(h[0]+m[0]-1,l[1]),b=!0):(m=o,g=l,h=c,b=!1),new jA(r.level,r.resolution,r.scale,s,o,l,c,a,m,g,h,b)}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,i=!1){_a.set(r);const n=i?_a.col:this.denormalizeCol(_a.col,_a.world),s=_a.row;return O_e(t,this.getXForColumn(n),this.getYForRow(s+1),this.getXForColumn(n+1),this.getYForRow(s)),t}getTileCoords(t,r,i=!1){_a.set(r);const n=i?_a.col:this.denormalizeCol(_a.col,_a.world);return Array.isArray(t)?Od(t,this.getXForColumn(n),this.getYForRow(_a.row)):(t.x=this.getXForColumn(n),t.y=this.getYForRow(_a.row)),t}}class Zm{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,r){const{spans:i,lodInfo:n}=this,{level:s}=n;if(i.length!==0)for(const{row:a,colFrom:o,colTo:l}of i)for(let c=o;c<=l;c++)t.call(r,s,a,n.normalizeCol(c),n.getWorldForColumn(c))}}Zm.pool=new co(Zm);class d_{constructor(t,r,i){this.row=t,this.colFrom=r,this.colTo=i}}const At=new Cn("0/0/0/0");class VA{constructor(t,r,i,n,s,a,o,l){this.x=t,this.ymin=r,this.ymax=i,this.invM=n,this.leftAdjust=s,this.rightAdjust=a,this.leftBound=o,this.rightBound=l}static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[i,n]=t,[s,a]=r,o=s-i,l=a-n,c=l!==0?o/l:0,d=(Math.ceil(n)-n)*c,p=(Math.floor(n)-n)*c;return new VA(i,Math.floor(n),Math.ceil(a),c,o<0?d:p,o<0?p:d,o<0?s:i,o<0?i:s)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const Wn=[[0,0],[0,0],[0,0],[0,0]],F_e=1e-6;class D_e{constructor(t,r=null){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const i=t.lods.slice();i.sort((s,a)=>a.scale-s.scale);const n=this._lodInfos=i.map(s=>jA.create(t,s,r));i.forEach((s,a)=>{this._infoByLevel[s.level]=n[a],this._infoByScale[s.scale]=n[a],this.scales[a]=s.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,i=!1){At.set(r);const n=this._infoByLevel[At.level];return n?n.getTileBounds(t,At,i):t}getTileCoords(t,r,i=!1){At.set(r);const n=this._infoByLevel[At.level];return n?n.getTileCoords(t,At,i):t}getTileCoverage(t,r=192,i="closest"){const n=i==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),s=Zm.pool.acquire(n),a=this._wrap;let o,l,c,d=1/0,p=-1/0;const h=s.spans;Wn[0][0]=Wn[0][1]=Wn[1][1]=Wn[3][0]=-r,Wn[1][0]=Wn[2][0]=t.size[0]+r,Wn[2][1]=Wn[3][1]=t.size[1]+r;for(const w of Wn)t.toMap(w,w),w[0]=n.getColumnForX(w[0]),w[1]=n.getRowForY(w[1]);const m=[];let g=3;for(let w=0;w<4;w++){if(Wn[w][1]===Wn[g][1]){g=w;continue}const v=VA.create(Wn[w],Wn[g]);d=Math.min(v.ymin,d),p=Math.max(v.ymax,p),m[v.ymin]===void 0&&(m[v.ymin]=[]),m[v.ymin].push(v),g=w}if(d==null||p==null||p-d>100)return null;let b=[];for(o=d;o<p;){m[o]!=null&&(b=b.concat(m[o])),l=1/0,c=-1/0;for(let w=b.length-1;w>=0;w--){const v=b[w];l=Math.min(l,v.getLeftCol()),c=Math.max(c,v.getRightCol())}if(l=Math.floor(l),c=Math.floor(c),o>=n.first[1]&&o<=n.last[1])if(a)if(n.size[0]<n.worldSize[0]){const w=Math.floor(c/n.worldSize[0]);for(let v=Math.floor(l/n.worldSize[0]);v<=w;v++)h.push(new d_(o,Math.max(n.getFirstColumnForWorld(v),l),Math.min(n.getLastColumnForWorld(v),c)))}else h.push(new d_(o,l,c));else l>n.last[0]||c<n.first[0]||(l=Math.max(l,n.first[0]),c=Math.min(c,n.last[0]),h.push(new d_(o,l,c)));o+=1;for(let w=b.length-1;w>=0;w--){const v=b[w];v.ymax>=o?v.incrRow():b.splice(w,1)}}return s}getTileParentId(t){At.set(t);const r=this._infoByLevel[At.level],i=this._lodInfos.indexOf(r)-1;return i<0?null:(this._getTileIdAtLOD(At,this._lodInfos[i],At),At.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){At.set(r);const i=this._infoByLevel[At.level],n=t.lodInfo;if(n.resolution>i.resolution){this._getTileIdAtLOD(At,n,At);const a=n.denormalizeCol(At.col,At.world);for(const o of t.spans)if(o.row===At.row&&o.colFrom<=a&&o.colTo>=a)return!0}if(n.resolution<i.resolution){const[a,o,l,c]=t.spans.reduce((b,w)=>(b[0]=Math.min(b[0],w.row),b[1]=Math.max(b[1],w.row),b[2]=Math.min(b[2],w.colFrom),b[3]=Math.max(b[3],w.colTo),b),[1/0,-1/0,1/0,-1/0]),d=i.denormalizeCol(At.col,At.world),p=n.getColumnForX(i.getXForColumn(d)),h=n.getRowForY(i.getYForRow(At.row)),m=n.getColumnForX(i.getXForColumn(d+1))-1,g=n.getRowForY(i.getYForRow(At.row+1))-1;return!(p>c||m<l||h>o||g<a)}const s=n.denormalizeCol(At.col,At.world);return t.spans.some(a=>a.row===At.row&&a.colFrom<=s&&a.colTo>=s)}normalizeBounds(t,r,i){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const n=ys(this.tileInfo.spatialReference),s=-i*(n.valid[1]-n.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let i=1;i<r.length-1;i++)if(t>r[i]+F_e)return this._infoByScale[r[i-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((i,n)=>Math.abs(n-t)<Math.abs(i-t)?n:i,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let i=r.length-1;i>=0;i--)if(t<r[i])return i===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[i]].level+(r[i]-t)/(r[i]-r[i+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,r,i){const n=this._infoByLevel[i.level];return t.set(i),r.resolution<n.resolution?null:(r.resolution===n.resolution||(t.level=r.level,t.col=Math.floor(i.col*n.resolution/r.resolution+.01),t.row=Math.floor(i.row*n.resolution/r.resolution+.01)),t)}}function N_e(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const f_=new Set,vv=[],ch=new Map,YN=[0,0];let jl=class extends ye{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t,strategy:r}=this;this._queue=new mX({concurrency:e,process:(i,n)=>{const s=this._keyToItem.get(i);return t(s,{signal:n})},peeker:r==="scale-first"?i=>this._peekByScaleFirst(i):i=>this._peekByCenterFirst(i)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this._queue.has(t))return this._queue.get(t);const r=this._queue.push(t),i=()=>{this._keyToItem.delete(t),this.notifyChange("updating")};return this._keyToItem.set(t,e),r.then(i,i),this.notifyChange("updating"),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach(c=>{const d=this._keyToItem.get(c),p=this.tileInfoView.getTileScale(d.key);ch.has(p)||(ch.set(p,[]),r=Math.max(p,r),i=Math.min(p,i)),ch.get(p).push(d.key),f_.add(p)});let n=this.state.scale;ch.has(n)||(N_e(vv,f_),vv.sort((c,d)=>c-d),n=vv.reduce((c,d)=>Math.abs(d-n)<Math.abs(c-n)?d:c,vv[0])),n=Math.min(n,r),n=Math.max(n,i);const s=ch.get(n),a=t.getClosestInfoForScale(n),o=a.getColumnForX(this.state.center[0]),l=a.getRowForY(this.state.center[1]);return s.sort((c,d)=>{const p=a.denormalizeCol(c.col,c.world),h=a.denormalizeCol(d.col,d.world);return Math.sqrt((o-p)*(o-p)+(l-c.row)*(l-c.row))-Math.sqrt((o-h)*(o-h)+(l-d.row)*(l-d.row))}),f_.clear(),ch.clear(),s[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,r=this.state.center;let i=Number.POSITIVE_INFINITY,n=null;return e.forEach(s=>{const a=this._keyToItem.get(s);t.getTileCoords(YN,a.key);const o=Y2(YN,r);o<i&&(i=o,n=a.key)}),n.id}};u([f({constructOnly:!0})],jl.prototype,"concurrency",void 0),u([f({constructOnly:!0})],jl.prototype,"process",void 0),u([f()],jl.prototype,"state",void 0),u([f({constructOnly:!0})],jl.prototype,"strategy",void 0),u([f({constructOnly:!0})],jl.prototype,"tileInfoView",void 0),u([f({readOnly:!0})],jl.prototype,"updating",null),jl=u([E("esri.views.2d.tiling.TileQueue")],jl);const mPe=jl;class j_e{constructor(t,r,i){this.maxSize=t,this.tileInfoView=r,this.removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return null;const i=r.key.level,n=this._tileKeysPerLevel[i];KN(this._tilePerId,t);for(let s=0;s<n.length;s++)if(n[s].id===t){n.splice(s,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,i=r.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,t);const n=r.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(r)}prune(t,r,i){let n=this._tilePerId.size;if(n<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&s>=0;)s!==t&&(n=this._pruneAroundCenterTile(n,r,i,s)),s--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,r,i,t))}_pruneAroundCenterTile(t,r,i,n){const s=this._tileKeysPerLevel[n];if(!s||s.length===0)return t;const{size:a,origin:o}=this.tileInfoView.tileInfo,l=i*a[0],c=i*a[1],d=[0,0],p=[0,0];for(s.sort((h,m)=>(d[0]=o.x+l*(h.col+.5),d[1]=o.y-c*(h.row+.5),p[0]=o.x+l*(m.col+.5),p[1]=o.y-c*(m.row+.5),f6(d,r)-f6(p,r)));s.length>0;){const h=s.pop();if(this._removeTile(h.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this.removedFunc&&this.removedFunc(r),KN(this._tilePerId,t)}}function KN(e,t){e.delete(t)}const Fd=new Cn(0,0,0,0),Ls=new Map,uh=[],wv=[];class yPe{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=t.resampling==null||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new j_e(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:r,tileIndex:i}=this,n=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.coveragePolicy);if(wv.length=0,uh.length=0,Ls.clear(),!n)return;const{minScale:s,maxScale:a}=this.tileInfoView.tileInfo,{spans:o,lodInfo:l}=n,{level:c}=l,{scale:d,center:p,resolution:h}=t.state,m=!t.stationary&&d>this._previousScale;if(this._previousScale=d,this.tiles.length=0,!r&&(d>s||d<a))return this.tiles.length=0,Ls.clear(),i.forEach(v=>{this.releaseTile(v)}),i.clear(),wv.length=0,uh.length=0,Ls.clear(),Zm.pool.release(n),!0;i.forEach(v=>v.visible=!0);let g=0,b=0;if(o.length>0)for(const{row:v,colFrom:_,colTo:S}of o)for(let x=_;x<=S;x++){g++;const M=Fd.set(c,v,l.normalizeCol(x),l.getWorldForColumn(x)).id;if(i.has(M)){const I=i.get(M);I.isReady?(Ls.set(M,I),b++):m||this._addParentTile(M,Ls)}else{let I;if(this._tileCache&&this._tileCache.has(M)){if(I=this._tileCache.pop(M),this.tileIndex.set(M,I),I.isReady){Ls.set(M,I),b++;continue}}else I=this.acquireTile(Fd),this.tileIndex.set(M,I);m||this._addParentTile(M,Ls)}}const w=b===g;i.forEach((v,_)=>{if(Fd.set(_),Ls.has(_))return;const S=this.tileInfoView.intersects(n,Fd),x=this.cachePolicy==="purge"?Fd.level!==c:Fd.level>c;!S||!m&&w?!x&&S||uh.push(_):v.isReady?x&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Fd,c)?uh.push(_):wv.push(_):x&&uh.push(_)});for(const v of wv){const _=i.get(v);_&&_.isReady&&Ls.set(v,_)}for(const v of uh){const _=i.get(v);this._tileCache?this._tileCache.add(_):this.releaseTile(_),i.delete(v)}return Ls.forEach(v=>this.tiles.push(v)),i.forEach(v=>{Ls.has(v.key.id)||(v.visible=!1)}),this._tileCache&&this._tileCache.prune(c,p,h),Zm.pool.release(n),Ls.clear(),w}clear(t=!0){const{tileIndex:r}=this;t&&r.forEach(i=>{this.releaseTile(i)}),r.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){let i=t,n=null;for(;i=this.tileInfoView.getTileParentId(i),i;)if(this.tileIndex.has(i)){if(n=this.tileIndex.get(i),n&&n.isReady){r.has(n.key.id)||r.set(n.key.id,n);break}}else if(this._tileCache&&this._tileCache.has(i)&&(n=this._tileCache.pop(i),this.tileIndex.set(i,n),n&&n.isReady)){r.has(n.key.id)||r.set(n.key.id,n);break}}_hasReadyAncestor(t,r){const i=ua();this.tileInfoView.getTileBounds(i,t,!0);for(const n of this.tileIndex.values())if(n.isReady&&n.key.level>=r&&n.key.level<t.level){const s=ua();if(this.tileInfoView.getTileBounds(s,n.key,!0),bfe(s,i))return!0}return!1}}function zA(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}class XN extends li{constructor(t,r){super(!0),this.view=t,this.registerIncoming("double-click",r,i=>this._handleDoubleClick(i,r))}_handleDoubleClick(t,r){zA(t.data,"primary")&&(t.stopPropagation(),r?this.view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this.view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}}class V_e extends li{constructor(t,r,i){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",i,n=>this._handleDoubleTapDrag(n))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:i}=r;if(i!==this.pointerType)return;t.stopPropagation();const{action:n,delta:s}=r,{view:a}=this,{mapViewNavigation:o}=a;switch(n){case"begin":{const{scale:l}=a;this._startScale=l,this._currentScale=l,this._previousDelta=s,o.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,c=this._startScale*l,d=c/this._currentScale;o.setViewpointImmediate(d),this._currentScale=c;break}case"end":{const{constraints:l}=a,{effectiveLODs:c,snapToZoom:d}=l;if(!d||!c)return void o.end();const p=l.snapScale(this._currentScale),h=(s.y>0?Math.max(p,l.snapToPreviousScale(this._startScale)):Math.min(p,l.snapToNextScale(this._startScale)))/this._currentScale;o.zoom(h);break}}}}class i8{constructor(t){this.callbacks=t,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(t){const r=t.data,i=r.pointers.size;switch(r.action){case"start":this.currentCount=i,this._emitStart(t);break;case"added":this._emitEnd(this.previousEvent),this.currentCount=i,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this.startEvent&&this._emitEnd(this.previousEvent),this.currentCount=i,this._emitStart(t);break;case"end":this._emitEnd(t),this.currentCount=0}this.previousEvent=t}_emitStart(t){this.startEvent=t,this.callbacks.condition(this.currentCount,t)&&this.callbacks.start(this.currentCount,t,this.startEvent)}_emitUpdate(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.update(this.currentCount,t,this.startEvent)}_emitEnd(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.end(this.currentCount,t,this.startEvent),this.startEvent=null}}class z_e extends li{constructor(t,r,i){super(!0),this.view=t,this.pointerAction=r,this.registerIncoming("drag",i,n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this.dragEventSeparator=new i8({start:(r,i)=>{this.view.mapViewNavigation.pan.begin(this.view,i.data),i.stopPropagation()},update:(r,i)=>{this.view.mapViewNavigation.pan.update(this.view,i.data),i.stopPropagation()},end:(r,i)=>{this.view.mapViewNavigation.pan.end(this.view,i.data),i.stopPropagation()},condition:(r,i)=>r===1&&zA(i.data,this.pointerAction)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class B_e extends li{constructor(t,r,i){super(!0),this.view=t,this.pointerAction=r;const n=this.view.mapViewNavigation;this.dragEventSeparator=new i8({start:(s,a)=>{n.rotate.begin(this.view,a.data),a.stopPropagation()},update:(s,a)=>{n.rotate.update(this.view,a.data),a.stopPropagation()},end:(s,a)=>{n.rotate.end(),a.stopPropagation()},condition:(s,a)=>s===1&&zA(a.data,this.pointerAction)}),this.registerIncoming("drag",i,s=>this.dragEventSeparator.handle(s))}}function Sa(e){let t=e*e;return e<0&&(t*=-1),t}function U_e(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function G_e(e,t,r){const i=r,n=e.state,s=e.device,a=t.tiltDirection==="forward-down"?1:-1,o=1;return s.deviceType==="standard"?(i.translation[0]=Sa(n.axes[0]),i.translation[1]=Sa(n.axes[1]),i.translation[2]=Sa(n.buttons[7])-Sa(n.buttons[6]),i.heading=Sa(n.axes[2]),i.tilt=Sa(n.axes[3])):s.deviceType==="spacemouse"&&(i.translation[0]=1.2*Sa(n.axes[0]),i.translation[1]=1.2*Sa(n.axes[1]),i.translation[2]=2*-Sa(n.axes[2]),i.heading=1.2*Sa(n.axes[5]),i.tilt=1.2*Sa(n.axes[3])),i.tilt*=a,xE(i.translation,i.translation,o),i}function q_e(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}class H_e extends li{constructor(t){super(!0),this.view=t,this.frameTask=null,this.watchHandles=new hr,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this.handle.pause()}onInstall(t){super.onInstall(t),this.watchHandles.add([ee(()=>{var r;return(r=this.view.navigation.gamepad)==null?void 0:r.enabled},r=>{r?(this.handle.resume(),this.frameTask||(this.frameTask=$m({update:i=>this._frameUpdate(i.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))},Ke)])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const r=this.view.navigation.gamepad.device;r&&t.data.device!==r||this.currentDevice&&this.currentDevice!==t.data.device||(t.data.action==="end"?(this.currentDevice=null,U_e(this.transformation)):(this.currentDevice=t.data.device,G_e(t.data,this.view.navigation.gamepad,this.transformation)))}_frameUpdate(t){const r=this.transformation;if(q_e(r))return;const i=this.view.viewpoint.clone(),n=this.view.navigation.gamepad.velocityFactor,s=J_e*n*t;r8(i,i,[r.translation[0]*s,-r.translation[1]*s]);const a=1+r.translation[2]*Z_e*t,o=this.view.constraints.rotationEnabled?-r.heading*W_e*t:0,l=this.view.size,c=[l[0]/2,l[1]];eX(i,i,a,o,c,l);const d=this.view.constraints.constrain(i,this.view.viewpoint);this.view.viewpoint=d}}const W_e=.06,J_e=.7,Z_e=6e-4;class Q_e extends li{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",i,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",i,n=>this._handleKeyUp(n)),this.registerIncoming("blur",i,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const i=this._keyMap[t.data.key];if(this._pressed=i!=null,this._pressed){if(r)switch(this.view.mapViewNavigation.begin(),i){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}class Y_e extends li{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyToDirection={[r.clockwiseOption1]:"clockwise",[r.clockwiseOption2]:"clockwise",[r.counterClockwiseOption1]:"counterClockwise",[r.counterClockwiseOption2]:"counterClockwise",[r.resetOption1]:"reset",[r.resetOption2]:"reset"},this.registerIncoming("key-down",i,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",i,n=>this._handleKeyUp(n)),this.registerIncoming("blur",i,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const i=t.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection[t.data.key];if(this._pressed=n!=null,this._pressed){if(r)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}var z0;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(z0||(z0={}));class K_e extends li{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",i,n=>this._handleKeyDown(n)),r.zoomIn.forEach(n=>this._keysToZoomAction[n]=z0.IN),r.zoomOut.forEach(n=>this._keysToZoomAction[n]=z0.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:i}=t.data;if(!(i in this._keysToZoomAction))return;const n=this._keysToZoomAction[i],{mapViewNavigation:s}=this.view;let a=null;switch(n){case z0.IN:a=s.zoomIn();break;case z0.OUT:a=s.zoomOut();break;default:return}s.begin(),a.then(()=>s.end()),t.stopPropagation()}}const X_e=.6;class eSe extends li{constructor(t,r){super(!0),this.view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,i=>this._handleMouseWheel(i))}_handleMouseWheel(t){if(!this.view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this.view.mapViewNavigation,{x:i,y:n,deltaY:s}=t.data,a=1/X_e**(1/60*s),o=r.zoom(a,[i,n]);o&&(this._canZoom=!1,o.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}}class tSe extends li{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this.dragEventSeparator=new i8({start:(i,n)=>{r.pinch.begin(this.view,n.data),n.stopPropagation()},update:(i,n)=>{r.pinch.update(this.view,n.data),n.stopPropagation()},end:(i,n)=>{r.pinch.end(this.view),n.stopPropagation()},condition:i=>i>=2})}_handleDrag(t){this.dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function ej(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value?r.value:1:0),axes:t.axes.map(r=>nSe(r,e.axisThreshold))}:{buttons:[],axes:[]}}function rSe(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function iSe(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function nSe(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}class sSe{constructor(t,r){this.element=t,this.input=r,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const a=s.gamepad,o=a.index,l=this.inputDevices[o];l&&(this._emitGamepadEvent(a,ej(l),!1),this.inputDevices.splice(o,1),this.latestUpdate.splice(o,1),this.input.gamepad.devices.remove(l),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const i="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=i&&n,this.supported&&(this._forEachGamepad(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this.callback=t}_connectGamepad(t){const r=new LA(t);r.deviceType!=="unknown"&&(this.inputDevices[t.index]=r,this.input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this.frameTask==null&&(this.frameTask=$m({update:()=>this._readGamepadState()}))}_stopPolling(){this.frameTask!=null&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this.element.contains(document.activeElement),i=this.input.gamepad.enabledFocusMode==="document"&&!t||this.input.gamepad.enabledFocusMode==="view"&&!r;this._forEachGamepad(n=>{const s=this.inputDevices[n.index];if(!s)return;const a=this.latestUpdate[n.index],o=ej(s),l=i||iSe(o);a&&(a.timestamp===n.timestamp||!a.active&&l||rSe(a.state,o))||this._emitGamepadEvent(n,o,!l)})}_forEachGamepad(t){const r=window.navigator.getGamepads();for(let i=0;i<r.length;i++){const n=r[i];this._validate(n)&&t(n)}}_emitGamepadEvent(t,r,i){const n=this.latestUpdate[t.index],s=n&&n.active;if(!s&&!i)return;const a=!s&&i?"start":s&&i?"update":"end";this.latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:i},this.callback&&this.callback({device:this.inputDevices[t.index],state:r,action:a})}_validate(t){if(!t||!t.connected)return!1;for(let r=0;r<t.axes.length;r++)if(isNaN(t.axes[r]))return!1;return!0}}const tj=W("trident"),rj=W("edge"),aSe=W("chrome"),oSe=W("ff"),lSe=W("safari"),dh={touchNone:"esri-view-surface--touch-none",touchPan:"esri-view-surface--touch-pan"};class n8{constructor(t,r){this.input=r,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new sSe(t,this.input),this._gamepadSource.onEvent=i=>this._callback("gamepad",i)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const i=this._active[r];this._element.removeEventListener(p_[r],i),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&p_[r]){const i=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(p_[r],i),this._active[r]=i}}),this._gamepadSource.hasEventListeners=t&&t.has("gamepad")}setPointerCapture(t,r){r?(this._element.setPointerCapture(t.pointerId),this._activePointerCaptures.add(t.pointerId)):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?dh.touchNone:dh.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?dh.touchPan:dh.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(dh.touchNone),this._element.classList.remove(dh.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const i=AK(this._element,t);return n8.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),r.x=i.x,r.y=i.y,r}_handleKey(t,r){const i=Uwe(r);i&&t==="key-up"&&this._keyDownState.delete(i);const n={native:r,key:i,repeat:i&&this._keyDownState.has(i)};i&&t==="key-down"&&this._keyDownState.add(n.key),this._callback(t,n)}_handlePointer(t,r){const i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,i)}_handlePointerPreventDefault(t,r){const i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,i)}_handleMouseWheel(t,r){let i=r.deltaY;switch(r.deltaMode){case 0:(tj||rj)&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}tj||rj?i*=.7:aSe||lSe?i*=.6:oSe&&(i*=1.375);const n=100,s=Math.abs(i);s>n&&(i=i/s*200/(1+Math.exp(-.02*(s-n))));const a=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:i});this._callback(t,a)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const i={native:r};r.preventDefault(),this._callback(t,i)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}}n8.test={disableSubpixelCoordinates:!1};const p_={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class cSe extends li{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}}function BA(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function uSe(e,t){const r=t.x-e.x,i=t.y-e.y;return Math.sqrt(r*r+i*i)}function dSe(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Fi()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[S,x]=e,[M,I]=[x.x-S.x,x.y-S.y];return t.radius=Math.sqrt(M*M+I*I)/2,t.center.x=(S.x+x.x)/2,t.center.y=(S.y+x.y)/2,t}let r=0,i=0;for(let S=0;S<e.length;S++)r+=e[S].x,i+=e[S].y;r/=e.length,i/=e.length;const n=e.map(S=>S.x-r),s=e.map(S=>S.y-i);let a=0,o=0,l=0,c=0,d=0,p=0,h=0;for(let S=0;S<n.length;S++){const x=n[S],M=s[S],I=x*x,$=M*M;a+=I,o+=$,l+=x*M,c+=I*x,d+=$*M,p+=x*$,h+=M*I}const m=.5*(c+p),g=.5*(d+h),b=a*o-l*l,w=(m*o-g*l)/b,v=(a*g-l*m)/b,_=Fi(w+r,v+i);return{radius:Math.sqrt(w*w+v*v+(a+o)/e.length),center:_}}const ra={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class fSe extends li{constructor(t=ra.maximumDoubleClickDelay,r=ra.maximumDoubleClickDistance,i=ra.maximumDoubleTouchDelay,n=ra.maximumDoubleTouchDistance,s=I2){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=r,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=n,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimeout=On(t.doubleClickTimeout))}get hasPendingInputs(){return Y6(this._pointerState,t=>t.doubleClickTimeout!=null)}_pointerId(t){const r=t.native;return r.pointerType==="mouse"?`${r.pointerId}:${r.button}`:`${r.pointerType}`}_handleImmediateClick(t){const r=t.data,i=this._pointerId(r),n=this._pointerState.get(i);if(n){const s=r.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;BA(n.event.data,r)>s?(this._clearDoubleClickTimeout(i,!0),this._startClick(t)):(this._clearDoubleClickTimeout(i,!1),this._doubleClick.emit(n.event.data,void 0,n.event.modifiers))}else this._startClick(t)}_startClick(t){const r=this._pointerId(t.data),i=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(r,{event:t,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(r),i)}),this.refreshHasPendingInputs()}_handlePointerDrag(t){const r=this._pointerId(t.data.currentEvent);this._clearDoubleClickTimeout(r,!0)}_handleDrag(t){const r=this._pointerId(t.data.pointer);this._clearDoubleClickTimeout(r,!0)}_clearDoubleClickTimeout(t,r){const i=this._pointerState.get(t);i&&(i.doubleClickTimeout.remove(),i.doubleClickTimeout=null,r&&this._doubleClickTimeoutExceeded(t),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}}class pSe extends li{constructor(t=ra.maximumDoubleClickDelay,r=ra.maximumDoubleClickDistance,i=ra.maximumDoubleTouchDelay,n=ra.maximumDoubleTouchDistance,s=I2){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=r,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=n,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Fi(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new i8({start:(a,o)=>this._dragStart(a,o),update:(a,o)=>this._dragUpdate(o),end:(a,o)=>this._dragEnd(o)}),this.registerIncoming("drag",a=>this._dragEventSeparator.handle(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout!=null&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null)})}get hasPendingInputs(){return Y6(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout.remove(),r.doubleTapTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,r,i){const{button:n,buttons:s,pointer:a,pointers:o,pointerType:l,timestamp:c}=i;return{action:t,delta:r,button:n,buttons:s,pointer:a,pointers:o,pointerType:l,timestamp:c}}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:i,modifiers:n}=r,{center:s}=i;this._dragStartCenter=s;const a=this._createDoubleTapDragData("begin",Fi(0,0),i);this._doubleTapDrag.emit(a,void 0,n),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:i}=t,{center:n}=r,s=Fi(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),a=this._createDoubleTapDragData("update",s,r);this._doubleTapDrag.emit(a,void 0,i),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:i}=t,{center:n}=r,s=Fi(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),a=this._createDoubleTapDragData("end",s,r);this._doubleTapDrag.emit(a,void 0,i),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,i=this._pointerId(r),n=this._pointerState.get(i),{pointerType:s}=r.native;if(n){const a=s==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(i),BA(n.event.data,r)>a?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(t){const{native:r}=t,{pointerId:i,button:n,pointerType:s}=r;return s==="mouse"?`${i}:${n}`:`${s}`}_storePointerDown(t){const{data:r}=t,{pointerType:i}=r.native,n=this._pointerId(r),s=i==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(n),s);this._pointerState.set(n,{event:t,doubleTapTimeout:a}),this.refreshHasPendingInputs()}}class hSe extends li{constructor(t){super(!1),this.navigationTouch=t,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,i,n){return{action:t,pointerType:this.pointerType,button:this.mouseButton,buttons:r.buttons,timestamp:n,pointers:mSe(this.activePointerMap),pointer:r,angle:i.angle,radius:i.radius,center:i.center}}_addPointer(t){const r=t.native.pointerId,i=_v(this.activePointerMap).angle,n={event:t,initialAngle:0,lastAngle:0};this.activePointerMap.set(r,n);const s=l9(n,yX(this.activePointerMap));n.initialAngle=s,n.lastAngle=s,this._updatePointerAngles(i)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,i=this.activePointerMap.get(r);i?i.event=t:this._addPointer(t)}_removePointer(t){const r=_v(this.activePointerMap).angle;this.activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=_v(this.activePointerMap);this.activePointerMap.forEach(i=>{i.initialAngle=l9(i,r)-t,i.lastAngle=l9(i,r)-t})}_emitEvent(t,r,i){const n=_v(this.activePointerMap);this.drag.emit(this._createPayload(t,r,n,i),void 0,this.startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,i=t.timestamp;this.activePointerMap.get(r)&&(this.activePointerMap.size===1?(this._updatePointer(t.data),!this.isCurrentDragSuppressed&&this._emitEvent("end",t.data,i),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,i=r.currentEvent,n=t.timestamp;switch(r.action){case"start":case"update":this.isDragging?this.activePointerMap.has(i.native.pointerId)?(this._updatePointer(i),!this.isCurrentDragSuppressed&&this._emitEvent("update",i,n)):(this._addPointer(i),this._emitEvent("added",i,n),this.isCurrentDragSuppressed=this.isSuppressed):(this._updatePointer(i),this.pointerType=t.data.startEvent.pointerType,this.mouseButton=t.data.startEvent.button,this.startStateModifiers=t.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this._emitEvent("start",i,n))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&this.pointerType==="touch"&&this.activePointerMap.size===1}}function yX(e){const t=[];return e.forEach(r=>{t.push(Fi(r.event.x,r.event.y))}),dSe(t)}function _v(e){const t=yX(e);let r=0;return e.forEach(i=>{let n=l9(i,t),s=n-i.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;n=i.lastAngle+s,i.lastAngle=n,r+=n-i.initialAngle}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function mSe(e){const t=new Map;return e.forEach((r,i)=>t.set(i,r.event)),t}function l9(e,t){const r=e.event,i=r.x-t.center.x,n=r.y-t.center.y;return Math.atan2(n,i)}var ij;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(ij||(ij={}));class ySe extends li{constructor(t=ra.maximumDoubleClickDelay,r=ra.maximumDoubleClickDistance,i=ra.maximumDoubleTouchDelay,n=ra.maximumDoubleTouchDistance,s=I2){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=r,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=n,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",a=>{this._handlePointerLoss(a,"pointer-up")}),this.registerIncoming("pointer-capture-lost",a=>{this._handlePointerLoss(a,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",a=>{this._handlePointerLoss(a,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,i=this._pointerId(r);if(!this._pointerState.has(i)){const n={downButton:r.native.button,immediateDoubleClick:null};this._pointerState.set(i,n),this.startCapturingPointer(r.native)}}_handlePointerLoss(t,r){const i=t.data,n=this._pointerId(i),s=this._pointerState.get(n);if(s&&r==="pointer-up"&&s.downButton===i.native.button){const a=s.immediateDoubleClick;if(a){a.timeoutHandle.remove();const o=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;BA(a,t.data)>o?this._startImmediateDoubleClick(t,s):(this._immediateDoubleClick.emit(t.data,void 0,a.modifiers),this._removeState(i))}else this._startImmediateDoubleClick(t,s)}}_startImmediateDoubleClick(t,r){const i=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),i)}}_pointerId(t){const r=t.native;return r.pointerType==="mouse"?`${r.pointerId}:${r.button}`:`${r.pointerType}`}_removeState(t){const r=this._pointerId(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}}const ug={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class gSe extends li{constructor(t=ug.maximumClickDelay,r=ug.movementUntilMouseDrag,i=ug.movementUntilPenDrag,n=ug.movementUntilTouchDrag,s=ug.holdDelay,a=I2){super(!1),this.maximumClickDelay=t,this.movementUntilMouseDrag=r,this.movementUntilPenDrag=i,this.movementUntilTouchDrag=n,this.holdDelay=s,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",o=>{this._handlePointerLoss(o,"pointer-up")}),this.registerIncoming("pointer-capture-lost",o=>{this._handlePointerLoss(o,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",o=>{this._handlePointerLoss(o,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout!=null&&(t.holdTimeout.remove(),t.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,i=r.native.pointerId;let n=null;this._pointerState.size===0&&(n=this._clock.setTimeout(()=>{const a=this._pointerState.get(i);if(a){if(!a.isDragging){const o=a.previousEvent;this._pointerHold.emit(o,void 0,t.modifiers),a.holdEmitted=!0}a.holdTimeout=null}},this.holdDelay));const s={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(i,s),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_createPointerDragData(t,r,i){return{action:t,startEvent:r.startEvent,previousEvent:r.previousEvent,currentEvent:i}}_handlePointerMove(t){const r=t.data,i=r.native.pointerId,n=this._pointerState.get(i);n&&(n.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",n,r),void 0,n.modifiers):uSe(r,n.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),n.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}_startDragging(t){const r=t.data,i=r.native.pointerId;this._pointerState.forEach(n=>{n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,i===n.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",n,r)):this._pointerDrag.emit(this._createPointerDragData("start",n,n.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const i=t.data,n=i.native.pointerId,s=this._pointerState.get(n);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",s,r==="pointer-up"?i:s.previousEvent),void 0,s.modifiers):r==="pointer-up"&&s.downButton===i.native.button&&t.timestamp-s.startTimestamp<=this.maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(i),this._pointerState.delete(n),this.stopCapturingPointer(i.native),this._pointerState.size===0&&this._moveHandle.pause())}}const Sv={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let e0=class extends ye{constructor(){super(...arguments),this._handles=new hr}initialize(){const e=()=>{var t;return(t=this.view)==null?void 0:t.ready};this._handles.add([Gi(()=>!e(),()=>this._disconnect()),Gi(e,()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}get latestPointerType(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerType}get latestPointerLocation(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerLocation}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const e=this.view.surface,t=new n8(e,this.view.input),r=[new ySe,new gSe,new fSe,new hSe(this.view.navigation),new pSe],i=new uu({eventSource:t,recognizers:r});i.installHandlers("prevent-context-menu",[new cSe],cd.INTERNAL),i.installHandlers("navigation",[new tSe(this.view),new H_e(this.view),new eSe(this.view),new XN(this.view),new XN(this.view,[Sv.counter]),new z_e(this.view,"primary"),new Q_e(this.view,Sv.pan),new K_e(this.view,Sv.zoom),new Y_e(this.view,Sv.rotate),new B_e(this.view,"secondary"),new V_e(this.view,"touch")],cd.INTERNAL),this.view.viewEvents.connect(i),this._source=t,this._inputManager=i,ee(()=>{var n,s;return(s=(n=this.view)==null?void 0:n.navigation)==null?void 0:s.browserTouchPanEnabled},n=>{this._source&&(this._source.browserTouchPanningEnabled=!n)},Ke)}get test(){return{inputManager:this._inputManager}}};u([f()],e0.prototype,"view",void 0),u([f()],e0.prototype,"latestPointerType",null),u([f()],e0.prototype,"latestPointerLocation",null),e0=u([E("esri.views.2d.input.MapViewInputManager")],e0);const bSe=e0;var nj,sj,aj,gX={exports:{}};nj=gX,sj=function(){function e(n,s,a,o,l){t(n,s,a||0,o||n.length-1,l||i)}function t(n,s,a,o,l){for(;o>a;){if(o-a>600){var c=o-a+1,d=s-a+1,p=Math.log(c),h=.5*Math.exp(2*p/3),m=.5*Math.sqrt(p*h*(c-h)/c)*(d-c/2<0?-1:1);t(n,s,Math.max(a,Math.floor(s-d*h/c+m)),Math.min(o,Math.floor(s+(c-d)*h/c+m)),l)}var g=n[s],b=a,w=o;for(r(n,a,s),l(n[o],g)>0&&r(n,a,o);b<w;){for(r(n,b,w),b++,w--;l(n[b],g)<0;)b++;for(;l(n[w],g)>0;)w--}l(n[a],g)===0?r(n,a,w):r(n,++w,o),w<=s&&(a=w+1),s<=w&&(o=w-1)}}function r(n,s,a){var o=n[s];n[s]=n[a],n[a]=o}function i(n,s){return n<s?-1:n>s?1:0}return e},(aj=sj())!==void 0&&(nj.exports=aj);const vSe=gX.exports;function h6(e,t){if(!(this instanceof h6))return new h6(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function wSe(e,t,r){if(!r)return t.indexOf(e);for(var i=0;i<t.length;i++)if(r(e,t[i]))return i;return-1}function fh(e,t){gb(e,0,e.children.length,t,e)}function gb(e,t,r,i,n){n||(n=t0(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var s,a=t;a<r;a++)s=e.children[a],bb(n,e.leaf?i(s):s);return n}function bb(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function oj(e,t){return e.minX-t.minX}function lj(e,t){return e.minY-t.minY}function h_(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function xv(e){return e.maxX-e.minX+(e.maxY-e.minY)}function _Se(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function SSe(e,t){var r=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),n=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,n-r)*Math.max(0,s-i)}function m_(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Mv(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function t0(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function cj(e,t,r,i,n){for(var s,a=[t,r];a.length;)(r=a.pop())-(t=a.pop())<=i||(s=t+Math.ceil((r-t)/i/2)*i,vSe(e,s,t,r,n),a.push(t,s,s,r))}h6.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],i=this.toBBox;if(!Mv(e,t))return r;for(var n,s,a,o,l=[];t;){for(n=0,s=t.children.length;n<s;n++)a=t.children[n],Mv(e,o=t.leaf?i(a):a)&&(t.leaf?r.push(a):m_(e,o)?this._all(a,r):l.push(a));t=l.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!Mv(e,t))return!1;for(var i,n,s,a,o=[];t;){for(i=0,n=t.children.length;i<n;i++)if(s=t.children[i],Mv(e,a=t.leaf?r(s):s)){if(t.leaf||m_(e,a))return!0;o.push(s)}t=o.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var i=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=t0([]),this},remove:function(e,t){if(!e)return this;for(var r,i,n,s,a=this.data,o=this.toBBox(e),l=[],c=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],r=c.pop(),s=!0),a.leaf&&(n=wSe(e,a.children,t))!==-1)return a.children.splice(n,1),l.push(a),this._condense(l),this;s||a.leaf||!m_(a,o)?i?(r++,a=i.children[r],s=!1):a=null:(l.push(a),c.push(r),r=0,i=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:oj,compareMinY:lj,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,i){var n,s=r-t+1,a=this._maxEntries;if(s<=a)return fh(n=t0(e.slice(t,r+1)),this.toBBox),n;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(n=t0([])).leaf=!1,n.height=i;var o,l,c,d,p=Math.ceil(s/a),h=p*Math.ceil(Math.sqrt(a));for(cj(e,t,r,h,this.compareMinX),o=t;o<=r;o+=h)for(cj(e,o,c=Math.min(o+h-1,r),p,this.compareMinY),l=o;l<=c;l+=p)d=Math.min(l+p-1,c),n.children.push(this._build(e,l,d,i-1));return fh(n,this.toBBox),n},_chooseSubtree:function(e,t,r,i){for(var n,s,a,o,l,c,d,p;i.push(t),!t.leaf&&i.length-1!==r;){for(d=p=1/0,n=0,s=t.children.length;n<s;n++)l=h_(a=t.children[n]),(c=_Se(e,a)-l)<p?(p=c,d=l<d?l:d,o=a):c===p&&l<d&&(d=l,o=a);t=o||t.children[0]}return t},_insert:function(e,t,r){var i=this.toBBox,n=r?e:i(e),s=[],a=this._chooseSubtree(n,this.data,t,s);for(a.children.push(e),bb(a,n);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(n,s,t)},_split:function(e,t){var r=e[t],i=r.children.length,n=this._minEntries;this._chooseSplitAxis(r,n,i);var s=this._chooseSplitIndex(r,n,i),a=t0(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,fh(r,this.toBBox),fh(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(r,a)},_splitRoot:function(e,t){this.data=t0([e,t]),this.data.height=e.height+1,this.data.leaf=!1,fh(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var i,n,s,a,o,l,c,d;for(l=c=1/0,i=t;i<=r-t;i++)a=SSe(n=gb(e,0,i,this.toBBox),s=gb(e,i,r,this.toBBox)),o=h_(n)+h_(s),a<l?(l=a,d=i,c=o<c?o:c):a===l&&o<c&&(c=o,d=i);return d},_chooseSplitAxis:function(e,t,r){var i=e.leaf?this.compareMinX:oj,n=e.leaf?this.compareMinY:lj;this._allDistMargin(e,t,r,i)<this._allDistMargin(e,t,r,n)&&e.children.sort(i)},_allDistMargin:function(e,t,r,i){e.children.sort(i);var n,s,a=this.toBBox,o=gb(e,0,t,a),l=gb(e,r-t,r,a),c=xv(o)+xv(l);for(n=t;n<r-t;n++)s=e.children[n],bb(o,e.leaf?a(s):s),c+=xv(o);for(n=r-t-1;n>=t;n--)s=e.children[n],bb(l,e.leaf?a(s):s),c+=xv(l);return c},_adjustParentBBoxes:function(e,t,r){for(var i=r;i>=0;i--)bb(t[i],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():fh(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};class m6{constructor(t,r){this.key=new Cn(0,0,0,0),this.bounds=ua(),this.objectIds=new Set,this.key.set(r);const i=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.scale=i.scale,this.level=i.level}get id(){return this.key.id}get extent(){return Ve.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),r=sn.acquire();for(let i=0;i<t.length;i++)r[i]=new m6(this.tileInfoView,t[i]);return r}getQuantizationParameters(){return Lk.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}const Dd={added:[],removed:[]},y_=new Set,xSe=new Cn(0,0,0,0);class MSe extends Sc{constructor(t){super(),this._tiles=new Map,this._index=h6(9,W("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const i of t.added)if(!this.has(i)){const n=new m6(this.tileScheme,i);this._tiles.set(i,n),this._index.insert(n),r.added.push(n)}for(const i of t.removed)if(this.has(i)){const n=this.get(i);this._tiles.delete(i),this._index.remove(n),r.removed.push(n)}this.tiles.length=0,this._tiles.forEach(i=>this.tiles.push(i)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:i,lodInfo:n}=r,{level:s}=n;if(i.length>0)for(const{row:a,colFrom:o,colTo:l}of i)for(let c=o;c<=l;c++){const d=xSe.set(s,a,n.normalizeCol(c),n.getWorldForColumn(c)).id;if(y_.add(d),!this.has(d)){const p=new m6(this.tileScheme,d);this._tiles.set(d,p),this._index.insert(p),this.tiles.push(p),Dd.added.push(p)}}for(let a=this.tiles.length-1;a>=0;a--){const o=this.tiles[a];y_.has(o.id)||(this._tiles.delete(o.id),this.tiles.splice(a,1),this._index.remove(o),Dd.removed.push(o))}(Dd.added.length||Dd.removed.length)&&this.emit("update",Dd),Zm.pool.release(r),y_.clear(),Dd.added.length=0,Dd.removed.length=0}}let ISe=0,mu=class extends ye{constructor(){super(...arguments),this.color=new re([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return ISe++}};u([f({readOnly:!0})],mu.prototype,"version",null),u([f({type:re})],mu.prototype,"color",void 0),u([f({type:re})],mu.prototype,"haloColor",void 0),u([f()],mu.prototype,"haloOpacity",void 0),u([f()],mu.prototype,"fillOpacity",void 0),mu=u([E("esri.views.2d.support.HighlightOptions")],mu);const bX=mu,$Se=e=>e.includes("Brush");class vX{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),$Se(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}}function TSe(e,t,r,i,n,s,a,o){let l;e.ignorePadding&&(i={left:0,right:0,top:0,bottom:0}),e.width!=null&&e.height!=null?l=[e.width,e.height]:e.width==null&&e.height!=null?l=[e.height,e.height]:e.width!=null&&e.height==null?l=[e.width,e.width]:e.width==null&&e.height==null&&(l=null);const c=r[0]-(i.left+i.right),d=r[1]-(i.top+i.bottom);let p,h,m=e.area||{x:0,y:0,width:c,height:d};if(l){const g=c/d,b=l[0]/l[1];if(b>g){const w=m.width/b;m={x:m.x,y:Math.round(m.y+(m.height-w)/2),width:m.width,height:Math.round(w)}}else{const w=m.height*b;m={x:Math.round(m.x+(m.width-w)/2),y:m.y,width:Math.round(w),height:m.height}}}else l=[m.width,m.height];return l[0]>m.width?(p=Math.min(l[0]/m.width,t),h=l[0]/m.width/p):(p=1,h=l[0]/m.width),{resolutionScale:p,cropArea:{x:Math.round((m.x+i.left)*p),y:Math.round((m.y+i.top)*p),width:Math.round(m.width*p),height:Math.round(m.height*p)},outputScale:h,format:n,quality:s,children:a,rotation:o}}function CSe(e,t,r){const{ctx:i,canvas:n}=wX(e,r),s=i.getImageData(0,0,e.width,e.height),a=ASe(n,t);return _X(n),{dataUrl:a,data:s}}function ESe(e,t){const{ctx:r,canvas:i}=wX(e,t),n=r.getImageData(0,0,e.width,e.height);return _X(i),n}function wX(e,t){const r=kSe();t.premultipliedAlpha&&DSe(e),r.width=e.width,r.height=e.height;const i=r.getContext("2d");return i.putImageData(e,0,0),t.flipY&&FSe(i),{ctx:i,canvas:r}}function _X(e){e.width=0,e.height=0}function kSe(){return B(g_)&&(g_=document.createElement("canvas")),g_}let g_=null;function ASe(e,t){const r=NSe[t.format],i=t.quality/100;return e.toDataURL(r,i)}function LSe(e,t){const r=OSe(e),i=VSe[r];return{format:r,quality:zn(t!=null?t:i,0,100)}}function RSe(e,t){return t/Math.max(e[0],e[1])}function gPe(e,t,r){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(y6)try{return new ImageData(e,t)}catch{y6=!1}return SX(e,t,r)}function bPe(e,t,r,i){if(!t||!r)throw new Error("Cannot construct image data without dimensions");if(y6)try{return new ImageData(e,t,r)}catch{y6=!1}const n=SX(t,r,i);return n.data.set(e,0),n}function vPe(e,t,r,i=0,n=0,s=e.width-i,a=e.height-n,o=!1){const{data:l}=e,{width:c,height:d,data:p}=t,h=s/c,m=a/d,g=Math.ceil(h/2),b=Math.ceil(m/2),w=e.width;for(let v=0;v<d;v++)for(let _=0;_<c;_++){const S=4*(_+(o?d-v-1:v)*c);let x=0,M=0,I=0,$=0,T=0,A=0;const P=(v+.5)*m;for(let F=Math.floor(v*m);F<(v+1)*m;F++){const j=Math.abs(P-(F+.5))/b,V=(_+.5)*h,z=j*j;for(let J=Math.floor(_*h);J<(_+1)*h;J++){const K=Math.abs(V-(J+.5))/g,Q=Math.sqrt(z+K*K);if(Q>=1)continue;let U=2*Q*Q*Q-3*Q*Q+1;const te=4*(i+J+(n+F)*w);A+=U*l[te+3],M+=U,!r&&l[te+3]<255&&(U=U*l[te+3]/255),I+=U*l[te],$+=U*l[te+1],T+=U*l[te+2],x+=U}}p[S]=I/x,p[S+1]=$/x,p[S+2]=T/x,p[S+3]=A/M}return t}function SX(e,t,r){return r||(r=PSe()),r.getContext("2d").createImageData(e,t)}let dg=null,y6=!0;function PSe(){return dg||(dg=document.createElement("canvas"),dg.width=1,dg.height=1),dg}function OSe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return jSe}}function FSe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function DSe(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4){const n=t[i+3];if(n!==255&&n>0){const s=255/n;t[i+0]=t[i+0]*s,t[i+1]=t[i+1]*s,t[i+2]=t[i+2]*s}}}const NSe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},uj=98,jSe="png",VSe={png:100,jpg:uj,jpeg:uj};var vr;function wPe(e,t,r={}){const i=xX(e);for(;i.length>1;){const n=g6(t,i.shift(),r);if(C(n))return n}return zSe(t,i.shift(),r)}function xX(e){const t=W("esri-force-webgl");if(t===vr.WEBGL1||t===vr.WEBGL2)return[t];switch(e){case"2d":return W("mac")&&W("chrome")?[vr.WEBGL1,vr.WEBGL2]:[vr.WEBGL2,vr.WEBGL1];case"3d":return[vr.WEBGL2,vr.WEBGL1]}}function zSe(e,t,r={}){if(!window.WebGLRenderingContext)return dj(e,BSe),null;const i=g6(e,t,r);return B(i)&&dj(e,USe),i}function g6(e,t,r={}){const i=t===vr.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let n=null;for(const s of i){try{n=e.getContext(s,r)}catch{}if(n)break}return n}function dj(e,t){const r=e.parentNode;r&&(r.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}(function(e){e[e.WEBGL1=1]="WEBGL1",e[e.WEBGL2=2]="WEBGL2"})(vr||(vr={}));const BSe='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',USe=`It doesn't appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>`;let b_,v_;function GSe(e){const t=xX(e);for(;t.length>1;){const r=fj(t.shift());if(r.available)return r}return fj(t.shift())}function fj(e){switch(e){case vr.WEBGL1:return qSe();case vr.WEBGL2:return HSe()}}function qSe(){return b_||(b_=ZSe()),b_}function HSe(){return v_||(v_=QSe()),v_}class MX{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class WSe extends MX{constructor(){super(...arguments),this.type=vr.WEBGL1}}class JSe extends MX{constructor(){super(...arguments),this.type=vr.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function IX(e,t){var s;if(e===vr.WEBGL1&&typeof WebGLRenderingContext===void 0||e===vr.WEBGL2&&typeof WebGL2RenderingContext===void 0)return null;const r=document.createElement("canvas");if(!r)return null;let i=g6(r,e,{failIfMajorPerformanceCaveat:!0});if(B(i)&&(i=g6(r,e),C(i)&&(t.majorPerformanceCaveat=!0)),B(i))return i;if(e===vr.WEBGL1){const a=(s=i.getParameter(i.VERSION))==null?void 0:s.match(/^WebGL\s+([\d.]*)/);if(a){const o=parseFloat(a[1]);t.available=o>=.94}}else t.available=!0;t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return n&&(t.supportsHighPrecisionFragment=n.precision>0),i}function ZSe(){const e=new WSe,t=IX(vr.WEBGL1,e);return B(t)||(e.supportsElementIndexUint=t.getExtension("OES_element_index_uint")!==null,e.supportsStandardDerivatives=t.getExtension("OES_standard_derivatives")!==null,e.supportsInstancedArrays=t.getExtension("ANGLE_instanced_arrays")!==null,e.supportsTextureFloat=t.getExtension("OES_texture_float")!==null,e.supportsTextureHalfFloat=t.getExtension("OES_texture_half_float")!==null,e.supportsColorBufferFloat=t.getExtension("WEBGL_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=t.getExtension("EXT_color_buffer_half_float")!==null),e}function QSe(){const e=new JSe,t=IX(vr.WEBGL2,e);return B(t)||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function YSe(e){const t=GSe(e);if(!t.available)return new R("webgl:required","WebGL is required but not supported.");if(e==="3d"&&t.majorPerformanceCaveat)return new R("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new R("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new R("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===vr.WEBGL1){if(!t.supportsElementIndexUint)return new R("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new R("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new R("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function KSe(e){return e&&"nodeType"in e}function XSe(e){return e&&typeof e.render=="function"}const pj={component:"esri-component"};let _f=class extends ye{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(pj.component),t&&t.classList.remove(pj.component),this._set("node",e))}castNode(e){return e?typeof e=="string"||KSe(e)?(this._set("widget",null),ak(e)):(XSe(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};u([f({dependsOn:[]})],_f.prototype,"id",null),u([f()],_f.prototype,"node",null),u([Ze("node")],_f.prototype,"castNode",null),u([f({readOnly:!0})],_f.prototype,"widget",void 0),_f=u([E("esri.views.ui.Component")],_f);const c9=_f,exe={left:0,top:0,bottom:0,right:0},$X={bottom:30,top:15,right:15,left:15},w_="manual",Wi={ui:"esri-ui",corner:"esri-ui-corner",innerContainer:"esri-ui-inner-container",manualContainer:"esri-ui-manual-container",cornerContainer:"esri-ui-corner-container",topLeft:"esri-ui-top-left",topRight:"esri-ui-top-right",bottomLeft:"esri-ui-bottom-left",bottomRight:"esri-ui-bottom-right"};function txe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function __(e){const t=e,r=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(r===null||r===Object.prototype)&&("component"in t||"index"in t||"position"in t)?e:null}function S_(e,{top:t,bottom:r,left:i,right:n}){e.style.top=t,e.style.bottom=r,e.style.left=i,e.style.right=n}let Vl=class extends Sc.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new hr,this.view=null,this._applyViewPadding=()=>{const t=this.container;t&&S_(t,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const t=this._innerContainer;t&&S_(t,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this._handles.add([ee(()=>{var e;return[(e=this.view)==null?void 0:e.padding,this.container]},this._applyViewPadding,Ke),ee(()=>this.padding,this._applyUIPadding,Ke)])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(Wi.ui),Uge(e),this._attachContainers(e)),t&&(t.classList.remove(Wi.ui),S_(t,{top:"",bottom:"",left:"",right:""}),dW(t)),this._set("container",e))}get height(){const e=this.get("view.height")||0;if(e===0)return e;const t=this._getViewPadding(),r=t.top+t.bottom;return Math.max(e-r,0)}get padding(){return this._get("padding")}set padding(e){e?this._override("padding",e):this._clearOverride("padding")}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...$X,...e}}get width(){const e=this.get("view.width")||0;if(e===0)return e;const t=this._getViewPadding(),r=t.left+t.right;return Math.max(e-r,0)}add(e,t){let r,i;if(Array.isArray(e))return void e.forEach(s=>this.add(s,t));const n=__(e);n&&({index:r,position:t,component:e,key:i}=n),t&&typeof t=="object"&&({index:r,key:i,position:t}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,r,i)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map(i=>this.remove(i,t));const r=this._find(e);if(r){const i=this._componentToKey;if(i.has(e)&&i.get(e)!==t)return;const n=this._components.indexOf(r);return r.node.parentNode&&r.node.parentNode.removeChild(r.node),this._componentToKey.delete(e),this._components.splice(n,1)[0]}}empty(e){return Array.isArray(e)?e.map(t=>this.empty(t)).reduce((t,r)=>t.concat(r)):(e=e||w_)===w_?Array.prototype.slice.call(this._manualContainer.children).filter(t=>!t.classList.contains(Wi.corner)).map(t=>this.remove(t)):this._isValidPosition(e)?Array.prototype.slice.call(this._cornerNameToContainerLookup[e].children).map(this.remove,this):null}move(e,t){if(Array.isArray(e)&&e.forEach(s=>this.move(s,t)),!e)return;let r;const i=__(e)||__(t);if(i&&(r=i.index,t=i.position,e=i.component||e),t&&!this._isValidPosition(t))return;const n=this.remove(e);n&&this.add(n,{position:t,index:r})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,r,i){e instanceof c9||(e=new c9({node:e})),this._place({component:e,position:t,index:r}),this._components.push(e),i&&this._componentToKey.set(e,i)}_find(e){return e?e instanceof c9?this._findByComponent(e):typeof e=="string"?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){return this.get("view.padding")||exe}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(Wi.innerContainer),e.classList.add(Wi.cornerContainer);const t=document.createElement("div");t.classList.add(Wi.innerContainer),t.classList.add(Wi.manualContainer);const r=document.createElement("div");r.classList.add(Wi.topLeft),r.classList.add(Wi.corner),e.appendChild(r);const i=document.createElement("div");i.classList.add(Wi.topRight),i.classList.add(Wi.corner),e.appendChild(i);const n=document.createElement("div");n.classList.add(Wi.bottomLeft),n.classList.add(Wi.corner),e.appendChild(n);const s=document.createElement("div");s.classList.add(Wi.bottomRight),s.classList.add(Wi.corner),e.appendChild(s),this._innerContainer=e,this._manualContainer=t;const a=eo();this._cornerNameToContainerLookup={"top-left":r,"top-right":i,"bottom-left":n,"bottom-right":s,"top-leading":a?i:r,"top-trailing":a?r:i,"bottom-leading":a?s:n,"bottom-trailing":a?n:s},this._positionNameToContainerLookup={manual:t,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.component,r=e.position||w_,i=e.index,n=this._positionNameToContainerLookup[r],s=i>-1;if(txe(t.widget)&&t.widget.startup(),!s)return void n.appendChild(t.node);const a=Array.prototype.slice.call(n.children);if(i===0)return void(n.firstChild?SO(t.node,n.firstChild):n.appendChild(t.node));i>=a.length?n.appendChild(t.node):SO(t.node,a[i])}_toPxPosition(e){return{top:this._toPxUnit(e.top),left:this._toPxUnit(e.left),right:this._toPxUnit(e.right),bottom:this._toPxUnit(e.bottom)}}_toPxUnit(e){return e===0?"0":e+"px"}_findByComponent(e){let t,r=null;return this._components.some(i=>(t=i===e,t&&(r=i),t)),r}_findById(e){let t,r=null;return this._components.some(i=>(t=i.id===e,t&&(r=i),t)),r}_findByNode(e){let t,r=null;return this._components.some(i=>(t=i.node===e,t&&(r=i),t)),r}};u([f()],Vl.prototype,"container",null),u([f()],Vl.prototype,"height",null),u([f({value:$X})],Vl.prototype,"padding",null),u([Ze("padding")],Vl.prototype,"castPadding",null),u([f()],Vl.prototype,"view",void 0),u([f()],Vl.prototype,"width",null),Vl=u([E("esri.views.ui.UI")],Vl);const rxe=Vl;function hj(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function ixe(e,t){return e.length!==t.length||e.some((r,i)=>r.text!==t[i].text)}function Iv(e,t,r){!r||!t||e.find(i=>i.layerView===t&&i.text===r)||e.push({text:r,layerView:t})}function nxe(e){return e.type==="bing-maps"}const Vc=[];let r0=class extends V1{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Se,this.view=null,this._allLayerViewsChange=t=>{this.handles.remove("suspension");const r=this.get("view.allLayerViews");r&&this.handles.add(r.map(i=>ee(()=>{var n;return[i.suspended,(n=i.layer)==null?void 0:n.attributionVisible]},()=>this._updateAttributionItems())),"suspension"),t&&t.removed&&t.removed.forEach(i=>{this._pendingAttributions.delete(i),this._fetchedAttributionData.delete(i)}),this._updateAttributionItems()},this.handles.add([Fn(()=>{var t;return(t=this.view)==null?void 0:t.allLayerViews},"change",t=>this._allLayerViewsChange(t),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Gi(()=>{var t;return((t=this.view)==null?void 0:t.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.get("view.allLayerViews");Vc.length=0,e?(e.forEach(t=>{var n;if(t.suspended||!((n=t.layer)!=null&&n.attributionVisible))return;const r=t.layer;if(hj(r,"user"))return void Iv(Vc,t,r.copyright);if(r.hasAttributionData){if(this._fetchedAttributionData.has(t)){const s=this._fetchedAttributionData.get(t);return void(s?Iv(Vc,t,this._getDynamicAttribution(s,this.view,r)):hj(r)&&Iv(Vc,t,r.copyright))}return void this._fetchAttributionData(t)}const i=r.get("portalItem.accessInformation");Iv(Vc,t,i||r.copyright)}),ixe(this.items,Vc)&&(this.items.removeAll(),this.items.addMany(Vc)),Vc.length=0,this.notifyChange("state")):this._clear()}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await X6(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const r=t.ok?this._createContributionIndex(t.value,nxe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,r)}this._updateAttributionItems()}_createContributionIndex(e,t){const r=e.contributors,i={};if(!r)return i;for(let n=0;n<r.length;n++){const s=r[n],a=s.coverageAreas;if(!a)return;for(const o of a){const l=o.bbox,c=o.zoomMin-(t&&o.zoomMin?1:0),d=o.zoomMax-(t&&o.zoomMax?1:0),p={xmin:l[1],ymin:l[0],xmax:l[3],ymax:l[2],spatialReference:Ce.WGS84},h={extent:rd(p),attribution:s.attribution||"",score:o.score!=null?o.score:100,id:n};for(let m=c;m<=d;m++)i[m]=i[m]||[],i[m].push(h)}}return i.maxKey=Math.max.apply(null,Object.keys(i)),i}_getDynamicAttribution(e,t,r){const{extent:i,scale:n}=t;let s=r.tileInfo.scaleToZoom(n);if(s=Math.min(e.maxKey,Math.round(s)),!i||s==null||s<=-1)return"";const a=e[s],o=rw(i.center.clone().normalize(),t.spatialReference),l={};return a?a.filter(c=>{const d=!l[c.id]&&o&&iw(c.extent,o);return d&&(l[c.id]=!0),d}).sort((c,d)=>d.score-c.score||c.objectId-d.objectId).map(c=>c.attribution).join(", "):""}};u([f({readOnly:!0,type:Se})],r0.prototype,"items",void 0),u([f({readOnly:!0})],r0.prototype,"state",null),u([f()],r0.prototype,"view",void 0),r0=u([E("esri.widgets.Attribution.AttributionViewModel")],r0);const TX=r0,zc={base:"esri-attribution esri-widget",poweredBy:"esri-attribution__powered-by",sources:"esri-attribution__sources",open:"esri-attribution--open",sourcesOpen:"esri-attribution__sources--open",link:"esri-attribution__link",widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let Yi=class extends xr{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:i})=>this._checkSourceTextOverflow(i))),this.iconClass=zc.widgetIcon,this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new TX}initialize(){this.own(Fn(()=>{var e;return(e=this.viewModel)==null?void 0:e.items},"change",()=>this.scheduleRender()))}destroy(){var e;(e=this._resizeObserver)==null||e.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,t)=>(e.includes(t.text)||e.push(t.text),e),[]).join(this.itemDelimiter)}render(){const e={[zc.open]:this._isOpen};return L("div",{bind:this,class:this.classes(zc.base,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return L("div",{class:zc.poweredBy},"Powered by"," ",L("a",{class:zc.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,r=t?"0":"",{attributionText:i}=this,n={[zc.sourcesOpen]:e,[zc.interactive]:t};return L("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(zc.sources,n),innerHTML:i,tabindex:r})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let t=!1;const{clientHeight:r,clientWidth:i,scrollWidth:n}=e,s=n>i,a=this._attributionTextOverflowed!==s;if(this._attributionTextOverflowed=s,a&&(t=!0),this._isOpen){const o=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,o&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};u([f()],Yi.prototype,"_isOpen",void 0),u([f()],Yi.prototype,"_isInteractive",null),u([f()],Yi.prototype,"_attributionTextOverflowed",void 0),u([f()],Yi.prototype,"_prevSourceNodeHeight",void 0),u([f({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Yi.prototype,"attributionText",null),u([f()],Yi.prototype,"iconClass",void 0),u([f()],Yi.prototype,"itemDelimiter",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Yi.prototype,"label",void 0),u([f(),tr("esri/widgets/Attribution/t9n/Attribution")],Yi.prototype,"messages",void 0),u([fe("viewModel.view")],Yi.prototype,"view",void 0),u([f({type:TX})],Yi.prototype,"viewModel",void 0),u([Li()],Yi.prototype,"_toggleState",null),Yi=u([E("esri.widgets.Attribution")],Yi);const sxe=Yi,axe="esri.widgets.CompassViewModel";let Sf=class extends AA(ye){constructor(e){super(e),this._handles=new hr,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(ee(()=>this.view,this._updateRotationWatcher,Ke))}destroy(){this._handles=On(this._handles),this.view=null}get canShowNorth(){const e=this.get("view.spatialReference");return!(!e||!e.isWebMercator&&!e.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const e={};this.view.type==="2d"?e.rotation=0:e.heading=0,this.callGoTo({target:e})}_updateForRotation(e){e!=null&&(this.orientation={z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this.orientation={x:0,y:0,z:t}}_updateRotationWatcher(e){this._handles.removeAll(),e&&this._handles.add(e.type==="2d"?ee(()=>e==null?void 0:e.rotation,this._updateForRotation,Ke):ee(()=>e==null?void 0:e.camera,this._updateForCamera,Ke))}};u([f({readOnly:!0})],Sf.prototype,"canShowNorth",null),u([f()],Sf.prototype,"orientation",void 0),u([f({readOnly:!0})],Sf.prototype,"state",null),u([f()],Sf.prototype,"view",void 0),Sf=u([E(axe)],Sf);const CX=Sf,Bc={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let Po=class extends xr{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass=Bc.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new CX}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,r=t==="disabled",i=(t==="rotation"?"rotation":"compass")=="compass",n=r?-1:0,s={[Bc.disabled]:r,[Bc.interactive]:!r},a={[Bc.northIcon]:i,[Bc.rotationIcon]:!i},{messages:o}=this;return L("div",{bind:this,class:this.classes(Bc.base,s),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:n,"aria-label":o.reset,title:o.reset},L("span",{"aria-hidden":"true",class:this.classes(Bc.icon,a),styles:this._toRotationTransform(e)}),L("span",{class:Bc.text},o.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(e){return{transform:`rotateZ(${e.z}deg)`}}};u([fe("viewModel.goToOverride")],Po.prototype,"goToOverride",void 0),u([f()],Po.prototype,"iconClass",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Po.prototype,"label",void 0),u([f(),tr("esri/widgets/Compass/t9n/Compass")],Po.prototype,"messages",void 0),u([fe("viewModel.view")],Po.prototype,"view",void 0),u([f({type:CX})],Po.prototype,"viewModel",void 0),u([Li()],Po.prototype,"_reset",null),Po=u([E("esri.widgets.Compass")],Po);const oxe=Po;let i0=class extends ye{constructor(e){super(e),this._handles=new hr,this.navigationMode="pan",this.view=null}initialize(){this._handles.add(Gi(()=>{var e;return(e=this.view)==null?void 0:e.inputManager},()=>this._setNavigationMode()))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&this.view.type==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction=this.navigationMode==="pan"?"pan":"rotate"}};u([f({readOnly:!0})],i0.prototype,"state",null),u([f()],i0.prototype,"navigationMode",void 0),u([f()],i0.prototype,"view",void 0),i0=u([E("esri.widgets.NavigationToggleViewModel")],i0);const EX=i0,Rs={base:"esri-navigation-toggle esri-widget",button:"esri-navigation-toggle__button esri-widget--button",activeButton:"esri-navigation-toggle__button--active",panButton:"esri-navigation-toggle__button--pan",rotateButton:"esri-navigation-toggle__button--rotate",isLayoutHorizontal:"esri-navigation-toggle--horizontal",rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let Oo=class extends xr{constructor(e,t){super(e,t),this.iconClass=Rs.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new EX}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}toggle(){return this.viewModel.toggle()}render(){const e=this.get("viewModel.state")==="disabled",t=this.get("viewModel.navigationMode")==="pan",r={[Rs.disabled]:e,[Rs.isLayoutHorizontal]:this.layout==="horizontal"},i={[Rs.activeButton]:t},n={[Rs.activeButton]:!t},s=e?-1:0,a=this.messages.toggle;return L("div",{bind:this,class:this.classes(Rs.base,r),onclick:this._toggle,onkeydown:this._toggle,tabIndex:s,"aria-label":a,title:a},L("div",{class:this.classes(Rs.button,Rs.panButton,i)},L("span",{class:Rs.panIcon})),L("div",{class:this.classes(Rs.button,Rs.rotateButton,n)},L("span",{class:Rs.rotationIcon})))}_toggle(){this.toggle()}};u([f()],Oo.prototype,"iconClass",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Oo.prototype,"label",void 0),u([f({value:"vertical"})],Oo.prototype,"layout",null),u([f(),tr("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Oo.prototype,"messages",void 0),u([fe("viewModel.view")],Oo.prototype,"view",void 0),u([f({type:EX})],Oo.prototype,"viewModel",void 0),u([Li()],Oo.prototype,"_toggle",null),Oo=u([E("esri.widgets.NavigationToggle")],Oo);const lxe=Oo,fg={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let yu=class extends xr{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const e=this.enabled?0:-1,t={[fg.disabled]:!this.enabled,[fg.interactive]:this.enabled},r={[this.iconClass]:!!this.iconClass};return L("div",{bind:this,class:this.classes(fg.button,t),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:e,title:this.title},L("span",{"aria-hidden":"true",role:"presentation",class:this.classes(fg.icon,r)}),L("span",{class:fg.iconText},this.title))}_triggerAction(){this.action.call(this)}};u([f()],yu.prototype,"action",void 0),u([f()],yu.prototype,"enabled",void 0),u([f()],yu.prototype,"iconClass",void 0),u([f()],yu.prototype,"title",void 0),u([Li()],yu.prototype,"_triggerAction",null),yu=u([E("esri.widgets.IconButton")],yu);const mj=yu;let n0=class extends ye{get canZoomIn(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return t===0||e>t}get canZoomOut(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return t===0||e<t}};u([f({readOnly:!0})],n0.prototype,"canZoomIn",null),u([f({readOnly:!0})],n0.prototype,"canZoomOut",null),u([f()],n0.prototype,"view",void 0),n0=u([E("esri.widgets.Zoom.ZoomConditions2D")],n0);const cxe=n0;let s0=class extends ye{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};u([f({readOnly:!0})],s0.prototype,"canZoomIn",null),u([f({readOnly:!0})],s0.prototype,"canZoomOut",null),u([f()],s0.prototype,"view",void 0),s0=u([E("esri.widgets.Zoom.ZoomConditions3D")],s0);const uxe=s0;let gu=class extends ye{constructor(e){super(e),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new cxe({view:e}):e.type==="3d"&&(this._zoomConditions=new uxe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){if(!this.canZoomIn)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomIn():qS(e.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomOut():qS(e.goTo({zoomFactor:.5}))}};u([f()],gu.prototype,"_zoomConditions",void 0),u([f({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],gu.prototype,"canZoomIn",void 0),u([f({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],gu.prototype,"canZoomOut",void 0),u([f({readOnly:!0})],gu.prototype,"state",null),u([f()],gu.prototype,"view",null),gu=u([E("esri.widgets.Zoom.ZoomViewModel")],gu);const kX=gu,pg={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let zl=class extends xr{constructor(e,t){super(e,t),this.iconClass=pg.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new kX}initialize(){this._zoomInButton=new mj({action:this.zoomIn.bind(this),iconClass:pg.zoomInIcon}),this._zoomOutButton=new mj({action:this.zoomOut.bind(this),iconClass:pg.zoomOutIcon})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}render(){const e=this.viewModel,t={[pg.horizontalLayout]:this.layout==="horizontal"};return this._zoomInButton.enabled=e.state==="ready"&&e.canZoomIn,this._zoomOutButton.enabled=e.state==="ready"&&e.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,L("div",{class:this.classes(pg.base,t)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};u([f()],zl.prototype,"iconClass",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],zl.prototype,"label",void 0),u([f({value:"vertical"})],zl.prototype,"layout",null),u([f(),tr("esri/widgets/Zoom/t9n/Zoom")],zl.prototype,"messages",void 0),u([fe("viewModel.view")],zl.prototype,"view",void 0),u([f({type:kX})],zl.prototype,"viewModel",void 0),zl=u([E("esri.widgets.Zoom")],zl);const AX=zl,LX="esri.views.ui.DefaultUI";function dxe(e){return e&&e.view!==void 0}ae.getLogger(LX);let u9=class extends rxe{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this._handles.add([ee(()=>this.components,this._componentsWatcher.bind(this),Ke),ee(()=>this.view,this._updateViewAwareWidgets.bind(this),Ke)])}_add(e,t,r,i){if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;e=this._createComponent(e)}super._add(e,t,r,i)}_removeComponents(e){e.forEach(t=>{const r=this._find(t);r&&(this.remove(r),r.destroy())})}_updateViewAwareWidgets(e){this.components.forEach(t=>{const r=this._find(t),i=r&&r.widget;dxe(i)&&(i.view=e)})}_componentsWatcher(e,t){this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:t}=this.padding;this.padding=t}}_addComponents(e){this.initialized&&e.forEach(t=>this.add(this._createComponent(t),this._defaultPositionLookup[t]))}_createComponent(e){const t=this._createWidget(e);if(t)return new c9({id:e,node:t})}_createWidget(e){return e==="attribution"?this._createAttribution():e==="compass"?this._createCompass():e==="navigation-toggle"?this._createNavigationToggle():e==="zoom"?this._createZoom():void 0}_createAttribution(){return new sxe({view:this.view})}_createCompass(){return new oxe({view:this.view})}_createNavigationToggle(){return new lxe({view:this.view})}_createZoom(){return new AX({view:this.view})}};u([f()],u9.prototype,"components",void 0),u9=u([E(LX)],u9);const fxe=u9;let d9=class extends fxe{constructor(e){super(e),this.components=["attribution","zoom"]}};u([f()],d9.prototype,"components",void 0),d9=u([E("esri.views.ui.2d.DefaultUI2D")],d9);const RX=d9;var eT;let f9=eT=class extends Z{constructor(e){super(e),this.color=new re([0,0,0,1])}clone(){return new eT(D({color:this.color}))}};u([f({type:re,json:{write:!0}})],f9.prototype,"color",void 0),f9=eT=u([E("esri.webmap.background.ColorBackground")],f9);const pxe=f9,wl=ae.getLogger("esri.views.MapView");let PX,OX,FX,DX,NX,jX;async function hxe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:i,MagnifierView2D:n,Stage:s}]=await Promise.all([Y(()=>import("./webglDeps.4936449e.js"),["webglDeps.4936449e.js","VertexArrayObject.4f327ffb.js","Texture.ccb8779a.js","enums.c60b1dad.js","ProgramTemplate.f984cffb.js","programUtils.5160469a.js"],import.meta.url),Y(()=>import("./mapViewDeps.6eec4294.js"),["mapViewDeps.6eec4294.js","CIMSymbolHelper.9d471047.js","BidiEngine.95523203.js","enums.9bd521fc.js","alignmentUtils.84250e5d.js","number.6e30c64a.js","GeometryUtils.f3664fe1.js","utils.d12e2f8e.js","Utils.2e3a7d75.js","enums.c60b1dad.js","Texture.ccb8779a.js","VertexElementDescriptor.2400a91d.js","MaterialKey.0b3d0eb1.js","WGLContainer.22a0c4e4.js","VertexArrayObject.4f327ffb.js","ProgramTemplate.f984cffb.js","StyleDefinition.d46cb482.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","enums.58eeda20.js","programUtils.5160469a.js","Rasterizer.cb69cb24.js","cimAnalyzer.92f51743.js","commonjsHelpers.ce2b5698.js","imageutils.fd6b3d4c.js","Matcher.d151d078.js","visualVariablesUtils.3b6fdf98.js","visualVariablesUtils.e34b6b98.js","tileUtils.40106882.js","TileClipper.5b46af68.js","Geometry.f2d62961.js","ExpandedCIM.ec020537.js","CircularArray.b67074d5.js","requestImageUtils.ef914741.js","ComputedAttributeStorage.40f17c59.js","centroid.87389c2d.js","BaseGraphicContainer.1fa0b98f.js","normalizeUtilsSync.924df729.js","projectionSupport.19c2bea2.js","json.8bd707cf.js","FeatureContainer.3d3ea08e.js","TileContainer.65a061dc.js","schemaUtils.a0315d44.js","createSymbolSchema.6b64f055.js","MD5.7323a015.js","util.6c0fb4fc.js","vec3f32.ca7a14c1.js","GraphicContainer.0564b6c8.js"],import.meta.url)]);OX=e,FX=t,DX=r,NX=i,jX=n,PX=s}const yj=160;function mxe(e){return e&&e.declaredClass==="esri.Viewpoint"}let Pe=class extends y0e(f8e(p8e(V8e))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Em({getCollections:()=>{var t,r;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new G7e(this),this._pePromise=null,this.floors=new Se,this.highlightOptions=new bX,this.inputManager=new bSe({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new vX,this.type="2d",this.ui=new RX,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new sX,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([ee(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(yj)},Cm),this.on("resize",t=>this._resizeHandler(t)),ee(()=>{var t;return(t=this.animationManager)==null?void 0:t.animation},t=>{this.animation=t})]),Ope()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new MSe(this.featuresTilingScheme)}get initialExtentRequired(){var a;const{scale:e,constraints:t,center:r,viewpoint:i,extent:n}=this;let s=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((a=this.map.initialViewProperties)==null?void 0:a.viewpoint))&&!n&&(t!=null&&t.effectiveLODs||(s=-1),(!r||e===0&&s===-1)&&(!i||!C(i.targetGeometry)||i.targetGeometry.type!=="extent"&&!i.scale))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!gd()||(this._pePromise||(this._pePromise=bd().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,r=e.targetGeometry;return!!gc(r.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const r=()=>{e===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};e.when(r,r)}get background(){return this.get("map.initialViewProperties.background")||null}set background(e){e===void 0?this._clearOverride("background"):this._override("background",e)}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return new be({x:e[0],y:e[1],spatialReference:t})}set center(e){if(e==null)return;if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(i){return void wl.error(new R("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:i}))}const r=this.viewpoint;H$(r,r,t),this.viewpoint=r}set constraints(e){const t=this._get("constraints");t&&(this.handles.remove("map-view-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(ee(()=>e.version,()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))},Cm),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void wl.error(new R("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(i){return void wl.error(new R("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:i}))}const r=this.viewpoint;C7e(r,r,t,this.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;V7e(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",-1);const r=this._get("extent");return r&&(this._set("extent",null),this._set("center",r.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint;HN(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(e=>!e.destroyed&&!("layerViews"in e)&&e.updating===!0))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let t,r;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?r=new R("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):B(e.targetGeometry)&&(r=new R("mapview:invalid-viewpoint","geometry not defined"))}catch(n){r=new R("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:n})}if(r)return void wl.error(r);this._scaleBeforeChangingSpatialReference=null;const i=new so({targetGeometry:new be,scale:0,rotation:0});ho(i,t),this.constraints.constrain(i,this.state.paddedViewState.viewpoint),this.state.viewpoint=i,this.frameTask.requestFrame(),this._set("viewpoint",i)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(e==null)return;if(!this.ready){this._set("zoom",e),this._set("scale",0);const r=this._get("extent");return r&&(this._set("extent",null),this._set("center",r.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const t=this.viewpoint;HN(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),Xa(()=>this.ready,t).then(()=>{const r={animate:!0,...t},i=I7e(e,this);return this.animation.update(i),this._gotoTask={},r.animate?this._gotoAnimated(i,r):this._gotoImmediate(i,r)});wl.error("#goTo()","target cannot be null or undefined")}async hitTest(e,t){const r=VN(e)?jN(this,e):e;if(!this.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let i=new Set,n=!1,s=null,a=null;t!=null&&t.include?bj(t.include,gj(this,d=>i.add(d),d=>{s||(s=new Set),s.add(d)},d=>i.add(d),()=>n=!0)):(n=!0,i=new Set(this.allLayerViews)),t!=null&&t.exclude&&bj(t.exclude,gj(this,d=>i.delete(d),d=>{a||(a=new Set),a.add(d)}));const o=this.allLayerViews.filter(d=>!d.suspended&&i.has(d)).reverse(),l=this.toMap(r);let c=[...n?this.graphicsView.hitTest(l).map(d=>({type:"graphic",graphic:d,layer:null,mapPoint:l})):[],...await Promise.all(o.map(d=>d.hitTest(l,r)).toArray())].filter(C).flat().filter(C);return s&&(c=c.filter(d=>!("graphic"in d)||!d.graphic||s.has(tT(d.graphic)))),a&&(c=c.filter(d=>!("graphic"in d)||!d.graphic||a.has(tT(d.graphic)))),{screenPoint:r,results:c}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),r=await this._stage.takeScreenshot(t);return CSe(r,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),r=await this._stage.takeScreenshot(t);return ESe(r,this._pixelFormat)}_createScreenshotPlan(e){e=e||{};const t=this.supersampleScreenshotsEnabled?Math.min(4,RSe(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let r;e.layers?(r=[],e.layers.forEach(s=>{const a=this.allLayerViews.find(o=>o.layer.id===s.id);a&&"container"in a&&a.container&&r.push(a.container)})):r=this._stage.children;const{format:i,quality:n}=LSe(e.format,e.quality);return TSe(e,t,this.size,this.padding,i,n,r,e.rotation)}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null;const t=VN(e)?jN(this,e):e,r=[0,0],[i,n]=this.state.toMap(r,[t.x,t.y]),s=this.spatialReference;return new be({x:i,y:n,spatialReference:s})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),r=[t.x,t.y];return this.state.toScreen(r,r),Fi(r[0],r[1])}on(e,t,r,i){return this.inputManager&&this.viewEvents.on(e,t,r,i)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,t,r;return this.map&&"initialViewProperties"in this.map&&((t=(e=this.map)==null?void 0:e.initialViewProperties)==null?void 0:t.spatialReference)||((r=this.defaultsFromMap)==null?void 0:r.spatialReference)||null}hasLayerViewModule(e){return JN.hasLayerViewModule(e)}importLayerView(e){return JN.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(wl.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(t=>({...t,mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=YSe(this.type);return W("safari")&&W("safari")<9&&(e=new R("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:W("safari")})),C(e)?(wl.warn("#validate()",e.message),Promise.reject(e)):hxe()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new G$),this.animation}_cancellableGoTo(e,t,r){const i=()=>e===this._gotoTask,n=r.then(()=>{i()&&(this.animation=null)}).catch(a=>{throw i()&&(this.animation=null,t.done||(t.stop(),this.frameTask.animationInProgress=!1)),a}),s=new Promise(a=>a(n));return t.when().catch(()=>{i()&&s.cancel&&s.cancel()}),s}_gotoImmediate(e,t){const r=this._gotoTask,i=this.animation,n=e.then(s=>{if(Ge(t),r!==this._gotoTask)throw new R("view:goto-interrupted","Goto was interrupted");this.viewpoint=i.target=s,i.finish()});return this._cancellableGoTo(r,i,n)}_flipStationary(e){return this._stationaryTimer!==null||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const t=performance.now()-this._lastStationaryEventTimestamp;t<yj&&(this._stationaryTimer=this._flipStationary(t))},e)),this._stationaryTimer}_getDefaultViewpoint(){var w,v,_,S;const{constraints:e,initialExtent:t,map:r,padding:i,size:n}=this;if(!e)return null;const s=r&&"initialViewProperties"in r&&r.initialViewProperties,a={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};e.effectiveLODs?a.zoom!==-1&&(a.scale=e.zoomToScale(a.zoom)):a.zoom=-1;let o=null,l=null,c=0;const d=a.viewpoint&&a.viewpoint.rotation,p=a.viewpoint&&a.viewpoint.targetGeometry;C(p)&&(p.type==="extent"?o=p:p.type==="point"&&(l=p,c=a.viewpoint.scale));const h=a.extent||o||((v=(w=s==null?void 0:s.viewpoint)==null?void 0:w.targetGeometry)==null?void 0:v.extent)||t,m=a.center||l||(h==null?void 0:h.center),g=a.scale||c||((_=s==null?void 0:s.viewpoint)==null?void 0:_.scale)||h&&a1(h,[n[0]-i.left-i.right,n[1]-i.top-i.bottom]),b=a.rotation||d||((S=s==null?void 0:s.viewpoint)==null?void 0:S.rotation)||0;return m&&g?new so({targetGeometry:m,scale:g,rotation:b}):null}_gotoAnimated(e,t){const r=this._gotoTask,i=this.animation,n=e.then(s=>{if(Ge(t),r!==this._gotoTask)throw new R("view:goto-interrupted","Goto was interrupted");return i.update(s),this.animationManager.animate(i,this.viewpoint,t),i.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,i,n)}_project(e,t){var n;const r=e&&e.targetGeometry||e;if(!t)return e;if(!r)return null;if(t.imageCoordinateSystem||((n=r.spatialReference)==null?void 0:n.imageCoordinateSystem)||bi(t,r.spatialReference))return e;const i=yy(r,t);if(!i)throw new R("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:t});return mxe(e)?(e.targetGeometry=i,e):i}_resizeHandler(e){if(!this.ready)return;const t=this.state;let r=this.state.paddedViewState.viewpoint;const i=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],j7e(r,r,i,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints.constrain(r,null),this.state.viewpoint=r}_startup(){var o,l;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint(),t=e.targetGeometry;try{this._project(e,this.spatialReference)}catch(c){wl.warn(new Bi("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:t.toJSON(),spatialReference:this.spatialReference,error:c})),e.targetGeometry=((o=this.defaultsFromMap.extent)==null?void 0:o.center)||new be({x:0,y:0,spatialReference:this.spatialReference})}(l=this.constraints)==null||l.fit(e),this._set("state",new L_e({padding:this._get("padding"),size:this.size,viewpoint:e})),this.graphics.owner=this;const r=new PX(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=r,this._magnifierView=new jX,this._magnifierView.magnifier=this.magnifier;const i=new DX({view:this});this._set("labelManager",i);const n=new U7e({view:this});this._set("animationManager",n);const s=new NX({view:this,animationManager:n});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("post-render",()=>this._set("rendering",r.renderRequested)),r.on("will-render",()=>this._set("rendering",r.renderRequested)),r.on("webgl-error",c=>this.fatalError=c.error),ee(()=>this.stationary,c=>r.stationary=c,Gd),ee(()=>this.background,c=>{r.background=c,this._magnifierView.background=c},Gd),ee(()=>this.magnifier,c=>this._magnifierView.magnifier=c,Gd),ee(()=>this.renderingOptions,c=>r.renderingOptions=c,Gd),ee(()=>this.highlightOptions,c=>r.highlightOptions=c,Gd),ee(()=>this.state.id,()=>r.state=this.state,Gd)],"map-view"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach(c=>c(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[e,t],spatialReference:r,rotation:i,scale:n}=this.state.paddedViewState,s=new be({x:e,y:t,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",s),this._set("zoom",-1),this._set("rotation",i),this._set("scale",n),this._set("spatialReference",r),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this._stage.addChild(t.container)});const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new D_e(Hb.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new OX({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new FX(e)});this.frameTask.graphicsView=t,this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const o of this.allLayerViews)o.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if(B(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else{const o=t.viewpoint.clone();o.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=o}const r=t.clone(),[i,n]=t.center;let s=null;try{s=this._project(new be({x:i,y:n,spatialReference:t.spatialReference}),e)}catch(o){gd()||wl.warn(new Bi("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:s.toJSON(),spatialReference:e,error:o}))}s||(s=new be({x:0,y:0,spatialReference:e}));const a=H$(new so({targetGeometry:new be,scale:0,rotation:0}),t.viewpoint,s);r.viewpoint=a;try{const l=[t.size[0]/2,t.size[1]/2],c=[l[0]+20,l[1]],d=t.toMap([0,0],c),{x:p,y:h}=this._project(new be({x:d[0],y:d[1],spatialReference:t.spatialReference}),e);d[0]=p,d[1]=h,r.toScreen(d,d);const m=D7e(l,d,c),g=Math.hypot(d[0]-l[0],d[1]-l[1])/20;!Number.isFinite(g)||Math.abs(g)>4?(a.rotation=0,a.targetGeometry=new be({x:0,y:0,spatialReference:e})):(a.scale*=g,a.scale>W("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(m)?m:0)}catch{}this._get("constraints").constrain(a,null),this._get("state").viewpoint=a,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const o of this.allLayerViews)o.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};Pe.type="2d",u([f({readOnly:!0})],Pe.prototype,"animationManager",void 0),u([f({constructOnly:!0})],Pe.prototype,"deactivatedWebGLExtensions",void 0),u([f({constructOnly:!0})],Pe.prototype,"debugWebGLExtensions",void 0),u([f({readOnly:!0})],Pe.prototype,"featuresTilingScheme",void 0),u([f({readOnly:!0})],Pe.prototype,"fullOpacity",void 0),u([f({readOnly:!0})],Pe.prototype,"graphicsTileStore",null),u([f()],Pe.prototype,"graphicsView",void 0),u([f({readOnly:!0})],Pe.prototype,"state",void 0),u([f()],Pe.prototype,"initialExtentRequired",null),u([f()],Pe.prototype,"labelManager",void 0),u([f({readOnly:!0})],Pe.prototype,"resourceManager",null),u([f({readOnly:!0})],Pe.prototype,"textureManager",null),u([f({readOnly:!0})],Pe.prototype,"mapViewNavigation",void 0),u([f({constructOnly:!0})],Pe.prototype,"renderCanvas",void 0),u([f()],Pe.prototype,"renderingOptions",void 0),u([f({readOnly:!0})],Pe.prototype,"rendering",void 0),u([f({constructOnly:!0})],Pe.prototype,"supersampleScreenshotsEnabled",void 0),u([f({readOnly:!0})],Pe.prototype,"supportsGround",void 0),u([f()],Pe.prototype,"_stationaryTimer",void 0),u([f()],Pe.prototype,"_defaultsFromMapSettings",null),u([f()],Pe.prototype,"_pePromise",void 0),u([f({readOnly:!0})],Pe.prototype,"typeSpecificPreconditionsReady",null),u([f()],Pe.prototype,"animation",null),u([f({type:pxe})],Pe.prototype,"background",null),u([f({value:null,type:be,dependsOn:["state.id","ready"]})],Pe.prototype,"center",null),u([f({type:sX})],Pe.prototype,"constraints",null),u([f({value:null,type:Ve,dependsOn:["state.id","ready"]})],Pe.prototype,"extent",null),u([f()],Pe.prototype,"floors",void 0),u([f({type:bX})],Pe.prototype,"highlightOptions",void 0),u([f({readOnly:!0})],Pe.prototype,"inputManager",void 0),u([f()],Pe.prototype,"map",void 0),u([f({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Pe.prototype,"padding",null),u([f()],Pe.prototype,"resizeAlign",void 0),u([f({readOnly:!0,dependsOn:["state.id"]})],Pe.prototype,"resolution",null),u([f({value:0,type:Number,dependsOn:["state.id","ready"]})],Pe.prototype,"rotation",null),u([f({value:0,type:Number,dependsOn:["state.id","ready"]})],Pe.prototype,"scale",null),u([f({constructOnly:!0})],Pe.prototype,"spatialReferenceLocked",void 0),u([f()],Pe.prototype,"stationary",null),u([f({type:vX,readOnly:!0})],Pe.prototype,"timeline",void 0),u([f({readOnly:!0})],Pe.prototype,"type",void 0),u([f({readOnly:!0})],Pe.prototype,"updating",null),u([f({value:null,type:so,dependsOn:["state.id","ready"]})],Pe.prototype,"viewpoint",null),u([f({value:-1,dependsOn:["state.id","ready"]})],Pe.prototype,"zoom",null),u([f({type:Boolean})],Pe.prototype,"navigating",null),u([f({type:RX})],Pe.prototype,"ui",void 0),Pe=u([E("esri.views.MapView")],Pe);const yxe=Pe;function tT(e){var r,i,n,s;const t=e.getObjectId();return t?`${(s=(n=(r=e.layer)==null?void 0:r.uid)!=null?n:(i=e.sourceLayer)==null?void 0:i.uid)!=null?s:"MapView"}/${t}`:`"MapView/${e.uid}`}function gj(e,t,r,i,n){return s=>{if(s instanceof vi){if(s.layer===e)n==null||n();else{const a=e.allLayerViews.find(o=>o.layer===s.layer);a&&(i==null||i(a))}r(tT(s))}else{const a=e.allLayerViews.find(o=>o.layer===s);a&&t(a)}}}function bj(e,t){if(e)if(VS(e))for(const r of e)if(VS(r))for(const i of r)t(i);else t(r);else t(e)}const gxe={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};function _Pe(e){return{renderer:{type:"simple",symbol:e==="esriGeometryPoint"||e==="esriGeometryMultipoint"?NY:e==="esriGeometryPolyline"?jY:VY}}}const bxe=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let vxe=1;function SPe(e,t){if(W("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let r=`this.${t} = null;`;for(const n in e)r+=`this${bxe.test(n)?`.${n}`:`["${n}"]`} = ${JSON.stringify(e[n])};`;const i=new Function(`
      return class AttributesClass$${vxe++} {
        constructor() {
          ${r};
        }
      }
    `)();return()=>new i}catch{return()=>({[t]:null,...e})}}function xPe(e={}){return[{name:"New Feature",description:"",prototype:{attributes:D(e)}}]}function wxe(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:gxe,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}const vj=ae.getLogger("esri.layers.graphics.sources.GeoJSONSource");let xf=class extends jn{constructor(){super(...arguments),this.type="geojson",this.refresh=Z6(async e=>{await this.load();const{extent:t,timeExtent:r}=await this._connection.invoke("refresh",e);return this.sourceJSON.extent=t,r&&(this.sourceJSON.timeInfo.timeExtent=[r.start,r.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}})}load(e){const t=C(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t)).then(r=>Ss.fromJSON(r))}queryFeaturesJSON(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t))}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(r=>({count:r.count,extent:Ve.fromJSON(r.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}_applyEdits(e){if(!this._connection)throw new R("geojson-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField,r=[],i=[],n=[];if(e.addFeatures)for(const s of e.addFeatures)r.push(this._serializeFeature(s));if(e.deleteFeatures)for(const s of e.deleteFeatures)"objectId"in s&&s.objectId!=null?i.push(s.objectId):"attributes"in s&&s.attributes[t]!=null&&i.push(s.attributes[t]);if(e.updateFeatures)for(const s of e.updateFeatures)n.push(this._serializeFeature(s));return this._connection.invoke("applyEdits",{adds:r,updates:n,deletes:i}).then(({extent:s,timeExtent:a,featureEditResults:o})=>(this.sourceJSON.extent=s,a&&(this.sourceJSON.timeInfo.timeExtent=[a.start,a.end]),this._createEditsResult(o)))}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new R("geojson-layer-source:edit-failure",t.description,{code:t.code}):null}}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e);return r?{geometry:r.toJSON(),attributes:t}:{attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return B(t)?null:t.type==="mesh"||t.type==="extent"?_s.fromExtent(t.extent):t}async _startWorker(e){this._connection=await bw("GeoJSONSourceWorker",{strategy:W("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:r,hasZ:i,geometryType:n,objectIdField:s,url:a,timeInfo:o,customParameters:l}=this.layer,c=this.layer.originOf("spatialReference")==="defaults",d={url:a,customParameters:l,fields:t&&t.map(h=>h.toJSON()),geometryType:kE.toJSON(n),hasZ:i,objectIdField:s,timeInfo:o?o.toJSON():null,spatialReference:c?null:r&&r.toJSON()},p=await this._connection.invoke("load",d,{signal:e});for(const h of p.warnings)vj.warn(h.message,{layer:this.layer,warning:h});p.featureErrors.length&&vj.warn(`Encountered ${p.featureErrors.length} validation errors while loading features`,p.featureErrors),this.sourceJSON=p.layerDefinition,this.capabilities=wxe(this.sourceJSON.hasZ,!0)}};u([f()],xf.prototype,"capabilities",void 0),u([f()],xf.prototype,"type",void 0),u([f({constructOnly:!0})],xf.prototype,"layer",void 0),u([f()],xf.prototype,"sourceJSON",void 0),xf=u([E("esri.layers.graphics.sources.GeoJSONSource")],xf);const _xe=HY();let He=class extends EY(dA(xY(uA(gA(yA(mA(hA(Jw(Lm))))))))){constructor(e){super(e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new xf({layer:this}),this.spatialReference=Ce.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson",this.typeIdField=null,this.types=null}destroy(){var e;(e=this.source)==null||e.destroy()}load(e){return this.addResolvingPromise(this.source.load(e).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),v4(this.renderer,this.fieldsIndex),RE(this.timeInfo,this.fieldsIndex)})),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&this.geometryType==null}get parsedUrl(){return this.url?jt(this.url):null}set renderer(e){v4(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const t=jt(e);this._set("url",t.path),t.query&&(this.customParameters={...this.customParameters,...t.query})}async applyEdits(e,t){const r=await Y(()=>import("./editingSupport.9fd12ac9.js"),[],import.meta.url);await this.load();const i=await r.applyEdits(this,this.source,e,t);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),i}on(e,t){return super.on(e,t)}createPopupTemplate(e){return SA(this,e)}createQuery(){const e=new Ht,t=this.get("capabilities.data");e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:r,timeExtent:i}=this;return e.timeExtent=r!=null&&i!=null?i.offset(-r.value,r.unit):i||null,e}getFieldDomain(e,t){let r,i=!1;const n=t&&t.feature,s=n&&n.attributes,a=this.typeIdField&&s&&s[this.typeIdField];return a!=null&&this.types&&(i=this.types.some(o=>o.id==a&&(r=o.domains&&o.domains[e],r&&r.type==="inherited"&&(r=this._getLayerDomain(e)),!0))),i||r||(r=this._getLayerDomain(e)),r}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(Ht.from(e)||this.createQuery(),t)).then(r=>{if(r!=null&&r.features)for(const i of r.features)i.layer=i.sourceLayer=this;return r})}queryObjectIds(e,t){return this.load().then(()=>this.source.queryObjectIds(Ht.from(e)||this.createQuery(),t))}queryFeatureCount(e,t){return this.load().then(()=>this.source.queryFeatureCount(Ht.from(e)||this.createQuery(),t))}queryExtent(e,t){return this.load().then(()=>this.source.queryExtent(Ht.from(e)||this.createQuery(),t))}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return C(t)&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}_getLayerDomain(e){if(!this.fields)return null;let t=null;return this.fields.some(r=>(r.name===e&&(t=r.domain),!!t)),t}};u([f({readOnly:!0,json:{read:!1,write:!1}})],He.prototype,"capabilities",null),u([f({type:String})],He.prototype,"copyright",void 0),u([f({readOnly:!0})],He.prototype,"createQueryVersion",null),u([f({readOnly:!0})],He.prototype,"defaultPopupTemplate",null),u([f({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],He.prototype,"definitionExpression",void 0),u([f({type:String})],He.prototype,"displayField",void 0),u([f({type:Boolean})],He.prototype,"editingEnabled",void 0),u([f(IY)],He.prototype,"elevationInfo",void 0),u([f(GY)],He.prototype,"featureReduction",void 0),u([f({type:[os],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],He.prototype,"fields",void 0),u([f(_xe.fieldsIndex)],He.prototype,"fieldsIndex",void 0),u([f({type:Ve,json:{name:"extent"}})],He.prototype,"fullExtent",void 0),u([f({type:["point","polygon","polyline","multipoint"],json:{read:{reader:kE.read}}})],He.prototype,"geometryType",void 0),u([f({type:Boolean})],He.prototype,"hasZ",void 0),u([f($Y)],He.prototype,"id",void 0),u([f({type:Boolean,readOnly:!0})],He.prototype,"isTable",null),u([f(Qw)],He.prototype,"labelsVisible",void 0),u([f({type:[W2],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:D$},write:!0}})],He.prototype,"labelingInfo",void 0),u([f(pA)],He.prototype,"legendEnabled",void 0),u([f({type:["show","hide"]})],He.prototype,"listMode",void 0),u([f({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],He.prototype,"objectIdField",void 0),u([f(dm)],He.prototype,"opacity",void 0),u([f({type:["GeoJSON"]})],He.prototype,"operationalLayerType",void 0),u([f({readOnly:!0})],He.prototype,"parsedUrl",null),u([f(H2)],He.prototype,"popupEnabled",void 0),u([f({type:Gp,json:{name:"popupInfo",write:!0}})],He.prototype,"popupTemplate",void 0),u([f({types:q2,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:cY}}}})],He.prototype,"renderer",null),u([f(MY)],He.prototype,"screenSizePerspectiveEnabled",void 0),u([f({readOnly:!0})],He.prototype,"source",void 0),u([f({type:Ce})],He.prototype,"spatialReference",void 0),u([f({type:[Yw]})],He.prototype,"templates",void 0),u([f()],He.prototype,"title",void 0),u([f({json:{read:!1},readOnly:!0})],He.prototype,"type",void 0),u([f({type:String,readOnly:!0})],He.prototype,"typeIdField",void 0),u([f({type:[_A]})],He.prototype,"types",void 0),u([f(fA)],He.prototype,"url",null),He=u([E("esri.layers.GeoJSONLayer")],He);const UA=He,MPe=Object.freeze(Object.defineProperty({__proto__:null,default:UA},Symbol.toStringTag,{value:"Module"})),Sxe="#294f89",xxe="#8db9d4",Mxe={FC_BRAND_BLUE_DARK:Sxe,FC_BRAND_BLUE_LIGHT:xxe},{FC_BRAND_BLUE_LIGHT:IPe,FC_BRAND_BLUE_DARK:Ixe}=Mxe;function $xe(e){const t=new UA({url:"./Jurisdictional_Boundary.json",title:"Falls Church - Jurisdictional Boundary",id:"Jurisdictional_Boundary",opacity:.4,renderer:{type:"simple",symbol:{type:"simple-fill",style:"solid",color:"#ccc",outline:{color:Ixe,width:1}}}});e.add(t)}const p2=-1;let Fo=class extends ye{constructor(e){super(e),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=W("mapview-transitions-duration"),this.effects=[]}set effect(e){if(this._get("effect")!==(e=e||"")){this._set("effect",e);try{this._transitionTo(wj(e))}catch(t){this._transitionTo([]),ae.getLogger(this.declaredClass).warn("Invalid Effect",{effect:e,error:t})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(e){this._updateForScale(e)}get transitioning(){return this._to!==null}canTransitionTo(e){try{return this.scale>0&&_j(this._current,wj(e),this.scale)}catch{return!1}}transitionStep(e,t){this._applyTimeTransition(e),this._updateForScale(t)}end(){this._applyTimeTransition(this.duration)}_transitionTo(e){this.scale>0&&_j(this._current,e,this.scale)?(this._final=e,this._to=D(e),Txe(this._current,this._to,this.scale),this._from=D(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=e),this._set("effects",this._current[0]?D(this._current[0].effects):[])}_applyTimeTransition(e){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=e;const t=Math.min(1,this._time/this.duration);for(let r=0;r<this._current.length;r++){const i=this._current[r],n=this._from[r],s=this._to[r];i.scale=Cxe(n.scale,s.scale,t);for(let a=0;a<i.effects.length;a++){const o=i.effects[a],l=n.effects[a],c=s.effects[a];o.interpolate(l,c,t)}}t===1&&(this._current=this._final,this._set("effects",this._current[0]?D(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(e){if(this._set("scale",e),this._current.length===0)return;const t=this._current,r=this._current.length-1;let i,n,s=1;if(t.length===1||e>=t[0].scale)n=i=t[0].effects;else if(e<=t[r].scale)n=i=t[r].effects;else for(let a=0;a<r;a++){const o=t[a],l=t[a+1];if(o.scale>=e&&l.scale<=e){s=(e-o.scale)/(l.scale-o.scale),i=o.effects,n=l.effects;break}}for(let a=0;a<this.effects.length;a++)this.effects[a].interpolate(i[a],n[a],s)}};function wj(e){const t=Sk(e)||[];return Exe(t)?[{scale:p2,effects:t}]:t}function _j(e,t,r){var i,n,s,a;return!((i=e[0])!=null&&i.effects)||!((n=t[0])!=null&&n.effects)?!0:!((((s=e[0])==null?void 0:s.scale)===p2||((a=t[0])==null?void 0:a.scale)===p2)&&(e.length>1||t.length>1)&&r<=0)&&$J(e[0].effects,t[0].effects)}function Txe(e,t,r){var l,c;const i=e.length>t.length?e:t,n=e.length>t.length?t:e,s=n[n.length-1],a=(l=s==null?void 0:s.scale)!=null?l:r,o=(c=s==null?void 0:s.effects)!=null?c:[];for(let d=n.length;d<i.length;d++)n.push({scale:a,effects:[...o]});for(let d=0;d<i.length;d++)n[d].scale=n[d].scale===p2?r:n[d].scale,i[d].scale=i[d].scale===p2?r:i[d].scale,TJ(n[d].effects,i[d].effects)}function Cxe(e,t,r){return e+(t-e)*r}function Exe(e){const t=e[0];return!!t&&"type"in t}u([f()],Fo.prototype,"_to",void 0),u([f()],Fo.prototype,"duration",void 0),u([f({value:""})],Fo.prototype,"effect",null),u([f({readOnly:!0})],Fo.prototype,"effects",void 0),u([f({readOnly:!0})],Fo.prototype,"hasEffects",null),u([f({value:0})],Fo.prototype,"scale",null),u([f({readOnly:!0})],Fo.prototype,"transitioning",null),Fo=u([E("esri.layers.effects.EffectView")],Fo);function $Pe(e){var r;const t=e.layer;return"floorInfo"in t&&((r=t.floorInfo)==null?void 0:r.floorField)&&"floors"in e.view?VX(e.view.floors,t.floorInfo.floorField):null}function Sj(e,t){var r;return"floorInfo"in t&&((r=t.floorInfo)==null?void 0:r.floorField)?VX(e,t.floorInfo.floorField):null}function VX(e,t){if(!(e!=null&&e.length))return null;const r=e.filter(i=>i!=="").map(i=>`'${i}'`);return r.push("''"),`${t} IN (${r.join(",")}) OR ${t} IS NULL`}function TPe(e,t,r){return t.flatten(({sublayers:n})=>n).length!==e.length?!0:!!e.some(n=>n.originIdOf("minScale")>r||n.originIdOf("maxScale")>r||n.originIdOf("renderer")>r||n.originIdOf("labelingInfo")>r||n.originIdOf("opacity")>r||n.originIdOf("labelsVisible")>r||n.originIdOf("source")>r)||!zX(e,t)}function kxe(e,t,r){return!!e.some(i=>{const n=i.source;return!(!n||n.type==="map-layer"&&n.mapLayerId===i.id&&(B(n.gdbVersion)||n.gdbVersion===r))||i.originIdOf("renderer")>Fe.SERVICE||i.originIdOf("labelingInfo")>Fe.SERVICE||i.originIdOf("opacity")>Fe.SERVICE||i.originIdOf("labelsVisible")>Fe.SERVICE})||!zX(e,t)}function zX(e,t){if(!e||!e.length||B(t))return!0;const r=t.slice().reverse().flatten(({sublayers:s})=>s&&s.toArray().reverse()).map(s=>s.id).toArray();if(e.length>r.length)return!1;let i=0;const n=r.length;for(const{id:s}of e){for(;i<n&&r[i]!==s;)i++;if(i>=n)return!1}return!0}function CPe(e){return!!e&&e.some(t=>t.minScale!=null||t.layerDefinition&&t.layerDefinition.minScale!=null)}const Axe={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let es=class extends ll(ye){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map(t=>{const r=Sj(this.floors,t);return t.toExportImageJSON(r)});return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&kxe(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),e.on("sublayer-update",t=>this.notifyChange(Axe[t.propertyName]))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map(t=>t.id).join(","):"show:-1":null}get layerDefs(){var r;const e=!!((r=this.floors)!=null&&r.length),t=this.visibleSublayers.filter(i=>i.definitionExpression!=null||e&&i.floorInfo!=null);return t.length?JSON.stringify(t.reduce((i,n)=>{const s=Sj(this.floors,n),a=pY(s,n.definitionExpression);return C(a)&&(i[n.id]=a),i},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const t=this.layer.sublayers,r=n=>{const s=this.scale,a=s===0,o=n.minScale===0||s<=n.minScale,l=n.maxScale===0||s>=n.maxScale;n.visible&&(a||o&&l)&&(n.sublayers?n.sublayers.forEach(r):e.unshift(n))};t&&t.forEach(r);const i=this._get("visibleSublayers");return!i||i.length!==e.length||i.some((n,s)=>e[s]!==n)?e:i}toJSON(){const e=this.layer;let t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t={...t,layers:this.layers,layerDefs:this.layerDefs},t}};u([f({readOnly:!0})],es.prototype,"dynamicLayers",null),u([f()],es.prototype,"floors",void 0),u([f({readOnly:!0})],es.prototype,"hasDynamicLayers",null),u([f()],es.prototype,"layer",null),u([f({readOnly:!0})],es.prototype,"layers",null),u([f({readOnly:!0})],es.prototype,"layerDefs",null),u([f({type:Number})],es.prototype,"scale",void 0),u([f(b4e)],es.prototype,"timeExtent",void 0),u([f({readOnly:!0})],es.prototype,"version",null),u([f({readOnly:!0})],es.prototype,"visibleSublayers",null),es=u([E("esri.layers.mixins.ExportImageParameters")],es);function Lxe(e){return B(e)||e.type==="simple"||e.type==="unique-value"||e.type==="class-breaks"||e.type==="dictionary"||e.type==="heatmap"}const Rxe=(e,t)=>{const r=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return t!=null&&t.levels?t.levels[r]:null};function Pxe(e,t){if(!e||!("visualVariables"in e)||!e.visualVariables)return null;const r=e.visualVariables.find(n=>n.type==="size"),i=Rxe(t,r);return i?new xs({field:r.field,minSize:i[2].size,minDataValue:i[2].value,maxSize:i[3].size,maxDataValue:i[3].value}):null}function Oxe(e){return e=e||globalThis.location.hostname,Fxe.some(t=>(e==null?void 0:e.match(t))!=null)}function xj(e,t){return e&&(t=t||globalThis.location.hostname)?t.match(BX)!=null||t.match(GX)!=null?e.replace("static.arcgis.com","staticdev.arcgis.com"):t.match(UX)!=null||t.match(qX)!=null?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}const BX=/^devext.arcgis.com$/,UX=/^qaext.arcgis.com$/,GX=/^[\w-]*\.mapsdevext.arcgis.com$/,qX=/^[\w-]*\.mapsqa.arcgis.com$/,Fxe=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,BX,UX,/^jsapps.esri.com$/,GX,qX];function HX(e,t,r,i){return e.name?e.styleName&&e.styleName==="Esri2DPointSymbolsStyle"?Dxe(e,t,i):oY(e,t,i).then(n=>WX(n,e.name,t,r,i)):Promise.reject(new R("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function WX(e,t,r,i,n){const s=e.data,a=r&&C(r.portal)?r.portal:ai.getDefault(),o={portal:a,url:jt(e.baseUrl),origin:"portal-item"},l=s.items.find(m=>m.name===t);if(!l){const m=`The symbol name '${t}' could not be found`;return Promise.reject(new R("symbolstyleutils:symbol-name-not-found",m,{symbolName:t}))}let c=yd(L9e(l,i),o),d=l.thumbnail&&l.thumbnail.href;const p=l.thumbnail&&l.thumbnail.imageData;Oxe()&&(c=xj(c),d=xj(d));const h={portal:a,url:jt(dE(c)),origin:"portal-item"};return sA(c,n).then(m=>{const g=i==="cimRef"?lY(m.data):m.data,b=WQ(g,h);if(b&&sl(b)){if(d){const w=yd(d,o);b.thumbnail=new lp({url:w})}else p&&(b.thumbnail=new lp({url:`data:image/png;base64,${p}`}));e.styleUrl?b.styleOrigin=new W1({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(b.styleOrigin=new W1({portal:r.portal,styleName:e.styleName,name:t}))}return b})}function Dxe(e,t,r){const i=R9e.replace(/\{SymbolName\}/gi,e.name),n=C(t.portal)?t.portal:ai.getDefault();return sA(i,r).then(s=>{const a=lY(s.data);return WQ(a,{portal:n,url:jt(dE(i)),origin:"portal-item"})})}const Nxe=Object.freeze(Object.defineProperty({__proto__:null,fetchSymbolFromStyle:WX,resolveWebStyleSymbol:HX},Symbol.toStringTag,{value:"Module"})),Bf=Dr.size,p9=Dr.maxSize,GA=Dr.maxOutlineSize,Mj=Dr.lineWidth,rT=Dr.tallSymbolWidth,jxe=ae.getLogger("esri.symbols.support.previewSymbol3D");function B0(e){const t=e.outline,r=C(e.material)?e.material.color:null,i=C(r)?r.toHex():null;if(B(t)||"pattern"in t&&C(t.pattern)&&t.pattern.type==="style"&&t.pattern.style==="none")return e.type==="fill"&&i==="#ffffff"?{color:"#bdc3c7",width:.75}:null;const n=$t(t.size)||0;return{color:"rgba("+(C(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(n,GA),style:"pattern"in t&&C(t.pattern)&&t.pattern.type==="style"?Ek(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function Vxe(e,t){const r=t&&t.resource,i=r&&r.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(i&&t.type!=="object")return Promise.resolve(Kbe(e,t));const n=Qe("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?HX(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch(s=>s).then(s=>{var a;return((a=s==null?void 0:s.thumbnail)==null?void 0:a.url)||n}):Promise.resolve(n)}function x_(e,t=1){const r=e.a,i=Fp(e),n=i.h,s=i.s/t,a=100-(100-i.v)/t,{r:o,g:l,b:c}=Ey({h:n,s,v:a});return[o,l,c,r]}function b6(e){return e.type==="water"?B(e.color)?null:e.color:B(e.material)||B(e.material.color)?null:e.material.color}function wt(e,t=0){const r=b6(e);if(!r){if(e.type==="fill")return null;const n=Jbe.r,s=ld(n,t);return[s,s,s,100]}const i=r.toRgba();for(let n=0;n<3;n++)i[n]=ld(i[n],t);return i}async function JX(e,t){const r=e.style;return r==="none"?null:{type:"pattern",x:0,y:0,src:await Wbe(Qe(`esri/symbols/patterns/${r}.png`),t.toCss(!0)),width:5,height:5}}function Ij(e){return e.outline?B0(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function ZX(e,t){const r=b6(e);if(!r)return null;let i="rgba(";return i+=ld(r.r,t)+",",i+=ld(r.g,t)+",",i+=ld(r.b,t)+",",i+r.a+");"}function iT(e,t){const r=ZX(e,t);return r?"pattern"in e&&C(e.pattern)&&e.pattern.type==="style"&&e.pattern.style==="none"?null:{color:r,width:Math.min(e.size?$t(e.size):.75,GA),style:"pattern"in e&&C(e.pattern)&&e.pattern.type==="style"?Ek(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?e.join==="miter"?$t(2):e.join:null}:{}}function $v(e,t,r){const i=.75*r;return{type:"linear",x1:i?.25*i:0,y1:i?.5*i:0,x2:i||4,y2:i?.5*i:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function zxe(e){const t=e.depth,r=e.height,i=e.width;return i&&t&&r&&i===t&&i<r}function Bxe(e,t,r){const i=[];if(!e)return i;switch(e.type){case"icon":{const a=t,o=t;switch(e.resource&&e.resource.primitive||Nfe){case"circle":i.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:wt(e,0),stroke:B0(e)});break;case"square":i.push({shape:{type:"path",path:[{command:"M",values:[0,o]},{command:"L",values:[0,0]},{command:"L",values:[a,0]},{command:"L",values:[a,o]},{command:"Z",values:[]}]},fill:wt(e,0),stroke:B0(e)});break;case"triangle":i.push({shape:{type:"path",path:[{command:"M",values:[0,o]},{command:"L",values:[.5*a,0]},{command:"L",values:[a,o]},{command:"Z",values:[]}]},fill:wt(e,0),stroke:B0(e)});break;case"cross":i.push({shape:{type:"path",path:[{command:"M",values:[.5*a,0]},{command:"L",values:[.5*a,o]},{command:"M",values:[0,.5*o]},{command:"L",values:[a,.5*o]}]},stroke:Ij(e)});break;case"x":i.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[a,o]},{command:"M",values:[a,0]},{command:"L",values:[0,o]}]},stroke:Ij(e)});break;case"kite":i.push({shape:{type:"path",path:[{command:"M",values:[0,.5*o]},{command:"L",values:[.5*a,0]},{command:"L",values:[a,.5*o]},{command:"L",values:[.5*a,o]},{command:"Z",values:[]}]},fill:wt(e,0),stroke:B0(e)})}break}case"object":switch(e.resource&&e.resource.primitive||Ufe){case"cone":{const n=$v(wt(e,0),wt(e,-.6),r?rT:t),s=z6e(t,r);i.push({shape:s[0],fill:n}),i.push({shape:s[1],fill:n});break}case"inverted-cone":{const n=wt(e,0),s=$v(n,wt(e,-.6),t),a=B6e(t);i.push({shape:a[0],fill:s}),i.push({shape:a[1],fill:n});break}case"cube":{const n=j6e(t,r);i.push({shape:n[0],fill:wt(e,0)}),i.push({shape:n[1],fill:wt(e,-.3)}),i.push({shape:n[2],fill:wt(e,-.5)});break}case"cylinder":{const n=$v(wt(e,0),wt(e,-.6),r?rT:t),s=V6e(t,r);i.push({shape:s[0],fill:n}),i.push({shape:s[1],fill:n}),i.push({shape:s[2],fill:wt(e,0)});break}case"diamond":{const n=U6e(t);i.push({shape:n[0],fill:wt(e,-.3)}),i.push({shape:n[1],fill:wt(e,0)}),i.push({shape:n[2],fill:wt(e,-.3)}),i.push({shape:n[3],fill:wt(e,-.7)});break}case"sphere":{const n=$v(wt(e,0),wt(e,-.6));n.x1=0,n.y1=0,n.x2=.25*t,n.y2=.25*t,i.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:n});break}case"tetrahedron":{const n=G6e(t);i.push({shape:n[0],fill:wt(e,-.3)}),i.push({shape:n[1],fill:wt(e,0)}),i.push({shape:n[2],fill:wt(e,-.6)});break}}break}return i}function s8(e){const t=typeof(e==null?void 0:e.size)=="number"?e==null?void 0:e.size:null;return t?$t(t):null}function Uxe(e){return e.type==="icon"?"multiply":"tint"}function Gxe(e,t){const r=s8(t),i=t&&t.maxSize?$t(t.maxSize):null,n=t&&t.disableUpsampling,s=e.symbolLayers,a=[];let o=0,l=0;const c=s.getItemAt(s.length-1);let d;return c&&c.type==="icon"&&(d=c.size&&$t(c.size)),s.forEach(p=>{var g;if(p.type!=="icon"&&p.type!=="object")return;const h=p.type==="icon"?p.size&&$t(p.size):0,m=r||h?Math.ceil(Math.min(r||h,i||p9)):Bf;if(p&&p.resource&&p.resource.href){const b=Vxe(e,p).then(w=>{const v=p.get("material.color"),_=Uxe(p);return Fwe(w,m,v,_,n)}).then(w=>{const v=w.width,_=w.height;return o=Math.max(o,v),l=Math.max(l,_),[{shape:{type:"image",x:0,y:0,width:v,height:_,src:w.url},fill:null,stroke:null}]});a.push(b)}else{let b=m;p.type==="icon"&&d&&r&&(b=m*(h/d));const w=(t==null?void 0:t.symbolConfig)==="tall"||((g=t==null?void 0:t.symbolConfig)==null?void 0:g.isTall)||p.type==="object"&&zxe(p);o=Math.max(o,w?rT:b),l=Math.max(l,b),a.push(Promise.resolve(Bxe(p,b,w)))}}),Kt(a).then(p=>{const h=[];return p.forEach(m=>{m.value?h.push(m.value):m.error&&jxe.warn("error while building swatchInfo!",m.error)}),Z2(h,[o,l],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})})}function qxe(e,t){const r=e.symbolLayers,i=[],n=Lw(e),s=s8(t),a=(t&&t.maxSize?$t(t.maxSize):null)||GA;let o,l=0,c=0;return r.forEach((d,p)=>{if(!d||d.type!=="line"&&d.type!=="path")return;const h=[];switch(d.type){case"line":{const m=iT(d,0);if(B(m))break;const g=m&&m.width||0;p===0&&(o=g);const b=Math.min(s||g,a),w=p===0?b:s?b*(g/o):b,v=w>Mj/2?2*w:Mj;c=Math.max(c,w),l=Math.max(l,v),m.width=w,h.push({shape:{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[l,.5*c]}]},stroke:m});break}case"path":{const m=Math.min(s||Bf,a),g=wt(d,0),b=wt(d,-.2),w=ZX(d,-.4),v=w?{color:w,width:1}:{};if(d.profile==="quad"){const _=d.width,S=d.height,x=F6e(_&&S?_/S:1,S===0,_===0),M={...v,join:"bevel"};h.push({shape:x[0],fill:b,stroke:M}),h.push({shape:x[1],fill:b,stroke:M}),h.push({shape:x[2],fill:g,stroke:M})}else h.push({shape:j$.pathSymbol3DLayer[0],fill:b,stroke:v}),h.push({shape:j$.pathSymbol3DLayer[1],fill:g,stroke:v});c=Math.max(c,m),l=c}}i.push(h)}),Promise.resolve(Z2(i,[l,c],{node:t&&t.node,scale:n,opacity:t&&t.opacity}))}async function Hxe(e,t){const r=e.type==="mesh-3d",i=e.symbolLayers,n=s8(t),s=t&&t.maxSize?$t(t.maxSize):null,a=n||Bf,o=[];let l=0,c=0,d=!1;for(let p=0;p<i.length;p++){const h=i.getItemAt(p),m=[];if(r&&h.type!=="fill")continue;const g=j$.fill[0];switch(h.type){case"fill":{const b=B0(h),w=Math.min(a,s||p9);l=Math.max(l,w),c=Math.max(c,w),d=!0;let v=wt(h,0);const _="pattern"in h&&h.pattern,S=b6(h);!r&&C(_)&&_.type==="style"&&_.style!=="solid"&&S&&(v=await JX(_,S)),m.push({shape:g,fill:v,stroke:b});break}case"line":{const b=iT(h,0);if(B(b))break;const w={stroke:b,shape:g};l=Math.max(l,Bf),c=Math.max(c,Bf),m.push(w);break}case"extrude":{const b={join:"round",width:1,...iT(h,-.4)},w=wt(h,0),v=wt(h,-.2),_=Math.min(a,s||p9),S=D6e(_);b.width=1,m.push({shape:S[0],fill:v,stroke:b}),m.push({shape:S[1],fill:v,stroke:b}),m.push({shape:S[2],fill:w,stroke:b});const x=Bf,M=.7*Bf+.5*_;l=Math.max(l,x),c=Math.max(c,M);break}case"water":{const b=b6(h),w=x_(b),v=x_(b,2),_=x_(b,3),S=N6e();d=!0,m.push({shape:S[0],fill:w}),m.push({shape:S[1],fill:v}),m.push({shape:S[2],fill:_});const x=Math.min(a,s||p9);l=Math.max(l,x),c=Math.max(c,x);break}}o.push(m)}return Z2(o,[l,c],{node:t&&t.node,scale:d,opacity:t&&t.opacity})}function Wxe(e,t){if(e.symbolLayers.length===0)return Promise.reject(new R("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return Gxe(e,t);case"line-3d":return qxe(e,t);case"polygon-3d":case"mesh-3d":return Hxe(e,t)}return Promise.reject(new R("symbolPreview: swatchInfo3D","symbol not supported."))}const Jxe=Object.freeze(Object.defineProperty({__proto__:null,getPatternDescriptor:JX,getSizeFromOptions:s8,getSymbolLayerFill:wt,previewSymbol3D:Wxe},Symbol.toStringTag,{value:"Module"})),$j={HH:315,HL:45,LL:135,LH:225},Zxe={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function Qxe(e){if(!e)return;const{type:t}=e;if(t.includes("3d"))return wt(e.symbolLayers.getItemAt(0));if(t==="simple-line"){const r=t2(e);return r&&r.color}if(e.type==="simple-marker"&&(e.style==="x"||e.style==="cross")){const r=t2(e);return r&&r.color}return Hbe(e)}function Yxe(e,t){const r=t.HH.label,i=t.LL.label,n=t.HL.label,s=t.LH.label;switch(e){case"HH":default:return{top:r,bottom:i,left:n,right:s};case"HL":return{top:n,bottom:s,left:i,right:r};case"LL":return{top:i,bottom:r,left:s,right:n};case"LH":return{top:s,bottom:n,left:r,right:i}}}function Kxe(e){const{focus:t,infos:r,numClasses:i}=e,n=Zxe[i],s={};r.forEach(o=>{s[o.value]={label:o.label,fill:Qxe(o.symbol)}});const a=[];for(let o=0;o<i;o++){const l=[];for(let c=0;c<i;c++){const d=s[n[o][c]];l.push(d.fill)}a.push(l)}return{type:"relationship-ramp",numClasses:i,focus:t,colors:a,labels:Yxe(t,s),rotation:QX(t)}}function QX(e){let t=$j[e];return e&&t==null&&(t=$j.HH),t||0}const nT=30,sT=12,YX=[255,255,255],KX=[200,200,200],U0=[128,128,128],Xxe=20,eMe=5;function tMe(e){return e.declaredClass==="esri.symbols.SimpleMarkerSymbol"}function rMe(e){return e.declaredClass==="esri.symbols.PictureMarkerSymbol"}function iMe(e){return e.declaredClass==="esri.symbols.SimpleLineSymbol"}function nMe(e){return e.declaredClass==="esri.symbols.TextSymbol"}function sMe(e,t){const r=e.length-1;return e.map((i,n)=>BJ(i,n,r,t))}async function aMe(e,t,r,i,n,s){const a=t.legendOptions,o=a&&a.customValues,l=await cMe(e,r),c=!!l,d=!!o,p=t.minSize!=null&&t.maxSize!=null,h=t.stops&&t.stops.length>1,m=!!t.target;if(!c||!d&&!(p||h&&!m))return;const g=Lw(l);let b=null,w=null,v=null;w=g&&!h?W4([t.minDataValue,t.maxDataValue]):o||await dMe(t,l,i,n);const _=e==null?void 0:e.authoringInfo,S=(_==null?void 0:_.type)==="univariate-color-size",x=S&&(_==null?void 0:_.univariateTheme)==="above-and-below";if(!w&&h&&(w=t.stops.map(T=>T.value),b=t.stops.some(T=>!!T.label),e.type==="flow"&&(w=W4(w)),b&&(v=t.stops.map(T=>T.label))),g&&(w==null?void 0:w.length)>2&&!x&&(w=[w[0],w[w.length-1]]),!w)return null;S&&(w==null?void 0:w.length)!==5&&(w=tee({minSize:w[0],maxSize:w[w.length-1]}));const M=g?oMe(e,w):null,I=Ybe(l),$=b?null:sMe(w,s);return(await Promise.all(w.map(async(T,A)=>{const P=g?M[A]:await a0(t,l,T,i,n);return{value:T,symbol:hMe(x&&e.type==="class-breaks"?lMe(e,A):l,P),label:b?v[A]:$[A],size:P,outlineSize:I}}))).reverse()}function oMe(e,t){const r=e==null?void 0:e.authoringInfo,i=(r==null?void 0:r.type)==="univariate-color-size";let n=[sT,nT];if(i){const s=t[0],a=t[t.length-1],o=sT,l=nT;n=t.map(c=>o+(c-s)/(a-s)*(l-o))}return i&&(r==null?void 0:r.univariateTheme)==="below"&&n.reverse(),n}function lMe(e,t){const r=e.classBreakInfos,i=r.length,n=i<2||!(t>=2)?r[0].symbol.clone():r[i-1].symbol.clone();return e.visualVariables.some(s=>s.type==="color")&&(n.type.includes("3d")?XX(n):eee(n)),n}async function cMe(e,t){var n;if(e.type==="flow")return UJ(e,t);if(e.type==="pie-chart")return new Ni({color:null,outline:(n=e.outline)!=null&&n.width?e.outline:new qi});let r=null,i=null;if(e.type==="simple")r=e.symbol;else if(e.type==="class-breaks"){const s=e.classBreakInfos;r=s&&s[0]&&s[0].symbol,i=s.length>1}else if(e.type==="unique-value"){const s=e.uniqueValueInfos;r=s&&s[0]&&s[0].symbol,i=s.length>1}return!r||uMe(r)?null:(r=r.clone(),(t||i)&&(r.type.includes("3d")?XX(r):eee(r)),r)}function uMe(e){return e?sl(e)?!!e.symbolLayers&&e.symbolLayers.some(t=>t&&t.type==="fill"):e.type.includes("fill"):!1}function XX(e){e.type==="line-3d"?e.symbolLayers.forEach(t=>{t.material={color:U0}}):e.symbolLayers.forEach(t=>{t.type!=="icon"||t.resource&&t.resource.href?t.material={color:KX}:(t.material={color:YX},t.outline={color:U0,size:1.5})})}function eee(e){var r,i;const t=_k();e.type==="cim"?LJ(e,new re(KX)):e.type.includes("line")?e.color=U0:(e.color=t?U0:YX,e.type==="simple-marker"&&(e.outline?((i=(r=e.outline)==null?void 0:r.color)==null?void 0:i.toHex())==="#ffffff"&&(e.outline.color=U0):e.outline={color:U0,width:1.5}))}async function dMe(e,t,r,i){const n=(await Y(()=>Promise.resolve().then(()=>Yp),void 0,import.meta.url)).getSizeRangeAtScale(e,r,i),s=n&&tee(n);if(!n&&!s)return;let a=s.map(o=>fMe(o,e,n));a=W4(a);for(let o=1;o<a.length-1;o++){const l=await pMe(e,t,a[o],a[o-1],r,i);l&&(a[o]=l[0],s[o]=l[1])}return a}function tee(e){const t=e.minSize,r=e.maxSize,i=eMe,n=(r-t)/(i-1),s=[];for(let a=0;a<i;a++)s.push(t+n*a);return s}function fMe(e,t,r){const i=r.minSize,n=r.maxSize,s=t.minDataValue,a=t.maxDataValue;let o=null;return e<=i?o=s:e>=n?o=a:o=(e-i)/(n-i)*(a-s)+s,o}async function pMe(e,t,r,i,n,s){const a=await a0(e,t,r,n,s),o=await a0(e,t,i,n,s),l=H4(r),c=l.fractional,d=Xxe;let p=l.integer,h=null,m=null;r>0&&r<1&&(h=10**c,p=H4(r*=h).integer);for(let g=p-1;g>=0;g--){const b=10**g;let w=Math.floor(r/b)*b,v=Math.ceil(r/b)*b;h!=null&&(w/=h,v/=h);let _=(w+v)/2;[,_]=W4([w,_,v],{indexes:[1]});const S=await a0(e,t,w,n,s),x=await a0(e,t,v,n,s),M=await a0(e,t,_,n,s),I=R5(a,S,o,null),$=R5(a,x,o,null),T=R5(a,M,o,null);let A=I.previous<=d,P=$.previous<=d;if(A&&P&&(I.previous<=$.previous?(A=!0,P=!1):(P=!0,A=!1)),A?m=[w,S]:P?m=[v,x]:T.previous<=d&&(m=[_,M]),m)break}return m}async function a0(e,t,r,i,n){const{getSize:s}=await Y(()=>Promise.resolve().then(()=>Yp),void 0,import.meta.url);return s(e,r,{scale:i,view:n,shape:t.type==="simple-marker"?t.style:null})}function hMe(e,t){const r=e.clone();if(sl(r))Lw(r)||r.symbolLayers.forEach(i=>{i.type!=="fill"&&(i.size=t)});else if(tMe(r))r.size=t;else if(rMe(r)){const i=r.width,n=r.height;r.height=t,r.width=t*(i/n)}else iMe(r)?r.width=t:nMe(r)&&r.font&&(r.font.size=t);return r}function mMe(e){const r=Math.floor(Math.log10(Math.abs(e)))+1,i=r<4||r>6?4:r,n=1e6,s=Math.abs(e)>=n?"compact":"standard";return il(e,{notation:s,minimumSignificantDigits:2,maximumSignificantDigits:i})}const Uc=ae.getLogger("esri.widgets.Legend.support.ActiveLayerInfo"),yMe="https://utility.arcgis.com/sharing/tools/legend",gMe="esri.layers.ImageryLayer",bMe="esri.layers.ImageryTileLayer",vMe="esri.layers.WCSLayer",Tv=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,wMe=new Le({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Tj={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Cv=new Ni({size:6,outline:{color:[128,128,128,.5],width:.5}}),_Me=new po({style:"solid"});function aT(e){return e.type==="flow"}function ree(e){return e.type==="vector-field"}function iee(e){return e.type==="raster-colormap"}function nee(e){return e.type==="raster-stretch"}function see(e){return e.type==="raster-shaded-relief"}function o0(e){return e.declaredClass==="esri.renderers.SimpleRenderer"}function l0(e){return e.declaredClass==="esri.renderers.ClassBreaksRenderer"}function oT(e){return e.declaredClass==="esri.renderers.UniqueValueRenderer"}function aee(e){return e.declaredClass==="esri.renderers.HeatmapRenderer"}function SMe(e){return qA(e)||HA(e)||WA(e)||xMe(e)}function xMe(e){return e.declaredClass==="esri.renderers.PointCloudRGBRenderer"}function qA(e){return e.declaredClass==="esri.renderers.PointCloudClassBreaksRenderer"}function HA(e){return e.declaredClass==="esri.renderers.PointCloudStretchRenderer"}function WA(e){return e.declaredClass==="esri.renderers.PointCloudUniqueValueRenderer"}function oee(e){return e.declaredClass==="esri.renderers.DotDensityRenderer"}function lee(e){return e.declaredClass==="esri.renderers.PieChartRenderer"}function MMe(e,t){return o0(e)||l0(e)||oT(e)||aee(e)||oee(e)||lee(e)?t.type==="2d"||Lxe(e):nee(e)||iee(e)||see(e)||qA(e)||HA(e)||WA(e)||ree(e)||aT(e)}function Cj(e){return e.declaredClass==="esri.layers.BuildingSceneLayer"}function IMe(e){return e.declaredClass==="esri.layers.VoxelLayer"}function $Me(e){return e.declaredClass==="esri.layers.WMSLayer"}function TMe(e){return e.declaredClass==="esri.layers.WMTSLayer"}function Ej(e){return e.declaredClass==="esri.layers.MapImageLayer"}function CMe(e){return e.declaredClass==="esri.layers.TileLayer"}function EMe(e){return e.declaredClass==="esri.layers.FeatureLayer"}function hg(e){return e.declaredClass===gMe}function M_(e){return e.declaredClass===bMe}function kMe(e){return e.declaredClass===vMe}function AMe(e){return e.type==="stretch-ramp"}function LMe(e){var t;return((t="authoringInfo"in e&&(e==null?void 0:e.authoringInfo))==null?void 0:t.type)==="univariate-color-size"}function RMe(e){const t="authoringInfo"in e&&(e==null?void 0:e.authoringInfo);return(t==null?void 0:t.type)==="univariate-color-size"&&(t==null?void 0:t.univariateTheme)==="above-and-below"}const PMe=new Ni({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}});let ph={},Ar=class extends ye{constructor(e){super(e),this._handles=new hr,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new Se,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange("ready");this._handles.add([Fn(()=>this.children,"change",t=>{const{added:r,removed:i}=t,n=this._handles;r.forEach(s=>{const a=`activeLayerInfo-ready-watcher-${s.layer.uid}`;n.add(ee(()=>s.ready,e,Ke),a)}),i.forEach(s=>n.remove(s.layer.uid)),e()})]),this.keepCacheOnDestroy||(ph={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(ph=null)}get effectList(){const e=this.layer;let t=null;return"effect"in e&&e.effect&&(t=new Fo,t.effect=e.effect,t.end(),t.scale=this.scale),t}get opacity(){var n;const e=this.layer.opacity,t=(n=this.parent)==null?void 0:n.opacity,r=this.layer.parent,i=r&&"uid"in r?this._getParentLayerOpacity(r):null;return t!=null?t*e:i!=null?i*e:e}get ready(){return this.layer===null||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(e===null)return!1;if("effect"in e&&e.effect&&Array.isArray(e.effect))return!0;if("featureReduction"in e&&e.featureReduction){if(e.featureReduction.type==="cluster")return!0;if(e.featureReduction.type==="binning"&&"renderer"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return"renderer"in e&&e.renderer?this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get("version")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange("ready");const t=Array.from(e,r=>{if(EMe(r))return this._getRendererLegendElements(r.renderer,{title:r.title});if(r.featureSet&&r.featureSet.features.length){const i=r.layerDefinition,n=i&&i.drawingInfo,s=n&&uY(n.renderer),a=wMe.read(i.geometryType);return s?this._getRendererLegendElements(s,{title:r.name,geometryType:a}):(Uc.warn("drawingInfo not available!"),null)}return null});try{const r=[];await Kt(t).then(i=>{i.forEach(({value:n})=>n&&r.push(...n))}),this.legendElements=r,this.notifyChange("ready")}catch(r){Uc.warn("error while building legend for layer!",r)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange("ready")}catch(t){Uc.warn("error while building legend for layer!",t)}}async buildLegendElementsForTools(){var t,r;const e=this.layer;if(IMe(e))this._constructLegendElementsForVoxellayer();else if(TMe(e))this._constructLegendElementsForWMTSlayer();else if($Me(e))await this._constructLegendElementsForWMSSublayers();else if(Cj(e))await this._constructLegendElementsForBuildingSceneLayer();else if(Ej(e)||CMe(e)||Cj(e))await this._constructLegendElementsForSublayers();else{this._handles.remove("imageryLayers-watcher");let i="default";hg(e)&&(i=(((t=e==null?void 0:e.renderingRule)==null?void 0:t.functionName)||"default")+"_"+((r=e.bandIds)!=null&&r.length?e.bandIds.join(""):"###")),await this._getLegendLayers(`${e.uid}-${i}`).then(async n=>{this.legendElements=[],this.notifyChange("ready");const s=n.map(async a=>{if(hg(e)||M_(e)){const l=ee(()=>["renderingRule"in e&&e.renderingRule,e.bandIds],()=>Z6(async()=>{ph.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()})());this._handles.add(l,"imageryLayers-watcher")}const o=this._generateSymbolTableElementForLegendLayer(a);o&&o.infos.length&&(hg(e)&&(o.title=e.title),this.legendElements.push(o)),this.notifyChange("ready")});await Kt(s)}).catch(n=>{Uc.warn("Request to server for legend has failed!",n)})}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,r=t&&"createQuery"in t&&"queryFeatureCount"in t;if(!r&&!(t&&"createQuery"in e&&"queryFeatureCount"in e))return!0;await Xa(()=>!t.updating);const i=r?"createQuery"in t&&t.createQuery():"createQuery"in e&&e.createQuery();return i.geometry=this.view.extent,(r?"queryFeatureCount"in t&&await t.queryFeatureCount(i):"queryFeatureCount"in e&&await e.queryFeatureCount(i))!==0}_getParentLayerOpacity(e){let t=1;const r=e.parent;return r&&"uid"in r&&(t=this._getParentLayerOpacity(r)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some(t=>t.ready)}_isRendererScaleDriven(e){if(e.type==="dot-density")return!0;const t="valueExpression"in e&&e.valueExpression;if(Tv.test(t))return!0;const r="visualVariables"in e&&e.visualVariables;return!!r&&r.some(i=>this._isScaleDrivenSizeVariable(i))}_isScaleDrivenSizeVariable(e){if(e&&e.type!=="size")return!1;const t=e,r=t.minSize,i=t.maxSize;return typeof r=="object"&&r?this._isScaleDrivenSizeVariable(r):typeof i=="object"&&i?this._isScaleDrivenSizeVariable(i):!!t.expression||Tv.test(t.valueExpression)}_isLayerScaleDriven(e){if("minScale"in e&&e.minScale>0||"maxScale"in e&&e.maxScale>0)return!0;if("sublayers"in e&&e.sublayers)return e.sublayers.some(r=>this._isLayerScaleDriven(r));const t=e.parent;if(e.loaded===!1&&t&&Ej(t)&&"source"in e&&e.source&&e.source.type==="map-layer"){for(const r of t.sourceJSON.layers)if(r.id===e.source.mapLayerId&&(r.minScale>0||r.maxScale>0))return!0}return!1}async _constructLegendElementsForVoxellayer(){var s;this.legendElements=[],this._handles.remove("voxel-style-watcher");const e=this.layer;this._handles.add(ee(()=>e.currentVariableId,()=>this._constructLegendElementsForVoxellayer()),"voxel-style-watcher");const t=e.getVariableStyle(null),r=[];if(t){if((s=t.uniqueValues)!=null&&s.length){const a=[];t.uniqueValues.forEach(o=>{o.enabled&&a.push({label:o.label||`${o.value}`,value:o.value,symbol:new po({color:o.color,outline:null})})}),a.length&&r.push({type:"symbol-table",title:t.label,infos:a})}else if(t.transferFunction){const{colorStops:a,stretchRange:o}=t.transferFunction,l=a.toArray().reverse(),c=o.map((p,h)=>`${h===0?VJ:zJ} ${mMe(p)}`).reverse(),d=l.map(p=>({color:p.color,value:null,label:null}));d[0].label=c[0],d[d.length-1].label=c[1],r.push({type:"color-ramp",title:t.label,infos:d,preview:vf(l.map(p=>p.color))})}}const i=e.opacity,n=r.reduce((a,o)=>a.concat(this._getAllInfos(o)),[]).filter(a=>!!(a!=null&&a.symbol)).map(a=>this._getSymbolPreview(a,i));await Kt(n),this.legendElements=r,this.notifyChange("ready")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove("wmts-activeLayer-watcher");const e=this.layer.activeLayer;if(this._handles.add(ee(()=>{const{layer:t}=this;return t&&"activeLayer"in t&&t.activeLayer},()=>this._constructLegendElementsForWMTSlayer()),"wmts-activeLayer-watcher"),e.styleId&&e.styles){let t=null;e.styles.some(r=>e.styleId===r.id&&(t=r.legendUrl,!0)),t&&(this.legendElements=[{type:"symbol-table",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange("ready")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove("wms-sublayers-watcher");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(ee(()=>{const{layer:r}=this;return r&&"sublayers"in r&&r.sublayers},()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange("ready")}async _generateLegendElementsForWMSSublayers(e,t){const r=[];this._handles.add(e.on("change",()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher");const i=e.toArray();for(const n of i){const s=ee(()=>[n.title,n.visible,n.legendEnabled],()=>this._constructLegendElementsForWMSSublayers());if(this._handles.add(s,"wms-sublayers-watcher"),!this.respectLayerVisibility||n.visible&&n.legendEnabled){const a=await this._generateSymbolTableElementForWMSSublayer(n,t);a&&a.infos.length&&r.unshift(a)}}return r}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const r=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter(i=>i);return{type:"symbol-table",title:e.title,infos:r}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){var a;let r=e.legendUrl;if(!r)return;const i={type:"symbol-table",title:e.title||e.name||e.id&&e.id+"",infos:[]};t&&(r=i5(r,t));let n=null;const s=(a=e.layer)==null?void 0:a.opacity;try{n=(await $e(r,{responseType:"image"})).data,n&&(n.style.opacity=s)}catch{}return i.infos.push({src:r,preview:n,opacity:s}),i}_getLegendLayers(e,t){const r=ph&&ph[e];return r?Promise.resolve(r):this._legendRequest(t).then(i=>{const n=i.layers;return ph[e]=n,n})}_legendRequest(e){const t=this.layer;let r={f:"json",dynamicLayers:e};if(hg(t)){const n=t.exportImageServiceParameters.renderingRule;if(n&&(r.renderingRule=JSON.stringify(n.rasterFunctionDefinition||n.toJSON())),t.bandIds&&(r.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:s,viewId:a,customParameters:o}=t;r={raster:s,viewId:a,...r,...o}}}let i=t.url.replace(/(\/)+$/,"");if("version"in t&&t.version>=10.01){const n=i.indexOf("?");n>-1?i=i.substring(0,n)+"/legend"+i.substring(n):i+="/legend"}else{const n=i.toLowerCase().indexOf("/rest/"),s=i.substring(0,n)+i.substring(n+5,i.length);i=yMe+"?soapUrl="+encodeURI(s)+"&returnbytes=true"}return $e(i,{query:r}).then(n=>n.data)}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove("sublayers-watcher");const e=this.layer;this._handles.add(ee(()=>e.sublayers,()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){Uc.warn("Request to server for legend has failed!",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let r=[];this._handles.add(e.on("change",()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");const i=e.toArray();for(const n of i){const s=ee(()=>["renderer"in n&&n.renderer,n.opacity,n.title,n.visible],()=>this._constructLegendElementsForBuildingSceneLayer());if(this._handles.add(s,"sublayers-watcher"),!this.respectLayerVisibility||n.visible){const a=n&&n.opacity!=null?n.opacity:null,o=a!=null?a*t:t;if(n.type==="building-group"){const l={type:"symbol-table",title:n.title,infos:[]},c=await this._generateLegendElementsForBuildingSublayers(n.sublayers,o);l.infos.push(...c),r=[l,...r]}else n.renderer&&(r=[...await this._getRendererLegendElements(n.renderer,{title:n.title,opacity:o,sublayer:n}),...r])}}return r.filter(n=>!!n&&(!("infos"in n)||n.infos.length>0))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove("sublayers-watcher");const e=this.layer;this._handles.add(ee(()=>e.sublayers,()=>this._constructLegendElementsForSublayers),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){Uc.warn("Request to server for legend has failed!",t)}}async _generateLegendElementsForSublayers(e,t,r){const i=this.layer;let n=[];this._handles.add(e.on("change",()=>this._constructLegendElementsForSublayers()),"sublayers-watcher");let s=e.toArray();!r&&this.sublayerIds&&this.sublayerIds.length&&(s=this.sublayerIds.map(a=>i.findSublayerById(a)).filter(Boolean));for(const a of s){const o=ee(()=>[a.renderer,a.opacity,a.title,a.visible,a.legendEnabled],()=>this._constructLegendElementsForSublayers());if(this._handles.add(o,"sublayers-watcher"),!this.respectLayerVisibility||a.visible&&a.legendEnabled&&this._isSublayerInScale(a)){const l=a&&a.opacity!=null?a.opacity:null,c=l!=null?l*t:t;if(a.renderer&&!a.sublayers&&a.originIdOf("renderer")>Fe.SERVICE)await a.load(),n=[...await this._getRendererLegendElements(a.renderer,{title:a.title,opacity:c,sublayer:a}),...n];else{const d=await this._generateSymbolTableElementForSublayer(a,c,r);d&&n.unshift(d)}}}return n.filter(a=>!!a&&(!("infos"in a)||a.infos.length>0))}async _generateSymbolTableElementForSublayer(e,t,r){if(!r){r=new Map;const n=this.layer,s=e.source;let a=null;if(!(!s||s.type==="map-layer"&&s.mapLayerId===e.id&&(!s.gdbVersion||s.gdbVersion===("gdbVersion"in n&&n.gdbVersion)))||e.originIdOf("renderer")>Fe.SERVICE||e.originIdOf("labelingInfo")>Fe.SERVICE||e.originIdOf("labelsVisible")>Fe.SERVICE){const l=new es({layer:this.layer});a=l.hasDynamicLayers?l.dynamicLayers:null,l.destroy()}const o=a||`${n.uid}-default`;(await this._getLegendLayers(o,a)).forEach(l=>r.set(l.layerId,l))}const i=r.get(e.id);if((!i||(i==null?void 0:i.subLayerIds)&&i.defaultVisibility)&&e.sublayers){const n=await this._generateLegendElementsForSublayers(e.sublayers,t,r);return{type:"symbol-table",title:e.title,infos:n}}return this._generateSymbolTableElementForLegendLayer(i,e,t)}_generateSymbolTableElementForLegendLayer(e,t,r){var o;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const i=t==null?void 0:t.renderer;let n=(t==null?void 0:t.title)||e.layerName;if(i&&(!t||(t==null?void 0:t.originIdOf("renderer"))>Fe.SERVICE)){const l=(t==null?void 0:t.title)||this._getRendererTitle(i,t);l&&(n&&typeof l!="string"&&"title"in l&&(l.title=n),n=l)}const s={type:"symbol-table",title:n,legendType:e.legendType?e.legendType:null,infos:[]},a=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return((o=e.legendGroups)==null?void 0:o.length)>0?e.legendGroups.forEach(l=>{var d;const c={type:"symbol-table",title:l.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(a.filter(p=>p.groupId===l.id),e.layerId,r)};((d=c.infos)==null?void 0:d.length)>0&&s.infos.push(c)}):s.infos=this._generateSymbolTableElementInfosForLegendLayer(a,e.layerId,r),s.infos.length>0?s:null}_generateSymbolTableElementInfosForLegendLayer(e,t,r){return e.map(i=>{let n=i.url;if(i.imageData&&i.imageData.length>0)n=`data:image/png;base64,${i.imageData}`;else{if(n.indexOf("http")===0)return null;n=LG(`${this.layer.url}/${t}/images/${n}`)}return{label:i.label,src:n,opacity:r==null?this.opacity:r,width:i.width,height:i.height}}).filter(i=>!!i)}_isSublayerInScale(e){const t=e.minScale||0,r=e.maxScale||0;return!(t>0&&t<this.scale||r>this.scale)}_isLegendLayerInScale(e,t){const r=t||this.layer;let i=null,n=null,s=!0;return!r.minScale&&r.minScale!==0||!r.maxScale&&r.maxScale!==0?(e.minScale===0&&r.tileInfo&&(i=r.tileInfo.lods[0].scale),e.maxScale===0&&r.tileInfo&&(n=r.tileInfo.lods[r.tileInfo.lods.length-1].scale)):(i=Math.min(r.minScale,e.minScale)||r.minScale||e.minScale,n=Math.max(r.maxScale,e.maxScale)),(i>0&&i<this.scale||n>this.scale)&&(s=!1),s}_sanitizeLegendForSublayer(e,t){if("version"in this.layer&&this.layer.version<10.1||e.length===0)return e;const r=t.renderer,i=e.some(a=>a.values);let n=null,s=null;return i&&e.some((a,o)=>(a.values||(n=o,s=a,s.label||(s.label="others")),s!=null)),r?r.type==="unique-value"?s&&(e.splice(n,1),e.push(s)):r.type==="class-breaks"&&(s&&e.splice(n,1),e.reverse(),s&&e.push(s)):s&&(e.splice(n,1),e.push(s)),e}async _getRendererLegendElements(e,t={}){return MMe(e,this.view)?SMe(e)?this._constructPointCloudRendererLegendElements(e,t):oee(e)?this._constructDotDensityRendererLegendElements(e):lee(e)?this._constructPieChartRendererLegendElements(e):this._constructRendererLegendElements(e,t):(Uc.warn(`Renderer of type '${e.type}' not supported!`),[])}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const r=t.title,i=[];let n=null,s=null;if(qA(e))n={type:"symbol-table",title:r||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach(o=>{n.infos.unshift({label:o.label||o.minValue+" - "+o.maxValue,value:[o.minValue,o.maxValue],symbol:this._getAppliedCloneSymbol(Cv,o.color)})});else if(HA(e)){const o=e.stops;let l=null;if(o.length&&(o.length===1&&(l=o[0].color),!l)){const d=o[0].value,p=o[o.length-1].value;d!=null&&p!=null&&(l=qJ(d+(p-d)/2,o))}n={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(Cv,l||Cv.color)}]};const c=h1e(e.stops);s={type:"color-ramp",title:r||this._getPointCloudRendererTitle(e),infos:c,preview:vf(c.map(d=>d.color))}}else WA(e)&&(n={type:"symbol-table",title:r||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach(o=>{n.infos.push({label:o.label||o.values.join(", "),value:o.values.join(", "),symbol:this._getAppliedCloneSymbol(Cv,o.color)})}));n&&n.infos.length&&i.push(n),s&&s.infos.length&&i.push(s);const a=i.reduce((o,l)=>o.concat(l.infos),[]).filter(o=>!!o.symbol).map(o=>this._getSymbolPreview(o,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}}));return Kt(a).then(()=>i)}_getElementInfoForDotDensity(e,t){var h;const{backgroundColor:r,outline:i,dotSize:n}=e,s=(h=this.effectList)==null?void 0:h.effects.map(m=>m.toJSON()),a=J4(s),o=n+"-"+t+"-"+r+"-"+(i&&JSON.stringify(i.toJSON()))+"-"+a,l=this._dotDensityUrlCache,c=l.has(o)?l.get(o):Dwe(e,t);l.set(o,c);const d={shape:{type:"image",x:0,y:0,width:c.width,height:c.height,src:c.src},fill:null,stroke:null,offset:[0,0]},p=Z2([[d]],[c.width,c.height],{effectView:this.effectList});return{opacity:1,src:c.src,preview:p,width:c.width,height:c.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),r=e.legendOptions&&e.legendOptions.unit,i={type:"symbol-table",title:{value:t&&Math.round(t),unit:r||""},infos:[]};return e.attributes.forEach(n=>{const s=this._getElementInfoForDotDensity(e,n.color);s.label=n.label||n.valueExpressionTitle||n.field,i.infos.push(s)}),Promise.resolve([i])}async _constructPieChartRendererLegendElements(e){var l,c,d,p;const t=this.layer.opacity,r=[],i="Others",n=e.outline;e.attributes.forEach(h=>{const m=new Ni({color:h.color,outline:n}),g=h.label||h.valueExpressionTitle||h.field;r.push({label:g,symbol:m})});const s=r.length?[...r]:[];if(((l=e.othersCategory)==null?void 0:l.color)&&((c=e.othersCategory)==null?void 0:c.threshold)!==0){const h=new Ni({color:e.othersCategory.color,outline:n});r.push({label:e.othersCategory.label||i,symbol:h})}if((d=e.defaultColor)!=null&&d.a){const h=new Ni({color:e.defaultColor,outline:n});r.push({label:e.defaultLabel,symbol:h})}const a=await this._getVisualVariableLegendElements(e,this.layer)||[];if(r.length){a.unshift({type:"symbol-table",title:null,infos:r});const h=s.filter(g=>g.label!==i).map(g=>g.symbol.color).filter(Boolean),m=Nwe(h,{holePercentage:e.holePercentage,backgroundColor:(p=e.backgroundFillSymbol)==null?void 0:p.color,effectList:this.effectList,outline:n});a.unshift({type:"pie-chart-ramp",title:this._getRendererTitle(e,this.layer),infos:r,preview:m})}const o=a.reduce((h,m)=>h.concat(this._getAllInfos(m)),[]).filter(h=>!!(h!=null&&h.symbol)&&!(h!=null&&h.preview)).map(h=>this._getSymbolPreview(h,t,{effectList:this.effectList}));return await Kt(o),a}async _constructRendererLegendElements(e,t={}){var w;const{title:r,sublayer:i}=t,n=i||this.layer;let s=await this._loadRenderer(e);this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const a=await this._getVisualVariableLegendElements(s,n)||[],o={type:"symbol-table",title:r||this._getRendererTitle(s,n),infos:[]};let l=null,c=!1;const d=new Set;if(aT(s)&&!this._hasSizeRamp){const v=await UJ(s);o.infos.push({label:null,symbol:v})}else if(LMe(s)){let v=r;const _=RMe(s)?"univariate-above-and-below-ramp":"univariate-color-size-ramp",S=a.findIndex(T=>T.type==="color-ramp"),x=S!==-1?a.splice(S,1)[0]:null,M=a.findIndex(T=>T.type==="size-ramp"),I=M!==-1?a.splice(M,1)[0]:null,$=[];x&&(v=x.title,$.push(x)),I&&(v=I.title,$.push(I)),$.length>0&&a.push({type:_,title:v,infos:$})}else if(aee(s)){const v=HJ(s);a.push({type:"heatmap-ramp",title:r||((w=s.legendOptions)==null?void 0:w.title),infos:v,preview:vf(v.map(_=>_.color),{effectList:this.effectList})})}else if(oT(s)){const v=s&&s.authoringInfo;if(v&&v.type==="relationship"){const{focus:_,numClasses:S,field1:x,field2:M}=v;if(S&&x&&M){const I=[x,M];let $=QX(_)||0;for(const A of I){const{field:P,normalizationField:F,label:j}=A,V=j||{field:this._getFieldAlias(P,n),normField:F&&this._getFieldAlias(F,n)},z=PMe.clone();z.angle=$,o.infos.push({label:V,symbol:z}),d.add(z),$+=90}const T=Kxe({focus:_,numClasses:S,infos:s.uniqueValueInfos});a.unshift(T)}}else{const _=s.field;s.uniqueValueInfos.forEach(S=>{S.symbol&&o.infos.push({label:S.label||this._getDomainName(_,S.value,n)||S.value,value:S.value,symbol:S.symbol})})}s.defaultSymbol&&(o.infos.push({label:s.defaultLabel||"others",symbol:s.defaultSymbol}),c=!0)}else if(l0(s))l=this._isUnclassedRenderer(s),(!l||!this._hasSizeRamp)&&(s.classBreakInfos.forEach(v=>{v.symbol&&o.infos.unshift({label:v.label||(l?null:v.minValue+" - "+v.maxValue),value:[v.minValue,v.maxValue],symbol:v.symbol})}),l&&(o.title=null),this._updateInfosforClassedSizeRenderer(s,o.infos)),s.defaultSymbol&&!l&&(o.infos.push({label:s.defaultLabel||"others",symbol:s.defaultSymbol}),c=!0);else if(nee(s))if(M_(this.layer)||kMe(this.layer)){const v=this._constructTileImageryStretchRendererElements(s);AMe(v)?a.push(v):o.infos=v}else{const v=this.layer;let _,S;s.statistics&&s.statistics.length&&(_=s.statistics[0].min!=null?s.statistics[0].min:s.statistics[0][0],S=s.statistics[0].max!=null?s.statistics[0].max:s.statistics[0][1]);let x=[];const M=v.renderingRule?await v.generateRasterInfo(v.renderingRule):v.serviceRasterInfo,I=M.keyProperties.BandProperties,$=Tj[v.rasterInfo.pixelType.toLowerCase()];M.bandCount===1||v.bandIds&&v.bandIds.length===1?(_=_!=null?_:M.statistics?M.statistics[v.bandIds[0]].min:$[0],S=S!=null?S:M.statistics?M.statistics[v.bandIds[0]].max:$[1],_||S?a.push(this._getStretchLegendElements(s,{min:_,max:S})):this._getServerSideLegend()):M.bandCount>=3?I&&I.length>=M.bandCount?v.bandIds&&v.bandIds.length===3?(x=v.bandIds.map(T=>I[T].BandName),o.infos=this._createSymbolTableElementMultiBand(x)):v.format==="lerc"?(x=[0,1,2].map(T=>I[T].BandName),o.infos=this._createSymbolTableElementMultiBand(x)):this._getServerSideLegend():v.format==="lerc"?(x=["band1","band2","band3"],o.infos=this._createSymbolTableElementMultiBand(x)):this._getServerSideLegend():this._getServerSideLegend()}else if(iee(s))s.colormapInfos.forEach(v=>{o.infos.push({label:v.label,value:v.value,symbol:this._getAppliedCloneSymbol(_Me,v.color)})});else if(o0(s)){let v=s.symbol;switch(t.geometryType){case"point":v="pointSymbol"in n&&n.pointSymbol;break;case"polyline":v="lineSymbol"in n&&n.lineSymbol;break;case"polygon":v="polygonSymbol"in n&&n.polygonSymbol}s.symbol&&!this._hasSizeRamp&&o.infos.push({label:s.label,symbol:v})}else if(ree(s)){s.outputUnit&&(this.title="("+s.toJSON().outputUnit+")"),o.title=s.attributeField;const v=s.getClassBreakInfos();v!=null&&v.length?v.forEach(_=>{o.infos.push({label:_.minValue+" - "+_.maxValue,symbol:_.symbol})}):o.infos.push({label:s.attributeField,symbol:s.getDefaultSymbol()})}else see(s)&&a.push(this._getStretchLegendElements(s,{min:0,max:255}));const p=s.defaultSymbol;!p||c||o0(s)||l&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||a.push({type:"symbol-table",infos:[{label:s.defaultLabel||"others",symbol:p}]}),o.infos.length&&a.unshift(o);const h=t.opacity==null?this.opacity:t.opacity,m=this._isTallSymbol("visualVariables"in s&&s.visualVariables),g=hg(this.layer)||M_(this.layer),b=a.reduce((v,_)=>v.concat(this._getAllInfos(_)),[]).filter(v=>!!(v!=null&&v.symbol)).map(v=>this._getSymbolPreview(v,h,{isDefault:v.symbol===p,applyScaleDrivenSize:!d.has(v.symbol),symbolConfig:{isTall:m,isSquareFill:g},effectList:d.has(v.symbol)?null:this.effectList}));return s=null,await Kt(b),a}_getServerSideLegend(){setTimeout(()=>this.buildLegendElementsForTools(),0)}_getAllInfos(e){const t=e==null?void 0:e.infos;return t?t.reduce((r,i)=>r.concat(this._getAllInfos(i)),[]):[e]}_constructTileImageryStretchRendererElements(e){var d,p;const t=this.layer,r=t.rasterInfo,i=r.bandCount||e.statistics.length;let n,s,a=[];const o=r.keyProperties&&r.keyProperties.BandProperties,l=(d=e==null?void 0:e.statistics)!=null&&d.length?e.statistics:r==null?void 0:r.statistics;if(l)n=l[0].min!==void 0?l[0].min:l[0][0],s=l[0].max||l[0][1];else{const h=Tj[t.rasterInfo.pixelType.toLowerCase()];n=h[0],s=h[1]}if(t.hasStandardTime()&&(n=t.getStandardTimeValue(n),s=t.getStandardTimeValue(s)),r.bandCount===1||((p=t.bandIds)==null?void 0:p.length)===1)return this._getStretchLegendElements(e,{min:n,max:s});function c(h){var g;const m=((g=t==null?void 0:t.bandIds)!=null&&g.length?t.bandIds:Array.from(Array(Math.min(r.bandCount,3)).keys())).map(b=>h&&h[b]&&h[b].BandName||"band"+(b+1));return m.length<3?m.push(m[1]):m.length>3&&m.splice(3),m}return a=o&&o.length>=i?c(o):c(),this._createSymbolTableElementMultiBand(a)}_getStretchLegendElements(e,t){const r=e.colorRamp,i=y1e(r,t);return{type:"stretch-ramp",title:"",infos:i,preview:vf(i.map(n=>n.color))}}async _getSizeLegendElement(e,t,r,i){return{type:"size-ramp",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await aMe(r,t,await tI(r),this.scale,this.view.type,i)}}_createSymbolTableElementMultiBand(e){const t=[],r=["red","green","blue"];return e.forEach((i,n)=>{var s;t.push({label:{colorName:r[n],bandName:i},src:d1e[n],opacity:(s=this.opacity)!=null?s:1})}),t}_updateInfosforClassedSizeRenderer(e,t){const r=e.authoringInfo&&e.authoringInfo.type==="class-breaks-size",i=e.classBreakInfos.some(n=>Lw(n.symbol));if(r&&i){const n=nT,s=sT,a=e.classBreakInfos.length,o=(n-s)/(a>1?a-1:a);t.forEach((l,c)=>{l.size=n-o*c})}}_isTallSymbol(e){let t=!1,r=!1;if(e)for(let i=0;i<e.length&&(!t||!r);i++){const n=e[i];n.type==="size"&&(n.axis==="height"&&(t=!0),n.axis==="width-and-depth"&&(r=!0))}return t&&r}async _getSymbolPreview(e,t,r){let i=!(r!=null&&r.isDefault)&&e.size==null&&this._hasSizeRamp?oi(Dr.size):e.size;if(this._scaleDrivenSizeVariable&&(r==null?void 0:r.applyScaleDrivenSize)){const{getSize:n}=await Y(()=>Promise.resolve().then(()=>Yp),void 0,import.meta.url);i=n(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:e.symbol.type==="simple-marker"?e.symbol.style:null})}return wK(e.symbol,{size:i,opacity:t,scale:!1,symbolConfig:r==null?void 0:r.symbolConfig,effectView:r==null?void 0:r.effectList}).then(n=>(e.preview=n,e)).catch(()=>(e.preview=null,e))}async _loadRenderer(e){var s,a;const t=[],r=this.layer;e=e.clone(),this._hasClusterSizeVariable=!1;const i="visualVariables"in e&&((s=e.visualVariables)==null?void 0:s.some(o=>o.type==="size"&&o.target!=="outline"&&!Tv.test(o.valueExpression)));if(e&&"visualVariables"in e&&!i&&"featureReduction"in r&&((a=r.featureReduction)==null?void 0:a.type)==="cluster"){const o=this.layerView._effectiveRenderer,l=Pxe(o,this.view);if(l){const c=r.featureReduction;if("clusterMinSize"in c&&"clusterMaxSize"in c){const{clusterMinSize:p,clusterMaxSize:h}=c;l.legendOptions=new DQ({showLegend:p!==h})}const d=e.visualVariables||[];e.visualVariables=d.concat([l]),this._hasClusterSizeVariable=!0}}const n=await tI(e);if(l0(e)||oT(e)){const o=(e.classBreakInfos||e.uniqueValueInfos).map(l=>this._fetchSymbol(l.symbol,n).then(c=>{l.symbol=c}).catch(()=>{l.symbol=null}));Array.prototype.push.apply(t,o)}return t.push(this._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:n).then(o=>{this._applySymbolToRenderer(e,o,o0(e))}).catch(()=>{this._applySymbolToRenderer(e,null,o0(e))})),Kt(t).then(()=>e)}_applySymbolToRenderer(e,t,r){r?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if(e.type==="web-style"){const r=this._webStyleSymbolCache;try{const i=await(this.view.type==="2d"?e.fetchCIMSymbol({cache:r}):e.fetchSymbol({cache:r}));return this._getAppliedCloneSymbol(i,t)}catch{throw Uc.warn("Fetching web-style failed!"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,t){if(!e||!t)return e;const r=e.clone(),i=t&&t.toRgba();return r.type.includes("3d")?this._applyColorTo3dSymbol(r,i):r.type==="cim"?LJ(r,t):r.color&&(r.color=new re(i||r.color)),r}_applyColorTo3dSymbol(e,t){t&&e.symbolLayers.forEach(r=>{r&&(r.material||(r.material={}),r.material.color=new re(t))})}async _getVisualVariableLegendElements(e,t){if(!("visualVariables"in e)||!e.visualVariables||e.type==="vector-field")return null;const r=e.visualVariables,i=[],n=[],s=[];for(const d of r)d.type==="color"?i.push(d):d.type==="size"?n.push(d):d.type==="opacity"&&s.push(d);const a=[...i,...n,...s];let o,l;if(i.length===0&&l0(e)&&e.classBreakInfos&&e.classBreakInfos.length===1){const d=e.classBreakInfos[0];o=d&&d.symbol}if(i.length===0&&o0(e)&&(o=e.symbol),o)if(o.type.includes("3d")){const d=o.symbolLayers.getItemAt(0);d.type==="water"?C(d.color)&&(l=d.color):C(d.material)&&C(d.material.color)&&(l=d.material.color)}else o.url||(l=o.color);const c=this.effectList;return(await Promise.all(a.map(async d=>{if(!d.legendOptions||d.legendOptions.showLegend!==!1){const p=aT(e)?d.field:this._getRampTitle(d,t);let h=null;const m="getField"in t&&t.getField&&t.getField(d.field),g=m&&nm(m);if(d.type==="color"){const b=await rI(d,null,g);h={type:"color-ramp",title:p,infos:b,preview:vf(b.map(w=>w.color),{effectList:c})},this._hasColorRamp||(this._hasColorRamp=!(h.infos==null||!h.infos.length))}else if(d.type==="size"&&d.target!=="outline")Tv.test(d.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=d):(h=await this._getSizeLegendElement(p,d,e,g),this._hasSizeRamp||(this._hasSizeRamp=!(h.infos==null||!h.infos.length)));else if(d.type==="opacity"){const b=await rI(d,l,g);h={type:"opacity-ramp",title:p,infos:b,preview:vf(b.map(w=>w.color),{effectList:c})},this._hasOpacityRamp||(this._hasOpacityRamp=!(h.infos==null||!h.infos.length))}return h&&h.infos?h:null}}))).filter(d=>!!d)}_getDomainName(e,t,r){if(e&&typeof e!="function"){const i="getField"in r&&r.getField&&r.getField(e),n=i&&"getFieldDomain"in r&&r.getFieldDomain?r.getFieldDomain(i.name):null;return n&&n.type==="coded-value"?n.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,r=e.field;if("featureReduction"in t&&t.featureReduction&&t.featureReduction.type==="cluster"){const i=t.featureReduction,n="popupTemplate"in i&&i.popupTemplate,s=n&&n.fieldInfos;if(s){for(const a of s)if(a.fieldName===r)return r==="cluster_count"?a.label||{showCount:!0}:a.label}}return{showCount:!0}}_getRampTitle(e,t){let r=e.field,i=e.normalizationField,n=!1,s=!1,a=!1,o=null;r=typeof r=="function"?null:r,i=typeof i=="function"?null:i;const l=e.legendOptions&&e.legendOptions.title;if(l!=null)o=l;else if(e.valueExpressionTitle)o=e.valueExpressionTitle;else{if("renderer"in t&&t.renderer&&"authoringInfo"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const c=t.renderer.authoringInfo.visualVariables;for(let d=0;d<c.length;d++){const p=c[d];if(p.type==="color"){if(p.style==="ratio"){n=!0;break}if(p.style==="percent"){s=!0;break}if(p.style==="percent-of-total"){a=!0;break}}}}o={field:r&&this._getFieldAlias(r,t),normField:i&&this._getFieldAlias(i,t),ratio:n,ratioPercent:s,ratioPercentTotal:a}}return o}_getRendererTitle(e,t){const r=e;if(r.legendOptions&&r.legendOptions.title)return r.legendOptions.title;if(r.valueExpressionTitle)return r.valueExpressionTitle;let i=r.field,n=null,s=null;l0(r)&&(n=r.normalizationField,s=r.normalizationType==="percent-of-total"),i=typeof i=="function"?null:i,n=typeof n=="function"?null:n;let a=null;return(i||n)&&(a={field:i&&this._getFieldAlias(i,t),normField:n&&this._getFieldAlias(n,t),normByPct:s}),a}_getFieldAlias(e,t){const r="popupTemplate"in t&&t.popupTemplate,i=r&&r.fieldInfos;let n=null;i&&i.some(l=>e===l.fieldName&&(n=l,!0));let s=null;"getField"in t&&t.getField?s=t.getField(e):"fieldsIndex"in t&&t.fieldsIndex&&(s=t.fieldsIndex.get(e));const a=n||s;let o=null;return a&&(o=n&&n.label||s&&s.alias||"name"in a&&a.name||"fieldName"in a&&a.fieldName),o}_isUnclassedRenderer(e){const t=e.visualVariables;let r=!1;return l0(e)&&e.classBreakInfos&&e.classBreakInfos.length===1&&t&&(r=e.field?t.some(i=>!(!i||e.field!==i.field||(e.normalizationField||i.normalizationField)&&e.normalizationField!==i.normalizationField)):!!t.length),r}};u([f()],Ar.prototype,"children",void 0),u([f({readOnly:!0})],Ar.prototype,"effectList",null),u([f()],Ar.prototype,"layerView",void 0),u([f()],Ar.prototype,"layer",void 0),u([f()],Ar.prototype,"legendElements",void 0),u([f({readOnly:!0})],Ar.prototype,"opacity",null),u([f()],Ar.prototype,"parent",void 0),u([f({readOnly:!0,dependsOn:[]})],Ar.prototype,"ready",null),u([f()],Ar.prototype,"hideLayersNotInCurrentView",void 0),u([f()],Ar.prototype,"keepCacheOnDestroy",void 0),u([f()],Ar.prototype,"respectLayerVisibility",void 0),u([f({readOnly:!0})],Ar.prototype,"scale",null),u([f()],Ar.prototype,"sublayerIds",void 0),u([f({readOnly:!0})],Ar.prototype,"isScaleDriven",null),u([f()],Ar.prototype,"title",void 0),u([f({readOnly:!0,dependsOn:["ready"],value:0})],Ar.prototype,"version",null),u([f()],Ar.prototype,"view",void 0),Ar=u([E("esri.widgets.Legend.support.ActiveLayerInfo")],Ar);const cee=Ar,Nd={state:"state",view:"view",allLayerViews:"all-layer-views",legendProperties:"legend-properties"},uee=Se.ofType(cee),OMe=["esri.layers.BuildingSceneLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.TileLayer","esri.layers.VoxelLayer","esri.layers.WFSLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer"],dee="view.basemapView.baseLayerViews",fee="view.groundView.layerViews",pee="view.basemapView.referenceLayerViews",FMe=[dee,fee,"view.layerViews",pee];let Us=class extends ye{constructor(e){super(e),this._handles=new hr,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new Se,this.activeLayerInfos=new uee,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(ee(()=>this.view,()=>this._viewHandles(),Ke),Nd.view),this._handles.add(zG(()=>this._refresh()))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}_viewHandles(){this._handles.remove(Nd.state),this.view&&this._handles.add(ee(()=>this.state,()=>this._stateHandles(),Ke),Nd.state)}_stateHandles(){this._resetAll(),this.state==="ready"&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([Nd.allLayerViews,Nd.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const t=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],t&&t.parent&&t.parent.children.remove(t)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on("change",t=>this._allLayerViewsChangeHandle(t)),Nd.allLayerViews),this._handles.add(ee(()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible],()=>this._propertiesChangeHandle()),Nd.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach(t=>this._destroyViewActiveLayerInfo(t.uid)),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const t=[];e.forEach(i=>{if(!i.parent){const n=i.layer.parent,s=n&&"uid"in n&&this._layerViewByLayerId[n.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&e.includes(a)&&(t.push(i),i.parent=a,a.children.add(i),this._sortActiveLayerInfos(a.children))}}),e.removeMany(t);const r={};this.view.allLayerViews.forEach((i,n)=>r[i.layer.uid]=n),e.sort((i,n)=>{const s=r[i.layer.uid]||0;return(r[n.layer.uid]||0)-s})}_generateLayerViews(){const e=[];return FMe.filter(this._filterLayerViews,this).map(this.get,this).filter(t=>t!=null).forEach(this._collectLayerViews("layerViews",e)),e}_filterLayerViews(e){const t=!this.basemapLegendVisible&&(e===dee||e===pee),r=!this.groundLegendVisible&&e===fee;return!t&&!r}_collectLayerViews(e,t){const r=i=>(i&&i.forEach(n=>{t.push(n),r(n[e])}),t);return r}_filterLayerViewsByLayerInfos(e){const t=this.layerInfos;return!t||!t.length||t.some(r=>this._hasLayerInfo(r,e))}_hasLayerInfo(e,t){const r=this._isLayerUIDMatching(e.layer,t.layer.uid);return r&&(this._layerInfosByLayerViewId[t.uid]=e),r}_isLayerUIDMatching(e,t){return e&&(e.uid===t||this._hasLayerUID(e.layers,t))}_hasLayerUID(e,t){return e&&e.some(r=>this._isLayerUIDMatching(r,t))}_isLayerViewSupported(e){return!!OMe.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(ee(()=>{var t;return[e.legendEnabled,(t=e.layer)==null?void 0:t.legendEnabled]},()=>this._layerActiveHandle(e)),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get("layer.legendEnabled")}_buildActiveLayerInfo(e){var a;const t=e.layer,r=e.uid,i=this._layerInfosByLayerViewId[r];let n=this._activeLayerInfosByLayerViewId[r];if(!n){const o=i&&i.title!==void 0&&i.layer.uid===t.uid;n=new cee({layer:t,layerView:e,title:o?i.title:t.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:i&&i.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[r]=n}const s=t.parent&&"uid"in t.parent&&this._layerViewByLayerId[(a=t.parent)==null?void 0:a.uid];if(n.parent=this._activeLayerInfosByLayerViewId[s==null?void 0:s.uid],!this._handles.has(r)){const o=[ee(()=>t.title,l=>this._titleHandle(l,n)),ee(()=>[t.opacity,"renderer"in t&&t.renderer,"pointSymbol"in t&&t.pointSymbol,"lineSymbol"in t&&t.lineSymbol,"polygonSymbol"in t&&t.polygonSymbol],()=>this._constructLegendElements(n)),Gi(()=>{var l;return((l=this.view)==null?void 0:l.stationary)===!0},()=>this._scaleHandle(n),Ke),ee(()=>e._effectiveRenderer,()=>this._constructLegendElements(n)),ee(()=>"effect"in t&&t.effect,()=>this._constructLegendElements(n))];if(this.respectLayerVisibility){const l=ee(()=>e.legendEnabled,d=>this._legendEnabledHandle(d,n)),c=ee(()=>t.legendEnabled,d=>this._legendEnabledHandle(d,n));o.push(l,c)}this._handles.add(o,r)}n.isScaleDriven||this._constructLegendElements(n),this._addActiveLayerInfo(n)}_titleHandle(e,t){t.title=e,this._constructLegendElements(t)}_legendEnabledHandle(e,t){e?this._addActiveLayerInfo(t):this._removeActiveLayerInfo(t)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){var i;const{layerView:t,layer:r}=e;if(this._isLayerActive(t)&&!this.activeLayerInfos.includes(e)){const n=e.parent;if(n)n.children.includes(e)||n.children.push(e),this._sortActiveLayerInfos(n.children);else{const s=(i=this.layerInfos)==null?void 0:i.some(a=>a.layer.uid===r.uid);r.parent&&"uid"in r.parent&&!s?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const s=[];this._activeLayerInfosWithNoParent.forEach(a=>{const o=a.layer.parent,l=o&&"uid"in o&&this._layerViewByLayerId[o==null?void 0:o.uid],c=this._activeLayerInfosByLayerViewId[l==null?void 0:l.uid];c&&(s.push(a),a.parent=c)}),s.length&&(this._activeLayerInfosWithNoParent.removeMany(s),s.forEach(a=>this._addActiveLayerInfo(a)))}}}_removeActiveLayerInfo(e){const t=e.parent;t?t.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){var r;const t=e.layer;"featureCollections"in t&&t.featureCollections?e.buildLegendElementsForFeatureCollections(t.featureCollections):"featureReduction"in t&&((r=t.featureReduction)==null?void 0:r.type)==="binning"&&"renderer"in t.featureReduction?e.buildLegendElementsForRenderer(t.featureReduction.renderer):"renderer"in t&&t.renderer?e.buildLegendElementsForRenderer(t.renderer):"url"in t&&t.url?e.buildLegendElementsForTools():e.children.forEach(i=>this._constructLegendElements(i))}};u([f({type:uee})],Us.prototype,"activeLayerInfos",void 0),u([f()],Us.prototype,"basemapLegendVisible",void 0),u([f()],Us.prototype,"groundLegendVisible",void 0),u([f()],Us.prototype,"hideLayersNotInCurrentView",void 0),u([f()],Us.prototype,"keepCacheOnDestroy",void 0),u([f()],Us.prototype,"respectLayerVisibility",void 0),u([f()],Us.prototype,"layerInfos",void 0),u([f({readOnly:!0})],Us.prototype,"state",null),u([f()],Us.prototype,"view",void 0),Us=u([E("esri.widgets.Legend.LegendViewModel")],Us);const DMe=Us,NMe="http://www.w3.org/2000/svg",It={diamondContainer:"esri-relationship-ramp--diamond__container",diamondLeftCol:"esri-relationship-ramp--diamond__left-column",diamondRightCol:"esri-relationship-ramp--diamond__right-column",diamondMidCol:"esri-relationship-ramp--diamond__middle-column",diamondMidColLabel:"esri-relationship-ramp--diamond__middle-column--label",diamondMidColRamp:"esri-relationship-ramp--diamond__middle-column--ramp",squareTable:"esri-relationship-ramp--square__table",squareTableRow:"esri-relationship-ramp--square__table-row",squareTableCell:"esri-relationship-ramp--square__table-cell",squareTableLabel:"esri-relationship-ramp--square__table-label",squareTableLabelLeftBottom:"esri-relationship-ramp--square__table-label--left-bottom",squareTableLabelRightBottom:"esri-relationship-ramp--square__table-label--right-bottom",squareTableLabelLeftTop:"esri-relationship-ramp--square__table-label--left-top",squareTableLabelRightTop:"esri-relationship-ramp--square__table-label--right-top"};function hee(e,t,r,i){const{focus:n,labels:s}=e,a=!!n,o=jMe(e,t,r,i),l={justifyContent:"center"},c=eo();return a?L("div",{class:It.diamondContainer,styles:l},L("div",{class:It.diamondLeftCol},c?s.right:s.left),L("div",{class:It.diamondMidCol},L("div",{class:It.diamondMidColLabel},s.top),o,L("div",{class:It.diamondMidColLabel},s.bottom)),L("div",{class:It.diamondRightCol},c?s.left:s.right)):L("div",{class:It.squareTable},L("div",{class:It.squareTableRow},L("div",{class:O0(It.squareTableCell,It.squareTableLabel,It.squareTableLabelRightBottom)},c?s.top:s.left),L("div",{class:It.squareTableCell}),L("div",{class:O0(It.squareTableCell,It.squareTableLabel,It.squareTableLabelLeftBottom)},c?s.left:s.top)),L("div",{class:It.squareTableRow},L("div",{class:It.squareTableCell}),o,L("div",{class:It.squareTableCell})),L("div",{class:It.squareTableRow},L("div",{class:O0(It.squareTableCell,It.squareTableLabel,It.squareTableLabelRightTop)},c?s.right:s.bottom),L("div",{class:It.squareTableCell}),L("div",{class:O0(It.squareTableCell,It.squareTableLabel,It.squareTableLabelLeftTop)},c?s.bottom:s.right)))}function kj(e,t,r){const i=`${r}_arrowStart`,n=`${r}_arrowEnd`,s=e==="left",a={markerStart:null,markerEnd:null};switch(t){case"HL":s?a.markerStart=`url(#${n})`:a.markerEnd=`url(#${i})`;break;case"LL":a.markerStart=`url(#${n})`;break;case"LH":s?a.markerEnd=`url(#${i})`:a.markerStart=`url(#${n})`;break;default:a.markerEnd=`url(#${i})`}return a}function jMe(e,t,r,i,n=60){const{focus:s,numClasses:a,colors:o,rotation:l}=e,c=!!s,d=Math.sqrt(n**2+n**2)+(c?0:5),p=[],h=[],m=[],g=(n||75)/a;for(let P=0;P<a;P++){const F=P*g;for(let j=0;j<a;j++){const V=j*g,z=EA(o[P][j]),J=kA(null),K={type:"rect",x:V,y:F,width:g,height:g};p.push(yK(z)),h.push(CA(K,z.fill,J,null)),m.push(gK(K))}}const b=10,w=15,v=15,_=10;let S=null;c||(S="margin: -15px -15px -18px -15px");const x=kj("left",s,t),M=kj("right",s,t),I=bK(m),$=V$(I,d,d,0,!1,l,!1),T=V$(I,d,d,0,!1,c?-45:null,!1),A={filter:i2(i),opacity:r==null?null:`${r}`};return L("div",{styles:A,class:c?It.diamondMidColRamp:It.squareTableCell},L("svg",{xmlns:NMe,width:d,height:d,style:S},L("defs",null,L("marker",{id:`${t}_arrowStart`,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},L("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),L("marker",{id:`${t}_arrowEnd`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},L("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),p),L("g",{transform:$},h),L("g",{transform:T},L("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":x.markerStart,"marker-end":x.markerEnd,x1:-b,y1:n-w,x2:-b,y2:w}),L("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":M.markerStart,"marker-end":M.markerEnd,x1:v,y1:n+_,x2:n-v,y2:n+_}))))}const VMe=R4(),mee=10,JA=20,a8=10,ZA=20,QA={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function zMe(e="vertical"){const t="stroke:rgb(200, 200, 200);stroke-width:1";return e==="vertical"?L("svg",{height:"4",width:"10"},L("line",{x1:"0",y1:"2",x2:"10",y2:"2",style:t})):L("svg",{height:"10",width:"10"},L("line",{x1:"5",y1:"0",x2:"5",y2:"10",style:t}))}function BMe(e,t="vertical"){const r=document.createElement("div");return r.style.height=`${JA}px`,r.className=QA.univariateAboveAndBelowSymbol,e!=null&&(r.style.opacity=e.toString()),VMe.append(r,zMe.bind(null,t)),r}function yee(e,t,r="vertical",i){e.infos.forEach((n,s)=>{if(i&&s===2)n.preview=BMe(t,r);else{const a=$t(n.size)+(r==="horizontal"?ZA:a8),o=n.preview.tagName.toLowerCase()==="div",l=o?n.preview:document.createElement("div");l.className=QA.univariateAboveAndBelowSymbol,r==="horizontal"?l.style.width=`${a}px`:l.style.height=`${a}px`,o||l.appendChild(n.preview),n.preview=l}})}function v6(e,t="classic"){const r=e.infos;return t==="classic"?($t(r[0].size)+a8)/2:($t(r[0].size)-$t(r[r.length-1].size))/2}function fm(e,t){if(!e)return null;const r=e.infos.map(n=>n.color),i=vf(t.type==="full"?r:t.type==="above"?r.slice(0,3):r.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList});return i.className=QA.colorRamp,t.opacity!=null&&(i.style.opacity=t.opacity.toString()),i}function lT(e,t,r,i="vertical"){let n=0;const s=e.infos,a=Math.floor(s.length/2),o=t==="full"||t==="above"?0:a,l=t==="full"||t==="below"?s.length-1:a;for(let c=o;c<=l;c++)r&&c===a?n+=i==="horizontal"?mee:JA:n+=$t(s[c].size)+(i==="horizontal"?ZA:a8);return Math.round(n)}function pm(e,t,r,i="vertical"){const n=lT(e,t,r,i),s=e.infos,a=Math.floor(s.length/2),o=t==="full"||t==="above"?0:a,l=t==="full"||t==="below"?s.length-1:a,c=t==="full"?s[o].size+s[l].size:t==="above"?s[o].size:s[l].size,d=r?i==="vertical"?JA:mee:0,p=i==="vertical"?a8*(t==="full"?2:1):ZA*(t==="full"?2:1);return Math.round(n-($t(c)/2+d/2+p/2))}function gee(e,t,r="vertical"){const i=e.infos;let n=i.find(({type:a})=>a==="size-ramp"),s=i.find(({type:a})=>a==="color-ramp");return n&&(n={...n},n.infos=[...n.infos],yee(n,t,r,!0)),s&&(s={...s},s.infos=[...s.infos]),r==="horizontal"&&(n==null||n.infos.reverse(),s==null||s.infos.reverse()),{sizeRampElement:n,colorRampElement:s}}function bee(e,t="vertical"){const r=e.infos;let i=r.find(({type:s})=>s==="size-ramp"),n=r.find(({type:s})=>s==="color-ramp");return i&&(i={...i},i.infos=[...i.infos],yee(i,null,t,!1)),n&&(n={...n},n.infos=[...n.infos]),t==="horizontal"&&(i==null||i.infos.reverse(),n==null||n.infos.reverse()),{sizeRampElement:i,colorRampElement:n}}function UMe(e,t){return t}function qr(e){const t=this;e.appendChild(t)}function hm(e,t,r){if(!t)return;if(typeof t=="string"||typeof t=="number")return t;if("value"in t||"unit"in t)return Ws(e.dotValue,t);if("colorName"in t||"bandName"in t)return e[t.colorName]+": "+(e[t.bandName]||t.bandName);if("showCount"in t)return t.showCount?e.clusterCountTitle:null;let i=null;return UMe(t,r)?i=t.ratioPercentTotal?"showRatioPercentTotal":t.ratioPercent?"showRatioPercent":t.ratio?"showRatio":t.normField?"showNormField":t.field?"showField":null:vee(t,r)&&(i=t.normField?"showNormField":t.normByPct?"showNormPct":t.field?"showField":null),i?Ws(i==="showField"?"{field}":e[i],{field:t.field,normField:t.normField}):null}function vee(e,t){return!t}function wee(e,t){return!!(t&&t==="Stretched"&&e.version>=10.3&&e.declaredClass==="esri.layers.ImageryLayer")}const Ie={activated:"esri-legend--card__carousel-indicator--activated",base:"esri-legend--card",stacked:"esri-legend--stacked",carouselTitle:"esri-legend--card__carousel-title",indicator:"esri-legend--card__carousel-indicator",intervalSeparator:"esri-legend--card__interval-separator",imageryLayerStretchedImage:"esri-legend--card__imagery-layer-image--stretched",imageLabel:"esri-legend--card__image-label",layerCaption:"esri-legend--card__layer-caption",labelElement:"esri-legend--card__label-element",layerRow:"esri-legend--card__layer-row",labelCell:"esri-legend--card__label-cell",message:"esri-legend--card__message",rampLabel:"esri-legend--card__ramp-label",section:"esri-legend--card__section",relationshipSection:"esri-legend--card__relationship-section",serviceCaptionText:"esri-legend--card__service-caption-text",serviceContent:"esri-legend--card__service-content",service:"esri-legend--card__service",groupLayer:"esri-legend--card__group-layer",groupLayerChild:"esri-legend--card__group-layer-child",symbol:"esri-legend--card__symbol",sizeRampRow:"esri-legend--card__size-ramp-row",symbolRow:"esri-legend--card__symbol-row",symbolCell:"esri-legend--card__symbol-cell",indicatorContainer:"esri-legend--card__carousel-indicator-container",intervalSeparatorsContainer:"esri-legend--card__interval-separators-container",relationshipLabelContainer:"esri-legend--card__relationship-label-container",labelContainer:"esri-legend--card__label-container",serviceCaptionContainer:"esri-legend--card__service-caption-container",symbolContainer:"esri-legend--card__symbol-container",sizeRampContainer:"esri-legend--card__size-ramp-container",sizeRampPreview:"esri-legend--card__size-ramp-preview",pieChartRampPreview:"esri-legend--card__pie-chart-ramp-preview",rampContainer:"esri-legend__ramps",sizeRampHorizontal:"esri-legend__size-ramp--horizontal",rampLabelsContainer:"esri-legend__ramp-labels",layerInfo:"esri-legend__layer-cell esri-legend__layer-cell--info",univariateAboveAndBelowColorRamp:"esri-univariate-above-and-below-ramp__color--card",hidden:"esri-hidden"},GMe=25,qMe=25,HMe=768,WMe=100;var o1;(function(e){e.Auto="auto",e.Stack="stack",e.SideBySide="side-by-side"})(o1||(o1={}));const JMe="#ddd",hh=window.devicePixelRatio;function ZMe(e){if(e){if(e.type.includes("3d")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const r=e.symbolLayers.getItemAt(t-1),i=r.resource&&r.resource.primitive;return i==="circle"||i==="cross"||i==="kite"||i==="sphere"||i==="cube"||i==="diamond"}{const t=e.style;return t==="circle"||t==="diamond"||t==="cross"}}}function QMe(e){if(e){if(e.type.includes("3d")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const r=e.symbolLayers.getItemAt(t-1).get("resource.primitive");return r==="triangle"||r==="cone"||r==="tetrahedron"}return e.style==="triangle"}}let Na=class extends xr{constructor(e,t){super(e,t),this._handles=new hr,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=o1.Stack,this.messages=null,this.messagesCommon=null,this.type="card",this.view=null}initialize(){this.own(ee(()=>this.activeLayerInfos,e=>{this._handles.removeAll(),this._watchForSectionChanges(e)}))}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=this.layout===o1.Auto&&this.view.container.clientWidth<=HMe||this.layout===o1.Stack;const e=this.activeLayerInfos,t=e&&e.toArray().map(o=>this._renderLegendForLayer(o)).filter(o=>!!o);this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const r=this._sectionNames.length,i=this._sectionNames.map((o,l)=>{const c=Ws(this.messagesCommon.pagination.pageText,{index:l+1,total:r});return L("div",{key:o,role:"tab",id:o,"aria-label":c,"aria-controls":`${o}-panel`,"aria-selected":(this._selectedSectionName===o).toString(),tabIndex:this._selectedSectionName===o?0:-1,title:c,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(Ie.indicator,{[Ie.activated]:this._selectedSectionName===o}),"data-section-name":o})}),n=this._hasIndicators&&r>1?L("div",{class:Ie.indicatorContainer,key:"carousel-navigation",role:"tablist"},i):null,s=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,a={[Ie.stacked]:this._hasIndicators};return L("div",{class:this.classes(Ie.base,a)},s||L("div",{class:Ie.message},this.messages.noLegend),n)}_selectSection(e){const t=e.target.getAttribute("data-section-name");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case"ArrowLeft":case"ArrowRight":this._switchSectionOnArrowPress(e);break;case"Enter":case" ":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,r=t==="ArrowLeft"?-1:1,i=e.target.getAttribute("data-section-name"),n=this._sectionNames.indexOf(i),s=this._sectionNames;let a=null;n!==-1&&(s[n+r]?a=document.getElementById(s[n+r]):t==="ArrowLeft"?a=document.getElementById(s[s.length-1]):t==="ArrowRight"&&(a=document.getElementById(s[0])),a&&a.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach(r=>{const i=`activeLayerInfo-${r.layer.uid}-version-change`;this._handles.remove(i),this._watchForSectionChanges(r.children),this._handles.add(ee(()=>r.version,()=>this._generateSectionNames()),i)});const t="activeLayerInfos-collection-change";this._handles.remove(t),this._handles.add(e.on("change",()=>this._watchForSectionChanges(e)),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,r){return`${this.id}${e.uid}-type-${t.type}-${r}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach((t,r)=>{this._sectionNames.push(this._getSectionName(e.layer,t,r))})}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map(r=>this._renderLegendForLayer(r)).toArray();return L("div",{key:e.layer.uid,class:this.classes(Ie.service,Ie.groupLayer)},L("div",{class:Ie.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const r=t.some(s=>s.type==="relationship-ramp"),i=t.map((s,a)=>this._renderLegendForElement(s,e,a,r)).filter(s=>!!s);if(!i.length)return null;const n={[Ie.groupLayerChild]:!!e.parent};return L("div",{key:e.layer.uid,class:this.classes(Ie.service,n)},L("div",{class:Ie.serviceCaptionContainer},L("div",{class:Ie.serviceCaptionText},e.title)),L("div",{class:Ie.serviceContent},i))}}_renderLegendForElement(e,t,r,i=!1){const n=e.type==="color-ramp",s=e.type==="opacity-ramp",a=e.type==="size-ramp",o=t.layer;let l=null;if(typeof e.title=="string")l=e.title;else if(e.title){const g=e.title,b=hm(this.messages,g,n||s);l=g.title?`${g.title} (${b})`:b}const c=this._getSectionName(o,e,r),d=this._hasIndicators?L("div",null,L(sd,{level:this.headingLevel,class:Ie.carouselTitle},t.title),L(sd,{level:Oge(this.headingLevel),class:Ie.layerCaption},l)):l?L(sd,{level:this.headingLevel,class:Ie.layerCaption},l):null,p=t.effectList;let h=null;if(e.type==="symbol-table"){const g=e.infos.map((b,w)=>this._renderLegendForElementInfo(b,t,e.legendType,w)).filter(b=>!!b);if(g.length){const b=g[0].properties.classes&&g[0].properties.classes[Ie.symbolRow],w={[Ie.labelContainer]:!b&&!i,[Ie.relationshipLabelContainer]:i};h=L("div",{class:this.classes(w)},g)}}else e.type==="color-ramp"||e.type==="opacity-ramp"||e.type==="heatmap-ramp"?h=this._renderLegendForRamp(e,o.opacity,p):a?h=this._renderSizeRamp(e,o.opacity):e.type==="pie-chart-ramp"?h=this._renderPieChartRamp(e):e.type==="relationship-ramp"?h=hee(e,this.id,o.opacity,p):e.type==="univariate-above-and-below-ramp"?h=this._renderUnivariateAboveAndBelowRamp(e,o.opacity,p):e.type==="univariate-color-size-ramp"&&(h=this._renderUnivariateColorSizeRamp(e,o.opacity,p));if(!h)return null;const m=L("div",{key:c,class:Ie.section,id:`${c}-panel`,role:"tabpanel","aria-labelledby":c,tabIndex:0},[d,h]);return this._sectionMap.set(c,m),m}_renderPieChartRamp(e){return L("div",{class:Ie.pieChartRampPreview,bind:e.preview,afterCreate:qr})}_renderUnivariateAboveAndBelowRamp(e,t,r){const{sizeRampElement:i,colorRampElement:n}=gee(e,t,"horizontal");if(!i)return null;const s=lT(i,"full",!0,"horizontal"),a=pm(i,"above",!0,"horizontal"),o=pm(i,"below",!0,"horizontal"),l=12,c=fm(n,{width:a,height:l,rampAlignment:"horizontal",opacity:t,type:"above",effectList:r}),d=fm(n,{width:o,height:l,rampAlignment:"horizontal",opacity:t,type:"below",effectList:r}),p=v6(i,"card"),h=i.infos.map(S=>S.label),m=h.length-1,g=h.map((S,x)=>x===0||x===m?L("div",{key:x},S):null),b={display:"flex",flexDirection:"column"},w={display:"flex",flexDirection:"row"},v={marginTop:"3px",display:"flex"};eo(this.container)?v.marginRight=`${p}px`:v.marginLeft=`${p}px`;const _={width:`${s}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return L("div",{class:Ie.layerRow,key:"size-ramp-preview",styles:b},L("div",{class:this.classes(Ie.symbolContainer,Ie.sizeRampHorizontal),styles:w},i.infos.map((S,x)=>L("div",{key:x,class:Ie.symbol,bind:S.preview,afterCreate:qr}))),c?L("div",{class:Ie.univariateAboveAndBelowColorRamp,styles:v,key:"color-ramp-preview"},L("div",{bind:c,afterCreate:qr}),L("div",{bind:d,afterCreate:qr})):null,L("div",{class:Ie.layerInfo},L("div",{class:Ie.rampLabelsContainer,styles:_},g)))}_renderUnivariateColorSizeRamp(e,t,r){const{sizeRampElement:i,colorRampElement:n}=bee(e,"horizontal");if(!i)return null;const s=lT(i,"full",!1,"horizontal"),a=pm(i,"full",!1,"horizontal"),o=fm(n,{width:a,height:12,rampAlignment:"horizontal",opacity:t,type:"full",effectList:r}),l=v6(i,"card"),c=i.infos.length-1,d=i.infos.map((b,w)=>w===0||w===c?L("div",{key:w},b.label):null),p={display:"flex",flexDirection:"column"},h={display:"flex",flexDirection:"row"},m={marginTop:"3px",display:"flex"};eo(this.container)?m.marginRight=`${l}px`:m.marginLeft=`${l}px`;const g={width:`${s}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return L("div",{class:Ie.layerRow,key:"size-ramp-preview",styles:p},L("div",{class:this.classes(Ie.symbolContainer,Ie.sizeRampHorizontal),styles:h},i.infos.map((b,w)=>L("div",{key:w,class:Ie.symbol,bind:b.preview,afterCreate:qr}))),L("div",{class:Ie.univariateAboveAndBelowColorRamp,styles:m,key:"color-ramp-preview"},L("div",{bind:o,afterCreate:qr})),L("div",{class:Ie.layerInfo},L("div",{class:Ie.rampLabelsContainer,styles:g},d)))}_renderLegendForElementInfo(e,t,r,i){var a,o;const n=t.layer;if(e.type)return this._renderLegendForElement(e,t,i);const s=wee(n,r);if(e.preview){if(!e.symbol||!e.symbol.type.includes("simple-fill")){if(!e.label)return L("div",{key:i,bind:e.preview,afterCreate:qr});const M={[Ie.symbolCell]:this._hasIndicators};return L("div",{key:i,class:this.classes(Ie.layerRow,{[Ie.symbolRow]:this._hasIndicators})},L("div",{class:this.classes(M),bind:e.preview,afterCreate:qr}),L("div",{class:this.classes(Ie.imageLabel,{[Ie.labelCell]:this._hasIndicators})},hm(this.messages,e.label,!1)||""))}let l=255,c=255,d=255,p=0,h=255,m=255,g=255,b=0;const w=e.symbol.color&&e.symbol.color.a,v=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;w&&(l=e.symbol.color.r,c=e.symbol.color.g,d=e.symbol.color.b,p=e.symbol.color.a*n.opacity),v&&(h=e.symbol.outline.color.r,m=e.symbol.outline.color.g,g=e.symbol.outline.color.b,b=e.symbol.outline.color.a*n.opacity);const _=(o=(a=e.symbol.color)==null?void 0:a.isBright)!=null?o:!0,S=_?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)",x={background:w?`rgba(${l}, ${c}, ${d}, ${p})`:"none",color:_?"black":"white",textShadow:`-1px -1px 0 ${S},
                                              1px -1px 0 ${S},
                                              -1px 1px 0 ${S},
                                              1px 1px 0 ${S}`,border:v?`1px solid rgba(${h}, ${m}, ${g}, ${b})`:"none",filter:i2(t.effectList)};return L("div",{key:i,class:Ie.layerRow},L("div",{class:Ie.labelElement,styles:x}," ",e.label," "))}if(e.src){const l=this._renderImage(e,n,s);return L("div",{key:i,class:Ie.layerRow},l,L("div",{class:Ie.imageLabel},e.label||""))}}_renderImage(e,t,r){const{label:i,src:n,opacity:s}=e,a={[Ie.imageryLayerStretchedImage]:r,[Ie.symbol]:!r},o={opacity:`${s!=null?s:t.opacity}`};return L("img",{alt:hm(this.messages,i,!1),src:n,border:0,width:e.width,height:e.height,class:this.classes(a),styles:o})}_renderSizeRampLines(e){const t=e.infos,r=t[0],i=t[t.length-1],n=r.symbol,s=this._hasIndicators,a=$t(r.size+r.outlineSize)*hh,o=$t(i.size+i.outlineSize)*hh,l=s?a:a+50*hh,c=s?a/2+50*hh:a,d=QMe(n),p=ZMe(n),h=document.createElement("canvas");h.width=l,h.height=c,h.style.width=h.width/hh+"px",h.style.height=h.height/hh+"px";const m=h.getContext("2d");if(s){m.beginPath();const g=0,b=0,w=l/2-o/2,v=c;m.moveTo(g,b),m.lineTo(w,v);const _=l,S=0,x=l/2+o/2,M=c;m.moveTo(_,S),m.lineTo(x,M)}else{m.beginPath();const g=0,b=c/2-o/2,w=l,v=0;m.moveTo(g,b),m.lineTo(w,v);const _=0,S=c/2+o/2,x=l,M=c;m.moveTo(_,S),m.lineTo(x,M)}return m.strokeStyle=JMe,m.stroke(),L("div",{bind:h,afterCreate:qr,styles:s?{display:"flex",marginTop:`-${d?0:p?a/2:0}px`,marginBottom:`-${d?o:p?o/2:0}px`}:{display:"flex",marginRight:`-${d?0:p?a/2:0}px`,marginLeft:`-${d?0:p?o/2:0}px`}})}_renderSizeRamp(e,t){const r=e.infos,i=r[0].label,n=r[r.length-1].label;let s=r[0].preview,a=r[r.length-1].preview;const o=this._hasIndicators,l={"flex-direction":o?"column":"row-reverse"};s&&(s=s.cloneNode(!0),s.style.display="flex"),a&&(a=a.cloneNode(!0),a.style.display="flex");const c={opacity:t!=null?`${t}`:""};return L("div",{class:this.classes(Ie.layerRow,{[Ie.sizeRampRow]:o})},L("div",{class:Ie.rampLabel},o?i:n),L("div",{class:Ie.sizeRampContainer,styles:l},L("div",{bind:s,afterCreate:qr,class:Ie.sizeRampPreview,styles:c}),this._renderSizeRampLines(e),L("div",{bind:a,afterCreate:qr,class:Ie.sizeRampContainer,styles:c})),L("div",{class:Ie.rampLabel},o?n:i))}_renderLegendForRamp(e,t,r){const i=e.infos,n=e.type==="heatmap-ramp",s=i.length-1,a=qMe,o=s>2&&!n?GMe*s:WMe,l=o+20,c=10,d=i.slice(0).reverse();d.forEach((M,I)=>{M.offset=n?M.ratio:I/s});const p=d.length-1,h=d.length%2!=0&&d[d.length/2|0],m=h&&L("div",{class:Ie.intervalSeparatorsContainer},L("div",{class:Ie.intervalSeparator},"|"),L("div",{class:Ie.rampLabel},h.label)),g=i[i.length-1].label,b=i[0].label,w=[[{shape:{type:"path",path:`M0 ${a/2} L${c} 0 L${c} ${a} Z`},fill:d[0].color,stroke:{width:0}},{shape:{type:"rect",x:c,y:0,width:o,height:a},fill:{type:"linear",x1:c,y1:0,x2:o+c,y2:0,colors:d},stroke:{width:0}},{shape:{type:"path",path:`M${o+c} 0 L${l} ${a/2} L${o+c} ${a} Z`},fill:d[p].color,stroke:{width:0}}]],v=vK(w,l,a),{messages:_}=this,S={filter:i2(r),opacity:t==null?null:`${t}`},x={justifyContent:"center"};return L("div",{class:Ie.layerRow,styles:x},L("div",{class:Ie.rampLabel},n?_[g]:g),L("div",{class:Ie.symbolContainer},L("div",{styles:S},v),m),L("div",{class:Ie.rampLabel},n?_[b]:b))}};u([f()],Na.prototype,"activeLayerInfos",void 0),u([f()],Na.prototype,"headingLevel",void 0),u([f()],Na.prototype,"layout",void 0),u([f(),tr("esri/widgets/Legend/t9n/Legend")],Na.prototype,"messages",void 0),u([f(),tr("esri/t9n/common")],Na.prototype,"messagesCommon",void 0),u([f({readOnly:!0})],Na.prototype,"type",void 0),u([f()],Na.prototype,"view",void 0),u([Li()],Na.prototype,"_selectSection",null),Na=u([E("esri.widgets.Legend.styles.Card")],Na);const I_=Na,Ae={service:"esri-legend__service",label:"esri-legend__service-label",layer:"esri-legend__layer",groupLayer:"esri-legend__group-layer",groupLayerChild:"esri-legend__group-layer-child",layerTable:"esri-legend__layer-table",layerTableSizeRamp:"esri-legend__layer-table--size-ramp",layerChildTable:"esri-legend__layer-child-table",layerCaption:"esri-legend__layer-caption",layerBody:"esri-legend__layer-body",layerRow:"esri-legend__layer-row",layerCell:"esri-legend__layer-cell",layerInfo:"esri-legend__layer-cell esri-legend__layer-cell--info",imageryLayerStretchedImage:"esri-legend__imagery-layer-image--stretched",imageryLayerCellStretched:"esri-legend__imagery-layer-cell--stretched",imageryLayerInfoStretched:"esri-legend__imagery-layer-info--stretched",symbolContainer:"esri-legend__layer-cell esri-legend__layer-cell--symbols",symbol:"esri-legend__symbol",rampContainer:"esri-legend__ramps",sizeRamp:"esri-legend__size-ramp",colorRamp:"esri-legend__color-ramp",opacityRamp:"esri-legend__opacity-ramp",borderlessRamp:"esri-legend__borderless-ramp",rampTick:"esri-legend__ramp-tick",rampFirstTick:"esri-legend__ramp-tick-first",rampLastTick:"esri-legend__ramp-tick-last",rampLabelsContainer:"esri-legend__ramp-labels",rampLabel:"esri-legend__ramp-label",univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",univariateAboveAndBelowLabel:"esri-univariate-above-and-below-ramp__label",message:"esri-legend__message",header:"esri-widget__heading",hidden:"esri-hidden"},YMe="esri-legend__",KMe=24,Aj={display:"flex",alignItems:"flex-start"},$_={marginLeft:"3px"},mh={display:"table-cell",verticalAlign:"middle"};let Mf=class extends xr{constructor(e,t){super(e,t),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type="classic"}render(){const e=this.activeLayerInfos,t=e&&e.toArray().map(r=>this._renderLegendForLayer(r)).filter(r=>!!r);return L("div",null,t&&t.length?t:L("div",{class:Ae.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const t=!!e.children.length,r=`${YMe}${e.layer.uid}-version-${e.version}`,i=e.title?sd({level:this.headingLevel,class:this.classes(Ae.header,Ae.label)},e.title):null;if(t){const n=e.children.map(s=>this._renderLegendForLayer(s)).toArray();return L("div",{key:r,class:this.classes(Ae.service,Ae.groupLayer)},i,n)}{const n=e.legendElements;if(n&&!n.length)return null;const s=n.map(o=>this._renderLegendForElement(o,e.layer,e.effectList)).filter(o=>!!o);if(!s.length)return null;const a={[Ae.groupLayerChild]:!!e.parent};return L("div",{key:r,class:this.classes(Ae.service,a),tabIndex:0},i,L("div",{class:Ae.layer},s))}}_renderLegendForElement(e,t,r,i){const n=e.type==="color-ramp",s=e.type==="opacity-ramp",a=e.type==="size-ramp";let o=null;if(e.type==="symbol-table"||a){const m=e.infos.map(g=>this._renderLegendForElementInfo(g,t,r,a,e.legendType)).filter(g=>!!g);m.length&&(o=L("div",{class:Ae.layerBody},m))}else e.type==="color-ramp"||e.type==="opacity-ramp"||e.type==="heatmap-ramp"||e.type==="stretch-ramp"?o=this._renderLegendForRamp(e,t.opacity):e.type==="relationship-ramp"?o=hee(e,this.id,t.opacity,r):e.type==="pie-chart-ramp"?o=this._renderPieChartRamp(e):e.type==="univariate-above-and-below-ramp"?o=this._renderUnivariateAboveAndBelowRamp(e,t.opacity,r):e.type==="univariate-color-size-ramp"&&(o=this._renderUnivariateColorSizeRamp(e,t.opacity,r));if(!o)return null;const l=e.title;let c=null;if(typeof l=="string")c=l;else if(l){const m=hm(this.messages,l,n||s);c=vee(l,n||s)&&l.title?`${l.title} (${m})`:m}const d=i?Ae.layerChildTable:Ae.layerTable,p=c?L("div",{class:Ae.layerCaption},c):null,h={[Ae.layerTableSizeRamp]:a||!i};return L("div",{class:this.classes(d,h)},p,o)}_renderPieChartRamp(e){return L("div",{bind:e.preview,afterCreate:qr})}_renderUnivariateAboveAndBelowRamp(e,t,r){const{sizeRampElement:i,colorRampElement:n}=gee(e,t);if(!i)return null;const s=pm(i,"above",!0),a=pm(i,"below",!0),o=12,l=fm(n,{width:o,height:s,rampAlignment:"vertical",opacity:t,type:"above",effectList:r}),c=fm(n,{width:o,height:a,rampAlignment:"vertical",opacity:t,type:"below",effectList:r}),d=v6(i),p=i.infos.map(x=>x.label),h=p.map((x,M)=>M===0?L("div",{key:M,class:x?l?Ae.univariateAboveAndBelowLabel:Ae.rampLabel:null},x):M===2?L("div",null):null),m=p.length-1,g=Math.floor(p.length/2),b=p.map((x,M)=>M===g||M===m?L("div",{key:M,class:x?l?Ae.univariateAboveAndBelowLabel:Ae.rampLabel:null},x):null),w={display:"table-cell",verticalAlign:"middle"},v={marginTop:`${d}px`},_={height:`${s}px`},S={height:`${a}px`};return L("div",{key:"univariate-above-and-below-ramp-preview",styles:Aj},L("div",{class:Ae.layerBody},i.infos.map((x,M)=>L("div",{class:this.classes(Ae.layerRow,Ae.sizeRamp)},L("div",{class:Ae.symbol,styles:w,bind:x.preview,afterCreate:qr}),l||M%2!=0?null:L("div",{class:Ae.layerInfo},p[M])))),l?L("div",{styles:v,key:"color-ramp-preview"},L("div",{styles:$_},L("div",{styles:mh},L("div",{class:Ae.rampContainer,bind:l,afterCreate:qr})),L("div",{styles:mh},L("div",{class:Ae.rampLabelsContainer,styles:_},h))),L("div",{styles:$_},L("div",{styles:mh},L("div",{class:Ae.rampContainer,bind:c,afterCreate:qr})),L("div",{styles:mh},L("div",{class:Ae.rampLabelsContainer,styles:S},b)))):null)}_renderUnivariateColorSizeRamp(e,t,r){const{sizeRampElement:i,colorRampElement:n}=bee(e);if(!i)return null;const s=v6(i),a=12,o=pm(i,"full",!1),l=fm(n,{width:a,height:o,rampAlignment:"vertical",opacity:t,type:"full",effectList:r}),c=i.infos.length-1,d=i.infos.map((g,b)=>b===0||b===c?L("div",{key:b,class:g.label?n?Ae.univariateAboveAndBelowLabel:Ae.rampLabel:null},g.label):null),p={display:"table-cell",verticalAlign:"middle"},h={marginTop:`${s}px`},m={height:`${o}px`};return L("div",{key:"univariate-above-and-below-ramp-preview",styles:Aj},L("div",{class:Ae.layerBody},i.infos.map(g=>L("div",{class:this.classes(Ae.layerRow,Ae.sizeRamp)},L("div",{class:Ae.symbol,styles:p,bind:g.preview,afterCreate:qr})))),L("div",{styles:h,key:"color-ramp-preview"},L("div",{styles:$_},L("div",{styles:mh},L("div",{class:Ae.rampContainer,bind:l,afterCreate:qr})),L("div",{styles:mh},L("div",{class:Ae.rampLabelsContainer,styles:m},d)))))}_renderLegendForRamp(e,t){const r=e.infos,i=e.type==="opacity-ramp",n=e.type==="heatmap-ramp",s=e.type==="stretch-ramp",a=e.preview,o=i?Ae.opacityRamp:"";a.className=`${Ae.colorRamp} ${o}`,t!=null&&(a.style.opacity=t.toString());const l=r.map(p=>L("div",{class:p.label?Ae.rampLabel:null},n?this.messages[p.label]||p.label:s?this._getStretchStopLabel(p):p.label)),c={width:`${KMe}px`},d={height:a.style.height};return L("div",{class:Ae.layerRow},L("div",{class:Ae.symbolContainer,styles:c},L("div",{class:Ae.rampContainer,bind:a,afterCreate:qr})),L("div",{class:Ae.layerInfo},L("div",{class:Ae.rampLabelsContainer,styles:d},l)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+": "+(typeof e.value=="string"?e.value:il(e.value,{style:"decimal",notation:e.value.toString().includes("e")?"scientific":"standard"})):""}_renderLegendForElementInfo(e,t,r,i,n){if(e.type)return this._renderLegendForElement(e,t,r,!0);let s=null;const a=wee(t,n);if(e.preview?s=L("div",{class:Ae.symbol,bind:e.preview,afterCreate:qr}):e.src&&(s=this._renderImage(e,t,a)),!s)return null;const o={[Ae.imageryLayerInfoStretched]:a},l={[Ae.imageryLayerInfoStretched]:a,[Ae.sizeRamp]:!a&&i};return L("div",{class:Ae.layerRow},L("div",{class:this.classes(Ae.symbolContainer,l)},s),L("div",{class:this.classes(Ae.layerInfo,o)},hm(this.messages,e.label,!1)||""))}_renderImage(e,t,r){const{label:i,src:n,opacity:s}=e,a={[Ae.imageryLayerStretchedImage]:r,[Ae.symbol]:!r},o={opacity:`${s!=null?s:t.opacity}`};return L("img",{alt:hm(this.messages,i,!1),src:n,border:0,width:e.width,height:e.height,class:this.classes(a),styles:o})}};u([f()],Mf.prototype,"activeLayerInfos",void 0),u([f()],Mf.prototype,"headingLevel",void 0),u([f(),tr("esri/widgets/Legend/t9n/Legend")],Mf.prototype,"messages",void 0),u([f({readOnly:!0})],Mf.prototype,"type",void 0),Mf=u([E("esri.widgets.Legend.styles.Classic")],Mf);const yh=Mf,Ev={base:"esri-legend",widget:"esri-widget",panel:"esri-widget--panel",widgetIcon:"esri-icon-layer-list"};let ti=class extends xr{constructor(e,t){super(e,t),this._handles=new hr,this.activeLayerInfos=null,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.headingLevel=3,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.iconClass=Ev.widgetIcon,this.label=void 0,this.layerInfos=null,this.messages=null,this.style=new yh,this.view=null,this.viewModel=new DMe}initialize(){this.own([Fn(()=>this.view,"resize",()=>this.scheduleRender()),Fn(()=>this.activeLayerInfos,"change",()=>this._refreshActiveLayerInfos(this.activeLayerInfos)),ee(()=>this.headingLevel,e=>{const{style:t}=this;t&&(t.headingLevel=e)}),ee(()=>this.style,(e,t)=>{t&&e!==t&&t.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,e.type==="card"&&(e.view=this.view),e.headingLevel=this.headingLevel)},Ke)])}destroy(){this._handles=Tn(this._handles)}castStyle(e){if(e instanceof I_||e instanceof yh)return e;if(typeof e=="string")return e==="card"?new I_:new yh;if(e&&typeof e.type=="string"){const t={...e};return delete t.type,new(e.type==="card"?I_:yh)(t)}return new yh}render(){return L("div",{class:this.classes(Ev.base,Ev.widget,this.style instanceof yh?Ev.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach(t=>this._renderOnActiveLayerInfoChange(t)),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const t=ee(()=>e.version,()=>this.scheduleRender());this._handles.add(t,`version_${e.layer.uid}`);const r=Fn(()=>e.children,"change",()=>e.children.forEach(i=>this._renderOnActiveLayerInfoChange(i)),Ke);this._handles.add(r,`children_${e.layer.uid}`),e.children.forEach(i=>this._renderOnActiveLayerInfoChange(i))}};u([fe("viewModel.activeLayerInfos")],ti.prototype,"activeLayerInfos",void 0),u([fe("viewModel.basemapLegendVisible")],ti.prototype,"basemapLegendVisible",void 0),u([fe("viewModel.groundLegendVisible")],ti.prototype,"groundLegendVisible",void 0),u([f()],ti.prototype,"headingLevel",void 0),u([fe("viewModel.hideLayersNotInCurrentView")],ti.prototype,"hideLayersNotInCurrentView",void 0),u([fe("viewModel.keepCacheOnDestroy")],ti.prototype,"keepCacheOnDestroy",void 0),u([fe("viewModel.respectLayerVisibility")],ti.prototype,"respectLayerVisibility",void 0),u([f()],ti.prototype,"iconClass",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ti.prototype,"label",void 0),u([fe("viewModel.layerInfos")],ti.prototype,"layerInfos",void 0),u([f(),tr("esri/widgets/Legend/t9n/Legend")],ti.prototype,"messages",void 0),u([f()],ti.prototype,"style",void 0),u([Ze("style")],ti.prototype,"castStyle",null),u([fe("viewModel.view")],ti.prototype,"view",void 0),u([f()],ti.prototype,"viewModel",void 0),ti=u([E("esri.widgets.Legend")],ti);const XMe=ti;class eIe{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function _ee(e,t){if(!e)throw t=t||"assert",console.log(new Error(t).stack),new eIe(t)}function EPe(e,t,r,i){let n,s=(r[0]-e[0])/t[0],a=(i[0]-e[0])/t[0];s>a&&(n=s,s=a,a=n);let o=(r[1]-e[1])/t[1],l=(i[1]-e[1])/t[1];if(o>l&&(n=o,o=l,l=n),s>l||o>a)return!1;o>s&&(s=o),l<a&&(a=l);let c=(r[2]-e[2])/t[2],d=(i[2]-e[2])/t[2];return c>d&&(n=c,c=d,d=n),!(s>d||c>a)&&(d<a&&(a=d),!(a<0))}class tIe{constructor(t){this.client=t,this._cancelled=!1,this.size=0,this.duration=0}}class rIe{constructor(t){this.typeWorkerQuota=t,this.tasks=new Array,this.numWorkers=0,this.statistics=new iIe}}class iIe{constructor(){this.requests=0,this.size=0,this.duration=0,this.speed=0}}class nIe{constructor(t,r,i,n){this._workerFunc=t,this._callbackFunc=r,this._maxTotalNumWorkers=i,this._totalNumWorkers=0,this._clients=n.map(s=>new rIe(s))}hasQuota(t){const r=this._clients[t];return!!r&&(this._totalNumWorkers<this._maxTotalNumWorkers||r.numWorkers+r.tasks.length<r.typeWorkerQuota)}push(t){const r=this._clients[t.client];r&&(this._totalNumWorkers<this._maxTotalNumWorkers?(r.numWorkers++,this._totalNumWorkers++,this._workerFunc(t,(i,n)=>this._taskCallback(i,n))):r.tasks.push(t))}cancel(t){this._taskFinished(t),t._cancelled=!0}destroy(){this._clients.length=0}_taskFinished(t){const r=this._clients[t.client];this._totalNumWorkers--,r.numWorkers--,r.statistics.requests++,r.statistics.size+=t.size||0,r.statistics.duration+=t.duration||0,r.statistics.speed=r.statistics.duration>0?r.statistics.size/r.statistics.duration:0,_ee(r.numWorkers>=0),this._next()}_next(){for(const t of this._clients)if(t&&t.numWorkers<t.typeWorkerQuota&&this._processQueue(t))return;for(const t of this._clients)if(t&&this._processQueue(t))return}_processQueue(t){for(;t.tasks.length>0;)if(this._workerFunc(t.tasks.shift(),(r,i)=>this._taskCallback(r,i)))return t.numWorkers++,this._totalNumWorkers++,!0;return!1}_taskCallback(t,r){t._cancelled||(this._callbackFunc(t,r),this._taskFinished(t))}getStatsForType(t){const r=this._clients[t];return r?{quota:r.typeWorkerQuota,workers:r.numWorkers,queueSize:r.tasks.length,requestStats:r.statistics}:null}get test(){const t=this;return{set workerFunc(r){t._workerFunc=r}}}}let T_=class extends ye{constructor(){super(...arguments),this._tasks=new Map,this._onLoadQueue=new Array,this._doneQueue=new Array,this.updating=!1}setup(e,t,r){this._loadQueue=new nIe((i,n)=>this._startLoading(i,n),(i,n)=>this._doneLoadingCB(i,n),e,t),r&&(this._frameTask=r.registerTask(We.STREAM_DATA_LOADER,this))}destroy(){this._frameTask=On(this._frameTask),this._tasks.forEach(e=>W9(e.abortController)),this._loadQueue=Tn(this._loadQueue),this._onLoadQueue=null,this._doneQueue=null,this._tasks=null}hasDownloadSlots(e){return this._loadQueue.hasQuota(e)}request(e,t,r,i={}){const n=LU();n.__signal=C(i)?i.signal:null;const s=this._createOrUpdateTask(e,t,r,i,n);return ca(i,()=>this._cancelRequest(s,n)),n.promise}_createTask(e,t,r,i,n,s){const a=new lIe(e,t,r,i,n);return this._updateTask(a,s),this._tasks.set(n,a),this._tasks.size===1&&this._set("updating",!0),this._loadQueue.push(a),a}_cancelRequest(e,t){qC(e.resolvers,t),t.reject(Nt()),e.resolvers.length===0&&(e.status===Hs.DOWNLOADING&&(e.status=Hs.CANCELLED,this._loadQueue.cancel(e),e.abortController.abort(),e.request=null,e.abortController=null),e.status=Hs.CANCELLED,this._tasks.delete(e.key),this._tasks.size===0&&this._set("updating",!1))}_updateTask(e,t){e.resolvers.push(t)}_createOrUpdateTask(e,t,r,i,n){const s=cIe(C(i)&&i.uid||e,t,r),a=this._tasks.get(s);return a?(this._updateTask(a,n),a):this._createTask(e,i,t,r,s,n)}_doneLoadingCB(e,t){this._loadQueue&&(_ee(e.status===Hs.DOWNLOADING),e.status=Hs.DOWNLOADED,this._frameTask?this._doneQueue.push({task:e,err:t}):this._doneLoading(e,t))}get running(){return this._doneQueue.length>0||this._onLoadQueue.length>0}runTask(e){for(;!e.done&&this._onLoadQueue.length>0;){const t=this._onLoadQueue.shift();Ge(t.task.abortController),t.task.abortController=null,t.callback(t.task),e.madeProgress()}for(;!e.done&&this._doneQueue.length>0;){const t=this._doneQueue.shift();t.task.status!==Hs.DOWNLOADED&&(t.err=t.err||Nt()),this._doneLoading(t.task,t.err),e.madeProgress()}}_doneLoading(e,t){if(t&&!zi(t)&&e.numRetries>0)return--e.numRetries,void this._loadQueue.push(e);let r=e.result instanceof HTMLImageElement?0:e.resolvers.length;for(const i of e.resolvers)if(t)zi(t)?i.reject(t):i.reject(new R("stream-data-loader:request-error",`Failed to request resource at '${e.url}'. ${t}`,{url:e.url,error:t}));else{--r;const n=r<=0?e.result:D(e.result);i.resolve(n)}this._tasks.delete(e.key),this._tasks.size===0&&this._set("updating",!1)}_startLoading(e,t){if(e.status===Hs.CANCELLED)return!1;let r,i;switch(e.startTime=performance.now(),e.status=Hs.DOWNLOADING,e.docType){case"binary":i="array-buffer",r=0;break;case"image":i="image";break;case"image+type":i="array-buffer";break;default:i="json"}e.abortController=new AbortController;const n=e.abortController.signal;e.request=$e(e.url,{...e.options,responseType:i,timeout:r,signal:n});let s=()=>{};const a=l=>{e.duration=performance.now()-e.startTime,e.size=l instanceof ArrayBuffer?l.byteLength:e.size||0,e.result=l,this._frameTask?this._onLoadQueue.push({callback:t,task:e}):(e.abortController=null,t(e))},o=l=>{e.status===Hs.DOWNLOADING&&t(e,l),s()};return e.docType!=="image+type"?(e.request.then(l=>a(l.data),o),!0):(e.request.then(l=>{const c=l.data,d=aIe(c);if(i="image",e.size=c.byteLength,d==="unknown")return e.request=$e(e.url,{responseType:i,timeout:r,signal:n}),void e.request.then(m=>a(m.data),o);const p=new Blob([c],{type:d}),h=window.URL.createObjectURL(p);s=()=>window.URL.revokeObjectURL(h),e.request=$e(h,{responseType:i,timeout:r,signal:n}),e.request.then(m=>a(new oIe(m.data,d,s)),o)},o),!0)}get test(){return{loadQueue:this._loadQueue}}};u([f({readOnly:!0})],T_.prototype,"updating",void 0),T_=u([E("esri.views.3d.support.StreamDataLoader")],T_);const sIe={numRetries:0};function aIe(e){if(e.byteLength<2)return"unknown";const t=new Uint8Array(e,0,e.byteLength);return t[0]===137&&t[1]===80?"image/png":t[0]===71&&t[1]===73?"image/gif":t[0]===66&&t[1]===77?"image/bmp":t[0]===255&&t[1]===216?"image/jpeg":"unknown"}class oIe{constructor(t,r,i){this.image=t,this.type=r,this.release=i}get isOpaque(){return this.type==="image/jpeg"}}class lIe extends tIe{constructor(t,r,i,n,s){super(n),this.url=t,this.options=r,this.docType=i,this.key=s,this.result=null,this.status=Hs.QUEUED,this.request=null,this.abortController=null,this.resolvers=new Array,this.startTime=0,this.numRetries=sIe.numRetries}}function cIe(e,t,r){return`${e}:${t}:${r}`}var Hs;(function(e){e[e.QUEUED=1]="QUEUED",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.DOWNLOADED=3]="DOWNLOADED",e[e.CANCELLED=4]="CANCELLED"})(Hs||(Hs={}));var Lj,Rj,Jo,Pj,Oj,Fj;(function(e){e[e.INNER=0]="INNER",e[e.OUTER=1]="OUTER"})(Lj||(Lj={})),function(e){e[e.REGULAR=0]="REGULAR",e[e.HAS_NORTH_POLE=1]="HAS_NORTH_POLE",e[e.HAS_SOUTH_POLE=2]="HAS_SOUTH_POLE",e[e.HAS_BOTH_POLES=3]="HAS_BOTH_POLES"}(Rj||(Rj={})),function(e){e[e.NORTH=0]="NORTH",e[e.NORTH_EAST=1]="NORTH_EAST",e[e.EAST=2]="EAST",e[e.SOUTH_EAST=3]="SOUTH_EAST",e[e.SOUTH=4]="SOUTH",e[e.SOUTH_WEST=5]="SOUTH_WEST",e[e.WEST=6]="WEST",e[e.NORTH_WEST=7]="NORTH_WEST"}(Jo||(Jo={})),function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON"}(Pj||(Pj={})),function(e){e[e.Color=0]="Color",e[e.ColorNoRasterImage=1]="ColorNoRasterImage",e[e.Highlight=2]="Highlight",e[e.Water=3]="Water",e[e.Occluded=4]="Occluded"}(Oj||(Oj={})),function(e){e[e.FADING=0]="FADING",e[e.IMMEDIATE=1]="IMMEDIATE",e[e.UNFADED=2]="UNFADED"}(Fj||(Fj={}));const uIe=12;class Gt{constructor(t){const r=Gt.checkUnsupported(t);if(C(r))throw r;const i=t;this.spatialReference=i.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=tk(this.spatialReference)||ly(this.spatialReference)||cy(this.spatialReference),this.origin=[i.origin.x,i.origin.y],this.pixelSize=i.size[0],this.dpi=i.dpi;const n=i.lods.reduce((c,d,p)=>(d.level<c.min&&(c.min=d.level,c.minIndex=p),c.max=Math.max(c.max,d.level),c),{min:1/0,minIndex:0,max:-1/0}),s=i.lods[n.minIndex],a=2**s.level;let o=s.resolution*a,l=s.scale*a;this.levels=new Array(n.max+1);for(let c=0;c<this.levels.length;c++)this.levels[c]={resolution:o,scale:l,tileSize:[o*i.size[0],o*i.size[1]]},o/=2,l/=2}clone(){return new Gt(this.toTileInfo())}toTileInfo(){return new Hb({dpi:this.dpi,origin:{x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference},size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((t,r)=>({level:r,scale:t.scale,resolution:t.resolution}))})}getExtent(t,r,i,n){const s=this.levels[t],a=s.tileSize[0],o=s.tileSize[1];n[0]=this.origin[0]+i*a,n[2]=this.origin[0]+(i+1)*a,n[3]=this.origin[1]-r*o,n[1]=this.origin[1]-(r+1)*o}convertExtentToRadians(t,r){this._isWebMercator?(r[0]=vP(t[0]),r[1]=wP(t[1]),r[2]=vP(t[2]),r[3]=wP(t[3])):this._isGCS&&(r[0]=k0(t[0]),r[1]=k0(t[1]),r[2]=k0(t[2]),r[3]=k0(t[3]))}getExtentGeometry(t,r,i,n=new Ve){return this.getExtent(t,r,i,vo),n.spatialReference=this.spatialReference,n.xmin=vo[0],n.ymin=vo[1],n.xmax=vo[2],n.ymax=vo[3],n.zmin=void 0,n.zmax=void 0,n}ensureMaxLod(t){if(t==null)return!1;let r=!1;for(;this.levels.length<=t;){const i=this.levels[this.levels.length-1],n=i.resolution/2;this.levels.push({resolution:n,scale:i.scale/2,tileSize:[n*this.pixelSize,n*this.pixelSize]}),r=!0}return r}capMaxLod(t){this.levels.length>t+1&&(this.levels.length=t+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(t){return this.levels[0].scale/2**t}levelAtScale(t){const r=this.levels[0].scale;return t>=r?0:Math.log(r/t)*Math.LOG2E}resolutionAtLevel(t){return this.levels[0].resolution/2**t}compatibleWith(t){if(!(t instanceof Gt)){if(Gt.checkUnsupported(t))return!1;t=new Gt(t)}if(!t.spatialReference.equals(this.spatialReference)||t.pixelSize!==this.pixelSize)return!1;const r=Math.min(this.levels.length,t.levels.length)-1,i=this.levels[r].resolution;let n=.5*i;return!rm(t.origin[0],this.origin[0],n)||!rm(t.origin[1],this.origin[1],n)?!1:(n=.5*i/2**r/this.pixelSize*uIe,rm(i,t.levels[r].resolution,n))}rootTilesInExtent(t,r=null,i=1/0){const n=new Array,s=this.levels[0].tileSize;if(B(t)||s[0]===0||s[1]===0)return n;Gt.computeRowColExtent(t,s,this.origin,vo);let a=vo[1],o=vo[3],l=vo[0],c=vo[2];const d=c-l,p=o-a;if(d*p>i){const h=Math.floor(Math.sqrt(i));p>h&&(a=a+Math.floor(.5*p)-Math.floor(.5*h),o=a+h),d>h&&(l=l+Math.floor(.5*d)-Math.floor(.5*h),c=l+h)}for(let h=a;h<o;h++)for(let m=l;m<c;m++)n.push([0,h,m]);return C(r)&&(r[0]=this.origin[0]+l*s[0],r[1]=this.origin[1]-o*s[1],r[2]=this.origin[0]+c*s[0],r[3]=this.origin[1]-a*s[1]),n}static computeRowColExtent(t,r,i,n){const s=.001*(t[2]-t[0]+(t[3]-t[1]));n[0]=Math.max(0,Math.floor((t[0]+s-i[0])/r[0])),n[2]=Math.max(0,Math.ceil((t[2]-s-i[0])/r[0])),n[1]=Math.max(0,Math.floor((i[1]-t[3]+s)/r[1])),n[3]=Math.max(0,Math.ceil((i[1]-t[1]-s)/r[1]))}static isPowerOfTwo(t){const r=t.lods,i=r[0].resolution*2**r[0].level;return!r.some(n=>!Sue(n.resolution,i/2**n.level))}static hasGapInLevels(t){const r=t.lods.map(i=>i.level);r.sort((i,n)=>i-n);for(let i=1;i<r.length;i++)if(r[i]!==r[0]+i)return!0;return!1}static tileSizeSupported(t){const r=t.size[1];return r===t.size[0]&&(r&r-1)==0&&r>=128&&r<=512}static hasOriginPerLODs(t){const r=t.origin;return t.lods.some(i=>i.origin!=null&&(i.origin[0]!==r.x||i.origin[1]!==r.y))}static getMissingTileInfoError(){return new R("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(t){return B(t)?YA():t.lods.length<1?new R("tilingscheme:generic","Tiling scheme must have at least one level"):Gt.isPowerOfTwo(t)?Gt.hasGapInLevels(t)?new R("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):Gt.tileSizeSupported(t)?Gt.hasOriginPerLODs(t)?new R("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new R("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new R("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(t,r){const i=t[2]-t[0],n=t[3]-t[1],s=Mc(r),a=1.2*Math.max(i,n),o=256,l=96,c=.0254,d=new Gt(new Hb({size:[o,o],origin:{x:t[0]-.5*(a-i),y:t[3]+.5*(a-n)},lods:[{level:0,resolution:a/o,scale:1/(o/l*c/(a*s))}],spatialReference:r}));return d.ensureMaxLod(20),d}static makeWebMercatorAuxiliarySphere(t){const r=new Gt(Gt.WebMercatorAuxiliarySphereTileInfo);return r.ensureMaxLod(t),r}static makeGCSWithTileSize(t,r=256,i=16){const n=256/r,s=new Gt(new Hb({size:[r,r],origin:{x:-180,y:90,spatialReference:t},spatialReference:t,lods:[{level:0,resolution:.703125*n,scale:295497598570834e-6*n}]}));return s.ensureMaxLod(i),s}get test(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}}function YA(){return new R("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}Gt.WebMercatorAuxiliarySphereTileInfo=new Hb({size:[256,256],origin:{x:-20037508342787e-6,y:20037508342787e-6,spatialReference:Ce.WebMercator},spatialReference:Ce.WebMercator,lods:[{level:0,resolution:156543.03392800014,scale:591657527591555e-6}]}),Gt.WebMercatorAuxiliarySphere=Gt.makeWebMercatorAuxiliarySphere(19);const vo=ua(),Dj=64;xue(mx/10);const dIe=ua();Gt.WebMercatorAuxiliarySphere.getExtent(0,0,0,dIe);ua([-180,-90,180,90]);const gh=Bn(),fIe=Bn(),_l=Bn(),Sl=Bn();function pIe(e,t,r=0){const i=e.extent;if(B(i))return!1;if(r===0)return mfe(i,t);const n=Math.min(i[2]-i[0],i[3]-i[1]);return gfe(i,t,r*n)}function kv(e,t,r,i){y4(gh,r),gh[i]=t[i];const n=Bb(gh,gh,t),s=Bb(fIe,e,t),a=g4(s,n),o=g4(n,n);let l;l=a<=0?t:o<=a?r:XG(gh,t,xE(n,n,a/o));const c=Bb(gh,e,l);return Math.PI/2-Math.atan(c[2]/Math.sqrt(c[0]*c[0]+c[1]*c[1]))}function hIe(e,t,r){const i=e.extent;if(B(i))return 0;_l[0]=i[0],_l[1]=i[1],_l[2]=r,Sl[0]=i[2],Sl[1]=i[3],Sl[2]=r;let n=1/0,s=1/0;return t[0]<_l[0]?n=kv(t,_l,Sl,0):t[0]>Sl[0]&&(n=kv(t,Sl,_l,0)),t[1]<_l[1]?s=kv(t,_l,Sl,1):t[1]>Sl[1]&&(s=kv(t,Sl,_l,1)),Math.min(n,s)}function mIe(e,t,r){if(B(e))return YA();if(e.spatialReference.isGeographic&&!tk(e.spatialReference))return new R("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const i=Gt.checkUnsupported(e);if(C(i))return i;if(B(r))return new R("tilingscheme:extent-not-exist","The layer does not provide a layer extent.");const n=yIe(e,r);if(n)return n;const s=e.spatialReference;return C(t)&&!(s.equals(t)||t.isWGS84&&s.isWebMercator)?new R("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene"):null}function yIe(e,t){const r=e.lods,i=r[0].resolution*2**r[0].level,n=[i*e.size[0],i*e.size[1]],s=[e.origin.x,e.origin.y],a=ffe(t),o=ua();Gt.computeRowColExtent(a,n,s,o);const l=(o[2]-o[0])*(o[3]-o[1]);if(l>Dj){const c=r[0].scale*2**r[0].level;let d=Math.max((a[3]-a[1])/e.size[1],(a[2]-a[0])/e.size[0])*c/i;const p=Math.floor(Math.log(d)/Math.log(10));return d=Math.ceil(d/10**p)*10**p,new R("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(c).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+d.toLocaleString()+".",{level0Scale:c,suggestedLevel0Scale:d,requiredNumRootTiles:l,allowedNumRootTiles:Dj})}return null}const gIe=Object.freeze(Object.defineProperty({__proto__:null,isInsideExtent:pIe,tiltToExtentEdge:hIe,checkIfTileInfoSupportedForViewSR:mIe},Symbol.toStringTag,{value:"Module"}));function bIe(){return!0}function vIe(){return 0}function wIe(e,t){if(B(e))return YA();const r=e.lods.length-1,i=e.spatialReference,n=tk(i)||ly(i)||cy(i);if(i.isWebMercator){if(!Gt.makeWebMercatorAuxiliarySphere(r).compatibleWith(e))return new R("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!n)return new R("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!Gt.makeGCSWithTileSize(e.spatialReference,e.size[0],r).compatibleWith(e))return e.spatialReference.isWGS84?new R("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new R("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return C(t)&&!e.spatialReference.equals(t)?new R("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene"):void 0}const _Ie=Object.freeze(Object.defineProperty({__proto__:null,isInsideExtent:bIe,tiltToExtentEdge:vIe,checkIfTileInfoSupportedForViewSR:wIe},Symbol.toStringTag,{value:"Module"})),SIe={[vc.Global]:_Ie,[vc.Local]:gIe};function cT(e,t,r,i){return SIe[i].checkIfTileInfoSupportedForViewSR(e,r,t)}function xIe(e,t,r){const i=Jle(e);if(C(i)){if(!Se.isCollection(i))return{tileInfo:i.tileInfo,fullExtent:i.fullExtent};{const n=i.find(s=>cT(s.tileInfo,s.fullExtent,t,r)==null);if(n)return{tileInfo:n.tileInfo,fullExtent:n.fullExtent}}}return{tileInfo:null,fullExtent:null}}Jo.NORTH,Jo.EAST,Jo.SOUTH,Jo.WEST;Jo.NORTH_EAST,Jo.SOUTH_EAST,Jo.SOUTH_WEST,Jo.NORTH_WEST;function MIe(e,t){return e!=null&&(t==null||(t===vc.Local?!e.isGeographic||e.isWGS84||e.wkid===Xs.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===Xs.CGCS2000||e.wkid===Xs.GCSMARS2000||e.wkid===Xs.GCSMARS2000_SPHERE||e.wkid===Xs.GCSMOON2000))}async function IIe(e,t={}){await TIe(e,t),Ge(t)}async function $Ie(e,t={}){const{basemap:r,view:i}=e;if(Ge(t),"spatialReferenceLocked"in i&&!i.spatialReferenceLocked||(await r.load(t),Ge(t),r.baseLayers.length===0))return;const n=r.baseLayers.getItemAt(0);if(!Wle(n))return;if(r.spatialReference){if(i.spatialReference.equals(r.spatialReference))return;Nj()}await n.load(t),Ge(t);const s=(("supportedSpatialReferences"in n?n.supportedSpatialReferences:null)||["tileInfo"in n?n.tileInfo.spatialReference:null]).filter(Boolean);s.length!==0&&s.every(a=>!i.spatialReference.equals(a))&&Nj()}function Nj(){throw new R("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}async function TIe(e,t){const{basemap:r,view:i}=e;if(await r.load(t),r.baseLayers.length===0)return;const n=r.baseLayers.concat(r.referenceLayers).toArray().filter(a=>!TP(a)).map(a=>new R("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:a,operationalLayerType:a.operationalLayerType||"unknown"}));if(n.length)throw n[0];const s=r.baseLayers.getItemAt(0);if(TP(s)){try{await s.load(t)}catch(a){const o="basemap-compatibility:unknown-error",l="Unknown basemap compatibility error",{name:c=o,message:d=l,details:p}=a;throw new R(c,d,p)}CIe(s,i)}}function CIe(e,t){const r=t.state.viewingMode;if(!r)return;let i,n;if((e==null?void 0:e.type)==="wmts"){const l=xIe(e,t.spatialReference,r);if(B(l.tileInfo))throw new R("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");i=l.tileInfo,n=l.fullExtent}else i=e.tileInfo,n=e.fullExtent;if(B(i))return;if(!MIe(i.spatialReference,r))throw new R(`basemapgalleryitem:spatial-reference-unsupported-${qN(r)}`,`Basemap spatial reference is unsupported in ${qN(r)} mode`);const s=i.spatialReference.isGeographic,a=(e==null?void 0:e.type)==="vector-tile"?i.getOrCreateCompatible(256,s?1:2):null;if(r===vc.Global){let l=cT(i,n,null,r);if(l&&(e==null?void 0:e.type)==="vector-tile"&&C(n)&&a&&!cT(a,n,null,r)&&(l=null),l){const c=i.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new R(`basemapgalleryitem:tiling-scheme-unsupported-${c}-global`,"Basemap tiling scheme is unsupported in global mode",{error:l})}}else if(Gt.checkUnsupported(i))throw new R("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const o=t.get("basemapTerrain.tilingScheme");if(o&&!o.compatibleWith(i)&&((e==null?void 0:e.type)!=="vector-tile"||!a||!o.compatibleWith(a)))throw new R("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let Do=class extends ll(ye){constructor(e){super(e),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const e=()=>this.refresh();this.handles.add([ee(()=>{var t;return(t=this.basemap)==null?void 0:t.loadStatus},e),ee(()=>this.compatibilityFunction,e),ee(()=>{var t;return this.view&&"basemapTerrain"in this.view&&((t=this.view.basemapTerrain)==null?void 0:t.tilingScheme)},e),ee(()=>{var t;return(t=this.view)==null?void 0:t.ready},e),ee(()=>{var t;return(t=this.view)==null?void 0:t.spatialReference},e)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return Pue(this.view,this.basemap)}set basemap(e){const t=this._get("basemap");t&&t.cancelLoad(),e&&e.load().catch(()=>{}),this._set("basemap",e)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var i;this._cancelRefresh(),this._set("state","loading");const e=(i=this.basemap)==null?void 0:i.loadStatus;if(e!=="loaded"&&e!=="failed")return;if(!this.compatibilityFunction)return void(e==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const t=new AbortController,{signal:r}=t;this.compatibilityFunction(this,{signal:r}).then(()=>Xa(()=>!this._spatialReferenceTask.updating,r)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(n=>{zi(n)||(this._set("state","error"),this._set("error",n))}),this._refreshController=t}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};u([f({readOnly:!0})],Do.prototype,"_spatialReferenceTask",null),u([f()],Do.prototype,"basemap",null),u([f()],Do.prototype,"compatibilityFunction",void 0),u([f({readOnly:!0})],Do.prototype,"error",void 0),u([f({readOnly:!0})],Do.prototype,"spatialReference",null),u([f({readOnly:!0})],Do.prototype,"state",void 0),u([f()],Do.prototype,"view",void 0),Do=u([E("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],Do);const See=Do,xee=Se.ofType(Yo);let vb=class extends ye{constructor(e){super(e),this.basemaps=new xee}get state(){return"ready"}refresh(){}};u([f({type:xee})],vb.prototype,"basemaps",void 0),u([f({readOnly:!0})],vb.prototype,"state",null),vb=u([E("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],vb);const Mee=vb,Iee=Se.ofType(Yo),$ee="esri.widgets.BasemapGallery.support.PortalBasemapsSource",EIe=ae.getLogger($ee);let Bl=class extends jn.LoadableMixin(C2(Mee)){constructor(e){super(e),this._handles=new hr,this.basemaps=new Iee,this.filterFunction=null,this.portal=ai.getDefault(),this.query=null,this.updateBasemapsCallback=null}initialize(){this._handles.add([ee(()=>{var e,t;return[this.filterFunction,this.loadStatus,(e=this.portal)==null?void 0:e.basemapGalleryGroupQuery,(t=this.portal)==null?void 0:t.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),Ke)])}destroy(){this._handles.destroy(),this._handles=null,this.filterFunction=null,this.portal=null}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(e){return this.addResolvingPromise(this.portal.load(e)),this.notifyChange("state"),Promise.resolve(this)}async refresh(){if(this.state!=="ready")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const e=this.portal,t=new AbortController;this._lastPortalBasemapFetchController=t,this.notifyChange("state");try{const r=await e.fetchBasemaps(this._toQueryString(this.query),t);this._updateBasemaps(r)}catch(r){if(zi(r))throw r;EIe.warn(new R("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:r})),this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(e){return e&&typeof e!="string"?Object.keys(e).map(t=>`${t}:${e[t]}`).join(" AND "):e}_updateBasemaps(e=[]){let t=this.filterFunction?e.filter(this.filterFunction):e;t=this.updateBasemapsCallback?this.updateBasemapsCallback(t):t,this.basemaps.removeAll(),this.basemaps.addMany(t)}};u([f({readOnly:!0,type:Iee})],Bl.prototype,"basemaps",void 0),u([f()],Bl.prototype,"filterFunction",void 0),u([f({type:ai})],Bl.prototype,"portal",void 0),u([f()],Bl.prototype,"query",void 0),u([f({readOnly:!0})],Bl.prototype,"state",null),u([f()],Bl.prototype,"updateBasemapsCallback",void 0),Bl=u([E($ee)],Bl);const h9=Bl,Tee=Se.ofType(See);function kIe(e){return e&&e.declaredClass==="esri.portal.Portal"}function AIe(e){return e&&!(e instanceof h9)&&(!!e.portal||!!e.query)}function LIe(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}let ja=class extends ll(jn){constructor(e){super(e),this._loadingProjectionEngine=!1,this.items=new Tee,this.source=new h9,this.view=null}initialize(){const e=()=>this._recreateItems();this.handles.add([ee(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),Fn(()=>{var t;return(t=this.source)==null?void 0:t.basemaps},"change",e,{onListenerAdd:e})])}get activeBasemap(){var e,t,r;return(r=(t=(e=this.view)==null?void 0:e.map)==null?void 0:t.basemap)!=null?r:null}set activeBasemap(e){var i,n;if(!this.view.map)return;const t=typeof e=="string"?Yo.fromId(e):e;if(!t||!this.view.ready)return this.view.map.basemap=t,void this._clearOverride("activeBasemap");const r=t.spatialReference||((n=(i=this.items)==null?void 0:i.find(s=>this.basemapEquals(t,s.basemap)))==null?void 0:n.spatialReference);if(r&&"spatialReferenceLocked"in this.view&&!this.view.spatialReferenceLocked){const s=this.view.spatialReference;if(C(r)&&!bi(s,r)&&!gc(this.view.spatialReference,r)&&!gd())return this._override("activeBasemap",t),this._loadingProjectionEngine=!0,void bd().then(()=>{this._get("activeBasemap")===e&&(this.view.map.basemap=e,this.view.spatialReference=r,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});this.view.map.basemap=t,this._clearOverride("activeBasemap"),C(r)&&!bi(this.view.spatialReference,r)&&(this.view.spatialReference=r)}else this.view.map.basemap=t,this._clearOverride("activeBasemap")}get compatibilityFunction(){var e;return((e=this.view)==null?void 0:e.type)==="3d"?IIe:$Ie}set compatibilityFunction(e){C(e)?this._override("compatibilityFunction",e):this._clearOverride("compatibilityFunction")}castSource(e){return Array.isArray(e)||Se.isCollection(e)?new Mee({basemaps:e}):kIe(e)?new h9({portal:e}):AIe(e)?new h9(e):LIe(e)?e:null}get state(){var e;return((e=this.view)==null?void 0:e.ready)&&this.source?this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(e,t){return Rue(e,t)}refresh(){this._recreateItems()}load(e){return this.addResolvingPromise(jn.isLoadable(this.source)?this.source.load(e):null),Promise.resolve(this)}_recreateItems(){var i;const e=(i=this.source)==null?void 0:i.basemaps,{view:t,compatibilityFunction:r}=this;this.items.removeAll().forEach(n=>n.destroy()),e&&this.items.addMany(e.map(n=>new See({basemap:n,compatibilityFunction:r,view:t})))}_updateItems(){for(const e of this.items)e.compatibilityFunction=this.compatibilityFunction,e.view=this.view}};u([f()],ja.prototype,"_loadingProjectionEngine",void 0),u([f()],ja.prototype,"activeBasemap",null),u([f()],ja.prototype,"compatibilityFunction",null),u([f({readOnly:!0,type:Tee})],ja.prototype,"items",void 0),u([f()],ja.prototype,"source",void 0),u([Ze("source")],ja.prototype,"castSource",null),u([f({readOnly:!0})],ja.prototype,"state",null),u([f()],ja.prototype,"view",void 0),ja=u([E("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],ja);const RIe=ja,Jn={base:"esri-basemap-gallery esri-widget esri-widget--panel-height-only",sourceLoading:"esri-basemap-gallery--source-loading",loader:"esri-basemap-gallery__loader",item:"esri-basemap-gallery__item",itemContainer:"esri-basemap-gallery__item-container",itemTitle:"esri-basemap-gallery__item-title",itemThumbnail:"esri-basemap-gallery__item-thumbnail",selectedItem:"esri-basemap-gallery__item--selected",itemError:"esri-basemap-gallery__item--error",emptyMessage:"esri-widget__content--empty",widgetIcon:"esri-icon-basemap",disabled:"esri-disabled",loaderAnimation:"esri-widget__loader-animation"};let ts=class extends xr{constructor(e,t){super(e,t),this._handles=new hr,this.activeBasemap=null,this.disabled=!1,this.headingLevel=2,this.iconClass=Jn.widgetIcon,this.label=void 0,this.messages=null,this.source=null,this.view=null,this.viewModel=new RIe}initialize(){const e=this._handles;this.own([Fn(()=>this.viewModel.items,"change",t=>{const r="basemap-gallery-item-changes",{added:i,moved:n}=t;e.remove(r),e.add([...i,...n].map(s=>ee(()=>s.state,()=>this.scheduleRender())),r),this.scheduleRender()}),e,Gi(()=>this.source,()=>this.viewModel.load(),{initial:!0,once:!0})])}destroy(){this._handles.destroy()}loadDependencies(){return Y(()=>import("./calcite-scrim.0ae70384.js"),[],import.meta.url)}render(){const e=this.get("source.state")==="loading",t=this.disabled||this.get("viewModel.state")==="disabled",r=this.get("viewModel.items").toArray().map(this._renderBasemapGalleryItem,this),i={[Jn.sourceLoading]:e,[Jn.disabled]:t},n=e?L("div",{class:Jn.loader,key:"esri-basemap-gallery__loader"}):null,s=e?null:r.length>0?L("ul",{class:Jn.itemContainer,key:"esri-basemap-gallery__item-container",role:"menu"},r):L("div",{class:Jn.emptyMessage,key:"esri-basemap-gallery__empty-message"},L(sd,{level:this.headingLevel},this.messages.noBasemaps));return L("div",{class:this.classes(Jn.base,i)},n,s)}_handleClick(e){const t=e.currentTarget["data-item"];t.state==="ready"&&(this.viewModel.activeBasemap=t.basemap)}_renderBasemapGalleryItem(e){const t=e.get("basemap.thumbnailUrl")||Qe("esri/themes/base/images/basemap-toggle-64.svg"),r=e.get("basemap.title"),i=e.get("basemap.portalItem.snippet"),n=e.get("error.message")||i||r,{viewModel:s}=this,a=!this.disabled&&s.state!=="disabled"&&e.state==="ready"?0:-1,o=s.basemapEquals(e.basemap,this.activeBasemap),l=s.state==="loading",c={[Jn.selectedItem]:o,[Jn.itemError]:e.state==="error"};return L("li",{"aria-selected":o.toString(),bind:this,class:this.classes(Jn.item,c),"data-item":e,onkeydown:this._handleClick,onclick:this._handleClick,role:"menuitem",tabIndex:a,title:n},L("img",{alt:"",class:Jn.itemThumbnail,src:t}),L("div",{class:Jn.itemTitle},r),e.state==="loading"||o&&l?L("calcite-scrim",null,L("span",{"aria-hidden":"true",role:"presentation",class:Jn.loaderAnimation})):null)}};u([fe("viewModel.activeBasemap")],ts.prototype,"activeBasemap",void 0),u([f()],ts.prototype,"disabled",void 0),u([f()],ts.prototype,"headingLevel",void 0),u([f()],ts.prototype,"iconClass",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ts.prototype,"label",void 0),u([f(),tr("esri/widgets/BasemapGallery/t9n/BasemapGallery")],ts.prototype,"messages",void 0),u([fe("viewModel.source")],ts.prototype,"source",void 0),u([fe("viewModel.view")],ts.prototype,"view",void 0),u([f()],ts.prototype,"viewModel",void 0),u([Li()],ts.prototype,"_handleClick",null),ts=u([E("esri.widgets.BasemapGallery")],ts);const PIe=ts;let Ul=class extends AA(Sc.EventedAccessor){constructor(e){super(e),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.get("view.ready")?this._goingHomeController?"going-home":"ready":"disabled"}set view(e){this._initialViewpoint=null,this._set("view",e),e&&e.when().then(()=>{this.view===e&&(this._initialViewpoint=e.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(e){this._set("viewpoint",e)}async go(){if(!this.get("view.ready"))throw new R("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const e=new AbortController;this._goingHomeController=e;try{await this.view.when(),await this.callGoTo({target:this.viewpoint,options:{signal:e.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:e}=this;e&&e.abort(),this._goingHomeController=null}};u([f()],Ul.prototype,"_goingHomeController",void 0),u([f({readOnly:!0})],Ul.prototype,"state",null),u([f()],Ul.prototype,"view",null),u([f({type:so})],Ul.prototype,"viewpoint",null),u([f()],Ul.prototype,"go",null),u([f()],Ul.prototype,"cancelGo",null),Ul=u([E("esri.widgets.Home.HomeViewModel")],Ul);const Cee=Ul,jd={base:"esri-home esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",homeIcon:"esri-icon esri-icon-home",loadingIcon:"esri-icon-loading-indicator",rotatingIcon:"esri-rotating",widgetIcon:"esri-icon-home",disabled:"esri-disabled"};let Ki=class extends xr{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass=jd.widgetIcon,this.label=void 0,this.messages=null,this.messagesCommon=null,this.view=null,this.viewModel=new Cee,this.viewpoint=null}get homeTitle(){var i;const e=(i=this.viewModel)==null?void 0:i.state,{messagesCommon:t,messages:r}=this;return e==="going-home"?t.cancel:r.title}cancelGo(){return null}go(){return null}render(){var i;const e=(i=this.viewModel)==null?void 0:i.state,{homeTitle:t}=this,r={[jd.disabled]:e==="disabled"};return L("div",{bind:this,class:this.classes(jd.base,r),role:"button",tabIndex:0,onclick:this._go,onkeydown:this._go,"aria-label":t,title:t},this.renderIcon(),this.renderText())}renderIcon(){var r;const e=(r=this.viewModel)==null?void 0:r.state,t={[jd.loadingIcon]:e==="going-home",[jd.rotatingIcon]:e==="going-home"};return L("span",{"aria-hidden":"true",class:this.classes(jd.homeIcon,t)})}renderText(){const{messages:e}=this;return L("span",{class:jd.text},e.button)}_go(){const{viewModel:e}=this;e.state==="going-home"?e.cancelGo():e.go()}};u([fe("viewModel.goToOverride")],Ki.prototype,"goToOverride",void 0),u([f({readOnly:!0})],Ki.prototype,"homeTitle",null),u([f()],Ki.prototype,"iconClass",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ki.prototype,"label",void 0),u([f(),tr("esri/widgets/Home/t9n/Home")],Ki.prototype,"messages",void 0),u([f(),tr("esri/t9n/common")],Ki.prototype,"messagesCommon",void 0),u([fe("viewModel.view")],Ki.prototype,"view",void 0),u([f({type:Cee}),wJ("go")],Ki.prototype,"viewModel",void 0),u([fe("viewModel.viewpoint")],Ki.prototype,"viewpoint",void 0),u([fe("viewModel.cancelGo")],Ki.prototype,"cancelGo",null),u([fe("viewModel.go")],Ki.prototype,"go",null),u([Li()],Ki.prototype,"_go",null),Ki=u([E("esri.widgets.Home")],Ki);const OIe=Ki;let bu=class extends ye{constructor(e){super(e),this._viewpointHandle=null,this._handles=new hr,this.group=null}initialize(){this._handles.add(Fn(()=>{var e;return(e=this.view)==null?void 0:e.ui},"expand",e=>{const{target:t}=e;t&&t!==this&&t.expanded&&t.group&&t.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null,this._handles.destroy(),this._handles=null}set autoCollapse(e){this._set("autoCollapse",e),this._watchViewpoint()}set expanded(e){const t=!!e;this._set("expanded",t);const r=this.get("view.ui");r&&r.emit("expand",{target:this}),this._viewpointHandleChange(t)}get state(){return this.get("view.ready")?"ready":"disabled"}set view(e){this._get("view")!==e&&(this._set("view",e),e&&Gi(()=>e.ready,()=>{this.view===e&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(e){this._viewpointHandle&&(e?Gi(()=>this.view.stationary,()=>this._viewpointHandle.resume(),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const e="viewpoint";this._handles.remove(e),this._viewpointHandle=null;const{autoCollapse:t,view:r}=this;if(r&&t){const i=Tue(()=>r.type==="3d"?r.camera:r.viewpoint,()=>this._collapse());this._handles.add(i,e),this._viewpointHandle=i}}_collapse(){this.expanded=!1}};u([f({value:!1})],bu.prototype,"autoCollapse",null),u([f({value:!1})],bu.prototype,"expanded",null),u([f()],bu.prototype,"group",void 0),u([f({readOnly:!0})],bu.prototype,"state",null),u([f({value:null})],bu.prototype,"view",null),bu=u([E("esri.widgets.Expand.ExpandViewModel")],bu);const Eee=bu,Tr={base:"esri-expand esri-widget",modeAuto:"esri-expand--auto",modeDrawer:"esri-expand--drawer",modeFloating:"esri-expand--floating",container:"esri-expand__container",containerExpanded:"esri-expand__container--expanded",panel:"esri-expand__panel",button:"esri-widget--button",text:"esri-icon-font-fallback-text",icon:"esri-collapse__icon",iconExpanded:"esri-expand__icon--expanded",iconNumber:"esri-expand__icon-number",iconNumberExpanded:"esri-expand__icon-number--expanded",expandIcon:"esri-icon-expand",collapseIcon:"esri-icon-collapse",content:"esri-expand__content",contentExpanded:"esri-expand__content--expanded",expandMask:"esri-expand__mask",expandMaskExpanded:"esri-expand__mask--expanded"};let mr=class extends xr{constructor(e,t){super(e,t),this.autoCollapse=null,this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expanded=null,this.expandTooltip="",this.group=null,this.iconNumber=0,this.label=void 0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.view=null,this.viewModel=new Eee,this._handleKeyDown=r=>{const{closeOnEsc:i,_toggleButtonEl:n,expanded:s}=this;!s||!i||r.target===n||r.key!=="Escape"||(typeof i=="function"?i(r):i)&&(this.expanded=!1,n==null||n.focus())}}get contentId(){return`${this.id}_controls_content`}get expandTitle(){const{expanded:e,messagesCommon:t,collapseTooltip:r,expandTooltip:i}=this;return e?r||t.collapse:i||t.expand}get collapseIconClass(){return Tr.collapseIcon}set collapseIconClass(e){e?this._override("collapseIconClass",e):this._clearOverride("collapseIconClass")}get expandIconClass(){return q4(this.content)?this.content.iconClass:Tr.expandIcon}set expandIconClass(e){e?this._override("expandIconClass",e):this._clearOverride("expandIconClass")}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}toggle(){this.viewModel.expanded=!this.viewModel.expanded}render(){const{mode:e}=this,t={[Tr.modeAuto]:e==="auto",[Tr.modeDrawer]:e==="drawer",[Tr.modeFloating]:e==="floating"};return L("div",{class:this.classes(Tr.base,t),onkeydown:this._handleKeyDown},this.renderMask(),this.renderContainer())}renderContainer(){const{expanded:e}=this,t={[Tr.containerExpanded]:e};return L("div",{class:this.classes(Tr.container,t)},this.renderPanel(),this.renderContent())}renderMask(){const{expanded:e}=this,t={[Tr.expandMaskExpanded]:e};return L("div",{bind:this,onclick:this._toggle,class:this.classes(Tr.expandMask,t)})}renderBadgeNumber(){const{expanded:e,iconNumber:t}=this;return t&&!e?L("span",{key:"expand__icon-number",class:Tr.iconNumber},t):null}renderPanelNumber(){const{iconNumber:e,expanded:t}=this;return e&&t?L("span",{key:"expand__expand-icon-number",class:this.classes(Tr.iconNumber,Tr.iconNumberExpanded)},e):null}renderIcon(){const{collapseIconClass:e,expandIconClass:t,expanded:r}=this,i={[Tr.iconExpanded]:r,[e]:r,[t]:!r};return e===t&&(i[e]=!0),L("span",{"aria-hidden":"true",class:this.classes(Tr.icon,i)})}renderTitle(){return L("span",{class:Tr.text},this.expandTitle)}renderExpandButton(){const{expanded:e,expandTitle:t,contentId:r}=this;return L("div",{afterCreate:this._storeToggleButtonEl,"aria-controls":r,"aria-expanded":e?"true":"false",bind:this,class:Tr.button,onclick:this._toggle,onkeydown:this._toggle,role:"button",tabindex:"0",title:t},this.renderBadgeNumber(),this.renderIcon(),this.renderTitle())}renderPanel(){return L("div",{class:Tr.panel},this.renderExpandButton(),this.renderPanelNumber())}renderContent(){const{expanded:e,contentId:t,content:r}=this,i={[Tr.contentExpanded]:e},n={id:t,role:"region",class:this.classes(Tr.content,i)};return typeof r=="string"?L("div",{key:"content__string",innerHTML:r,...n}):q4(r)?L("div",{key:"content__widget",...n},r.render()):r instanceof HTMLElement?L("div",{key:"content__html-element",bind:r,afterCreate:this._attachToNode,...n}):SJ(r)?L("div",{key:"content__node",bind:r.domNode,afterCreate:this._attachToNode,...n}):null}_toggle(){this.toggle()}_attachToNode(e){const t=this;e.appendChild(t)}_storeToggleButtonEl(e){this._toggleButtonEl=e}};u([f({readOnly:!0})],mr.prototype,"contentId",null),u([f({readOnly:!0})],mr.prototype,"expandTitle",null),u([fe("viewModel.autoCollapse")],mr.prototype,"autoCollapse",void 0),u([f()],mr.prototype,"closeOnEsc",void 0),u([f()],mr.prototype,"collapseIconClass",null),u([f()],mr.prototype,"collapseTooltip",void 0),u([f()],mr.prototype,"content",void 0),u([fe("viewModel.expanded")],mr.prototype,"expanded",void 0),u([f()],mr.prototype,"expandIconClass",null),u([f()],mr.prototype,"expandTooltip",void 0),u([fe("viewModel.group")],mr.prototype,"group",void 0),u([f()],mr.prototype,"iconNumber",void 0),u([f({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],mr.prototype,"label",void 0),u([f(),tr("esri/widgets/Expand/t9n/Expand")],mr.prototype,"messages",void 0),u([f(),tr("esri/t9n/common")],mr.prototype,"messagesCommon",void 0),u([f()],mr.prototype,"mode",void 0),u([fe("viewModel.view")],mr.prototype,"view",void 0),u([f({type:Eee})],mr.prototype,"viewModel",void 0),u([Li()],mr.prototype,"_toggle",null),mr=u([E("esri.widgets.Expand")],mr);const jj="top-right";function FIe(e){new PIe({view:e,source:[Yo.fromId("topo-vector"),Yo.fromId("streets-vector"),Yo.fromId("satellite")]}),e.ui.components=["attribution"],e.ui.add(new OIe({view:e}),jj),e.ui.add(new AX({view:e}),jj)}var uT;const Av=new Le({flow_from:"flow-from",flow_to:"flow-to"});let Ei=uT=class extends Cd(Z){constructor(e){super(e),this.density=.8,this.color=new re([255,255,255,1]),this.maxPathLength=200,this.trailWidth=1.5,this.flowSpeed=10,this.trailLength=100,this.smoothing=0,this.flowRepresentation="flow-from",this.type="flow",this.authoringInfo=null,this.legendOptions=null,this.trailCap="butt",this.background="none"}clone(){var m,g;const{density:e,maxPathLength:t,trailWidth:r,flowSpeed:i,trailLength:n,smoothing:s,flowRepresentation:a,trailCap:o,background:l}=this,c=this.color.clone(),d=(this.visualVariables||[]).map(b=>b.clone()),p=(m=this.authoringInfo)==null?void 0:m.clone(),h=(g=this.legendOptions)==null?void 0:g.clone();return new uT({density:e,color:c,maxPathLength:t,trailWidth:r,flowSpeed:i,trailLength:n,trailCap:o,background:l,smoothing:s,flowRepresentation:a,visualVariables:d,authoringInfo:p,legendOptions:h})}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}};u([f({type:Number,json:{write:!0}})],Ei.prototype,"density",void 0),u([f({type:re,json:{write:{allowNull:!0}}})],Ei.prototype,"color",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Ei.prototype,"maxPathLength",void 0),u([f({type:Number,cast:Ye,json:{write:!0}})],Ei.prototype,"trailWidth",void 0),u([f({type:Number,json:{write:!0}})],Ei.prototype,"flowSpeed",void 0),u([f({type:Number,json:{write:!0}})],Ei.prototype,"trailLength",void 0),u([f({type:Number,cast:Ye,json:{write:!1}})],Ei.prototype,"smoothing",void 0),u([f({type:Av.apiValues,json:{type:Av.jsonValues,read:{reader:Av.read},write:{writer:Av.write}}})],Ei.prototype,"flowRepresentation",void 0),u([ge({flowRenderer:"flow"})],Ei.prototype,"type",void 0),u([f({type:Gw,json:{write:!0}})],Ei.prototype,"authoringInfo",void 0),u([f({type:oo,json:{write:!0}})],Ei.prototype,"legendOptions",void 0),u([f({type:String,json:{write:!0}})],Ei.prototype,"trailCap",void 0),u([f({type:String,json:{write:!0}})],Ei.prototype,"background",void 0),Ei=uT=u([E("esri.renderers.FlowRenderer")],Ei);const kee=Ei;let c0=class extends Z{constructor(){super(...arguments),this.value=null,this.label=null,this.color=null}};u([f({type:Number,json:{write:!0}})],c0.prototype,"value",void 0),u([f({type:String,json:{write:!0}})],c0.prototype,"label",void 0),u([f({type:re,json:{type:[Xe],write:!0}})],c0.prototype,"color",void 0),c0=u([E("esri.renderers.support.ColormapInfo")],c0);const Aee=c0,Lee=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],DIe={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};function Lv(e,t){if(!e||!t||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]>t[r]+2||e[r]<t[r]-2)return!1;return!0}function NIe(e,t){if(!e)return;const r=t||Lee;let i,n=null;return e.type==="algorithmic"?r.some(s=>{if(Lv(e.fromColor.toRgb(),s.fromColor)&&Lv(e.toColor.toRgb(),s.toColor))return n=s.id,!0}):e.type==="multipart"&&r.some(s=>{if(e.colorRamps&&s.colorRamps&&e.colorRamps.length===s.colorRamps.length&&(i=e.colorRamps,!s.colorRamps.some((a,o)=>{if(!Lv(i[o].fromColor.toRgb(),new re(a.fromColor).toRgb())||!Lv(i[o].toColor.toRgb(),new re(a.toColor).toRgb()))return!0}))){if(n)return!0;n=s.id}}),n}function Ree(e){const t=NIe(e);return t?DIe[t]:null}function X2(e){const t=(e=e||{}).numColors||256,r=e.distanceOffset||0,i=e.isCustomInterval!=null?e.isCustomInterval:e.distanceInterval!==null&&e.distanceInterval!==1/(t-1),n=e.distanceInterval||1/(t-1);return{...e,numColors:t,distanceOffset:r,interpolateAlpha:!!e.interpolateAlpha,distanceInterval:n,isCustomInterval:i,weights:e.weights}}function jIe(e,t,r){const{numColors:i,distanceOffset:n,distanceInterval:s,isCustomInterval:a}=X2(r),o=e.s===0,l=t.s===0;let c=e.h,d=t.h;o&&!l?c=d:l&&!o&&(t={...t,h:c},d=c);let p,h=Math.abs(d-c);const m=360;h<m/2?p=(d-c)*s:(h=m-h,p=c>d?h*s:-h*s);const g=(t.s-e.s)*s,b=(t.v-e.v)*s;let{s:w,v}=e,_=c;if(n){const x=n/s;_=(_+x*p+m)%m,w+=x*g,v+=x*b}const S=[];for(let x=0;x<i-1;x++)S.push({h:_,s:w,v}),_=(_+p+m)%m,w+=g,v+=b;return S.push(a?{h:_,s:w,v}:t),S}function VIe(e,t,r){const{numColors:i,distanceOffset:n,distanceInterval:s,isCustomInterval:a}=X2(r);let{l:o,a:l,b:c}=e;const d=(t.l-o)*s,p=(t.a-l)*s,h=(t.b-c)*s,m=[];if(n){const g=n/s;o+=g*d,l+=g*p,c+=g*h}for(let g=0;g<i-1;g++)m.push({l:o,a:l,b:c}),o+=d,l+=p,c+=h;return m.push(a?{l:o,a:l,b:c}:t),m}function zIe(e,t,r){const{numColors:i,distanceOffset:n,distanceInterval:s,isCustomInterval:a}=X2(r),o=e.h,l=t.h,c=2*Math.PI;let d;if(o<=l){const _=l-o,S=l-o-c;d=Math.abs(S)<Math.abs(_)?S:_}else{const _=l+c-o,S=l-o;d=Math.abs(S)<Math.abs(_)?S:_}const p=d*s,h=(t.l-e.l)*s,m=(t.c-e.c)*s;let{l:g,c:b,h:w}=e;if(n){const _=n/s;g+=_*h,b+=_*m,w=(w+_*p+c)%c}const v=[];for(let _=0;_<i-1;_++)v.push({l:g,c:b,h:w}),g+=h,b+=m,w=(w+p+c)%c;return v.push(a?{l:g,c:b,h:w}:t),v}function Pee(e,t){var b,w;let{fromColor:r,toColor:i}=e;r.length===3&&(r=r.concat([255])),i.length===3&&(i=i.concat([255]));const n=e.algorithm||"esriCIELabAlgorithm",{numColors:s,distanceOffset:a,isCustomInterval:o,interpolateAlpha:l}=X2(t);if(s===1&&a===0)return[r];if(s===2&&a===0&&!o)return[r,i];const c={r:r[0],g:r[1],b:r[2]},d={r:i[0],g:i[1],b:i[2]},p=n==="esriCIELabAlgorithm"?VIe(aN(c),aN(d),t):n==="esriHSVAlgorithm"?jIe(Fp(c),Fp(d),t):zIe(oN(c),oN(d),t),h=[],m=(b=r[3])!=null?b:255,g=(((w=i[3])!=null?w:255)-m)/(s-1);for(let v=0;v<s;v++){const{r:_,g:S,b:x}=Ey(p[v]),M=l?Math.round(m+g*v):255;h.push([_,S,x,M])}return h}function BIe(e,t){const{numColors:r,interpolateAlpha:i}=X2(t);let n=t==null?void 0:t.weights;const{colorRamps:s}=e;if(n){const h=n.reduce((m,g)=>m+g);n=n.map(m=>m/h)}else{n=[];for(let h=0;h<s.length;h++)n[h]=1/s.length}const a=[];let o=0,l=0;const c=1/(r-1);let d=!1;for(let h=0;h<s.length;h++){let m=d?0:o*c-l,g=h===s.length-1?r-1-o:(n[h]-m)/c;if(d=Math.ceil(g)===g,g=Math.ceil(g),g===0)continue;m/=n[h];const b=Pee(s[h],{numColors:g,interpolateAlpha:i,distanceOffset:m,distanceInterval:c/n[h]});o+=b.length,a.push(...b),l+=n[h]}const p=[...s[s.length-1].toColor];return p.length===3&&p.push(255),a.push(p),a}function UIe(e,t=256,r=!1){const i="toJSON"in e?e.toJSON():e,n={numColors:t,interpolateAlpha:r};return i.type==="multipart"?BIe(i,n):Pee(i,n)}function Dp(e,t=256,r=!1){const i=UIe(e,t,r);return i.forEach((n,s)=>{n.unshift(s),r||n.pop()}),i}function Oee(e){const t=Ree(e);if(e){if(e.type==="algorithmic")return{...Vj(e),Name:t};if(e.colorRamps){const r=e.colorRamps.map(Vj);return{type:"MultiPartColorRamp",NumColorRamps:r.length,ArrayOfColorRamp:r,Name:t}}}}function Vj(e){var t;if(!!e)return{Algorithm:((t=e.toJSON())==null?void 0:t.Algorithm)||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:zj(e.fromColor),ToColor:zj(e.toColor)}}function zj(e){const t=Fp(e);return{type:"HsvColor",Hue:t.h,Saturation:t.s,Value:t.v,AlphaValue:255}}function GIe(e){const t=e.reverse().map(r=>{const i=r.toString(16);return i.length<2?"0"+i:i});return 4294967295&Number.parseInt(t.join(""),16)}var wb;let _b=wb=class extends Z{constructor(e){super(e),this.colormapInfos=null,this.type="raster-colormap"}static createFromColormap(e,t){if(!e)return null;const r=e[0].length===5,i=[...e].sort(n=>n[0][0]-n[1][0]).map(n=>{var s;return Aee.fromJSON({value:n[0],color:r?n.slice(1,5):n.slice(1,4).concat([255]),label:t?(s=t[n[0]])!=null?s:"":n[0]})});return new wb({colormapInfos:i})}static createFromColorramp(e){const t=Dp(e,256);return wb.createFromColormap(t)}clone(){return new wb({colormapInfos:this.colormapInfos.map(e=>e.toJSON())})}extractColormap(){return this.colormapInfos.map(({value:e,color:t})=>[e,t.r,t.g,t.b,t.a>1?t.a:255*t.a&255]).sort((e,t)=>e[0]-t[0])}};u([f({type:[Aee],json:{write:!0}})],_b.prototype,"colormapInfos",void 0),u([ge({rasterColormap:"raster-colormap"})],_b.prototype,"type",void 0),_b=wb=u([E("esri.renderers.RasterColormapRenderer")],_b);const KA=_b;var dT;let rs=dT=class extends Z{constructor(e){super(e),this.altitude=45,this.azimuth=315,this.colorRamp=null,this.hillshadeType="multi-directional",this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.scalingType="none",this.type="raster-shaded-relief",this.zFactor=1}readColorRamp(e){return Uw(e)}clone(){return new dT({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:D(this.colorRamp)})}};u([f({type:Number,json:{write:!0}})],rs.prototype,"altitude",void 0),u([f({type:Number,json:{write:!0}})],rs.prototype,"azimuth",void 0),u([f({types:Bw,json:{write:!0}})],rs.prototype,"colorRamp",void 0),u([ie("colorRamp")],rs.prototype,"readColorRamp",null),u([f({type:["traditional","multi-directional"],json:{write:!0}})],rs.prototype,"hillshadeType",void 0),u([f({type:Number,json:{write:!0}})],rs.prototype,"pixelSizePower",void 0),u([f({type:Number,json:{write:!0}})],rs.prototype,"pixelSizeFactor",void 0),u([f({type:["none","adjusted"],json:{write:!0}})],rs.prototype,"scalingType",void 0),u([ge({rasterShadedRelief:"raster-shaded-relief"})],rs.prototype,"type",void 0),u([f({type:Number,json:{write:!0}})],rs.prototype,"zFactor",void 0),rs=dT=u([E("esri.renderers.RasterShadedReliefRenderer")],rs);const Fee=rs,l1=new Le({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),qIe={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"};var fT;let gr=fT=class extends Z{constructor(e){super(e),this.colorRamp=null,this.computeGamma=!1,this.dynamicRangeAdjustment=!1,this.gamma=[],this.maxPercent=null,this.minPercent=null,this.numberOfStandardDeviations=null,this.outputMax=null,this.outputMin=null,this.sigmoidStrengthLevel=null,this.statistics=[],this.histograms=null,this.useGamma=!1,this.stretchType="none",this.type="raster-stretch"}readColorRamp(e){if(e)return Uw(e)}writeStatistics(e,t,r){e!=null&&e.length&&(Array.isArray(e[0])||(e=e.map(i=>[i.min,i.max,i.avg,i.stddev])),t[r]=e)}readStretchType(e,t){let r=t.stretchType;return typeof r=="number"&&(r=qIe[r]),l1.read(r)}clone(){return new fT({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:D(this.statistics),gamma:D(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:D(this.colorRamp),histograms:D(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment})}};u([f({types:Bw,json:{write:!0}})],gr.prototype,"colorRamp",void 0),u([ie("colorRamp")],gr.prototype,"readColorRamp",null),u([f({type:Boolean,json:{write:!0}})],gr.prototype,"computeGamma",void 0),u([f({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],gr.prototype,"dynamicRangeAdjustment",void 0),u([f({type:[Number],json:{write:!0}})],gr.prototype,"gamma",void 0),u([f({type:Number,json:{write:!0}})],gr.prototype,"maxPercent",void 0),u([f({type:Number,json:{write:!0}})],gr.prototype,"minPercent",void 0),u([f({type:Number,json:{write:!0}})],gr.prototype,"numberOfStandardDeviations",void 0),u([f({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],gr.prototype,"outputMax",void 0),u([f({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],gr.prototype,"outputMin",void 0),u([f({type:Number,json:{write:!0}})],gr.prototype,"sigmoidStrengthLevel",void 0),u([f({json:{type:[[Number]],write:!0}})],gr.prototype,"statistics",void 0),u([f()],gr.prototype,"histograms",void 0),u([ce("statistics")],gr.prototype,"writeStatistics",null),u([f({type:Boolean,json:{write:!0}})],gr.prototype,"useGamma",void 0),u([f({type:l1.apiValues,json:{type:l1.jsonValues,write:l1.write}})],gr.prototype,"stretchType",void 0),u([ie("stretchType",["stretchType"])],gr.prototype,"readStretchType",null),u([ge({rasterStretch:"raster-stretch"})],gr.prototype,"type",void 0),gr=fT=u([E("esri.renderers.RasterStretchRenderer")],gr);const XA=gr;var If;const bh=ae.getLogger("esri.layers.support.PixelBlock");let Gs=If=class extends Z{constructor(e){super(e),this.width=null,this.height=null,this.pixelType="f32",this.validPixelCount=null,this.mask=null,this.maskIsAlpha=!1,this.pixels=null,this.statistics=null}static createEmptyBand(e,t){return new(If.getPixelArrayConstructor(e))(t)}static getPixelArrayConstructor(e){let t;switch(e){case"u1":case"u2":case"u4":case"u8":t=Uint8Array;break;case"u16":t=Uint16Array;break;case"u32":t=Uint32Array;break;case"s8":t=Int8Array;break;case"s16":t=Int16Array;break;case"s32":t=Int32Array;break;case"f32":case"c64":case"c128":case"unknown":t=Float32Array;break;case"f64":t=Float64Array}return t}castPixelType(e){if(!e)return"f32";let t=e.toLowerCase();return["u1","u2","u4"].includes(t)?t="u8":["unknown","u8","s8","u16","s16","u32","s32","f32","f64"].includes(t)||(t="f32"),t}getPlaneCount(){return this.pixels&&this.pixels.length}addData(e){if(!e.pixels||e.pixels.length!==this.width*this.height)throw new R("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]),this.statistics||(this.statistics=[]),this.pixels.push(e.pixels),this.statistics.push(e.statistics||{minValue:null,maxValue:null})}getAsRGBA(){const e=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case"s8":case"s16":case"u16":case"s32":case"u32":case"f32":case"f64":this._fillFromNon8Bit(e);break;default:this._fillFrom8Bit(e)}return new Uint8ClampedArray(e)}getAsRGBAFloat(){const e=new Float32Array(this.width*this.height*4);return this._fillFrom32Bit(e),e}updateStatistics(){this.statistics=this.pixels.map(r=>this._calculateBandStatistics(r,this.mask));const e=this.mask;let t=0;if(e)for(let r=0;r<e.length;r++)e[r]&&t++;else t=this.width*this.height;this.validPixelCount=t}clamp(e){if(!e||e==="f64"||e==="f32")return;let t;switch(e){case"u8":t=[0,255];break;case"u16":t=[0,65535];break;case"u32":t=[0,4294967295];break;case"s8":t=[-128,127];break;case"s16":t=[-32768,32767];break;case"s32":t=[-2147483648,2147483647];break;default:t=[-34e38,34e38]}const[r,i]=t,n=this.pixels,s=this.width*this.height,a=n.length;let o,l,c;const d=[];for(let p=0;p<a;p++){c=If.createEmptyBand(e,s),o=n[p];for(let h=0;h<s;h++)l=o[h],c[h]=l>i?i:l<r?r:l;d.push(c)}this.pixels=d,this.pixelType=e}extractBands(e){if(B(e)||e.length===0||this.pixels==null||this.pixels.length===0)return this;const t=this.pixels.length,r=e.some(n=>n>=this.pixels.length),i=t===e.length&&!e.some((n,s)=>n!==s);return r||i?this:new If({pixelType:this.pixelType,width:this.width,height:this.height,mask:this.mask,validPixelCount:this.validPixelCount,maskIsAlpha:this.maskIsAlpha,pixels:e.map(n=>this.pixels[n]),statistics:this.statistics&&e.map(n=>this.statistics[n])})}clone(){const e=new If({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});let t;this.mask&&(this.mask instanceof Uint8Array?e.mask=new Uint8Array(this.mask):e.mask=this.mask.slice(0));const r=If.getPixelArrayConstructor(this.pixelType);if(this.pixels&&this.pixels.length>0){e.pixels=[];const i=this.pixels[0].slice;for(t=0;t<this.pixels.length;t++)e.pixels[t]=i?this.pixels[t].slice(0,this.pixels[t].length):new r(this.pixels[t])}if(this.statistics)for(e.statistics=[],t=0;t<this.statistics.length;t++)e.statistics[t]=D(this.statistics[t]);return e}_fillFrom8Bit(e){const{mask:t,maskIsAlpha:r,pixels:i}=this;if(!e||!i||!i.length)return void bh.error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");let n,s,a,o;n=s=a=i[0],i.length>=3?(s=i[1],a=i[2]):i.length===2&&(s=i[1]);const l=new Uint32Array(e),c=this.width*this.height;if(n.length===c)if(t&&t.length===c)if(r)for(o=0;o<c;o++)t[o]&&(l[o]=t[o]<<24|a[o]<<16|s[o]<<8|n[o]);else for(o=0;o<c;o++)t[o]&&(l[o]=255<<24|a[o]<<16|s[o]<<8|n[o]);else for(o=0;o<c;o++)l[o]=255<<24|a[o]<<16|s[o]<<8|n[o];else bh.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.")}_fillFromNon8Bit(e){const{pixels:t,mask:r,statistics:i}=this;if(!e||!t||!t.length)return void bh.error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");const n=this.pixelType;let s=1,a=0,o=1;if(i&&i.length>0)a=i.map(b=>b.minValue).reduce((b,w)=>Math.min(b,w)),o=i.map(b=>b.maxValue-b.minValue).reduce((b,w)=>Math.max(b,w)),s=255/o;else{let b=255;n==="s8"?(a=-128,b=127):n==="u16"?b=65535:n==="s16"?(a=-32768,b=32767):n==="u32"?b=4294967295:n==="s32"?(a=-2147483648,b=2147483647):n==="f32"?(a=-34e38,b=34e38):n==="f64"&&(a=-Number.MAX_VALUE,b=Number.MAX_VALUE),s=255/(b-a)}const l=new Uint32Array(e),c=this.width*this.height;let d,p,h,m,g;if(d=p=h=t[0],d.length!==c)return bh.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(t.length>=2)if(p=t[1],t.length>=3&&(h=t[2]),r&&r.length===c)for(m=0;m<c;m++)r[m]&&(l[m]=255<<24|(h[m]-a)*s<<16|(p[m]-a)*s<<8|(d[m]-a)*s);else for(m=0;m<c;m++)l[m]=255<<24|(h[m]-a)*s<<16|(p[m]-a)*s<<8|(d[m]-a)*s;else if(r&&r.length===c)for(m=0;m<c;m++)g=(d[m]-a)*s,r[m]&&(l[m]=255<<24|g<<16|g<<8|g);else for(m=0;m<c;m++)g=(d[m]-a)*s,l[m]=255<<24|g<<16|g<<8|g}_fillFrom32Bit(e){const{pixels:t,mask:r}=this;if(!e||!t||!t.length)return bh.error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");let i,n,s,a;i=n=s=t[0],t.length>=3?(n=t[1],s=t[2]):t.length===2&&(n=t[1]);const o=this.width*this.height;if(i.length!==o)return bh.error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");let l=0;if(r&&r.length===o)for(a=0;a<o;a++)e[l++]=i[a],e[l++]=n[a],e[l++]=s[a],e[l++]=1&r[a];else for(a=0;a<o;a++)e[l++]=i[a],e[l++]=n[a],e[l++]=s[a],e[l++]=1}_calculateBandStatistics(e,t){let r=1/0,i=-1/0;const n=e.length;let s,a=0;if(t)for(s=0;s<n;s++)t[s]&&(a=e[s],r=a<r?a:r,i=a>i?a:i);else for(s=0;s<n;s++)a=e[s],r=a<r?a:r,i=a>i?a:i;return{minValue:r,maxValue:i}}};u([f({json:{write:!0}})],Gs.prototype,"width",void 0),u([f({json:{write:!0}})],Gs.prototype,"height",void 0),u([f({json:{write:!0}})],Gs.prototype,"pixelType",void 0),u([Ze("pixelType")],Gs.prototype,"castPixelType",null),u([f({json:{write:!0}})],Gs.prototype,"validPixelCount",void 0),u([f({json:{write:!0}})],Gs.prototype,"mask",void 0),u([f({json:{write:!0}})],Gs.prototype,"maskIsAlpha",void 0),u([f({json:{write:!0}})],Gs.prototype,"pixels",void 0),u([f({json:{write:!0}})],Gs.prototype,"statistics",void 0),Gs=If=u([E("esri.layers.support.PixelBlock")],Gs);const st=Gs;function Sr(e){return C(e)&&e.declaredClass==="esri.layers.support.PixelBlock"&&e.pixels&&e.pixels.length>0}function Bj(e,t){if(!(t!=null&&t.length)||!Sr(e))return e;const r=e.pixels.length;return t&&t.some(i=>i>=r)||r===1&&t.length===1&&t[0]===0?e:r!==t.length||t.some((i,n)=>i!==n)?new st({pixelType:e.pixelType,width:e.width,height:e.height,mask:e.mask,validPixelCount:e.validPixelCount,maskIsAlpha:e.maskIsAlpha,pixels:t.map(i=>e.pixels[i]),statistics:e.statistics&&t.map(i=>e.statistics[i])}):e}function mg(e){if(!e)return;const t=e.colormap;if(!t||t.length===0)return;const r=t.sort((p,h)=>p[0]-h[0]);let i=0;r[0][0]<0&&(i=r[0][0]);const n=Math.max(256,r[r.length-1][0]-i+1),s=new Uint8Array(4*n),a=[];let o,l=0,c=0;const d=r[0].length===5;if(n>65536)return r.forEach(p=>{a[p[0]-i]=d?p.slice(1):p.slice(1).concat([255])}),{indexed2DColormap:a,offset:i,alphaSpecified:d};if(e.fillUnspecified)for(o=r[c],l=o[0]-i;l<n;l++)s[4*l]=o[1],s[4*l+1]=o[2],s[4*l+2]=o[3],s[4*l+3]=d?o[4]:255,l===o[0]-i&&(o=c===r.length-1?o:r[++c]);else for(l=0;l<r.length;l++)o=r[l],c=4*(o[0]-i),s[c]=o[1],s[c+1]=o[2],s[c+2]=o[3],s[c+3]=d?o[4]:255;return{indexedColormap:s,offset:i,alphaSpecified:d}}function C_(e,t){if(!Sr(e)||!t&&(t.indexedColormap||t.indexed2DColormap))return e;const r=e.clone(),i=r.pixels;let n=r.mask;const s=r.width*r.height;if(i.length!==1)return e;const{indexedColormap:a,indexed2DColormap:o,offset:l,alphaSpecified:c}=t,d=a.length-1;let p=0;const h=i[0],m=new Uint8Array(h.length),g=new Uint8Array(h.length),b=new Uint8Array(h.length);let w,v=0;if(a)if(n)for(p=0;p<s;p++)n[p]&&(v=4*(h[p]-l),v<l||v>d?n[p]=0:(m[p]=a[v],g[p]=a[v+1],b[p]=a[v+2],n[p]=a[v+3]));else{for(n=new Uint8Array(s),p=0;p<s;p++)v=4*(h[p]-l),v<l||v>d?n[p]=0:(m[p]=a[v],g[p]=a[v+1],b[p]=a[v+2],n[p]=a[v+3]);r.mask=n}else if(n)for(p=0;p<s;p++)n[p]&&(w=o[h[p]],m[p]=w[0],g[p]=w[1],b[p]=w[2],n[p]=w[3]);else{for(n=new Uint8Array(s),p=0;p<s;p++)w=o[h[p]],m[p]=w[0],g[p]=w[1],b[p]=w[2],n[p]=w[3];r.mask=n}return r.pixels=[m,g,b],r.statistics=null,r.pixelType="u8",r.maskIsAlpha=c,r}function Uj(e,t){if(!Sr(e))return null;const{pixels:r,mask:i}=e,n=e.width*e.height,s=r.length;let a=t.lut;const{offset:o}=t;let l,c;a&&a[0].length===1&&(a=r.map(()=>a));const d=[];let p,h,m;if(o)if(i==null)for(l=0;l<s;l++){for(p=r[l],h=a[l],m=new Uint8Array(n),c=0;c<n;c++)m[c]=h[p[c]-o];d.push(m)}else for(l=0;l<s;l++){for(p=r[l],h=a[l],m=new Uint8Array(n),c=0;c<n;c++)i[c]&&(m[c]=h[p[c]-o]);d.push(m)}else if(i==null)for(l=0;l<s;l++){for(p=r[l],h=a[l],m=new Uint8Array(n),c=0;c<n;c++)m[c]=h[p[c]];d.push(m)}else for(l=0;l<s;l++){for(p=r[l],h=a[l],m=new Uint8Array(n),c=0;c<n;c++)i[c]&&(m[c]=h[p[c]]);d.push(m)}const g=new st({width:e.width,height:e.height,pixels:d,mask:i,pixelType:"u8"});return g.updateStatistics(),g}function HIe(e,t){if(!Sr(e))return null;const r=e.clone(),{pixels:i}=r,n=r.width*r.height,s=t.length,a=Math.floor(s/2),o=t[Math.floor(a)],l=i[0];let c,d,p,h,m,g,b=!1;const w=new Uint8Array(n),v=new Uint8Array(n),_=new Uint8Array(n);let S=r.mask;const x=t[0].mappedColor.length===4;for(S||(S=new Uint8Array(n),S.fill(x?255:1),r.mask=S),m=0;m<n;m++)if(S[m]){for(c=l[m],b=!1,g=a,d=o,p=0,h=s-1;h-p>1;){if(c===d.value){b=!0;break}c>d.value?p=g:h=g,g=Math.floor((p+h)/2),d=t[Math.floor(g)]}b||(c===t[p].value?(d=t[p],b=!0):c===t[h].value?(d=t[h],b=!0):c<t[p].value?(b=!1,d=null):c>t[p].value&&(c<t[h].value?(d=t[p],b=!0):h===s-1?(b=!1,d=null):(d=t[h],b=!0))),b?(w[m]=d.mappedColor[0],v[m]=d.mappedColor[1],_[m]=d.mappedColor[2],S[m]=d.mappedColor[3]):w[m]=v[m]=_[m]=S[m]=0}return r.pixels=[w,v,_],r.mask=S,r.pixelType="u8",r.maskIsAlpha=x,r}function WIe(e,t,r,i,n,s,a,o){return{xmin:n<=r*e?0:n<r*e+e?n-r*e:e,ymin:s<=i*t?0:s<i*t+t?s-i*t:t,xmax:n+a<=r*e?0:n+a<r*e+e?n+a-r*e:e,ymax:s+o<=i*t?0:s+o<i*t+t?s+o-i*t:t}}function kPe(e,t){if(!e||e.length===0)return null;const r=e.find(g=>g.pixelBlock);if(!r||B(r.pixelBlock))return null;const i=(r.extent.xmax-r.extent.xmin)/r.pixelBlock.width,n=(r.extent.ymax-r.extent.ymin)/r.pixelBlock.height,s=.01*Math.min(i,n),a=e.sort((g,b)=>Math.abs(g.extent.ymax-b.extent.ymax)>s?b.extent.ymax-g.extent.ymax:Math.abs(g.extent.xmin-b.extent.xmin)>s?g.extent.xmin-b.extent.xmin:0),o=Math.min.apply(null,a.map(g=>g.extent.xmin)),l=Math.min.apply(null,a.map(g=>g.extent.ymin)),c=Math.max.apply(null,a.map(g=>g.extent.xmax)),d=Math.max.apply(null,a.map(g=>g.extent.ymax)),p={x:Math.round((t.xmin-o)/i),y:Math.round((d-t.ymax)/n)},h={width:Math.round((c-o)/i),height:Math.round((d-l)/n)},m={width:Math.round((t.xmax-t.xmin)/i),height:Math.round((t.ymax-t.ymin)/n)};return Math.round(h.width/r.pixelBlock.width)*Math.round(h.height/r.pixelBlock.height)!==a.length||p.x<0||p.y<0||h.width<m.width||h.height<m.height?null:{extent:t,pixelBlock:JIe(a.map(g=>g.pixelBlock),h,{clipOffset:p,clipSize:m})}}function Gj(e,t,r,i,n,s){const{width:a,height:o}=r.block,{x:l,y:c}=r.offset,{width:d,height:p}=r.mosaic,h=WIe(a,o,i,n,l,c,d,p);let m=0,g=0;if(s){const b=s.hasGCSSShiftTransform?360:s.halfWorldWidth,w=a*s.resolutionX,v=s.startX+i*w,_=v+w;v<b&&_>b?g=s.rightPadding:v>=b&&(m=s.leftMargin-s.rightPadding,g=0)}if(h.xmax-=g,typeof t!="number")for(let b=h.ymin;b<h.ymax;b++){const w=(n*o+b-c)*d+(i*a-l)+m,v=b*a;for(let _=h.xmin;_<h.xmax;_++)e[w+_]=t[v+_]}else for(let b=h.ymin;b<h.ymax;b++){const w=(n*o+b-c)*d+(i*a-l)+m;for(let v=h.xmin;v<h.xmax;v++)e[w+v]=t}}function JIe(e,t,r={}){const{clipOffset:i,clipSize:n,alignmentInfo:s,blockWidths:a}=r;if(a)return ZIe(e,t,{blockWidths:a});const o=e.find($=>Sr($));if(B(o))return null;const l=n?n.width:t.width,c=n?n.height:t.height,d=o.width,p=o.height,h=t.width/d,m=t.height/p,g={offset:i||{x:0,y:0},mosaic:n||t,block:{width:d,height:p}},b=o.pixelType,w=st.getPixelArrayConstructor(b),v=o.pixels.length,_=[];let S,x;for(let $=0;$<v;$++){x=new w(l*c);for(let T=0;T<m;T++)for(let A=0;A<h;A++){const P=e[T*h+A];Sr(P)&&(S=P.pixels[$],Gj(x,S,g,A,T,s))}_.push(x)}let M;if(e.some($=>B($)||$.mask&&$.mask.length>0)){M=new Uint8Array(l*c);for(let $=0;$<m;$++)for(let T=0;T<h;T++){const A=e[$*h+T],P=C(A)?A.mask:null;Gj(M,P||(A?1:0),g,T,$,s)}}const I=new st({width:l,height:c,pixels:_,pixelType:b,mask:M});return I.updateStatistics(),I}function ZIe(e,t,r){const i=e.find(m=>C(m));if(B(i))return null;const n=e.some(m=>!C(m)||!!m.mask),{width:s,height:a}=t,o=n?new Uint8Array(s*a):null,{blockWidths:l}=r,c=[],d=i.getPlaneCount(),p=st.getPixelArrayConstructor(i.pixelType);if(n)for(let m=0,g=0;m<e.length;g+=l[m],m++){const b=e[m];if(!Sr(b))continue;const w=b.mask;for(let v=0;v<a;v++)for(let _=0;_<l[m];_++)o[v*s+_+g]=w==null?255:w[v*b.width+_]}for(let m=0;m<d;m++){const g=new p(s*a);for(let b=0,w=0;b<e.length;w+=l[b],b++){const v=e[b];if(!Sr(v))continue;const _=v.pixels[m];if(_!=null)for(let S=0;S<a;S++)for(let x=0;x<l[b];x++)g[S*s+x+w]=_[S*v.width+x]}c.push(g)}const h=new st({width:s,height:a,mask:o,pixels:c,pixelType:i.pixelType});return h.updateStatistics(),h}function APe(e,t,r){if(!Sr(e))return null;const{width:i,height:n}=e,s=t.x,a=t.y,o=r.width+s,l=r.height+a;if(s<0||a<0||o>i||l>n||s===0&&a===0&&o===i&&l===n)return e;e.mask||(e.mask=new Uint8Array(i*n));const c=e.mask;for(let d=0;d<n;d++){const p=d*i;for(let h=0;h<i;h++)c[p+h]=d<a||d>=l||h<s||h>=o?0:1}return e.updateStatistics(),e}function QIe(e){if(!Sr(e))return null;const t=e.clone(),{width:r,height:i,pixels:n,mask:s}=e,a=n[0],o=t.pixels[0];for(let l=2;l<i-1;l++){const c=new Map;for(let p=l-2;p<l+2;p++)for(let h=0;h<4;h++){const m=p*r+h;yg(c,a[m],s?s[m]:1)}o[l*r]=qj(c),o[l*r+1]=o[l*r+2]=o[l*r];let d=3;for(;d<r-1;d++){let p=(l-2)*r+d+1;yg(c,a[p],s?s[p]:1),p=(l-1)*r+d+1,yg(c,a[p],s?s[p]:1),p=l*r+d+1,yg(c,a[p],s?s[p]:1),p=(l+1)*r+d+1,yg(c,a[p],s?s[p]:1),p=(l-2)*r+d-3,Rv(c,a[p],s?s[p]:1),p=(l-1)*r+d-3,Rv(c,a[p],s?s[p]:1),p=l*r+d-3,Rv(c,a[p],s?s[p]:1),p=(l+1)*r+d-3,Rv(c,a[p],s?s[p]:1),o[l*r+d]=qj(c)}o[l*r+d+1]=o[l*r+d]}for(let l=0;l<r;l++)o[l]=o[r+l]=o[2*r+l],o[(i-1)*r+l]=o[(i-2)*r+l];return t.updateStatistics(),t}function qj(e){if(e.size===0)return 0;let t=0,r=-1,i=0;const n=e.keys();let s=n.next();for(;!s.done;)i=e.get(s.value),i>t&&(r=s.value,t=i),s=n.next();return r}function Rv(e,t,r){if(r===0)return;const i=e.get(t);i===1?e.delete(t):e.set(t,i-1)}function yg(e,t,r){r!==0&&e.set(t,e.has(t)?e.get(t)+1:1)}function YIe(e,t,r){let{x:i,y:n}=t;const{width:s,height:a}=r;if(i===0&&n===0&&a===e.height&&s===e.width)return e;const{width:o,height:l}=e,c=Math.max(0,n),d=Math.max(0,i),p=Math.min(i+s,o),h=Math.min(n+a,l);if(p<0||h<0||!Sr(e))return null;i=Math.max(0,-i),n=Math.max(0,-n);const{pixels:m,mask:g}=e,b=s*a,w=m.length,v=[];for(let x=0;x<w;x++){const M=m[x],I=st.createEmptyBand(e.pixelType,b);for(let $=c;$<h;$++){const T=$*o;let A=($+n-c)*s+i;for(let P=d;P<p;P++)I[A++]=M[T+P]}v.push(I)}const _=new Uint8Array(b);for(let x=c;x<h;x++){const M=x*o;let I=(x+n-c)*s+i;for(let $=d;$<p;$++)_[I++]=g?g[M+$]:1}const S=new st({width:r.width,height:r.height,pixelType:e.pixelType,pixels:v,mask:_});return S.updateStatistics(),S}function KIe(e,t=!0){if(!Sr(e))return null;const{pixels:r,width:i,height:n,mask:s,pixelType:a}=e,o=[],l=Math.round(i/2),c=Math.round(n/2),d=n-1,p=i-1;for(let m=0;m<r.length;m++){const g=r[m],b=st.createEmptyBand(a,l*c);let w=0;for(let v=0;v<n;v+=2)for(let _=0;_<i;_+=2){const S=g[v*i+_];if(t){const x=_===p?S:g[v*i+_+1],M=v===d?S:g[v*i+_+i],I=_===p?M:v===d?x:g[v*i+_+i+1];b[w++]=(S+x+M+I)/4}else b[w++]=S}o.push(b)}let h=null;if(s){h=new Uint8Array(l*c);let m=0;for(let g=0;g<n;g+=2)for(let b=0;b<i;b+=2){const w=s[g*i+b];if(t){const v=b===p?w:s[g*i+b+1],_=g===d?w:s[g*i+b+i],S=b===p?_:g===d?v:s[g*i+b+i+1];h[m++]=w*v*_*S?1:0}else h[m++]=w}}return new st({width:l,height:c,pixelType:a,pixels:o,mask:h})}function LPe(e,t,r){if(!Sr(e))return null;const{width:i,height:n}=t;let{width:s,height:a}=e;const o=new Map,l={x:0,y:0},c=r==null?1:1+r;let d=e;for(let p=0;p<c;p++){const h=Math.ceil(s/i),m=Math.ceil(a/n);for(let g=0;g<m;g++){l.y=g*n;for(let b=0;b<h;b++){l.x=b*i;const w=YIe(d,l,t);o.set(`${p}/${g}/${b}`,w)}}p<c-1&&(d=KIe(d)),s=Math.round(s/2),a=Math.round(a/2)}return o}function Dee(e,t,r,i,n=.5){const{width:s,height:a}=e,{width:o,height:l}=t,c=i.cols,d=i.rows,p=Math.ceil(o/c-.1/c),h=Math.ceil(l/d-.1/d);let m,g,b,w,v,_,S;const x=p*c,M=x*h*d,I=new Float32Array(M),$=new Float32Array(M),T=new Uint32Array(M),A=new Uint32Array(M);let P,F,j=0;for(let V=0;V<h;V++)for(let z=0;z<p;z++){m=12*(V*p+z),g=r[m],b=r[m+1],w=r[m+2],v=r[m+3],_=r[m+4],S=r[m+5];for(let J=0;J<d;J++){j=(V*d+J)*x+z*c,F=(J+.5)/d;for(let K=0;K<J;K++)P=(K+.5)/c,I[j+K]=(g*P+b*F+w)*s-n,$[j+K]=(v*P+_*F+S)*a-n,T[j+K]=Math.round(I[j+K]),A[j+K]=Math.round($[j+K])}m+=6,g=r[m],b=r[m+1],w=r[m+2],v=r[m+3],_=r[m+4],S=r[m+5];for(let J=0;J<d;J++){j=(V*d+J)*x+z*c,F=(J+.5)/d;for(let K=J;K<c;K++)P=(K+.5)/c,I[j+K]=(g*P+b*F+w)*s-n,$[j+K]=(v*P+_*F+S)*a-n,T[j+K]=Math.round(I[j+K]),A[j+K]=Math.round($[j+K])}}return{offsets_x:I,offsets_y:$,offsets_xi:T,offsets_yi:A,gridWidth:x}}function RPe(e,t){const{coefficients:r,spacing:i}=t,{offsets_x:n,offsets_y:s,gridWidth:a}=Dee(e,e,r,{rows:i[0],cols:i[1]},.5),{width:o,height:l}=e,c=new Float32Array(o*l),d=180/Math.PI;for(let p=0;p<l;p++)for(let h=0;h<o;h++){const m=p*a+h,g=p===0?m:m-a,b=p===l-1?m:m+a,w=n[g]-n[b],v=s[b]-s[g];if(isNaN(w)||isNaN(v))c[p*o+h]=90;else{let _=Math.atan2(v,w)*d;_=(360+_)%360,c[p*o+h]=_}}return c}function PPe(e,t,r,i,n="nearest"){if(!Sr(e))return null;n==="majority"&&(e=QIe(e));const{pixels:s,mask:a,pixelType:o}=e,l=e.width,c=e.height,d=st.getPixelArrayConstructor(o),p=s.length,{width:h,height:m}=t;let g=!1;for(let A=0;A<r.length;A+=3)r[A]===-1&&r[A+1]===-1&&r[A+2]===-1&&(g=!0);const{offsets_x:b,offsets_y:w,offsets_xi:v,offsets_yi:_,gridWidth:S}=Dee({width:l,height:c},t,r,i,n==="majority"?0:.5);let x;const M=(A,P,F)=>{const j=A instanceof Float32Array||A instanceof Float64Array?0:.5;for(let V=0;V<m;V++){x=V*S;for(let z=0;z<h;z++){if(b[x]<0||w[x]<0)A[V*h+z]=0;else if(F)A[V*h+z]=P[v[x]+_[x]*l];else{const J=Math.floor(b[x]),K=Math.floor(w[x]),Q=Math.ceil(b[x]),U=Math.ceil(w[x]),te=b[x]-J,H=w[x]-K;if(!a||a[J+K*l]&&a[J+K*l]&&a[J+U*l]&&a[Q+U*l]){const se=(1-te)*P[J+K*l]+te*P[Q+K*l],ue=(1-te)*P[J+U*l]+te*P[Q+U*l];A[V*h+z]=(1-H)*se+H*ue+j}else A[V*h+z]=P[v[x]+_[x]*l]}x++}}},I=[];let $;for(let A=0;A<p;A++)$=new d(h*m),M($,s[A],n==="nearest"||n==="majority"),I.push($);const T=new st({width:h,height:m,pixelType:o,pixels:I});if(a)T.mask=new Uint8Array(h*m),M(T.mask,a,!0);else if(g){T.mask=new Uint8Array(h*m);for(let A=0;A<h*m;A++)T.mask[A]=b[A]<0||w[A]<0?0:1}return T.updateStatistics(),T}const Uf=new Map;Uf.set("meter-per-second",1),Uf.set("kilometer-per-hour",.277778),Uf.set("knots",.514444),Uf.set("feet-per-second",.3048),Uf.set("mile-per-hour",.44704);const pT=180/Math.PI,eL=5,cs=new Le({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function o8(e,t){return Uf.get(e)/Uf.get(t)||1}function Nee(e){return(450-e)%360}function tL(e,t="geographic"){const[r,i]=e,n=Math.sqrt(r*r+i*i);let s=Math.atan2(i,r)*pT;return s=(360+s)%360,t==="geographic"&&(s=Nee(s)),[n,s]}function jee(e,t="geographic"){let r=e[1];t==="geographic"&&(r=Nee(r)),r%=360;const i=e[0];return[i*Math.cos(r/pT),i*Math.sin(r/pT)]}function OPe(e,t,r,i="geographic"){if(!Sr(e)||B(r))return e;const n=t==="vector-magdir"?e.clone():hT(e,t),s=n.pixels[1];for(let a=0;a<s.length;a++)s[a]=i==="geographic"?(s[a]+r[a]+270)%360:(s[a]+360-r[a])%360;return t==="vector-magdir"?n:hT(n,"vector-magdir")}function hT(e,t,r="geographic",i=1){if(!Sr(e))return e;const{pixels:n,width:s,height:a}=e,o=s*a,l=n[0],c=n[1],d=e.pixelType.startsWith("f")?e.pixelType:"f32",p=st.createEmptyBand(d,o),h=st.createEmptyBand(d,o);let m=0;for(let b=0;b<a;b++)for(let w=0;w<s;w++)t==="vector-uv"?([p[m],h[m]]=tL([l[m],c[m]],r),p[m]*=i):([p[m],h[m]]=jee([l[m],c[m]],r),p[m]*=i,h[m]*=i),m++;const g=new st({pixelType:d,width:e.width,height:e.height,mask:e.mask,validPixelCount:e.validPixelCount,maskIsAlpha:e.maskIsAlpha,pixels:[p,h]});return g.updateStatistics(),g}function XIe(e,t,r=1){if(r===1||!Sr(e))return e;const i=e.clone(),{pixels:n,width:s,height:a}=i,o=n[0],l=n[1];let c=0;for(let d=0;d<a;d++)for(let p=0;p<s;p++)t==="vector-uv"?(o[c]*=r,l[c]*=r):o[c]*=r,c++;return i.updateStatistics(),i}function FPe(e,t,r,i,n){if(B(n)||!n.spatialReference.equals(e.spatialReference))return{extent:e,width:Math.round(t/i),height:Math.round(r/i),resolution:e.width/t};const s=n.xmin,a=n.ymax,o=(e.xmax-e.xmin)/t*i,l=(e.ymax-e.ymin)/r*i,c=(o+l)/2;return e.xmin=s+Math.floor((e.xmin-s)/o)*o,e.xmax=s+Math.ceil((e.xmax-s)/o)*o,e.ymin=a+Math.floor((e.ymin-a)/l)*l,e.ymax=a+Math.ceil((e.ymax-a)/l)*l,{extent:e,width:Math.round(e.width/o),height:Math.round(e.height/l),resolution:c}}const E_=e$e(0,0,0);function e$e(e=0,t=0,r=Math.PI,i=!0){i&&(r=(2*Math.PI-r)%(2*Math.PI));const n=i?-1:1,s=13*n,a=-7*n,o=-2*n,l=-16*n,c=21.75,[d,p]=hi(0,t+s,r,c),[h,m]=hi(e-5.5,t+a,r,c),[g,b]=hi(e+5.5,t+a,r,c),[w,v]=hi(e-1.5,t+o,r,c),[_,S]=hi(e+1.5,t+o,r,c),[x,M]=hi(e-1.5,t+l,r,c),[I,$]=hi(e+1.5,t+l,r,c);return[d,p,h,m,w,v,_,S,g,b,x,M,I,$]}function t$e(e=0,t=Math.PI,r=!0){r&&(t=(2*Math.PI-t)%(2*Math.PI));const i=10,n=r?-1:1,s=5*n,a=20*n,o=25*n,l=45,c=0,d=0,p=2,h=0,m=p*n;let[g,b]=[c+i/2,d-a],[w,v]=[g+p,b],[_,S]=[w-h,v+m],[x,M]=[c-i/2,d-o],[I,$]=[x+h,M-m],T=Math.ceil(e/eL),A=Math.floor(T/10);T-=8*A;const P=[],F=[];for(let se=0;se<T/2;se++,A--){A<=0&&T%2==1&&se===(T-1)/2&&(x=c,I=x+h,M=(M+b)/2,$=M-m);const[ue,ve]=hi(x,M,t,l);if(A>0){const[xe,tt]=hi(w,M,t,l),[it,Ir]=hi(g,b,t,l);P.push(xe),P.push(tt),P.push(ue),P.push(ve),P.push(it),P.push(Ir)}else{const[xe,tt]=hi(w,v,t,l),[it,Ir]=hi(_,S,t,l),[Ts,pt]=hi(I,$,t,l);F.push(ue),F.push(ve),F.push(Ts),F.push(pt),F.push(it),F.push(Ir),F.push(xe),F.push(tt)}M+=s,b+=s,v+=s,S+=s,$+=s}const[j,V]=hi(c+i/2,d+a,t,l),z=i/2+p,[J,K]=hi(c+z,d+a,t,l),[Q,U]=hi(c+i/2,d-o,t,l),[te,H]=hi(c+z,d-o,t,l);return{pennants:P,barbs:F,shaft:[j,V,J,K,Q,U,te,H]}}function hi(e,t,r,i=1){const n=Math.sqrt(e*e+t*t)/i,s=(2*Math.PI+Math.atan2(t,e))%(2*Math.PI);return[n,(2*Math.PI+s-r)%(2*Math.PI)]}const Pv=[0,1,3,6,10,16,21,27,33,40,47,55,63],r$e=[0,.5,1,1.5,2],i$e=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function Vd(e,t,r,i){const n=o8(i||"knots",r);let s;for(s=1;s<t.length;s++)if(s===t.length-1){if(e<t[s]*n)break}else if(e<=t[s]*n)break;return Math.min(s-1,t.length-2)}function n$e(e,t,r,i,n){let s=0;switch(t){case"beaufort_kn":s=Vd(e,Pv,"knots",r);break;case"beaufort_km":s=Vd(e,Pv,"kilometer-per-hour",r);break;case"beaufort_ft":s=Vd(e,Pv,"feet-per-second",r);break;case"beaufort_m":s=Vd(e,Pv,"meter-per-second",r);break;case"classified_arrow":s=Vd(e,n,i,r);break;case"ocean_current_m":s=Vd(e,r$e,"meter-per-second",r);break;case"ocean_current_kn":s=Vd(e,i$e,"knots",r)}return s}function s$e(e,t){const{style:r,inputUnit:i,outputUnit:n,breakValues:s}=t,a=cs.fromJSON(i),o=cs.fromJSON(n),l=7*6,c=15;let d=0,p=0;const{width:h,height:m,mask:g}=e,b=e.pixels[0],w=e.pixels[1],v=g?g.filter(x=>x>0).length:h*m,_=new Float32Array(v*l),S=new Uint32Array(c*v);for(let x=0;x<m;x++)for(let M=0;M<h;M++){const I=x*h+M;if(!g||g[x*h+M]){const $=(w[I]+360)%360/180*Math.PI,T=n$e(b[I],r,a,o,s);for(let P=0;P<E_.length;P+=2)_[d++]=(M+.5)/h,_[d++]=(x+.5)/m,_[d++]=E_[P],_[d++]=E_[P+1]+$,_[d++]=T,_[d++]=b[I];const A=7*(d/l-1);S[p++]=A,S[p++]=A+1,S[p++]=A+2,S[p++]=A+0,S[p++]=A+4,S[p++]=A+3,S[p++]=A+0,S[p++]=A+2,S[p++]=A+3,S[p++]=A+2,S[p++]=A+5,S[p++]=A+3,S[p++]=A+5,S[p++]=A+6,S[p++]=A+3}}return{vertexData:_,indexData:S}}const k_=[];function a$e(e,t){if(k_.length===0)for(let m=0;m<30;m++)k_.push(t$e(5*m,0));const r=o8(cs.fromJSON(t.inputUnit),"knots"),{width:i,height:n,mask:s}=e,a=e.pixels[0],o=e.pixels[1],l=6,c=[],d=[];let p=0,h=0;for(let m=0;m<n;m++)for(let g=0;g<i;g++){const b=m*i+g,w=a[b]*r;if((!s||s[m*i+g])&&w>=eL){const v=(o[b]+360)%360/180*Math.PI,{pennants:_,barbs:S,shaft:x}=k_[Math.min(Math.floor(w/5),29)];if(_.length+S.length===0)continue;let M=c.length/l;const I=(g+.5)/i,$=(m+.5)/n;for(let T=0;T<_.length;T+=2)c[p++]=I,c[p++]=$,c[p++]=_[T],c[p++]=_[T+1]+v,c[p++]=0,c[p++]=w;for(let T=0;T<S.length;T+=2)c[p++]=I,c[p++]=$,c[p++]=S[T],c[p++]=S[T+1]+v,c[p++]=0,c[p++]=w;for(let T=0;T<x.length;T+=2)c[p++]=I,c[p++]=$,c[p++]=x[T],c[p++]=x[T+1]+v,c[p++]=0,c[p++]=w;for(let T=0;T<_.length/6;T++)d[h++]=M,d[h++]=M+1,d[h++]=M+2,M+=3;for(let T=0;T<S.length/8;T++)d[h++]=M,d[h++]=M+1,d[h++]=M+2,d[h++]=M+1,d[h++]=M+2,d[h++]=M+3,M+=4;d[h++]=M+0,d[h++]=M+1,d[h++]=M+2,d[h++]=M+1,d[h++]=M+3,d[h++]=M+2,M+=4}}return{vertexData:new Float32Array(c),indexData:new Uint32Array(d)}}function o$e(e,t){let i=0,n=0;const{width:s,height:a,mask:o}=e,l=e.pixels[0],c=[],d=[],p=o8(cs.fromJSON(t.inputUnit),"knots"),h=t.style==="wind_speed"?eL:Number.MAX_VALUE;for(let m=0;m<a;m++)for(let g=0;g<s;g++){const b=l[m*s+g]*p;if((!o||o[m*s+g])&&b<h){for(let v=0;v<4;v++)c[i++]=(g+.5)/s,c[i++]=(m+.5)/a,c[i++]=v<2?-.5:.5,c[i++]=v%2==0?-.5:.5,c[i++]=0,c[i++]=b;const w=4*(i/24-1);d[n++]=w,d[n++]=w+1,d[n++]=w+2,d[n++]=w+1,d[n++]=w+2,d[n++]=w+3}}return{vertexData:new Float32Array(c),indexData:new Uint32Array(d)}}function DPe(e,t){return t.style==="simple_scalar"?o$e(e,t):t.style==="wind_speed"?a$e(e,t):s$e(e,t)}function NPe(e,t,r,i=[0,0],n=.5){const{width:s,height:a,mask:o}=e,[l,c]=e.pixels,[d,p]=i,h=Math.round((s-d)/r),m=Math.round((a-p)/r),g=h*m,b=new Float32Array(g),w=new Float32Array(g),v=new Uint8Array(g),_=t==="vector-uv";for(let x=0;x<m;x++)for(let M=0;M<h;M++){let I=0;const $=x*h+M,T=Math.max(0,x*r+p),A=Math.max(0,M*r+d),P=Math.min(a,T+r),F=Math.min(s,A+r);for(let j=T;j<P;j++)for(let V=A;V<F;V++){const z=j*s+V;if(!o||o[z]){I++;const J=_?[l[z],c[z]]:[l[z],(360+c[z])%360],[K,Q]=_?J:jee(J);b[$]+=K,w[$]+=Q}}if(I>=(P-T)*(F-A)*(1-n)){v[$]=1;const[j,V]=tL([b[$]/I,w[$]/I]);b[$]=j,w[$]=V}else v[$]=0,b[$]=0,w[$]=0}const S=new st({width:h,height:m,pixels:[b,w],mask:v});return S.updateStatistics(),S}var mT;const Hj=new Set(["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"]),Ov=new Le({beaufort_ft:"beaufort-ft",beaufort_km:"beaufort-km",beaufort_kn:"beaufort-kn",beaufort_m:"beaufort-m",beaufort_mi:"beaufort-mi",classified_arrow:"classified-arrow",ocean_current_kn:"ocean-current-kn",ocean_current_m:"ocean-current-m",simple_scalar:"simple-scalar",single_arrow:"single-arrow",wind_speed:"wind-barb"}),Fv=new Le({flow_from:"flow-from",flow_to:"flow-to"});let ki=mT=class extends Cd(Z){constructor(e){super(e),this.attributeField="Magnitude",this.flowRepresentation="flow-from",this.rotationType="arithmetic",this.style="single-arrow",this.symbolTileSize=50,this.type="vector-field"}readInputUnit(e,t){return Hj.has(e)?cs.fromJSON(e):null}readOutputUnit(e,t){return Hj.has(e)?cs.fromJSON(e):null}get styleRenderer(){const e=this.style,t=this.attributeField,r=this._createStyleRenderer(e);return r.field=t,r}get sizeVariables(){const e=[];if(this.visualVariables)for(const t of this.visualVariables)t.type==="size"&&e.push(t);if(e.length===0){const t=new xs({field:"Magnitude",minSize:.2*this.symbolTileSize,maxSize:.8*this.symbolTileSize});this.visualVariables?this.visualVariables.push(t):this._set("visualVariables",[t]),e.push(t)}return e}get rotationVariables(){const e=[];if(this.visualVariables)for(const t of this.visualVariables)t.type==="rotation"&&e.push(t);if(e.length===0){const t=new qw({field:"Direction",rotationType:this.rotationType});this.visualVariables?this.visualVariables.push(t):this._set("visualVariables",[t]),e.push(t)}return e}clone(){return new mT({attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,rotationType:this.rotationType,symbolTileSize:this.symbolTileSize,style:this.style,visualVariables:D(this.visualVariables),inputUnit:this.inputUnit,outputUnit:this.outputUnit})}async getGraphicsFromPixelData(e,t=!1,r=[]){var h;const i=new Array,n=o8(this.inputUnit,this.outputUnit),s=((h=this.rotationVariables[0])==null?void 0:h.rotationType)||this.rotationType,a=t?hT(e.pixelBlock,"vector-uv",s,n):XIe(e.pixelBlock,"vector-magdir",n);if(B(a))return i;const o=e.extent,l=a.mask&&a.mask.length>0;let c=0;const d=(o.xmax-o.xmin)/a.width,p=(o.ymax-o.ymin)/a.height;for(let m=0;m<a.height;m++)for(let g=0;g<a.width;g++,c++){let b=new be({x:o.xmin+g*d+d/2,y:o.ymax-m*p-p/2,spatialReference:o.spatialReference});b=(await Jp(b))[0];const w=r.some(v=>v.intersects(b));if((!l||a.mask[c])&&!w){const v={Magnitude:a.pixels[0][c],Direction:a.pixels[1][c]},_=new vi({geometry:{type:"point",x:b.x,y:b.y,spatialReference:o.spatialReference},attributes:v});_.symbol=this._getVisualVariablesAppliedSymbol(_),i.push(_)}}return i}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getClassBreakInfos(){var e;return(e=this.styleRenderer)==null?void 0:e.classBreakInfos}getDefaultSymbol(){var e;return(e=this.styleRenderer)==null?void 0:e.defaultSymbol}_getDefaultSymbol(e){return new Ni({path:"M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z",outline:new qi({width:0}),size:20,color:e||new re([0,92,230])})}_getVisualVariablesAppliedSymbol(e){if(!e)return;let t=this.styleRenderer&&this.styleRenderer.getSymbol(e);t=t.clone();const r=this.sizeVariables,i=this.rotationVariables;if(r&&r.length&&this.sizeVariables.forEach(n=>NJ(t,qQ([n],e))),i&&i.length){const n=this.flowRepresentation==="flow-to"==(this.style==="ocean-current-kn"||this.style==="ocean-current-m")?0:180;e.attributes.Direction=e.attributes.Direction+n,this.rotationVariables.forEach(s=>jJ(t,eA(s,e),s.axis))}return t}_createStyleRenderer(e){let t={defaultSymbol:this._getDefaultSymbol(),classBreakInfos:[]};switch(e){case"single-arrow":t=this._createSingleArrowRenderer();break;case"beaufort-kn":t=this._createBeaufortKnotsRenderer();break;case"beaufort-m":t=this._createBeaufortMeterRenderer();break;case"beaufort-ft":t=this._createBeaufortFeetRenderer();break;case"beaufort-mi":t=this._createBeaufortMilesRenderer();break;case"beaufort-km":t=this._createBeaufortKilometersRenderer();break;case"ocean-current-m":t=this._createCurrentMeterRenderer();break;case"ocean-current-kn":t=this._createCurrentKnotsRenderer();break;case"simple-scalar":t=this._createSimpleScalarRenderer();break;case"wind-barb":t=this._createWindBarbsRenderer();break;case"classified-arrow":t=this._createClassifiedArrowRenderer()}return new $y(t)}_createSingleArrowRenderer(){return{defaultSymbol:this._getDefaultSymbol()}}_createBeaufortKnotsRenderer(){const e=[0,1,3,6,10,16,21,27,33,40,47,55,63],t=[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]];return{defaultSymbol:this._getDefaultSymbol(new re([214,47,39])),classBreakInfos:this._getClassBreaks(e,t)}}_createBeaufortMeterRenderer(){const e=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],t=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]];return{defaultSymbol:this._getDefaultSymbol(new re([214,47,39])),classBreakInfos:this._getClassBreaks(e,t)}}_createBeaufortFeetRenderer(){const e=this._getDefaultSymbol(new re([214,47,39]));let t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];const r=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]],i=3.28084;return t=t.map(n=>n*i),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,r)}}_createBeaufortMilesRenderer(){const e=this._getDefaultSymbol(new re([214,47,39]));let t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];const r=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]],i=2.23694;return t=t.map(n=>n*i),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,r)}}_createBeaufortKilometersRenderer(){const e=this._getDefaultSymbol(new re([214,47,39]));let t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];const r=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]],i=3.6;return t=t.map(n=>n*i),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,r)}}_createCurrentMeterRenderer(){const e=[0,.5,1,1.5,2],t=[[78,26,153],[179,27,26],[202,128,26],[177,177,177]];return{defaultSymbol:this._getDefaultSymbol(new re([177,177,177])),classBreakInfos:this._getClassBreaks(e,t)}}_createCurrentKnotsRenderer(){const e=[0,.25,.5,1,1.5,2,2.5,3,3.5,4],t=[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]];return{defaultSymbol:this._getDefaultSymbol(new re([177,177,177])),classBreakInfos:this._getClassBreaks(e,t)}}_createClassifiedArrowRenderer(){var i;const e=this._getDefaultSymbol(new re([56,168,0]));let t=[0,1e-6,3.5,7,10.5,14];if((i=this.sizeVariables)!=null&&i.length){const n=this.sizeVariables[0].minDataValue,s=this.sizeVariables[0].maxDataValue;if(n&&s){const a=(s-n)/5;t=Array.from(Array(6).keys()).map(o=>n+a*o)}}const r=[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]];return{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,r)}}_createSimpleScalarRenderer(){return{defaultSymbol:cp.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII=",height:20,width:20,type:"esriPMS",angle:0})}}_createWindBarbsRenderer(){const e=Array.from(Array(31).keys()).map(n=>5*n),t=[{range:"0-5",path:"M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"5-10",path:"M25 0 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"10-15",path:"M25 0 L25 40 L10 45 L25 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"15-20",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"20-25",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"25-30",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"30-35",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"35-40",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"40-45",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"45-50",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"50-55",path:"M25 0 L25 40 L10 40 L25 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"55-60",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"60-65",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"65-70",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"70-75",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"75-80",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"80-85",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"85-90",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"90-95",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"95-100",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"100-105",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"105-110",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"110-115",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"115-120",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"120-125",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"125-130",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"130-135",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"135-140",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"140-145",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"145-150",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="}],r=cp.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC",height:20,width:20,type:"esriPMS",angle:0}),i=e.map((n,s)=>{let a;if(s!==e.length-1)if(s===0)a={minValue:n,maxValue:e[s+1],symbol:r};else{const o=cp.fromJSON({type:"esriPMS",imageData:t[s].imageData,contentType:"image/svg+xml",height:32,width:32,angle:0});a={minValue:n,maxValue:e[s+1],symbol:o}}return new Um(a)});return{defaultSymbol:r,classBreakInfos:i}}_getClassBreaks(e,t){return t.map((r,i)=>new Um({minValue:e[i],maxValue:e[i+1],symbol:this._getDefaultSymbol(new re(r))}))}};u([f({type:String,json:{write:!0}})],ki.prototype,"attributeField",void 0),u([f({type:Fv.apiValues,json:{type:Fv.jsonValues,read:{reader:Fv.read},write:{writer:Fv.write}}})],ki.prototype,"flowRepresentation",void 0),u([f({type:["geographic","arithmetic"],json:{write:!0}})],ki.prototype,"rotationType",void 0),u([f({type:Ov.apiValues,json:{type:Ov.jsonValues,read:{reader:Ov.read},write:{writer:Ov.write}}})],ki.prototype,"style",void 0),u([f({json:{write:!0}})],ki.prototype,"symbolTileSize",void 0),u([f({type:cs.apiValues,json:{type:cs.jsonValues,write:{writer:cs.write}}})],ki.prototype,"inputUnit",void 0),u([ie("inputUnit")],ki.prototype,"readInputUnit",null),u([f({type:cs.apiValues,json:{type:cs.jsonValues,read:{reader:cs.read},write:{writer:cs.write}}})],ki.prototype,"outputUnit",void 0),u([ie("outputUnit")],ki.prototype,"readOutputUnit",null),u([ge({vectorField:"vector-field"})],ki.prototype,"type",void 0),u([f({type:$y})],ki.prototype,"styleRenderer",null),u([f({type:xs})],ki.prototype,"sizeVariables",null),u([f({type:qw})],ki.prototype,"rotationVariables",null),ki=mT=u([E("esri.renderers.VectorFieldRenderer")],ki);const rL=ki,yT={key:"type",base:null,typeMap:{"unique-value":Kp,"class-breaks":$y,"raster-colormap":KA,"raster-stretch":XA,"vector-field":rL,"raster-shaded-relief":Fee,flow:kee}},gT={...yT,typeMap:{...yT.typeMap}};delete gT.typeMap["vector-field"],delete gT.typeMap.flow;const l$e={uniqueValue:Kp,classBreaks:$y,rasterStretch:XA,rasterColormap:KA,vectorField:rL,rasterShadedRelief:Fee,flowRenderer:kee};function c$e(e){return e&&l$e[e.type]||null}function u$e(e,t){if(!e)return null;if(e.type==="classBreaks"&&e.classificationMethod){const i=e.authoringInfo||{classificationMethod:""};i.classificationMethod=e.classificationMethod,e.authoringInfo=i}e.type==="vectorField"&&e.visualVariables&&!Array.isArray(e.visualVariables)&&(e.visualVariables=[e.visualVariables]);const r=c$e(e);if(r){const i=new r;return i.read(e,t),i}return t&&t.messages&&e&&t.messages.push(new Bi("renderer:unsupported","Renderers of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:t})),null}var bT;let $f=bT=class extends Z{constructor(e){super(e),this.variableName=null,this.dimensionName=null,this.values=[],this.isSlice=!1}clone(){return new bT({variableName:this.variableName,dimensionName:this.dimensionName,values:D(this.values),isSlice:this.isSlice})}};u([f({type:String,json:{write:!0}})],$f.prototype,"variableName",void 0),u([f({type:String,json:{write:!0}})],$f.prototype,"dimensionName",void 0),u([f({type:Uy.array(Uy.oneOf([Uy.native(Number),Uy.array(Uy.native(Number))])),json:{write:!0}})],$f.prototype,"values",void 0),u([f({type:Boolean,json:{write:!0}})],$f.prototype,"isSlice",void 0),$f=bT=u([E("esri.layers.support.DimensionalDefinition")],$f);const iL=$f;var vT;const m9=new Set(["raster","raster2","dem","fillraster"]),y9=new Set(["rasters"]),Wj=e=>e&&e.rasterFunction?xn.fromJSON(e):e,A_=e=>e&&e instanceof xn?e.toJSON():e,wT=e=>(e==null?void 0:e.functionName)&&!e.declaredClass,Jj=e=>wT(e)?new xn(e):e,d$e=e=>{if(e==null)return null;e=D(e);const t={};for(const r of Object.keys(e))m9.has(r.toLowerCase())?t[r]=Wj(e[r]):y9.has(r.toLowerCase())&&Array.isArray(e[r])?t[r]=e[r].map(Wj):t[r]=e[r];return t};let xn=vT=class extends Z{constructor(e){super(e),this.functionName=null,this.outputPixelType="unknown",this.variableName=null,this.rasterFunctionDefinition=null}set functionArguments(e){if(e){const t=Object.keys(e);if(t.some(r=>m9.has(r.toLowerCase())&&wT(e[r]))||t.some(r=>y9.has(r.toLowerCase())&&Array.isArray(e[r])&&e[r].some(i=>wT(i)))){e=D(e);for(const r of t)m9.has(r.toLowerCase())?e[r]=Jj(e[r]):y9.has(r.toLowerCase())&&Array.isArray(e[r])&&(e[r]=e[r].map(i=>Jj(i)))}}this._set("functionArguments",e)}readFunctionArguments(e){return d$e(e)}writeFunctionArguments(e,t,r){const i={};for(const n of Object.keys(e))m9.has(n.toLowerCase())?i[n]=A_(e[n]):y9.has(n.toLowerCase())&&Array.isArray(e[n])?i[n]=e[n].map(A_):i[n]=A_(e[n]);t[r]=i}readFunctionName(e,t){const r=t.rasterFunctionInfos;return t.name||(r&&r.length&&r[0].name!=="None"?r[0].name:t.rasterFunctionDefinition?t.rasterFunctionDefinition.name:t.rasterFunction)}clone(){return new vT({functionName:this.functionName,functionArguments:D(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,rasterFunctionDefinition:D(this.rasterFunctionDefinition)})}};u([f({json:{type:Object,name:"rasterFunctionArguments"}})],xn.prototype,"functionArguments",null),u([ie("functionArguments")],xn.prototype,"readFunctionArguments",null),u([ce("functionArguments")],xn.prototype,"writeFunctionArguments",null),u([f({json:{type:String,write:{target:"rasterFunction"}}})],xn.prototype,"functionName",void 0),u([ie("functionName",["rasterFunction","rasterFunctionInfos","rasterFunctionDefinition"])],xn.prototype,"readFunctionName",null),u([ge({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1}),f({json:{default:"unknown"}})],xn.prototype,"outputPixelType",void 0),u([f({type:String,json:{read:!0,write:!0}})],xn.prototype,"variableName",void 0),u([f({type:Object,json:{name:"rasterFunctionDefinition"}})],xn.prototype,"rasterFunctionDefinition",void 0),xn=vT=u([E("esri.layers.support.RasterFunction")],xn);const gt=xn,f$e={StretchFunction:{arguments:{ComputeGamma:{isDataset:!1,isPublic:!1,name:"ComputeGamma",type:"RasterFunctionVariable",value:!1},DRA:{isDataset:!1,isPublic:!1,name:"DRA",type:"RasterFunctionVariable",value:!1},EstimateStatsHistogram:{isDataset:!1,isPublic:!1,name:"EstimateStatsHistogram",type:"RasterFunctionVariable",value:!1},Gamma:{displayName:"Gamma",isDataset:!1,isPublic:!1,name:"Gamma",type:"RasterFunctionVariable"},Histograms:{isDataset:!1,isPublic:!1,name:"Histograms",type:"RasterFunctionVariable"},Max:{isDataset:!1,isPublic:!1,name:"Max",type:"RasterFunctionVariable",value:255},MaxPercent:{isDataset:!1,isPublic:!1,name:"MaxPercent",type:"RasterFunctionVariable",value:.5},Min:{isDataset:!1,isPublic:!1,name:"Min",type:"RasterFunctionVariable",value:0},MinPercent:{isDataset:!1,isPublic:!1,name:"MinPercent",type:"RasterFunctionVariable",value:.25},NumberOfStandardDeviations:{isDataset:!1,isPublic:!1,name:"NumberOfStandardDeviation",type:"RasterFunctionVariable",value:2},Raster:{isDataset:!0,isPublic:!1,name:"Raster",type:"RasterFunctionVariable"},SigmoidStrengthLevel:{isDataset:!1,isPublic:!1,name:"SigmoidStrengthLevel",type:"RasterFunctionVariable",value:2},Statistics:{isDataset:!1,isPublic:!1,name:"Statistics",type:"RasterFunctionVariable"},StretchType:{isDataset:!1,isPublic:!1,name:"StretchType",type:"RasterFunctionVariable",value:0},type:"StretchFunctionArguments",UseGamma:{isDataset:!1,isPublic:!1,name:"UseGamma",type:"RasterFunctionVariable",value:!1}},description:"Enhances an image by adjusting the range of values displayed. This does not alter the underlying pixel values. If a pixel has a value outside of the specified range, it will appear as either the minimum or maximum value.",function:{description:"Enhances an image by adjusting the range of values displayed. This does not alter the underlying pixel values. If a pixel has a value outside of the specified range, it will appear as either the minimum or maximum value.",name:"Stretch",pixelType:"UNKNOWN",type:"StretchFunction"},functionType:0,name:"Stretch",thumbnail:""},RemapFunction:{name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table.",function:{type:"RemapFunction",pixelType:"UNKNOWN",name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},UseTable:{name:"UseTable",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},InputRanges:{name:"InputRanges",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable",displayName:"Input Ranges"},OutputValues:{name:"OutputValues",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable",displayName:"Output Values"},NoDataRanges:{name:"NoDataRanges",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable",displayName:"NoData Ranges"},Table:{name:"Table",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputField:{name:"InputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},OutputField:{name:"OutputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputMaxField:{name:"InputMaxField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},RemapTableType:{name:"RemapTableType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},AllowUnmatched:{name:"AllowUnmatched",isPublic:!1,isDataset:!1,value:!0,type:"RasterFunctionVariable"},type:"RemapFunctionArguments"},functionType:0,thumbnail:""},ColormapFunction:{name:"Colormap",description:"Changes pixel values to display the raster data as either a grayscale or a red, green, blue (RGB) image, based on a colormap or a color ramp.",function:{type:"ColormapFunction",pixelType:"UNKNOWN",name:"Colormap",description:"Changes pixel values to display the raster data as either a grayscale or a red, green, blue (RGB) image, based on a colormap or a color ramp."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ColorSchemeType:{name:"ColorSchemeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},Colormap:{name:"Colormap",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},ColormapName:{name:"ColormapName",isPublic:!1,isDataset:!1,value:"Gray",type:"RasterFunctionVariable"},ColorRamp:{name:"ColorRamp",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},type:"ColormapFunctionArguments"},functionType:0,thumbnail:""},ShadedReliefFunction:{name:"Shaded Relief",description:"Creates a multiband, color coded, 3D representation of the surface, with the sun's relative position taken into account for shading the image.",function:{type:"ShadedReliefFunction",pixelType:"UNKNOWN",name:"Shaded Relief",description:"Creates a multiband, color coded, 3D representation of the surface, with the sun's relative position taken into account for shading the image."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ColorSchemeType:{name:"ColorSchemeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ColorRamp:{name:"ColorRamp",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},HillshadeType:{name:"HillshadeType",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},Colormap:{name:"Colormap",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},Azimuth:{name:"Azimuth",isPublic:!1,isDataset:!1,value:315,type:"RasterFunctionVariable"},Altitude:{name:"Altitude",isPublic:!1,isDataset:!1,value:45,type:"RasterFunctionVariable"},SlopeType:{name:"SlopeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ZFactor:{name:"ZFactor",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},PSPower:{name:"PSPower",isPublic:!1,isDataset:!1,value:.664,type:"RasterFunctionVariable"},PSZFactor:{name:"PSZFactor",isPublic:!1,isDataset:!1,value:.024,type:"RasterFunctionVariable"},RemoveEdgeEffect:{name:"RemoveEdgeEffect",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},type:"ShadedReliefFunctionArguments"},functionType:0,thumbnail:""},HillshadeFunction:{name:"Hillshade",description:"Creates a 3D representation of the surface, with the sun's relative position taken into account for shading the image",function:{type:"HillshadeFunction",pixelType:"UNKNOWN",name:"Hillshade",description:"Creates a 3D representation of the surface, with the sun's relative position taken into account for shading the image"},arguments:{DEM:{name:"DEM",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},HillshadeType:{name:"HillshadeType",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},Azimuth:{name:"Azimuth",isPublic:!1,isDataset:!1,value:315,type:"RasterFunctionVariable"},Altitude:{name:"Altitude",isPublic:!1,isDataset:!1,value:45,type:"RasterFunctionVariable"},SlopeType:{name:"SlopeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ZFactor:{name:"ZFactor",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},PSPower:{name:"PSPower",isPublic:!1,isDataset:!1,value:.664,type:"RasterFunctionVariable"},PSZFactor:{name:"PSZFactor",isPublic:!1,isDataset:!1,value:.024,type:"RasterFunctionVariable"},RemoveEdgeEffect:{name:"RemoveEdgeEffect",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},type:"HillshadeFunctionArguments"},functionType:0,thumbnail:""},ResampleFunction:{name:"Resample",description:"Changes the cell size of a raster.",function:{type:"ResampleFunction",pixelType:"UNKNOWN",name:"Resample",description:"Changes the cell size of a raster."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ResamplingType:{name:"ResamplingType",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},InputCellSize:{name:"InputCellsize",isPublic:!1,isDataset:!1,value:{x:0,y:0},type:"RasterFunctionVariable"},OutputCellSize:{name:"OutputCellsize",isPublic:!1,isDataset:!1,value:{x:0,y:0},type:"RasterFunctionVariable"},type:"ResampleFunctionArguments"},functionType:0,thumbnail:""}},p$e={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767]},h$e={simple_scalar:"Simple Scalar",wind_barb:"Wind Barb",single_arrow:"Single Arrow",beaufort_kn:"Beaufort Wind (Knots)",beaufort_m:"Beaufort Wind (MetersPerSecond)",ocean_current_m:"Ocean Current (MetersPerSecond)",ocean_current_kn:"Ocean Current (Knots)"},m$e=new Set(["raster-stretch","unique-value","class-breaks","raster-shaded-relief","vector-field","raster-colormap"]);function Vee(e){return m$e.has(e.type)}function Zj(e,t){if(!e||!t)return D(e||t);const r=D(e);if(t.rasterFunctionDefinition){const i=t.rasterFunctionDefinition;(i.thumbnail||i.thumbnailEx)&&(i.thumbnail=i.thumbnailEx=null),zee(r.rasterFunctionDefinition.arguments,t)}else t.functionName.toLowerCase()!=="none"&&(Bee(r.functionArguments).Raster=t);return r}function zee(e,t){for(const r in e)r.toLowerCase()==="raster"&&(e[r].type==="RasterFunctionVariable"?(e[r]=t.rasterFunctionDefinition,e[r].type="RasterFunctionTemplate"):e[r].type==="RasterFunctionTemplate"&&zee(e[r].arguments,t))}function ol(e){const t=D(f$e[e.functionName+"Function"]),r=e.functionArguments;for(const i in r)i.toLowerCase()==="raster"?(t.arguments[i]=ol(r[i]),t.arguments[i].type="RasterFunctionTemplate"):i.toLowerCase()==="colormap"?(t.arguments[i].value=M$e(r[i]),t.arguments.ColorSchemeType.value=0):t.arguments[i].value=r[i];return t}function y$e(e,t){switch(t=t||{},e.type){case"raster-stretch":return v$e(e,t);case"class-breaks":return w$e(e,t);case"unique-value":return _$e(e,t);case"raster-colormap":return S$e(e,t);case"vector-field":return g$e(e,t);case"raster-shaded-relief":return b$e(e,t);case"flow":throw new Error("Unsupported rendering rule.")}}function Bee(e){const t=e.Raster;return t&&t.declaredClass==="esri.layers.support.RasterFunction"?Bee(t.functionArguments):e}const gg={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9};function g$e(e,t){const r=new gt;r.functionName="VectorFieldRenderer";const{dataType:i,bandProperties:n}=t,s=i==="vector-uv";let a,o;n&&n.length===2&&(a=n.map(h=>h.BandName.toLowerCase()).indexOf("magnitude"),o=n.map(h=>h.BandName.toLowerCase()).indexOf("direction")),a!==-1&&a!==null||(a=0,o=1);const l=e.rotationType==="arithmetic"?1:2,c=e.flowRepresentation==="flow-from"?0:1,d=e.visualVariables?e.visualVariables.find(h=>h.field==="Magnitude"):new xs,p={magnitudeBandID:a,directionBandID:o,isUVComponents:s,referenceSystem:l,massFlowAngleRepresentation:c,symbolTileSize:50,symbolTileSizeUnits:100,calculationMethod:"Vector Average",symbologyName:h$e[e.style.toLowerCase().replace("-","_")],minimumMagnitude:d.minDataValue,maximumMagnitude:d.maxDataValue,minimumSymbolSize:d.minSize,maximumSymbolSize:d.maxSize};return r.functionArguments=p,t.convertToRFT?new gt({rasterFunctionDefinition:ol(r)}):r}function b$e(e,t){const r=t.convertToRFT;if(t.dataType!=="elevation")return new gt;const i=new gt;i.functionName="Hillshade";const n=e.hillshadeType==="traditional"?0:1,s=e.scalingType==="none"?1:3,a={HillshadeType:n,SlopeType:s,ZFactor:e.zFactor};return n===0&&(a.Azimuth=e.azimuth,a.Altitude=e.altitude),s===3&&(a.PSPower=e.pixelSizePower,a.PSZFactor=e.pixelSizeFactor),i.functionArguments=a,i.variableName="Raster",e.colorRamp&&(i.functionName="ShadedRelief",r?a.ColorRamp=Oee(e.colorRamp):a.Colormap=Dp(e.colorRamp,256)),r?new gt({rasterFunctionDefinition:ol(i)}):i}function v$e(e,t){var o;const r=t.convertToRFT,i=new gt;i.functionName="Stretch";const n=gg[l1.toJSON(e.stretchType)],s="u8",a={StretchType:n,Statistics:x$e(e.statistics),DRA:e.dynamicRangeAdjustment,UseGamma:e.useGamma,Gamma:e.gamma,ComputeGamma:e.computeGamma};if(e.outputMin!=null&&(a.Min=e.outputMin),e.outputMax!=null&&(a.Max=e.outputMax),n===gg.standardDeviation?(a.NumberOfStandardDeviations=e.numberOfStandardDeviations,i.outputPixelType=s):n===gg.percentClip?(a.MinPercent=e.minPercent,a.MaxPercent=e.maxPercent,i.outputPixelType=s):n===gg.minMax?i.outputPixelType=s:n===gg.sigmoid&&(a.SigmoidStrengthLevel=e.sigmoidStrengthLevel),i.functionArguments=a,i.variableName="Raster",e.colorRamp){const l=e.colorRamp,c=new gt;if(r)c.functionArguments={ColorRamp:Oee(l)};else{const d=Ree(l);if(d)c.functionArguments={colorRamp:d};else if(!t.convertColorRampToColormap||l.type!=="algorithmic"&&l.type!=="multipart"){const p=e.colorRamp.toJSON();p.type==="algorithmic"?p.algorithm=p.algorithm||"esriCIELabAlgorithm":p.type==="multipart"&&((o=p.colorRamps)==null?void 0:o.length)&&p.colorRamps.forEach(h=>h.algorithm=h.algorithm||"esriCIELabAlgorithm"),c.functionArguments={colorRamp:p}}else c.functionArguments={Colormap:Dp(l,256)}}return c.variableName="Raster",c.functionName="Colormap",c.functionArguments.Raster=i,r?new gt({rasterFunctionDefinition:ol(c)}):c}return r?new gt({rasterFunctionDefinition:ol(i)}):i}function w$e(e,t){const r=[],i=[],n=[],s=[],{pixelType:o,rasterAttributeTable:l}=t,c=l&&l.features,d=Uee(l);if(c&&Array.isArray(c)&&e.classBreakInfos){e.classBreakInfos.forEach((w,v)=>{const _=w.symbol.color;let S;_.a&&c.forEach(x=>{S=x.attributes[e.field],(S>=w.minValue&&S<w.maxValue||v===e.classBreakInfos.length-1&&S>=w.minValue)&&s.push([x.attributes[d],_.r,_.g,_.b])})});const g=o?w6(s,o):s,b=new gt;return b.functionName="Colormap",b.functionArguments={},b.functionArguments.Colormap=g,b.variableName="Raster",t.convertToRFT?new gt({rasterFunctionDefinition:ol(b)}):b}e.classBreakInfos.forEach((g,b)=>{const w=g.symbol&&g.symbol.color;w.a?(b===0?r.push(g.minValue,g.maxValue+1e-6):r.push(g.minValue+1e-6,g.maxValue+1e-6),i.push(b),s.push([b,w.r,w.g,w.b])):n.push(g.minValue,g.maxValue)});const p=o?w6(s,o):s,h=new gt;h.functionName="Remap",h.functionArguments={InputRanges:r,OutputValues:i,NoDataRanges:n},h.variableName="Raster";const m=new gt;return m.functionName="Colormap",m.functionArguments={Colormap:p,Raster:h},t.convertToRFT?new gt({rasterFunctionDefinition:ol(m)}):m}function w6(e,t){const r=p$e[String(t).toLowerCase()];return r&&e.push([Math.floor(r[0]-1),0,0,0],[Math.ceil(r[1]+1),0,0,0]),e}function Uee(e){if(!e)return;const{fields:t}=e,r=t&&t.find(i=>i&&i.name&&i.name.toLowerCase()==="value");return r&&r.name}function _$e(e,t){var p,h;const r=[],{pixelType:i,rasterAttributeTable:n}=t,s=n&&n.features,a=Uee(n),o=(h=(p=e.defaultSymbol)==null?void 0:p.color)==null?void 0:h.toRgb(),l=e.uniqueValueInfos;if(l)if(s){const m=new Map;l.forEach(b=>{var _;const w=b.value,v=(_=b.symbol.color)==null?void 0:_.toRgb();w!=null&&v&&m.set(String(w),v)});const g=e.field;s.forEach(({attributes:b})=>{const w=String(b[g]),v=b[a];if(m.has(w)){const _=m.get(w);r.push([v,..._])}else o&&r.push([v,...o])})}else for(let m=0;m<l.length;m++){const g=l[m],b=g.symbol.color,w=+g.value;if(b!=null&&b.a){if(isNaN(w))return null;r.push([w,b.r,b.g,b.b])}}const c=i&&r.length>0?w6(r,i):r,d=new gt;return d.functionName="Colormap",d.functionArguments={},d.functionArguments.Colormap=c,d.variableName="Raster",t.convertToRFT?new gt({rasterFunctionDefinition:ol(d)}):d}function S$e(e,t){const r=e.extractColormap();if(!r||r.length===0)return;const{pixelType:i}=t,n=i?w6(r,i):r,s=new gt;return s.functionName="Colormap",s.functionArguments={},s.functionArguments.Colormap=n,t.convertToRFT?new gt({rasterFunctionDefinition:ol(s)}):s}function x$e(e){const t=[];return e.forEach(r=>{const i=r;if(Array.isArray(i))t.push(i);else{if(i.min==null||i.max==null)return;const n=[i.min,i.max,i.avg||0,i.stddev||0];t.push(n)}}),t}function M$e(e){const t=[],r=[];return e.forEach(i=>{t.push(i[0]),r.push(GIe([...i.slice(1),255]))}),{type:"RasterColormap",values:t,colors:r}}var _T;const c1=ir()({MT_FIRST:"first",MT_LAST:"last",MT_MIN:"min",MT_MAX:"max",MT_MEAN:"mean",MT_BLEND:"blend",MT_SUM:"sum"}),ST=ir()({esriMosaicNone:"none",esriMosaicCenter:"center",esriMosaicNadir:"nadir",esriMosaicViewpoint:"viewpoint",esriMosaicAttribute:"attribute",esriMosaicLockRaster:"lock-raster",esriMosaicNorthwest:"northwest",esriMosaicSeamline:"seamline"});function I$e(e){let t;switch(e?e.toLowerCase().replace("esrimosaic",""):""){case"byattribute":case"attribute":t="esriMosaicAttribute";break;case"lockraster":t="esriMosaicLockRaster";break;case"center":t="esriMosaicCenter";break;case"northwest":t="esriMosaicNorthwest";break;case"nadir":t="esriMosaicNadir";break;case"viewpoint":t="esriMosaicViewpoint";break;case"seamline":t="esriMosaicSeamline";break;default:t="esriMosaicNone"}return ST.fromJSON(t)}let ri=_T=class extends Z{constructor(e){super(e),this.ascending=!0,this.itemRenderingRule=null,this.lockRasterIds=null,this.method=null,this.multidimensionalDefinition=null,this.objectIds=null,this.operation=null,this.sortField=null,this.sortValue=null,this.viewpoint=null,this.where=null}readAscending(e,t){return t.ascending!=null?t.ascending:t.sortAscending==null||t.sortAscending}readMethod(e,t){return I$e(t.mosaicMethod||t.defaultMosaicMethod)}readOperation(e,t){const r=t.mosaicOperation,i=t.mosaicOperator&&t.mosaicOperator.toLowerCase(),n=r||(i?c1.toJSON(i):null);return c1.fromJSON(n)||"first"}castSortValue(e){return e==null||typeof e=="string"||typeof e=="number"?e:`${e}`}clone(){return new _T({ascending:this.ascending,itemRenderingRule:D(this.itemRenderingRule),lockRasterIds:D(this.lockRasterIds),method:this.method,multidimensionalDefinition:D(this.multidimensionalDefinition),objectIds:D(this.objectIds),operation:this.operation,sortField:this.sortField,sortValue:this.sortValue,viewpoint:D(this.viewpoint),where:this.where})}};u([f({type:Boolean,json:{write:!0}})],ri.prototype,"ascending",void 0),u([ie("ascending",["ascending","sortAscending"])],ri.prototype,"readAscending",null),u([f({type:gt,json:{write:!0}})],ri.prototype,"itemRenderingRule",void 0),u([f({type:[Xe],json:{write:{overridePolicy(){return{enabled:this.method==="lock-raster"}}}}})],ri.prototype,"lockRasterIds",void 0),u([f({type:String,json:{type:ST.jsonValues,write:{target:"mosaicMethod",writer:ST.write}}})],ri.prototype,"method",void 0),u([ie("method",["mosaicMethod","defaultMosaicMethod"])],ri.prototype,"readMethod",null),u([f({type:[iL],json:{write:!0}})],ri.prototype,"multidimensionalDefinition",void 0),u([f({type:[Xe],json:{name:"fids",write:!0}})],ri.prototype,"objectIds",void 0),u([f({json:{type:c1.jsonValues,read:{reader:c1.read},write:{target:"mosaicOperation",writer:c1.write}}})],ri.prototype,"operation",void 0),u([ie("operation",["mosaicOperation","mosaicOperator"])],ri.prototype,"readOperation",null),u([f({type:String,json:{write:{overridePolicy(){return{enabled:this.method==="attribute"}}}}})],ri.prototype,"sortField",void 0),u([f({type:[String,Number],json:{write:{allowNull:!0,overridePolicy(){return{enabled:this.method==="attribute",allowNull:!0}}}}})],ri.prototype,"sortValue",void 0),u([Ze("sortValue")],ri.prototype,"castSortValue",null),u([f({type:be,json:{write:!0}})],ri.prototype,"viewpoint",void 0),u([f({type:String,json:{write:!0}})],ri.prototype,"where",void 0),ri=_T=u([E("esri.layers.support.MosaicRule")],ri);const Zs=ri,dd=ir()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),u1=ir()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"});let lr=class extends Z{constructor(){super(...arguments),this.layer=null,this.adjustAspectRatio=void 0,this.bandIds=void 0,this.compression=void 0,this.compressionQuality=void 0,this.compressionTolerance=.01,this.interpolation=null,this.noData=null,this.noDataInterpretation=void 0,this.pixelType=void 0,this.lercVersion=2}writeAdjustAspectRatio(e,t,r){this.layer.version<10.3||(t[r]=e)}writeCompressionQuality(e,t,r){this.format&&this.format.toLowerCase().includes("jpg")&&e!=null&&(t[r]=e)}writeCompressionTolerance(e,t,r){this.format==="lerc"&&e!=null&&(t[r]=e)}get format(){var e;return((e=this.layer.renderer)==null?void 0:e.type)==="vector-field"?"lerc":this.layer.format}writeLercVersion(e,t,r){this.format==="lerc"&&this.layer.version>=10.5&&(t[r]=e)}get version(){const e=this.layer;return e.commitProperty("bandIds"),e.commitProperty("format"),e.commitProperty("compressionQuality"),e.commitProperty("compressionTolerance"),e.commitProperty("interpolation"),e.commitProperty("noData"),e.commitProperty("noDataInterpretation"),e.commitProperty("mosaicRule"),e.commitProperty("renderingRule"),e.commitProperty("adjustAspectRatio"),e.commitProperty("pixelFilter"),e.commitProperty("renderer"),e.commitProperty("definitionExpression"),(this._get("version")||0)+1}set version(e){this._set("version",e)}get mosaicRule(){const e=this.layer;let t=e.mosaicRule;const r=e.definitionExpression;return t?r&&r!==t.where&&(t=t.clone(),t.where=r):r&&(t=new Zs({where:r})),t}get renderingRule(){var n;const e=this.layer;let t=e.renderingRule;const r=e.pixelFilter,i=!e.format||e.format.includes("jpg")||e.format.includes("png");return t=this._addResampleRasterFunction(t),i&&!r&&((n=e.renderer)==null?void 0:n.type)!=="vector-field"&&(t=this.combineRendererWithRenderingRule()),t}combineRendererWithRenderingRule(){var n;const e=this.layer,{rasterInfo:t,renderingRule:r,renderer:i}=e;return!i||!Vee(i)?r:Zj(y$e(i,{rasterAttributeTable:t.attributeTable,pixelType:t.pixelType,dataType:t.dataType,bandProperties:(n=t.keyProperties)==null?void 0:n.BandProperties,convertColorRampToColormap:e.version<10.6,convertToRFT:!!(r!=null&&r.rasterFunctionDefinition)}),r)}_addResampleRasterFunction(e){var i;if(((i=this.layer.renderer)==null?void 0:i.type)!=="vector-field"||(e==null?void 0:e.functionName)==="Resample")return e;const t=this.layer.serviceDataType==="esriImageServiceDataTypeVector-UV"?7:10;let r=new gt({functionName:"Resample",functionArguments:{ResamplingType:t,InputCellSize:{x:this.layer.pixelSizeX,y:this.layer.pixelSizeY}}});return r=e!=null&&e.rasterFunctionDefinition?new gt({rasterFunctionDefinition:ol(r)}):r,Zj(r,e)}};u([f()],lr.prototype,"layer",void 0),u([f({json:{write:!0}})],lr.prototype,"adjustAspectRatio",void 0),u([ce("adjustAspectRatio")],lr.prototype,"writeAdjustAspectRatio",null),u([f({json:{write:!0}}),fe("layer.bandIds")],lr.prototype,"bandIds",void 0),u([f({json:{write:!0}})],lr.prototype,"compression",void 0),u([f({json:{write:!0}}),fe("layer.compressionQuality")],lr.prototype,"compressionQuality",void 0),u([ce("compressionQuality")],lr.prototype,"writeCompressionQuality",null),u([f({json:{write:!0}}),fe("layer.compressionTolerance")],lr.prototype,"compressionTolerance",void 0),u([ce("compressionTolerance")],lr.prototype,"writeCompressionTolerance",null),u([f({json:{write:!0}})],lr.prototype,"format",null),u([f({type:String,json:{read:{reader:dd.read},write:{writer:dd.write}}}),fe("layer.interpolation")],lr.prototype,"interpolation",void 0),u([f({json:{write:!0}}),fe("layer.noData")],lr.prototype,"noData",void 0),u([f({type:String,json:{read:{reader:u1.read},write:{writer:u1.write}}}),fe("layer.noDataInterpretation")],lr.prototype,"noDataInterpretation",void 0),u([f({json:{write:!0}})],lr.prototype,"pixelType",void 0),u([f({json:{write:!0}})],lr.prototype,"lercVersion",void 0),u([ce("lercVersion")],lr.prototype,"writeLercVersion",null),u([f({type:Number})],lr.prototype,"version",null),u([f({json:{write:!0}})],lr.prototype,"mosaicRule",null),u([f({json:{write:!0}})],lr.prototype,"renderingRule",null),lr=u([E("esri.layers.mixins.ExportImageServiceParameters")],lr);let fi=class extends Z{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}};u([f({type:Number,json:{write:!0}})],fi.prototype,"blockWidth",void 0),u([f({type:Number,json:{write:!0}})],fi.prototype,"blockHeight",void 0),u([f({type:String,json:{write:!0}})],fi.prototype,"compression",void 0),u([f({type:be,json:{write:!0}})],fi.prototype,"origin",void 0),u([f({type:Number,json:{write:!0}})],fi.prototype,"firstPyramidLevel",void 0),u([f({type:Number,json:{write:!0}})],fi.prototype,"maximumPyramidLevel",void 0),u([f({json:{write:!0}})],fi.prototype,"pyramidResolutions",void 0),u([f({type:Number,json:{write:!0}})],fi.prototype,"pyramidScalingFactor",void 0),u([f({type:Number,json:{write:!0}})],fi.prototype,"pyramidBlockWidth",void 0),u([f({type:Number,json:{write:!0}})],fi.prototype,"pyramidBlockHeight",void 0),u([f({type:Boolean,json:{write:!0}})],fi.prototype,"isVirtualTileInfo",void 0),u([f({json:{write:!0}})],fi.prototype,"tileInfo",void 0),u([f()],fi.prototype,"transposeInfo",void 0),u([f()],fi.prototype,"blockBoundary",void 0),fi=u([E("esri.layers.support.RasterStorageInfo")],fi);const Gee=fi;let Pt=class extends Z{constructor(e){super(e),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get dataType(){var t,r,i;const e=(i=(r=(t=this.keyProperties)==null?void 0:t.DataType)==null?void 0:r.toLowerCase())!=null?i:"generic";return e==="stdtime"?"standard-time":e}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(e){e&&this._set("nativeExtent",e)}get nativePixelSize(){if(B(this.transform)||!this.transform.affectsPixelSize)return this.pixelSize;const e=this.nativeExtent;return{x:e.width/this.width,y:e.height/this.height}}get hasMultidimensionalTranspose(){var e;return!!((e=this.storageInfo)!=null&&e.transposeInfo)}};u([f({json:{write:!0}})],Pt.prototype,"attributeTable",void 0),u([f({json:{write:!0}})],Pt.prototype,"bandCount",void 0),u([f({json:{write:!0}})],Pt.prototype,"colormap",void 0),u([f({type:String,readOnly:!0})],Pt.prototype,"dataType",null),u([f({type:Ve,json:{write:!0}})],Pt.prototype,"extent",void 0),u([f({type:Ve,json:{write:!0}})],Pt.prototype,"nativeExtent",null),u([f({json:{write:!0}})],Pt.prototype,"nativePixelSize",null),u([f({json:{write:!0}})],Pt.prototype,"format",void 0),u([f({json:{write:!0}})],Pt.prototype,"height",void 0),u([f({json:{write:!0}})],Pt.prototype,"width",void 0),u([f({json:{write:!0}})],Pt.prototype,"hasMultidimensionalTranspose",null),u([f({json:{write:!0}})],Pt.prototype,"histograms",void 0),u([f({json:{write:!0}})],Pt.prototype,"keyProperties",void 0),u([f({json:{write:!0}})],Pt.prototype,"multidimensionalInfo",void 0),u([f({json:{write:!0}})],Pt.prototype,"noDataValue",void 0),u([f({json:{write:!0}})],Pt.prototype,"pixelSize",void 0),u([f({json:{write:!0}})],Pt.prototype,"pixelType",void 0),u([f()],Pt.prototype,"isPseudoSpatialReference",void 0),u([f({type:Ce,json:{write:!0}})],Pt.prototype,"spatialReference",void 0),u([f({json:{write:!0}})],Pt.prototype,"statistics",void 0),u([f({type:Gee,json:{write:!0}})],Pt.prototype,"storageInfo",void 0),u([f({json:{write:!0}})],Pt.prototype,"transform",void 0),Pt=u([E("esri.layers.support.RasterInfo")],Pt);const e3=Pt;class $$e{constructor(){this._workerThread=null,this._destroyed=!1}async initialize(){const t=await bw("RasterWorker");this._destroyed?t.close():this._workerThread=t}destroy(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)}async convertVectorFieldData(t,r){if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");const i=await this._workerThread.invoke("convertVectorFieldData",{pixelBlock:t.pixelBlock.toJSON(),type:t.dataType},r);return i?new st(i):null}async decode(t,r){if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");const i=await this._workerThread.invoke("decode",t,r);return i?new st(i):null}async symbolize(t,r){if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");const i={extent:t.extent&&t.extent.toJSON(),pixelBlock:C(t.pixelBlock)&&t.pixelBlock.toJSON(),simpleStretchParams:t.simpleStretchParams,bandIds:t.bandIds},n=await this._workerThread.invoke("symbolize",i,r);return n?new st(n):null}async updateSymbolizer(t,r){var n;if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");const i=(n=t==null?void 0:t.rendererJSON)==null?void 0:n.histograms;await Promise.all(this._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:t.toJSON(),histograms:i},r))}async stretch(t,r){if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");if(!(t!=null&&t.pixelBlock))return null;const i={srcPixelBlock:t.pixelBlock.toJSON(),stretchParams:t.stretchParams},n=await this._workerThread.invoke("stretch",i,r);return n?new st(n):null}async split(t,r){if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");if(!(t!=null&&t.pixelBlock))return null;const i={srcPixelBlock:t.pixelBlock.toJSON(),tileSize:t.tileSize,maximumPyramidLevel:t.maximumPyramidLevel},n=await this._workerThread.invoke("split",i,r);return n&&n.forEach((s,a)=>{n.set(a,s?st.fromJSON(s):null)}),n}async estimateStatisticsHistograms(t,r){if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");if(!(t!=null&&t.pixelBlock))return null;const i={srcPixelBlock:t.pixelBlock.toJSON()};return await this._workerThread.invoke("estimateStatisticsHistograms",i,r)}async mosaicAndTransform(t,r){var s;if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");if(!((s=t==null?void 0:t.srcPixelBlocks)!=null&&s.length))return{pixelBlock:null};const i={...t,srcPixelBlocks:t.srcPixelBlocks.map(a=>C(a)?a.toJSON():null)},n=await this._workerThread.invoke("mosaicAndTransform",i,r);return{pixelBlock:n.pixelBlock?new st(n.pixelBlock):null,localNorthDirections:n.localNorthDirections}}async createFlowMesh(t,r){if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");const i={buffer:t.flowData.data.buffer,maskBuffer:t.flowData.mask.buffer,width:t.flowData.width,height:t.flowData.height},{meshType:n,simulationSettings:s}=t,a=await this._workerThread.invoke("createFlowMesh",{meshType:n,flowData:i,simulationSettings:s},{...r,transferList:[i.buffer,i.maskBuffer]});return{vertexData:new Float32Array(a.vertexBuffer),indexData:new Uint32Array(a.indexBuffer)}}getProjectionOffsetGrid(t,r){if(!this._workerThread)throw new R("raster-jobhandler:no-connection","no available worker connection");const i=C(t.datumTransformation)?t.datumTransformation.steps.map(a=>({wkid:a.wkid,wkt:a.wkt,isInverse:a.isInverse})):null,n=C(t.rasterTransform)?t.rasterTransform.toJSON():null,s={projectedExtent:t.projectedExtent.toJSON(),srcBufferExtent:t.srcBufferExtent.toJSON(),pixelSize:t.pixelSize,hasWrapAround:t.hasWrapAround,spacing:t.spacing,datumTransformationSteps:i,rasterTransform:n,isAdaptive:t.isAdaptive,includeGCSGrid:t.includeGCSGrid};return this._workerThread.invoke("getProjectionOffsetGrid",s,r)}}function qee(e,t,r){const i=t.shift();if(r.length===0){const s=[];r.push({sliceId:-1,multidimensionalDefinition:s})}const n=r.length;for(let s=0;s<n;s++){const a=r.shift().multidimensionalDefinition;i.values.forEach(o=>{r.push({sliceId:-1,multidimensionalDefinition:[...a,{variableName:e,dimensionName:i.name,values:[o]}]})})}t.length&&qee(e,t,r)}function jPe(e,t){const r=[];let i=0;return(t?e.variables.filter(n=>n.name.toLowerCase()===t.toLowerCase()):[...e.variables].sort((n,s)=>n.name>s.name?1:-1)).forEach(n=>{const s=[],a=[...n.dimensions].sort((o,l)=>o.name>l.name?-1:1);qee(n.name,a,s),s.forEach(o=>{r.push({...o,sliceId:i++})})}),r}function VPe(e,t,r){let i=e;if(t&&(t=[...t].sort((n,s)=>n.dimensionName<s.dimensionName?-1:1)).forEach(({dimensionName:n,values:s,isSlice:a})=>{s.length&&(i=i.filter(o=>{const l=o.multidimensionalDefinition.find(d=>d.dimensionName===n);if(l==null)return!1;const c=l.values[0];return typeof c=="number"?typeof s[0]=="number"?s.includes(c):s.some(d=>d[0]<=c&&d[1]>=c):typeof s[0]=="number"?s.some(d=>c[0]<=d&&c[1]>=d):a?s.some(d=>d[0]===c[0]&&d[0]===c[1]):s.some(d=>d[0]>=c[0]&&d[0]<=c[1]||d[1]>=c[0]&&d[1]<=c[1]||d[0]<c[0]&&d[1]>c[1])}))}),i.length&&r&&C(r.start)&&C(r.end)){const n=r.start.getTime(),s=r.end.getTime(),a=i[0].multidimensionalDefinition.findIndex(o=>o.dimensionName==="StdTime");a>-1&&(i=i.filter(o=>{const l=o.multidimensionalDefinition[a].values[0];return n<=l&&s>=l}))}return i.map(n=>n.sliceId)}function T$e(e,t){var o;const{multidimensionalInfo:r,keyProperties:i}=e;if(B(r))return null;const n=i==null?void 0:i.DefaultVariable,{variables:s}=r,a=n&&(o=s.find(({name:l})=>l===n))!=null?o:s[0];return a.dimensions.map(l=>{var h;const{values:c,extent:d}=l;let p=(h=c==null?void 0:c[0])!=null?h:d[0];return l.name.toLowerCase()==="stdz"&&!l.hasRanges&&Math.abs(d[1])<=Math.abs(d[0])&&(p=c!=null&&c.length?l.values[c.length-1]:d[1]),new iL({variableName:a.name,dimensionName:l.name,values:[p],isSlice:!t||!!l.hasRanges})})}function zPe(e){return!(B(e)||!e.length)&&e.some(t=>{if(t.values==null)return!0;const r=t.values.length;return r===0||r>1||!t.isSlice&&Array.isArray(t.values[0])})}function C$e(e,t){var o;const{values:r}=t;if(r!=null&&r.length)return Array.isArray(r[0])!==Array.isArray(e)?-1:Array.isArray(r[0])?r.findIndex(l=>l[0]===e[0]&&l[1]===e[1]):r.indexOf(e);const{extent:i}=t;if(Array.isArray(e)||e<i[0]||e>i[1])return-1;const n=t.interval||1;if(t.unit!=="ISO8601")return Math.round((e-i[0])/n);const s=i[0];let a=-1;switch(((o=t.intervalUnit)==null?void 0:o.toLowerCase())||"seconds"){case"seconds":a=Math.round((e-s)/1e3/n);break;case"minutes":a=Math.round((e-s)/6e4/n);break;case"hours":a=Math.round((e-s)/36e5/n);break;case"days":a=Math.round((e-s)/864e5/n);break;case"months":{const l=new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear(),c=new Date(s).getUTCMonth(),d=new Date(e).getUTCMonth();a=l===0?d-c:d+11-c+12*(l-1)}break;case"years":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/n);break;case"decades":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/10/n)}return a}function Qj(e){var a,o,l;let t=(a=e.values)==null?void 0:a.length;if(t)return t;const{extent:r,unit:i}=e,n=e.interval||1,s=r[1]-r[0];if(i!=="ISO8601")return Math.round(s/n);switch((l=(o=e.intervalUnit)==null?void 0:o.toLowerCase())!=null?l:"seconds"){case"seconds":t=Math.round(s/1e3/n);break;case"minutes":t=Math.round(s/6e4/n);break;case"hours":t=Math.round(s/36e5/n);break;case"days":t=Math.round(s/864e5/n);break;case"months":{const c=new Date(r[1]).getUTCFullYear()-new Date(r[0]).getUTCFullYear(),d=new Date(r[1][0]).getUTCMonth(),p=new Date(r[1][1]).getUTCMonth();t=c===0?p-d+1:p+11-d+12*(c-1)+1}break;case"years":t=Math.round((new Date(r[1]).getUTCFullYear()-new Date(r[0]).getUTCFullYear())/n);break;case"decades":t=Math.round((new Date(r[1]).getUTCFullYear()-new Date(r[0]).getUTCFullYear())/10/n);break;default:t=0}return t}function BPe(e,t){let r=0;const i=e[0].variableName,n=[...t.variables].sort((s,a)=>s.name>a.name?1:-1);for(let s=0;s<n.length;s++){const a=n[s],o=[...a.dimensions].sort((d,p)=>d.name>p.name?-1:1);if(a.name!==i){r+=o.map(d=>Qj(d)).reduce((d,p)=>d*p);continue}const l=o.map(d=>Qj(d)),c=o.length;for(let d=0;d<c;d++){const p=e.find(m=>m.dimensionName===o[d].name);if(p==null)return null;const h=C$e(p.values[0],o[d]);if(h===-1)return null;l.shift(),r+=d===c-1?h:h*l.reduce((m,g)=>m*g)}break}return r}var L_,Yj,Kj,Hee={exports:{}};Yj=Hee,L_=function(){function e(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return e.prototype={ensureBuffer:function(t){var r=this.buffer,i=r?r.byteLength:0;if(t<i)return r;for(var n=512;n<t;)n<<=1;for(var s=new Uint8Array(n),a=0;a<i;++a)s[a]=r[a];return this.buffer=s},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var r=this.pos;if(t){this.ensureBuffer(r+t);for(var i=r+t;!this.eof&&this.bufferLength<i;)this.readBlock();var n=this.bufferLength;i>n&&(i=n)}else{for(;!this.eof;)this.readBlock();i=this.bufferLength}return this.pos=i,this.buffer.subarray(r,i)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,r,i){for(var n=t+r;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,r,i)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},e}(),(Kj=function(){if(!self||!self.Uint32Array)return null;var e=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),r=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),i=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],n=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function s(o){throw new Error(o)}function a(o){var l=0,c=o[l++],d=o[l++];c!=-1&&d!=-1||s("Invalid header in flate stream"),(15&c)!=8&&s("Unknown compression method in flate stream"),((c<<8)+d)%31!=0&&s("Bad FCHECK in flate stream"),32&d&&s("FDICT bit set in flate stream"),this.bytes=o,this.bytesPos=l,this.codeSize=0,this.codeBuf=0,L_.call(this)}return a.prototype=Object.create(L_.prototype),a.prototype.getBits=function(o){for(var l,c=this.codeSize,d=this.codeBuf,p=this.bytes,h=this.bytesPos;c<o;)(l=p[h++])===void 0&&s("Bad encoding in flate stream"),d|=l<<c,c+=8;return l=d&(1<<o)-1,this.codeBuf=d>>o,this.codeSize=c-=o,this.bytesPos=h,l},a.prototype.getCode=function(o){for(var l=o[0],c=o[1],d=this.codeSize,p=this.codeBuf,h=this.bytes,m=this.bytesPos;d<c;){var g;(g=h[m++])===void 0&&s("Bad encoding in flate stream"),p|=g<<d,d+=8}var b=l[p&(1<<c)-1],w=b>>16,v=65535&b;return(d==0||d<w||w==0)&&s("Bad encoding in flate stream"),this.codeBuf=p>>w,this.codeSize=d-w,this.bytesPos=m,v},a.prototype.generateHuffmanTable=function(o){for(var l=o.length,c=0,d=0;d<l;++d)o[d]>c&&(c=o[d]);for(var p=1<<c,h=new Uint32Array(p),m=1,g=0,b=2;m<=c;++m,g<<=1,b<<=1)for(var w=0;w<l;++w)if(o[w]==m){var v=0,_=g;for(d=0;d<m;++d)v=v<<1|1&_,_>>=1;for(d=v;d<p;d+=b)h[d]=m<<16|w;++g}return[h,c]},a.prototype.readBlock=function(){function o(H,se,ue,ve,xe){for(var tt=H.getBits(ue)+ve;tt-- >0;)se[b++]=xe}var l=this.getBits(3);if(1&l&&(this.eof=!0),(l>>=1)!=0){var c,d;if(l==1)c=i,d=n;else if(l==2){for(var p=this.getBits(5)+257,h=this.getBits(5)+1,m=this.getBits(4)+4,g=Array(e.length),b=0;b<m;)g[e[b++]]=this.getBits(3);for(var w=this.generateHuffmanTable(g),v=0,_=(b=0,p+h),S=new Array(_);b<_;){var x=this.getCode(w);x==16?o(this,S,2,3,v):x==17?o(this,S,3,3,v=0):x==18?o(this,S,7,11,v=0):S[b++]=v=x}c=this.generateHuffmanTable(S.slice(0,p)),d=this.generateHuffmanTable(S.slice(p,_))}else s("Unknown block type in flate stream");for(var M=(Q=this.buffer)?Q.length:0,I=this.bufferLength;;){var $=this.getCode(c);if($<256)I+1>=M&&(M=(Q=this.ensureBuffer(I+1)).length),Q[I++]=$;else{if($==256)return void(this.bufferLength=I);var T=($=t[$-=257])>>16;T>0&&(T=this.getBits(T)),v=(65535&$)+T,$=this.getCode(d),(T=($=r[$])>>16)>0&&(T=this.getBits(T));var A=(65535&$)+T;I+v>=M&&(M=(Q=this.ensureBuffer(I+v)).length);for(var P=0;P<v;++P,++I)Q[I]=Q[I-A]}}}else{var F,j=this.bytes,V=this.bytesPos;(F=j[V++])===void 0&&s("Bad block header in flate stream");var z=F;(F=j[V++])===void 0&&s("Bad block header in flate stream"),z|=F<<8,(F=j[V++])===void 0&&s("Bad block header in flate stream");var J=F;(F=j[V++])===void 0&&s("Bad block header in flate stream"),(J|=F<<8)!=(65535&~z)&&s("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var K=this.bufferLength,Q=this.ensureBuffer(K+z),U=K+z;this.bufferLength=U;for(var te=K;te<U;++te){if((F=j[V++])===void 0){this.eof=!0;break}Q[te]=F}this.bytesPos=V}},a}())!==void 0&&(Yj.exports=Kj);const Np=Hee.exports;class nL{constructor(t){t&&(this.canvas=t.canvas,this.ctx=t.ctx||t.canvas&&t.canvas.getContext("2d"))}decode(t,r,i){if(!t||t.byteLength<10)throw new R("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:n,height:s,format:a}=r;const{applyJpegMask:o}=r;if(o&&(!n||!s))throw new R("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((l,c)=>{let d=null;a==="jpg"&&o&&(d=nL._getMask(t,{width:n,height:s}));const p=new Blob([new Uint8Array(t)],{type:"image/"+a=="jpg"?"jpeg":a}),h=URL.createObjectURL(p),m=new Image;let g;m.src=h,m.onload=()=>{if(URL.revokeObjectURL(h),la(i))return void c(Nt());n=m.width,s=m.height,this.canvas?(this.canvas.width===n&&this.canvas.height===s||(this.canvas.width=n,this.canvas.height=s),this.ctx.clearRect(0,0,n,s)):(this.canvas=document.createElement("canvas"),this.canvas.width=n,this.canvas.height=s,this.ctx=this.canvas.getContext("2d")),this.ctx.drawImage(m,0,0);const b=this.ctx.getImageData(0,0,n,s);let w;if(g=b.data,r.renderOnCanvas){if(d)for(w=0;w<d.length;w++)d[w]?g[4*w+3]=255:g[4*w+3]=0;return this.ctx.putImageData(b,0,0),void l(null)}const v=n*s,_=new Uint8Array(v),S=new Uint8Array(v),x=new Uint8Array(v);if(d)for(w=0;w<v;w++)_[w]=g[4*w],S[w]=g[4*w+1],x[w]=g[4*w+2];else for(d=new Uint8Array(v),w=0;w<v;w++)_[w]=g[4*w],S[w]=g[4*w+1],x[w]=g[4*w+2],d[w]=g[4*w+3];l({width:n,height:s,pixels:[_,S,x],mask:d,pixelType:"u8"})},m.onerror=()=>{URL.revokeObjectURL(h),c("cannot load image")}})}static _getMask(t,r){let i=null;try{const n=new Uint8Array(t),s=Math.ceil(n.length/2);let a=0;const o=n.length-2;for(a=s;a<o&&(n[a]!==255||n[a+1]!==217);a++);if(a+=2,a<n.length-1){const l=new Np(n.subarray(a)).getBytes();i=new Uint8Array(r.width*r.height);let c=0;for(let d=0;d<l.length;d++)for(let p=7;p>=0;p--)i[c++]=l[d]>>p&1}}catch{}return i}}var Xj,eV,tV,Wee={exports:{}};Xj=Wee,eV=function(){var e=function(){function t(r){this.message="JPEG error: "+r}return t.prototype=new Error,t.prototype.name="JpegError",t.constructor=t,t}();return function(){if(!self||!self.Uint8ClampedArray)return null;var t=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),r=4017,i=799,n=3406,s=2276,a=1567,o=3784,l=5793,c=2896;function d(){this.decodeTransform=null,this.colorTransform=-1}function p(v,_){for(var S,x,M=0,I=[],$=16;$>0&&!v[$-1];)$--;I.push({children:[],index:0});var T,A=I[0];for(S=0;S<$;S++){for(x=0;x<v[S];x++){for((A=I.pop()).children[A.index]=_[M];A.index>0;)A=I.pop();for(A.index++,I.push(A);I.length<=S;)I.push(T={children:[],index:0}),A.children[A.index]=T.children,A=T;M++}S+1<$&&(I.push(T={children:[],index:0}),A.children[A.index]=T.children,A=T)}return I[0].children}function h(v,_,S){return 64*((v.blocksPerLine+1)*_+S)}function m(v,_,S,x,M,I,$,T,A){var P=S.mcusPerLine,F=S.progressive,j=_,V=0,z=0;function J(){if(z>0)return z--,V>>z&1;if((V=v[_++])===255){var _e=v[_++];if(_e)throw new e("unexpected marker "+(V<<8|_e).toString(16))}return z=7,V>>>7}function K(_e){for(var Be=_e;;){if(typeof(Be=Be[J()])=="number")return Be;if(typeof Be!="object")throw new e("invalid huffman sequence")}}function Q(_e){for(var Be=0;_e>0;)Be=Be<<1|J(),_e--;return Be}function U(_e){if(_e===1)return J()===1?1:-1;var Be=Q(_e);return Be>=1<<_e-1?Be:Be+(-1<<_e)+1}function te(_e,Be){var ht=K(_e.huffmanTableDC),$r=ht===0?0:U(ht);_e.blockData[Be]=_e.pred+=$r;for(var Vt=1;Vt<64;){var qn=K(_e.huffmanTableAC),Nr=15&qn,Si=qn>>4;if(Nr!==0){var d8=t[Vt+=Si];_e.blockData[Be+d8]=U(Nr),Vt++}else{if(Si<15)break;Vt+=16}}}function H(_e,Be){var ht=K(_e.huffmanTableDC),$r=ht===0?0:U(ht)<<A;_e.blockData[Be]=_e.pred+=$r}function se(_e,Be){_e.blockData[Be]|=J()<<A}var ue=0;function ve(_e,Be){if(ue>0)ue--;else for(var ht=I,$r=$;ht<=$r;){var Vt=K(_e.huffmanTableAC),qn=15&Vt,Nr=Vt>>4;if(qn!==0){var Si=t[ht+=Nr];_e.blockData[Be+Si]=U(qn)*(1<<A),ht++}else{if(Nr<15){ue=Q(Nr)+(1<<Nr)-1;break}ht+=16}}}var xe,tt=0;function it(_e,Be){for(var ht,$r,Vt=I,qn=$,Nr=0;Vt<=qn;){var Si=t[Vt];switch(tt){case 0:if(Nr=($r=K(_e.huffmanTableAC))>>4,(ht=15&$r)==0)Nr<15?(ue=Q(Nr)+(1<<Nr),tt=4):(Nr=16,tt=1);else{if(ht!==1)throw new e("invalid ACn encoding");xe=U(ht),tt=Nr?2:3}continue;case 1:case 2:_e.blockData[Be+Si]?_e.blockData[Be+Si]+=J()<<A:--Nr==0&&(tt=tt===2?3:0);break;case 3:_e.blockData[Be+Si]?_e.blockData[Be+Si]+=J()<<A:(_e.blockData[Be+Si]=xe<<A,tt=0);break;case 4:_e.blockData[Be+Si]&&(_e.blockData[Be+Si]+=J()<<A)}Vt++}tt===4&&--ue==0&&(tt=0)}function Ir(_e,Be,ht,$r,Vt){var qn=ht%P;Be(_e,h(_e,(ht/P|0)*_e.v+$r,qn*_e.h+Vt))}function Ts(_e,Be,ht){Be(_e,h(_e,ht/_e.blocksPerLine|0,ht%_e.blocksPerLine))}var pt,ct,Gn,pa,Mt,Ed,dl=x.length;Ed=F?I===0?T===0?H:se:T===0?ve:it:te;var hn,fl,Xp,eh,ha=0;for(fl=dl===1?x[0].blocksPerLine*x[0].blocksPerColumn:P*S.mcusPerColumn;ha<fl;){var th=M?Math.min(fl-ha,M):fl;for(ct=0;ct<dl;ct++)x[ct].pred=0;if(ue=0,dl===1)for(pt=x[0],Mt=0;Mt<th;Mt++)Ts(pt,Ed,ha),ha++;else for(Mt=0;Mt<th;Mt++){for(ct=0;ct<dl;ct++)for(Xp=(pt=x[ct]).h,eh=pt.v,Gn=0;Gn<eh;Gn++)for(pa=0;pa<Xp;pa++)Ir(pt,Ed,ha,Gn,pa);ha++}z=0,(hn=w(v,_))&&hn.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+hn.invalid),_=hn.offset);var pl=hn&&hn.marker;if(!pl||pl<=65280)throw new e("marker was not found");if(!(pl>=65488&&pl<=65495))break;_+=2}return(hn=w(v,_))&&hn.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+hn.invalid),_=hn.offset),_-j}function g(v,_,S){var x,M,I,$,T,A,P,F,j,V,z,J,K,Q,U,te,H,se=v.quantizationTable,ue=v.blockData;if(!se)throw new e("missing required Quantization Table.");for(var ve=0;ve<64;ve+=8)j=ue[_+ve],V=ue[_+ve+1],z=ue[_+ve+2],J=ue[_+ve+3],K=ue[_+ve+4],Q=ue[_+ve+5],U=ue[_+ve+6],te=ue[_+ve+7],j*=se[ve],(V|z|J|K|Q|U|te)!=0?(V*=se[ve+1],z*=se[ve+2],J*=se[ve+3],K*=se[ve+4],Q*=se[ve+5],U*=se[ve+6],te*=se[ve+7],M=(x=(x=l*j+128>>8)+(M=l*K+128>>8)+1>>1)-M,H=(I=z)*o+($=U)*a+128>>8,I=I*a-$*o+128>>8,P=(T=(T=c*(V-te)+128>>8)+(P=Q<<4)+1>>1)-P,A=(F=(F=c*(V+te)+128>>8)+(A=J<<4)+1>>1)-A,$=(x=x+($=H)+1>>1)-$,I=(M=M+I+1>>1)-I,H=T*s+F*n+2048>>12,T=T*n-F*s+2048>>12,F=H,H=A*i+P*r+2048>>12,A=A*r-P*i+2048>>12,P=H,S[ve]=x+F,S[ve+7]=x-F,S[ve+1]=M+P,S[ve+6]=M-P,S[ve+2]=I+A,S[ve+5]=I-A,S[ve+3]=$+T,S[ve+4]=$-T):(H=l*j+512>>10,S[ve]=H,S[ve+1]=H,S[ve+2]=H,S[ve+3]=H,S[ve+4]=H,S[ve+5]=H,S[ve+6]=H,S[ve+7]=H);for(var xe=0;xe<8;++xe)j=S[xe],((V=S[xe+8])|(z=S[xe+16])|(J=S[xe+24])|(K=S[xe+32])|(Q=S[xe+40])|(U=S[xe+48])|(te=S[xe+56]))!=0?(M=(x=4112+((x=l*j+2048>>12)+(M=l*K+2048>>12)+1>>1))-M,H=(I=z)*o+($=U)*a+2048>>12,I=I*a-$*o+2048>>12,$=H,P=(T=(T=c*(V-te)+2048>>12)+(P=Q)+1>>1)-P,A=(F=(F=c*(V+te)+2048>>12)+(A=J)+1>>1)-A,H=T*s+F*n+2048>>12,T=T*n-F*s+2048>>12,F=H,H=A*i+P*r+2048>>12,A=A*r-P*i+2048>>12,j=(j=(x=x+$+1>>1)+F)<16?0:j>=4080?255:j>>4,V=(V=(M=M+I+1>>1)+(P=H))<16?0:V>=4080?255:V>>4,z=(z=(I=M-I)+A)<16?0:z>=4080?255:z>>4,J=(J=($=x-$)+T)<16?0:J>=4080?255:J>>4,K=(K=$-T)<16?0:K>=4080?255:K>>4,Q=(Q=I-A)<16?0:Q>=4080?255:Q>>4,U=(U=M-P)<16?0:U>=4080?255:U>>4,te=(te=x-F)<16?0:te>=4080?255:te>>4,ue[_+xe]=j,ue[_+xe+8]=V,ue[_+xe+16]=z,ue[_+xe+24]=J,ue[_+xe+32]=K,ue[_+xe+40]=Q,ue[_+xe+48]=U,ue[_+xe+56]=te):(H=(H=l*j+8192>>14)<-2040?0:H>=2024?255:H+2056>>4,ue[_+xe]=H,ue[_+xe+8]=H,ue[_+xe+16]=H,ue[_+xe+24]=H,ue[_+xe+32]=H,ue[_+xe+40]=H,ue[_+xe+48]=H,ue[_+xe+56]=H)}function b(v,_){for(var S=_.blocksPerLine,x=_.blocksPerColumn,M=new Int16Array(64),I=0;I<x;I++)for(var $=0;$<S;$++)g(_,h(_,I,$),M);return _.blockData}function w(v,_,S){function x(A){return v[A]<<8|v[A+1]}var M=v.length-1,I=S<_?S:_;if(_>=M)return null;var $=x(_);if($>=65472&&$<=65534)return{invalid:null,marker:$,offset:_};for(var T=x(I);!(T>=65472&&T<=65534);){if(++I>=M)return null;T=x(I)}return{invalid:$.toString(16),marker:T,offset:I}}return d.prototype={parse:function(v){function _(){var _e=v[$]<<8|v[$+1];return $+=2,_e}function S(){var _e=_(),Be=$+_e-2,ht=w(v,Be,$);ht&&ht.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+ht.invalid),Be=ht.offset);var $r=v.subarray($,Be);return $+=$r.length,$r}function x(_e){for(var Be=Math.ceil(_e.samplesPerLine/8/_e.maxH),ht=Math.ceil(_e.scanLines/8/_e.maxV),$r=0;$r<_e.components.length;$r++){Mt=_e.components[$r];var Vt=Math.ceil(Math.ceil(_e.samplesPerLine/8)*Mt.h/_e.maxH),qn=Math.ceil(Math.ceil(_e.scanLines/8)*Mt.v/_e.maxV),Nr=Be*Mt.h,Si=ht*Mt.v*64*(Nr+1);Mt.blockData=new Int16Array(Si),Mt.blocksPerLine=Vt,Mt.blocksPerColumn=qn}_e.mcusPerLine=Be,_e.mcusPerColumn=ht}var M,I,$=0,T=null,A=null,P=[],F=[],j=[],V=_();if(V!==65496)throw new e("SOI not found");for(V=_();V!==65497;){var z,J,K;switch(V){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Q=S();V===65504&&Q[0]===74&&Q[1]===70&&Q[2]===73&&Q[3]===70&&Q[4]===0&&(T={version:{major:Q[5],minor:Q[6]},densityUnits:Q[7],xDensity:Q[8]<<8|Q[9],yDensity:Q[10]<<8|Q[11],thumbWidth:Q[12],thumbHeight:Q[13],thumbData:Q.subarray(14,14+3*Q[12]*Q[13])}),V===65518&&Q[0]===65&&Q[1]===100&&Q[2]===111&&Q[3]===98&&Q[4]===101&&(A={version:Q[5]<<8|Q[6],flags0:Q[7]<<8|Q[8],flags1:Q[9]<<8|Q[10],transformCode:Q[11]});break;case 65499:for(var U=_()+$-2;$<U;){var te=v[$++],H=new Uint16Array(64);if(te>>4==0)for(J=0;J<64;J++)H[t[J]]=v[$++];else{if(te>>4!=1)throw new e("DQT - invalid table spec");for(J=0;J<64;J++)H[t[J]]=_()}P[15&te]=H}break;case 65472:case 65473:case 65474:if(M)throw new e("Only single frame JPEGs supported");_(),(M={}).extended=V===65473,M.progressive=V===65474,M.precision=v[$++],M.scanLines=_(),M.samplesPerLine=_(),M.components=[],M.componentIds={};var se,ue=v[$++],ve=0,xe=0;for(z=0;z<ue;z++){se=v[$];var tt=v[$+1]>>4,it=15&v[$+1];ve<tt&&(ve=tt),xe<it&&(xe=it);var Ir=v[$+2];K=M.components.push({h:tt,v:it,quantizationId:Ir,quantizationTable:null}),M.componentIds[se]=K-1,$+=3}M.maxH=ve,M.maxV=xe,x(M);break;case 65476:var Ts=_();for(z=2;z<Ts;){var pt=v[$++],ct=new Uint8Array(16),Gn=0;for(J=0;J<16;J++,$++)Gn+=ct[J]=v[$];var pa=new Uint8Array(Gn);for(J=0;J<Gn;J++,$++)pa[J]=v[$];z+=17+Gn,(pt>>4==0?j:F)[15&pt]=p(ct,pa)}break;case 65501:_(),I=_();break;case 65498:_();var Mt,Ed=v[$++],dl=[];for(z=0;z<Ed;z++){var hn=M.componentIds[v[$++]];Mt=M.components[hn];var fl=v[$++];Mt.huffmanTableDC=j[fl>>4],Mt.huffmanTableAC=F[15&fl],dl.push(Mt)}var Xp=v[$++],eh=v[$++],ha=v[$++],th=m(v,$,M,dl,I,Xp,eh,ha>>4,15&ha);$+=th;break;case 65535:v[$]!==255&&$--;break;default:if(v[$-3]===255&&v[$-2]>=192&&v[$-2]<=254){$-=3;break}throw new e("unknown marker "+V.toString(16))}V=_()}for(this.width=M.samplesPerLine,this.height=M.scanLines,this.jfif=T,this.eof=$,this.adobe=A,this.components=[],z=0;z<M.components.length;z++){var pl=P[(Mt=M.components[z]).quantizationId];pl&&(Mt.quantizationTable=pl),this.components.push({output:b(M,Mt),scaleX:Mt.h/M.maxH,scaleY:Mt.v/M.maxV,blocksPerLine:Mt.blocksPerLine,blocksPerColumn:Mt.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(v,_){var S,x,M,I,$,T,A,P,F,j,V,z=this.width/v,J=this.height/_,K=0,Q=this.components.length,U=v*_*Q,te=new Uint8ClampedArray(U),H=new Uint32Array(v),se=4294967288;for(A=0;A<Q;A++){for(x=(S=this.components[A]).scaleX*z,M=S.scaleY*J,K=A,V=S.output,I=S.blocksPerLine+1<<3,$=0;$<v;$++)P=0|$*x,H[$]=(P&se)<<3|7&P;for(T=0;T<_;T++)for(j=I*((P=0|T*M)&se)|(7&P)<<3,$=0;$<v;$++)te[K]=V[j+H[$]],K+=Q}var ue=this.decodeTransform;if(ue)for(A=0;A<U;)for(P=0,F=0;P<Q;P++,A++,F+=2)te[A]=(te[A]*ue[F]>>8)+ue[F+1];return te},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this.colorTransform!==0:this.colorTransform===1},_convertYccToRgb:function(v){for(var _,S,x,M=0,I=v.length;M<I;M+=3)_=v[M],S=v[M+1],x=v[M+2],v[M]=_-179.456+1.402*x,v[M+1]=_+135.459-.344*S-.714*x,v[M+2]=_-226.816+1.772*S;return v},_convertYcckToRgb:function(v){for(var _,S,x,M,I=0,$=0,T=v.length;$<T;$+=4)_=v[$],S=v[$+1],x=v[$+2],M=v[$+3],v[I++]=S*(-660635669420364e-19*S+.000437130475926232*x-54080610064599e-18*_+.00048449797120281*M-.154362151871126)-122.67195406894+x*(-.000957964378445773*x+.000817076911346625*_-.00477271405408747*M+1.53380253221734)+_*(.000961250184130688*_-.00266257332283933*M+.48357088451265)+M*(-.000336197177618394*M+.484791561490776),v[I++]=107.268039397724+S*(219927104525741e-19*S-.000640992018297945*x+.000659397001245577*_+.000426105652938837*M-.176491792462875)+x*(-.000778269941513683*x+.00130872261408275*_+.000770482631801132*M-.151051492775562)+_*(.00126935368114843*_-.00265090189010898*M+.25802910206845)+M*(-.000318913117588328*M-.213742400323665),v[I++]=S*(-.000570115196973677*S-263409051004589e-19*x+.0020741088115012*_-.00288260236853442*M+.814272968359295)-20.810012546947+x*(-153496057440975e-19*x-.000132689043961446*_+.000560833691242812*M-.195152027534049)+_*(.00174418132927582*_-.00255243321439347*M+.116935020465145)+M*(-.000343531996510555*M+.24165260232407);return v},_convertYcckToCmyk:function(v){for(var _,S,x,M=0,I=v.length;M<I;M+=4)_=v[M],S=v[M+1],x=v[M+2],v[M]=434.456-_-1.402*x,v[M+1]=119.541-_+.344*S+.714*x,v[M+2]=481.816-_-1.772*S;return v},_convertCmykToRgb:function(v){for(var _,S,x,M,I=0,$=1/255,T=0,A=v.length;T<A;T+=4)_=v[T]*$,S=v[T+1]*$,x=v[T+2]*$,M=v[T+3]*$,v[I++]=255+_*(-4.387332384609988*_+54.48615194189176*S+18.82290502165302*x+212.25662451639585*M-285.2331026137004)+S*(1.7149763477362134*S-5.6096736904047315*x-17.873870861415444*M-5.497006427196366)+x*(-2.5217340131683033*x-21.248923337353073*M+17.5119270841813)-M*(21.86122147463605*M+189.48180835922747),v[I++]=255+_*(8.841041422036149*_+60.118027045597366*S+6.871425592049007*x+31.159100130055922*M-79.2970844816548)+S*(-15.310361306967817*S+17.575251261109482*x+131.35250912493976*M-190.9453302588951)+x*(4.444339102852739*x+9.8632861493405*M-24.86741582555878)-M*(20.737325471181034*M+187.80453709719578),v[I++]=255+_*(.8842522430003296*_+8.078677503112928*S+30.89978309703729*x-.23883238689178934*M-14.183576799673286)+S*(10.49593273432072*S+63.02378494754052*x+50.606957656360734*M-112.23884253719248)+x*(.03296041114873217*x+115.60384449646641*M-193.58209356861505)-M*(22.33816807309886*M+180.12613974708367);return v},getData:function(v,_,S){if(this.numComponents>4)throw new e("Unsupported color mode");var x=this._getLinearizedBlockData(v,_);if(this.numComponents===1&&S){for(var M=x.length,I=new Uint8ClampedArray(3*M),$=0,T=0;T<M;T++){var A=x[T];I[$++]=A,I[$++]=A,I[$++]=A}return I}if(this.numComponents===3&&this._isColorConversionNeeded())return this._convertYccToRgb(x);if(this.numComponents===4){if(this._isColorConversionNeeded())return S?this._convertYcckToRgb(x):this._convertYcckToCmyk(x);if(S)return this._convertCmykToRgb(x)}return x}},d}()},(tV=eV())!==void 0&&(Xj.exports=tV);const _6=Wee.exports;class E$e{static decode(t,r=!1){const i=new Uint8Array(t),n=new _6;n.parse(i);const{width:s,height:a,numComponents:o,eof:l}=n,c=n.getData(s,a,!0);let d;const p=s*a;let h=0,m=0,g=0;if(!r&&l<i.length-1)try{const v=new Np(i.subarray(l)).getBytes();d=new Uint8Array(p);let _=0;for(h=0;h<v.length;h++)for(g=7;g>=0;g--)d[_++]=v[h]>>g&1}catch{}let b,w=null;if(o===1&&c.length===s*a)w=[c,c,c];else{for(w=[],h=0;h<3;h++)b=new Uint8Array(p),w.push(b);for(g=0,m=0;m<p;m++)for(h=0;h<3;h++)w[h][m]=c[g++]}return{width:s,height:a,pixels:w,mask:d}}}const Jee=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,128]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let R_=null;function Zee(){return R_||(R_=Y(()=>import("./lerc-wasm.33664708.js"),[],import.meta.url).then(e=>e.l).then(({default:e})=>e({locateFile:t=>Qe(`esri/layers/support/rasterFormats/${t}`)})).then(e=>{A$e(e)}),R_)}const S6={getBlobInfo:null,decode:null};function k$e(e){return 16+(e>>3<<3)}function Gc(e,t,r){r.set(e.slice(t,t+r.length))}function A$e(e){const{_malloc:t,_free:r,_lerc_getBlobInfo:i,_lerc_getDataRanges:n,_lerc_decode_4D:s,asm:a}=e;let o;const l=Object.values(a).find(d=>d&&"buffer"in d&&d.buffer===e.HEAPU8.buffer),c=d=>{const p=d.map(b=>k$e(b)),h=p.reduce((b,w)=>b+w),m=t(h);o=new Uint8Array(l.buffer);let g=p[0];p[0]=m;for(let b=1;b<p.length;b++){const w=p[b];p[b]=p[b-1]+g,g=w}return p};S6.getBlobInfo=d=>{const m=new Uint8Array(48),g=new Uint8Array(8*3),[b,w,v]=c([d.length,m.length,g.length]);o.set(d,b),o.set(m,w),o.set(g,v);let _=i(b,d.length,w,v,12,3);if(_)throw r(b),`lerc-getBlobInfo: error code is ${_}`;o=new Uint8Array(l.buffer),Gc(o,w,m),Gc(o,v,g);const S=new Uint32Array(m.buffer),x=new Float64Array(g.buffer),[M,I,$,T,A,P,F,j,V,,z]=S,J={version:M,dimCount:$,width:T,height:A,validPixelCount:F,bandCount:P,blobSize:j,maskCount:V,dataType:I,minValue:x[0],maxValue:x[1],maxZerror:x[2],statistics:[],bandCountWithNoData:z};if(z)return J;if($===1&&P===1)return r(b),J.statistics.push({minValue:x[0],maxValue:x[1]}),J;const K=$*P*8,Q=new Uint8Array(K),U=new Uint8Array(K);let te=b,H=0,se=0,ue=!1;if(o.byteLength<b+2*K?(r(b),ue=!0,[te,H,se]=c([d.length,K,K]),o.set(d,te)):[H,se]=c([K,K]),o.set(Q,H),o.set(U,se),_=n(te,d.length,$,P,H,se),_)throw r(te),ue||r(H),`lerc-getDataRanges: error code is ${_}`;o=new Uint8Array(l.buffer),Gc(o,H,Q),Gc(o,se,U);const ve=new Float64Array(Q.buffer),xe=new Float64Array(U.buffer),tt=J.statistics;for(let it=0;it<P;it++)if($>1){const Ir=ve.slice(it*$,(it+1)*$),Ts=xe.slice(it*$,(it+1)*$),pt=Math.min.apply(null,Ir),ct=Math.max.apply(null,Ts);tt.push({minValue:pt,maxValue:ct,dimStats:{minValues:Ir,maxValues:Ts}})}else tt.push({minValue:ve[it],maxValue:xe[it]});return r(te),ue||r(H),J},S6.decode=(d,p)=>{const{maskCount:h,dimCount:m,bandCount:g,width:b,height:w,dataType:v,bandCountWithNoData:_}=p,S=Jee[v],x=b*w,M=new Uint8Array(x*g),I=x*m*g*S.size,$=new Uint8Array(I),T=new Uint8Array(g),A=new Uint8Array(8*g),[P,F,j,V,z]=c([d.length,M.length,$.length,T.length,A.length]);o.set(d,P),o.set(M,F),o.set($,j),o.set(T,V),o.set(A,z);const J=s(P,d.length,h,F,m,b,w,g,v,j,V,z);if(J)throw r(P),`lerc-decode: error code is ${J}`;o=new Uint8Array(l.buffer),Gc(o,j,$),Gc(o,F,M);let K=null;if(_){Gc(o,V,T),Gc(o,z,A),K=[];const Q=new Float64Array(A.buffer);for(let U=0;U<T.length;U++)K.push(T[U]?Q[U]:null)}return r(P),{data:$,maskData:M,noDataValues:K}}}function L$e(e,t,r,i,n){if(r<2)return e;const s=new i(t*r);if(n)for(let a=0,o=0;a<t;a++)for(let l=0,c=a;l<r;l++,c+=t)s[c]=e[o++];else for(let a=0,o=0;a<t;a++)for(let l=0,c=a;l<r;l++,c+=t)s[o++]=e[c];return s}function Qee(e,t={}){var T;const r=(T=t.inputOffset)!=null?T:0,i=e instanceof Uint8Array?e.subarray(r):new Uint8Array(e,r),n=S6.getBlobInfo(i),{data:s,maskData:a}=S6.decode(i,n),{width:o,height:l,bandCount:c,dimCount:d,dataType:p,maskCount:h,statistics:m}=n,g=Jee[p],b=new g.ctor(s.buffer),w=[],v=[],_=o*l,S=_*d;for(let A=0;A<c;A++){const P=b.subarray(A*S,(A+1)*S);if(t.returnPixelInterleavedDims)w.push(P);else{const F=L$e(P,_,d,g.ctor,!0);w.push(F)}v.push(a.subarray(A*S,(A+1)*S))}const x=h===0?null:h===1?v[0]:new Uint8Array(_);if(h>1){x.set(v[0]);for(let A=1;A<v.length;A++){const P=v[A];for(let F=0;F<_;F++)x[F]=x[F]&P[F]}}const{noDataValue:M}=t,I=M!=null&&g.range[0]<=M&&g.range[1]>=M;if(h>0&&I)for(let A=0;A<c;A++){const P=w[A],F=v[A]||x;for(let j=0;j<_;j++)F[j]===0&&(P[j]=M)}const $=h===c&&c>1?v:null;return{width:o,height:l,bandCount:c,pixelType:t.pixelType&&n.version===0?t.pixelType:g.pixelType,dimCount:d,statistics:m,pixels:w,mask:x,bandMasks:$}}function R$e(e,t,r,i=!0){if(t%4!=0||r%4!=0){const n=new ArrayBuffer(4*Math.ceil(r/4)),s=new Uint8Array(n),a=new Uint8Array(e,t,r);if(i)for(let o=0;o<s.length;o+=4)s[o]=a[o+3],s[o+1]=a[o+2],s[o+2]=a[o+1],s[o+3]=a[o];else s.set(a);return new Uint32Array(s.buffer)}if(i){const n=new Uint8Array(e,t,r),s=new Uint8Array(n.length);for(let a=0;a<s.length;a+=4)s[a]=n[a+3],s[a+1]=n[a+2],s[a+2]=n[a+1],s[a+3]=n[a];return new Uint32Array(s.buffer)}return new Uint32Array(e,t,r/4)}function rV(){const e=[];for(let t=0;t<=257;t++)e[t]=[t];return e}function iV(e,t){for(let r=0;r<t.length;r++)e.push(t[r])}const u0=new Set;function sL(e,t,r,i=!0){const n=R$e(e,t,r,i);let s=9,a=rV(),o=32,l=a.length,c=[],d=1,p=n[0],h=0;const m=n.length,g=8*(4*m-r),b=[];for(;p!=null;){if(o>=s)o-=s,h=p>>>32-s,p<<=s;else{h=p>>>32-o,p=n[d++];const v=s-o;o=32-v,h=(h<<v)+(p>>>o),p<<=v}if(h===257)break;if(h===256){s=9,a=rV(),l=a.length,c=[];continue}const w=a[h];if(w==null){if(h>a.length)throw"data integrity issue: code does not exist on code page";c.push(c[0]),a[l++]=c.slice(),iV(b,c)}else iV(b,w),c.push(w[0]),c.length>1&&(a[l++]=c.slice()),c=w.slice();if(u0.has(l)&&s++,o===0&&(p=n[d++],o=32),d>m||d===m&&o<=g)break}return new Uint8Array(b)}u0.add(511),u0.add(1023),u0.add(2047),u0.add(4095),u0.add(8191);const nV=(e,t)=>{const r=t.width*t.height,i=t.pixelType;return Math.floor(e.byteLength/(r*Yee(i)))},Yee=e=>{let t=1;switch(e){case Uint8Array:case Int8Array:t=1;break;case Uint16Array:case Int16Array:t=2;break;case Uint32Array:case Int32Array:case Float32Array:t=4;break;case Float64Array:t=8}return t},P$e=(e,t)=>{if(8*e.byteLength<t)return null;const r=new Uint8Array(e,0,Math.ceil(t/8)),i=new Uint8Array(t);let n=0,s=0,a=0,o=0;for(a=0;a<r.length-1;a++)for(s=r[a],o=7;o>=0;o--)i[n++]=s>>o&1;for(o=7;n<t-1;)s=r[r.length-1],i[n++]=s>>o&1,o--;return i};class O$e{static decode(t,r){const i=r.pixelType,n=[],s=r.width*r.height,a=nV(t,r),{bandIds:o,format:l}=r,c=o&&o.length||nV(t,r),d=t.byteLength-t.byteLength%(s*Yee(i)),p=new i(t,0,s*a);let h,m,g,b,w;if(l==="bip")for(h=0;h<c;h++){for(b=new i(s),w=o?o[h]:h,m=0;m<s;m++)b[m]=p[m*a+w];n.push(b)}else if(l==="bsq")for(h=0;h<c;h++)w=o?o[h]:h,n.push(p.subarray(w*s,(w+1)*s));return d<t.byteLength-1&&(g=P$e(t.slice(d),s)),{pixels:n,mask:g}}}function F$e(e,t){let r=0,i="",n=0,s=0;const a=e.length;for(;r<a;)s=e[r++],n=s>>4,n<8?n=1:n===15?(n=4,s=(7&s)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++]):n===14?(n=3,s=(15&s)<<12|(63&e[r++])<<6|63&e[r++]):(n=2,s=(31&s)<<6|63&e[r++]),(s!==0||t)&&(i+=String.fromCharCode(s));return i}const aL=(()=>{const e=[];return e[254]="NEWSUBFILETYPE",e[255]="SUBFILETYPE",e[256]="IMAGEWIDTH",e[257]="IMAGELENGTH",e[258]="BITSPERSAMPLE",e[259]="COMPRESSION",e[262]="PHOTOMETRICINTERPRETATION",e[263]="THRESHHOLDING",e[264]="CELLWIDTH",e[265]="CELLLENGTH",e[266]="FILLORDER",e[269]="DOCUMENTNAME",e[270]="IMAGEDESCRIPTION",e[271]="MAKE",e[272]="MODEL",e[273]="STRIPOFFSETS",e[274]="ORIENTATION",e[277]="SAMPLESPERPIXEL",e[278]="ROWSPERSTRIP",e[279]="STRIPBYTECOUNTS",e[280]="MINSAMPLEVALUE",e[281]="MAXSAMPLEVALUE",e[282]="XRESOLUTION",e[283]="YRESOLUTION",e[284]="PLANARCONFIGURATION",e[285]="PAGENAME",e[286]="XPOSITION",e[287]="YPOSITION",e[288]="FREEOFFSETS",e[289]="FREEBYTECOUNTS",e[290]="GRAYRESPONSEUNIT",e[291]="GRAYRESPONSECURVE",e[292]="T4OPTIONS",e[293]="T6OPTIONS",e[296]="RESOLUTIONUNIT",e[297]="PAGENUMBER",e[300]="COLORRESPONSEUNIT",e[301]="TRANSFERFUNCTION",e[305]="SOFTWARE",e[306]="DATETIME",e[315]="ARTIST",e[316]="HOSTCOMPUTER",e[317]="PREDICTOR",e[318]="WHITEPOINT",e[319]="PRIMARYCHROMATICITIES",e[320]="COLORMAP",e[321]="HALFTONEHINTS",e[322]="TILEWIDTH",e[323]="TILELENGTH",e[324]="TILEOFFSETS",e[325]="TILEBYTECOUNTS",e[326]="BADFAXLINES",e[327]="CLEANFAXDATA",e[328]="CONSECUTIVEBADFAXLINES",e[330]="SUBIFD",e[332]="INKSET",e[333]="INKNAMES",e[334]="NUMBEROFINKS",e[336]="DOTRANGE",e[337]="TARGETPRINTER",e[338]="EXTRASAMPLES",e[339]="SAMPLEFORMAT",e[340]="SMINSAMPLEVALUE",e[341]="SMAXSAMPLEVALUE",e[342]="TRANSFERRANGE",e[347]="JPEGTABLES",e[512]="JPEGPROC",e[513]="JPEGIFOFFSET",e[514]="JPEGIFBYTECOUNT",e[515]="JPEGRESTARTINTERVAL",e[517]="JPEGLOSSLESSPREDICTORS",e[518]="JPEGPOINTTRANSFORM",e[519]="JPEGQTABLES",e[520]="JPEGDCTABLES",e[521]="JPEGACTABLES",e[529]="YCBCRCOEFFICIENTS",e[530]="YCBCRSUBSAMPLING",e[531]="YCBCRPOSITIONING",e[532]="REFERENCEBLACKWHITE",e[700]="XMP",e[33550]="GEOPIXELSCALE",e[33922]="GEOTIEPOINTS",e[33432]="COPYRIGHT",e[42112]="GDAL_METADATA",e[42113]="GDAL_NODATA",e[50844]="RPCCOEFFICIENT",e[34264]="GEOTRANSMATRIX",e[34735]="GEOKEYDIRECTORY",e[34736]="GEODOUBLEPARAMS",e[34737]="GEOASCIIPARAMS",e[34665]="EXIFIFD",e[34853]="GPSIFD",e[40965]="INTEROPERABILITYIFD",e})(),D$e=(()=>{const e=[].concat(aL);return e[36864]="ExifVersion",e[40960]="FlashpixVersion",e[40961]="ColorSpace",e[42240]="Gamma",e[37121]="ComponentsConfiguration",e[37122]="CompressedBitsPerPixel",e[40962]="PixelXDimension",e[40963]="PixelYDimension",e[37500]="MakerNote",e[37510]="UserComment",e[40964]="RelatedSoundFile",e[36867]="DateTimeOriginal",e[36868]="DateTimeDigitized",e[36880]="OffsetTime",e[36881]="OffsetTimeOriginal",e[36882]="OffsetTimeDigitized",e[37520]="SubSecTime",e[37521]="SubSecTimeOriginal",e[37522]="SubSecTimeDigitized",e[37888]="Temperature",e[37889]="Humidity",e[37890]="Pressure",e[37891]="WaterDepth",e[37892]="Acceleration",e[37893]="CameraElevationAngle",e[42016]="ImageUniqueID",e[42032]="CameraOwnerName",e[42033]="BodySerialNumber",e[42034]="LensSpecification",e[42035]="LensMake",e[42036]="LensModel",e[42037]="LensSerialNumber",e[33434]="ExposureTime",e[33437]="FNumber",e[34850]="ExposureProgram",e[34852]="SpectralSensitivity",e[34855]="PhotographicSensitivity",e[34856]="OECF",e[34864]="SensitivityType",e[34865]="StandardOutputSensitivity",e[34866]="RecommendedExposureIndex",e[34867]="ISOSpeed",e[34868]="ISOSpeedLatitudeyyy",e[34869]="ISOSpeedLatitudezzz",e[37377]="ShutterSpeedValue",e[37378]="ApertureValue",e[37379]="BrightnessValue",e[37380]="ExposureBiasValue",e[37381]="MaxApertureValue",e[37382]="SubjectDistance",e[37383]="MeteringMode",e[37384]="LightSource",e[37385]="Flash",e[37386]="FocalLength",e[37396]="SubjectArea",e[41483]="FlashEnergy",e[41484]="SpatialFrequencyResponse",e[41486]="FocalPlaneXResolution",e[41487]="FocalPlaneYResolution",e[41488]="FocalPlaneResolutionUnit",e[41492]="SubjectLocation",e[41493]="ExposureIndex",e[41495]="SensingMethod",e[41728]="FileSource",e[41729]="SceneType",e[41730]="CFAPattern",e[41985]="CustomRendered",e[41986]="ExposureMode",e[41987]="WhiteBalance",e[41988]="DigitalZoomRatio",e[41989]="FocalLengthIn35mmFilm",e[41990]="SceneCaptureType",e[41991]="GainControl",e[41992]="Contrast",e[41993]="Saturation",e[41994]="Sharpness",e[41995]="DeviceSettingDescription",e[41996]="SubjectDistanceRange",e})(),N$e=["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"],j$e=(()=>{const e=[];return e[1024]="GTModelTypeGeoKey",e[1025]="GTRasterTypeGeoKey",e[1026]="GTCitationGeoKey",e[2048]="GeographicTypeGeoKey",e[2049]="GeogCitationGeoKey",e[2050]="GeogGeodeticDatumGeoKey",e[2051]="GeogPrimeMeridianGeoKey",e[2052]="GeogLinearUnitsGeoKey",e[2053]="GeogLinearUnitSizeGeoKey",e[2054]="GeogAngularUnitsGeoKey",e[2055]="GeogAngularUnitSizeGeoKey",e[2056]="GeogEllipsoidGeoKey",e[2057]="GeogSemiMajorAxisGeoKey",e[2058]="GeogSemiMinorAxisGeoKey",e[2059]="GeogInvFlatteningGeoKey",e[2061]="GeogPrimeMeridianLongGeoKey",e[2060]="GeogAzimuthUnitsGeoKey",e[3072]="ProjectedCSTypeGeoKey",e[3073]="PCSCitationGeoKey",e[3074]="ProjectionGeoKey",e[3075]="ProjCoordTransGeoKey",e[3076]="ProjLinearUnitsGeoKey",e[3077]="ProjLinearUnitSizeGeoKey",e[3078]="ProjStdParallel1GeoKey",e[3079]="ProjStdParallel2GeoKey",e[3080]="ProjNatOriginLongGeoKey",e[3081]="ProjNatOriginLatGeoKey",e[3082]="ProjFalseEastingGeoKey",e[3083]="ProjFalseNorthingGeoKey",e[3084]="ProjFalseOriginLongGeoKey",e[3085]="ProjFalseOriginLatGeoKey",e[3086]="ProjFalseOriginEastingGeoKey",e[3087]="ProjFalseOriginNorthingGeoKey",e[3088]="ProjCenterLongGeoKey",e[3090]="ProjCenterEastingGeoKey",e[3091]="ProjCenterNorthingGeoKey",e[3092]="ProjScaleAtNatOriginGeoKey",e[3093]="ProjScaleAtCenterGeoKey",e[3094]="ProjAzimuthAngleGeoKey",e[3095]="ProjStraightVertPoleLongGeoKey",e[4096]="VerticalCSTypeGeoKey",e[4097]="VerticalCitationGeoKey",e[4098]="VerticalDatumGeoKey",e[4099]="VerticalUnitsGeoKey",e})(),V$e=(e,t)=>{let r=(t||aL)[e];return r===void 0&&(r="unknown"+String(e)),r},xT=new Map;xT.set("EXIFIFD",D$e),xT.set("GPSIFD",N$e);const mm={TIFF_TAGS:aL,ifdTags:xT,GEO_KEYS:j$e,getTagName:V$e},oL=(()=>{const e=new ArrayBuffer(4),t=new Uint8Array(e);return new Uint32Array(e)[0]=1,t[0]===1})(),sV=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],Qm=4294967296,z$e=new Set([1,5,6,7,8,34712,34887]);function Kee(e,t){let r="unknown";return e===3?r="f32":e===1?t===1?r="u1":t===2?r="u2":t===4?r="u4":t<=8?r="u8":t<=16?r="u16":t<=32&&(r="u32"):e===2&&(t<=8?r="s8":t<=16?r="s16":t<=32&&(r="s32")),r}function l8(e){let t=null;switch(e?e.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":t=Uint8Array;break;case"u16":t=Uint16Array;break;case"u32":t=Uint32Array;break;case"s8":t=Int8Array;break;case"s16":t=Int16Array;break;case"s32":t=Int32Array;break;default:t=Float32Array}return t}function B$e(e,t){return{x:t[0]*e.x+t[1]*e.y+t[2],y:t[3]*e.x+t[4]*e.y+t[5]}}function Xee(e,t){var r;return(r=e.get(t))==null?void 0:r.values}function yp(e,t){var r;return(r=e.get(t))==null?void 0:r.values}function P_(e,t){var r;return(r=e.get(t))==null?void 0:r.values[0]}function ft(e,t){var r;return(r=e.get(t))==null?void 0:r.values[0]}function O_(e,t,r,i=0,n=mm.TIFF_TAGS,s=4){const a=s===8,o=a?uL(new DataView(e,r,8),0,t):new DataView(e,r,2).getUint16(0,t),l=4+2*s,c=a?8:2,d=c+o*l;if(r+d>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:d};const p=r+d+4<=e.byteLength?g9(new DataView(e,r+d,s===8?8:4),0,t,s===8):null,h=r+c,m=new Map;let g,b,w,v,_,S,x;for(let M=0;M<o;M++){b=new DataView(e,h+l*M,l),w=b.getUint16(0,t),_=b.getUint16(2,t),v=mm.getTagName(w,n);const I=[];s===2?(S=b.getUint16(4,t),x=b.getUint16(6,t)):s===4?(S=b.getUint32(4,t),x=b.getUint32(8,t)):s===8&&(S=g9(b,4,t,!0),x=g9(b,12,t,!0),I.push(b.getUint32(12,t)),I.push(b.getUint32(16,t))),g={id:w,type:_,valueCount:S,valueOffset:x,valueOffsets:I,values:null},J$e(e,t,g,i,!1,s),m.set(v,g)}return{success:!0,ifd:m,nextIFD:p,requiredBufferSize:d}}const U$e=(e,t)=>Qee(e,{inputOffset:t}).pixels[0];async function MT(e,t,r,i,n){var v,_;const s=oL===t,a=ft(r,"BITSPERSAMPLE"),o=Kee((v=ft(r,"SAMPLEFORMAT"))!=null?v:1,a),l=(_=ft(r,"COMPRESSION"))!=null?_:1,c=l8(o);let d,p,h,m,g,b,w;if(l===34887)return await Zee(),U$e(e,i);if(l===1)h=e.slice(i,i+n),m=new Uint8Array(h);else if(l===8||l===32946)m=new Uint8Array(e,i,n),b=new Np(m),w=b.getBytes(),h=new ArrayBuffer(w.length),m=new Uint8Array(h),m.set(w);else if(l===6){m=new Uint8Array(e,i,n);const S=new _6;S.parse(m);const x=S.getData(S.width,S.height,!0);h=new ArrayBuffer(x.length),m=new Uint8Array(h),m.set(x)}else if(l===7){const S=r.get("JPEGTABLES").values,x=S.length-2;m=new Uint8Array(x+n-2);for(let T=0;T<x;T++)m[T]=S[T];const M=new Uint8Array(e,i+2,n-2);for(let T=0;T<M.length;T++)m[x+T]=M[T];const I=new _6;I.parse(m);const $=I.getData(I.width,I.height,!0);h=new ArrayBuffer($.length),m=new Uint8Array(h),m.set($)}else l===5&&(m=sL(e,i,n,t),h=m.buffer);if(o==="u8"||o==="s8"||s)p=new c(h);else{switch(h=new ArrayBuffer(m.length),g=new Uint8Array(h),o){case"u16":case"s16":for(d=0;d<m.length;d+=2)g[d]=m[d+1],g[d+1]=m[d];break;case"u32":case"s32":case"f32":for(d=0;d<m.length;d+=4)g[d]=m[d+3],g[d+1]=m[d+2],g[d+2]=m[d+1],g[d+3]=m[d]}p=new c(h)}return p}async function G$e(e,t,r){var J;const i=yp(r,"TILEOFFSETS");if(i===void 0)return null;const n=yp(r,"TILEBYTECOUNTS"),{width:s,height:a,pixelType:o,tileWidth:l,tileHeight:c}=lL([r]),d=cL(r,t),p=t.planes,h=s*a,m=ft(r,"BITSPERSAMPLE"),g=((J=ft(r,"COMPRESSION"))!=null?J:1)===34887,b=l8(o),w=[];for(let K=0;K<p;K++)w.push(new b(h));let v,_,S,x,M,I,$,T,A,P,F,j,V;const z=Math.ceil(s/l);if(m%8==0){if(g&&d&&p>1){const K=Math.round(i.length/p);for(v=0;v<K;v++){I=Math.floor(v/z)*c,$=v%z*l,T=I*s+$;for(let Q=0;Q<p;Q++){const U=v*p+Q;if(n[U]!==0)for(S=await MT(e,t.littleEndian,r,i[U],n[U]),P=0,A=T,j=Math.min(l,s-$),F=Math.min(c,a-I),V=w[Q],x=0;x<F;x++)for(A=T+x*s,P=x*l,M=0;M<j;M++,A++,P++)V[A]=S[P]}}}else for(v=0;v<i.length;v++)if(n[v]!==0)for(I=Math.floor(v/z)*c,$=v%z*l,T=I*s+$,S=await MT(e,t.littleEndian,r,i[v],n[v]),P=0,A=T,j=Math.min(l,s-$),F=Math.min(c,a-I),_=0;_<p;_++)if(V=w[_],d||g)for(x=0;x<F;x++)for(A=T+x*s,P=l*c*_+x*l,M=0;M<j;M++,A++,P++)V[A]=S[P];else for(x=0;x<F;x++)for(A=T+x*s,P=x*l*p+_,M=0;M<j;M++,A++,P+=p)V[A]=S[P]}return{width:s,height:a,pixelType:o,pixels:w}}const q$e=(e,t,r)=>{var V;const i=oL===t.littleEndian,n=yp(r,"STRIPOFFSETS");if(n===void 0)return null;const{width:s,height:a,pixelType:o}=lL([r]),l=t.planes,c=s*a,d=ft(r,"BITSPERSAMPLE"),p=l8(o),h=new p(c*l),m=yp(r,"STRIPBYTECOUNTS"),g=ft(r,"ROWSPERSTRIP"),b=(V=ft(r,"COMPRESSION"))!=null?V:1;let w,v,_,S,x,M,I,$,T,A,P,F=g;if(d%8==0)for(w=0;w<n.length;w++){if(x=w*(g*s)*l,F=(w+1)*g>a?a-w*g:g,o==="u8"||o==="s8"||i){if(b===8||b===32946)I=new Uint8Array(e,n[w],m[w]),A=new Np(I),P=A.getBytes(),M=new ArrayBuffer(P.length),I=new Uint8Array(M),I.set(P),I.length!==F*s*l*d/8&&console.log("strip byte counts is different than expected");else if(b===6){I=new Uint8Array(e,n[w],m[w]);const z=new _6;z.parse(I);const J=z.getData(z.width,z.height,!0);M=new ArrayBuffer(J.length),I=new Uint8Array(M),I.set(J)}else b===5?(I=sL(e,n[w],m[w],t.littleEndian),M=I.buffer):b===1&&(m[w]!==F*s*l*d/8&&console.log("strip byte counts is different than expected"),M=e.slice(n[w],n[w]+m[w]));S=new p(M)}else{switch(b===6||b===8||b===32946?(I=new Uint8Array(e,n[w],m[w]),A=new Np(I),I=A.getBytes(),M=new ArrayBuffer(I.length),$=new Uint8Array(M),I.length!==F*s*l*d/8&&console.log("strip byte counts is different than expected")):b===1&&(m[w]!==F*s*l*d/8&&console.log("strip byte counts is different than expected"),M=new ArrayBuffer(m[w]),I=new Uint8Array(e,n[w],m[w]),$=new Uint8Array(M)),o){case"u16":case"s16":for(_=0;_<I.length;_+=2)$[_]=I[_+1],$[_+1]=I[_];break;case"u32":case"s32":case"f32":for(_=0;_<I.length;_+=4)$[_]=I[_+3],$[_+1]=I[_+2],$[_+2]=I[_+1],$[_+3]=I[_]}S=new p(M)}h.set(S,x)}const j=[];if(l===1)j.push(h);else for(w=0;w<l;w++){for(T=new p(c),v=0;v<c;v++)T[v]=h[v*l+w];j.push(T)}return{width:s,height:a,pixelType:o,pixels:j}},H$e=(e,t,r)=>{if(!(e&&e.length>0&&t&&r))return null;let i,n,s;const a=e[0].length,o=e.length,l=new Uint8Array(a);for(let c=0;c<o;c++)if(i=e[c],n=t[c],s=r[c],c===0)for(let d=0;d<a;d++)l[d]=i[d]<n||i[d]>s?0:1;else for(let d=0;d<a;d++)l[d]&&(l[d]=i[d]<n||i[d]>s?0:1);return l},W$e=e=>{if(!e)return null;const t=e.match(/<Item(.*?)Item>/gi);if(!t||t.length===0)return null;const r=new Map;let i,n,s,a,o;for(let v=0;v<t.length;v++)i=t[v],n=i.slice(6,i.indexOf(">")),a=i.indexOf("sample="),a>-1&&(o=i.slice(a+8,i.indexOf('"',a+8))),a=i.indexOf("name="),a>-1&&(n=i.slice(a+6,i.indexOf('"',a+6))),n&&(s=i.slice(i.indexOf(">")+1,i.indexOf("</Item>")).trim(),o!=null?r.has(n)?r.get(n)[o]=s:r.set(n,[s]):r.set(n,s)),o=null;const l=r.get("STATISTICS_MINIMUM"),c=r.get("STATISTICS_MAXIMUM"),d=r.get("STATISTICS_MEAN"),p=r.get("STATISTICS_STDDEV");let h=null;if(l&&c){h=[];for(let v=0;v<l.length;v++)h.push({min:parseFloat(l[v]),max:parseFloat(c[v]),avg:d&&parseFloat(d[v]),stddev:p&&parseFloat(p[v])})}const m=r.get("BandName"),g=r.get("WavelengthMin"),b=r.get("WavelengthMax");let w=null;if(m){w=[];for(let v=0;v<m.length;v++)w.push({BandName:m[v],WavelengthMin:g&&parseFloat(g[v]),WavelengthMax:b&&parseFloat(b[v])})}return{statistics:h,bandProperties:w,dataType:r.get("DataType"),rawMetadata:r}};function J$e(e,t,r,i=0,n=!1,s=4){if(r.values)return!0;const a=r.type,o=r.valueCount;let l=r.valueOffset,c=[];const d=sV[a],p=8*d,h=o*d,m=o*sV[a]*8;let g,b;const w=s===8?64:32,v=r.valueOffsets;if(m>w&&h>(n?e.byteLength:e?e.byteLength-l+i:0))return r.offlineOffsetSize=[l,h],r.values=null,!1;if(m<=w){if(!t)if(w<=32)l>>>=32-m;else{const _=v!=null&&v.length?v[0]:l>>>0,S=v!=null&&v.length?v[1]:Math.round((l-_)/Qm);m<=32?(l=_>>>32-m,v[0]=l):(l=_*2**(32-m)+(S>>>32-m),v[0]=_,v[1]=S>>>32-m)}if(o===1&&p===w)c=[l];else if(w===64){const _=v!=null&&v.length?v[0]:l>>>0,S=v!=null&&v.length?v[1]:Math.round((l-_)/Qm);let x=_,M=32;for(b=1;b<=o;b++){const I=32-p*b%32;if(M<p){const $=x<<I>>>32-M,T=S<<32-M>>>32-M;x=S,c.push($+T*2**(p-M)),M-=32-(p-M)}else c.push(x<<I>>>32-p),M-=p;M===0&&(M=32,x=S)}}else for(b=1;b<=o;b++){const _=32-p*b;c.push(l<<_>>>32-p)}}else{l-=i,n&&(l=0);for(let _=l;_<l+h;_+=d){switch(a){case 1:case 2:case 7:g=new DataView(e,_,1).getUint8(0);break;case 3:g=new DataView(e,_,2).getUint16(0,t);break;case 4:case 13:g=new DataView(e,_,4).getUint32(0,t);break;case 5:g=new DataView(e,_,4).getUint32(0,t)/new DataView(e,_+4,4).getUint32(0,t);break;case 6:g=new DataView(e,_,1).getInt8(0);break;case 8:g=new DataView(e,_,2).getInt16(0,t);break;case 9:g=new DataView(e,_,4).getInt32(0,t);break;case 10:g=new DataView(e,_,4).getInt32(0,t)/new DataView(e,_+4,4).getInt32(0,t);break;case 11:g=new DataView(e,_,4).getFloat32(0,t);break;case 12:g=new DataView(e,_,8).getFloat64(0,t);break;case 16:case 18:g=uL(new DataView(e,_,8),0,t);break;case 17:g=Q$e(new DataView(e,_,8),0,t);break;default:g=null}c.push(g)}}if(a===2){let _="";const S=c;for(c=[],b=0;b<S.length;b++)S[b]===0&&_!==""?(c.push(_),_=""):_+=String.fromCharCode(S[b]);_===""&&c.length!==0||c.push(_)}return r.values=c,!0}function lL(e){var U,te;const t=e[0],r=ft(t,"TILEWIDTH"),i=ft(t,"TILELENGTH"),n=ft(t,"IMAGEWIDTH"),s=ft(t,"IMAGELENGTH"),a=ft(t,"BITSPERSAMPLE"),o=ft(t,"SAMPLESPERPIXEL"),l=(U=ft(t,"SAMPLEFORMAT"))!=null?U:1,c=Kee(l,a),d=cL(t),p=Xee(t,"GDAL_NODATA");let h;p!=null&&p.length&&(h=p.map(H=>parseFloat(H)),h.some(H=>isNaN(H))&&(h=null));const m=(te=ft(t,"COMPRESSION"))!=null?te:1;let g;switch(m){case 1:g="NONE";break;case 2:case 3:case 4:case 32771:g="CCITT";break;case 5:g="LZW";break;case 6:case 7:g="JPEG";break;case 32773:g="PACKBITS";break;case 8:case 32946:g="DEFLATE";break;case 34712:g="JPEG2000";break;case 34887:g="LERC";break;default:g=String(m)}let b=!0,w="";z$e.has(m)||(b=!1,w+="unsupported tag compression "+m),l>3&&(b=!1,w+="unsupported tag sampleFormat "+l),a%8!=0&&(b=!1,w+="unsupported tag bitsPerSample "+a);const v=P_(t,"GEOASCIIPARAMS");let _;if(v){const H=v.split("|").find(ue=>ue.includes("ESRI PE String = ")),se=H?H.replace("ESRI PE String = ",""):"";_=se.startsWith("COMPD_CS")||se.startsWith("PROJCS")||se.startsWith("GEOGCS")?{wkid:null,wkt:se}:null}const S=yp(t,"GEOTIEPOINTS"),x=yp(t,"GEOPIXELSCALE"),M=yp(t,"GEOTRANSMATRIX"),I=t.has("GEOKEYDIRECTORY")?t.get("GEOKEYDIRECTORY").data:null;let $,T,A=!1;if(I){A=ft(I,"GTRasterTypeGeoKey")===2;const H=ft(I,"GTModelTypeGeoKey");if(H===2){const se=ft(I,"GeographicTypeGeoKey");se>=1024&&se<=32766&&(_={wkid:se})}else if(H===1){const se=ft(I,"ProjectedCSTypeGeoKey");se>=1024&&se<=32766&&(_={wkid:se})}}if(x&&S&&S.length>=6?($=[x[0],0,S[3]-S[0]*x[0],0,-Math.abs(x[1]),S[4]-S[1]*x[1]],A&&($[2]-=.5*$[0]+.5*$[1],$[5]-=.5*$[3]+.5*$[4])):M&&M.length===16&&($=A?[M[0],M[1],M[3]-.5*M[0],M[4],M[5],M[7]-.5*M[5]]:[M[0],M[1],M[3],M[4],M[5],M[7]]),$){const H=[{x:0,y:s},{x:0,y:0},{x:n,y:s},{x:n,y:0}];let se,ue=Number.POSITIVE_INFINITY,ve=Number.POSITIVE_INFINITY,xe=Number.NEGATIVE_INFINITY,tt=Number.NEGATIVE_INFINITY;for(let it=0;it<H.length;it++)se=B$e(H[it],$),ue=se.x>ue?ue:se.x,xe=se.x<xe?xe:se.x,ve=se.y>ve?ve:se.y,tt=se.y<tt?tt:se.y;T={xmin:ue,xmax:xe,ymin:ve,ymax:tt,spatialReference:_}}else T={xmin:-.5,ymin:.5-s,xmax:n-.5,ymax:.5,spatialReference:_};const P=e.filter(H=>P_(H,"NEWSUBFILETYPE")===1);let F,j,V,z,J;if(P.length>0){F=Math.round(Math.log(n/ft(P[0],"IMAGEWIDTH"))/Math.LN2);const H=P[P.length-1];j=Math.round(Math.log(n/ft(H,"IMAGEWIDTH"))/Math.LN2),V=ft(H,"TILEWIDTH"),z=ft(H,"TILELENGTH")}V=j>0?V||r:null,z=j>0?z||i:null,r&&(J=[{maxCol:Math.ceil(n/r)-1,maxRow:Math.ceil(s/i)-1,minRow:0,minCol:0}],P.forEach(H=>{J.push({maxCol:Math.ceil(ft(H,"IMAGEWIDTH")/ft(H,"TILEWIDTH"))-1,maxRow:Math.ceil(ft(H,"IMAGELENGTH")/ft(H,"TILELENGTH"))-1,minRow:0,minCol:0})}));const K=P_(e[0],"GDAL_METADATA"),Q=W$e(K);return w+=" "+ete({width:n,height:s,tileWidth:r,tileHeight:i,planes:o,ifds:e}),{width:n,height:s,tileWidth:r,tileHeight:i,planes:o,isBSQ:d,pixelType:c,compression:g,noData:h,isSupported:b,message:w,extent:T,affine:x?null:$,firstPyramidLevel:F,maximumPyramidLevel:j,pyramidBlockWidth:V,pyramidBlockHeight:z,tileBoundary:J,metadata:Q}}function cL(e,t){const r=Xee(e,"PLANARCONFIGURATION");return r?r[0]===2:!!t&&t.isBSQ}function Z$e(e){const{littleEndian:t,isBigTiff:r,firstIFD:i}=Y$e(e);let n=i;const s=[];do{const a=K$e(e,t,n,0,mm.TIFF_TAGS,r?8:4);if(!a.success)break;s.push(a.ifd),n=a.nextIFD}while(n>0);return{...lL(s),littleEndian:t,isBigTiff:r,ifds:s}}function uL(e,t,r){const i=e.getUint32(t,r),n=e.getUint32(t+4,r);return r?n*Qm+i:i*Qm+n}function Q$e(e,t,r){let i=r?e.getInt32(t,r):e.getUint32(t,r),n=r?e.getUint32(t+4,r):e.getInt32(t+4,r);const s=(r?i:n)>=0?1:-1;return r?i*=s:n*=s,s*(r?n*Qm+i:i*Qm+n)}function g9(e,t,r,i){return i?uL(e,t,r):e.getUint32(t,r)}function Y$e(e){const t=new DataView(e,0,16),r=t.getUint16(0,!1);let i=null;if(r===18761)i=!0;else{if(r!==19789)throw"unexpected endianess byte";i=!1}const n=t.getUint16(2,i);if(n!==42&&n!==43)throw"unexpected tiff identifier";let s=4;const a=n===43;if(a){const o=t.getUint16(s,i);if(s+=2,o!==8||t.getUint16(s,i)!==0)throw"unsupported bigtiff version";s+=2}return{littleEndian:i,isBigTiff:a,firstIFD:g9(t,s,i,a)}}function K$e(e,t,r,i=0,n=mm.TIFF_TAGS,s=4){const a=O_(e,t,r,i,n,s);let o;const l=a.ifd;if(l){if(mm.ifdTags.forEach((c,d)=>{l.has(d)&&(o=l.get(d),o.data=O_(e,t,o.valueOffset-i,i,c).ifd)}),l.has("GEOKEYDIRECTORY")){o=l.get("GEOKEYDIRECTORY");const c=o.values;if(c&&c.length>4){const d=c[0]+"."+c[1]+"."+c[2];o.data=O_(e,t,o.valueOffset+6-i,i,mm.GEO_KEYS,2).ifd,o.data&&o.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[d]})}}if(l.has("XMP")){o=l.get("XMP");const c=o.values;typeof c[0]=="number"&&o.type===7&&(o.values=[F$e(new Uint8Array(c))])}}return a}function ete(e){const{width:t,height:r,tileHeight:i,tileWidth:n}=e,s=e.planes,a=n?n*i:t*r,o=ft(e.ifds[0],"BITSPERSAMPLE");let l="";return a*s>2**30/(o>8?o/8:1)&&(l=n?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),l}async function X$e(e,t){var A;const{headerInfo:r,ifd:i,offsets:n,sizes:s}=t,a=[];for(let P=0;P<n.length;P++){const F=await MT(e,r.littleEndian,i,n[P],s[P]||e.byteLength);a.push(F)}const o=cL(i,r),{pixelType:l,planes:c}=r,d=l8(l),p=ft(i,"TILEWIDTH"),h=ft(i,"TILELENGTH"),m=(A=ft(i,"COMPRESSION"))!=null?A:1,g=p*h;let b;const w=[];let v=a[0];const _=m===34887;for(let P=0;P<c;P++){if(b=new d(g),o&&_){if(v=a[P],v.length)for(let F=0;F<g;F++)b[F]=v[P][F+P]}else if(v.length)if(o||_&&!o)b=v.slice(g*P,g*(P+1));else for(let F=0;F<g;F++)b[F]=v[F*c+P];w.push(b)}const S=r.noData?r.noData[0]:t.noDataValue,x=r.metadata?r.metadata.statistics:null,M=x?x.map(P=>P.min):null,I=x?x.map(P=>P.max):null;let $,T;if(S!=null)if($=new Uint8Array(g),Math.abs(S)>1e24)for(T=0;T<g;T++)Math.abs((w[0][T]-S)/S)<1e-6?$[T]=0:$[T]=1;else for(T=0;T<g;T++)w[0][T]===S?$[T]=0:$[T]=1;else M&&I&&t.applyMinMaxConstraint&&($=H$e(w,M,I));return{pixelType:l,width:p,height:h,pixels:w,mask:$,noDataValue:S}}async function eTe(e,t={}){const r=t.pyramidLevel||0,i=t.headerInfo||Z$e(e),{ifds:n,noData:s}=i;if(n.length===0)throw"no valid image file directory";const a=ete(i);if(a)throw a;let o,l;const c=r===-1?n[n.length-1]:n[r],d=s?s[0]:t.noDataValue;if(l=i.tileWidth?await G$e(e,i,c):await q$e(e,i,c),d!==null){if(l.mask=new Uint8Array(l.width*l.height),Math.abs(d)>1e24)for(o=0;o<l.width*l.height;o++)Math.abs((l.pixels[0][o]-d)/d)<1e-6?l.mask[o]=0:l.mask[o]=1;else for(o=0;o<l.width*l.height;o++)l.pixels[0][o]===d?l.mask[o]=0:l.mask[o]=1;l.noDataValue=d}return l}var tTe=function(e){var t,r,i,n,s,a;function o(l){var c,d,p,h,m,g,b,w,v,_,S,x,M;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(c=this.readUInt32(),w=function(){var I,$;for($=[],I=0;I<4;++I)$.push(String.fromCharCode(this.data[this.pos++]));return $}.call(this).join(""),w){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),p=this.readUInt16()||100,m.delay=1e3*h/p,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,c-=4),l=(m!=null?m.data:void 0)||this.imgData,S=0;0<=c?S<c:S>c;0<=c?++S:--S)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(c),(v=255-this.transparency.indexed.length)>0)for(x=0;0<=v?x<v:x>v;0<=v?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":g=(_=this.read(c)).indexOf(0),b=String.fromCharCode.apply(String,_.slice(0,g)),this.text[b]=String.fromCharCode.apply(String,_.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(M=this.colorType)===4||M===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return o.load=function(l,c,d){var p;return typeof c=="function"&&(d=c),(p=new XMLHttpRequest).open("GET",l,!0),p.responseType="arraybuffer",p.onload=function(){var h;return h=new o(new Uint8Array(p.response||p.mozResponseArrayBuffer)),typeof(c!=null?c.getContext:void 0)=="function"&&h.render(c),typeof d=="function"?d(h):void 0},p.send(null)},r=1,i=2,t=0,o.prototype.read=function(l){var c,d;for(d=[],c=0;0<=l?c<l:c>l;0<=l?++c:--c)d.push(this.data[this.pos++]);return d},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(l){var c,d,p,h,m,g,b,w,v,_,S,x,M,I,$,T,A,P,F,j,V,z,J;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);for(l=(l=new Np(l)).getBytes(),T=(x=this.pixelBitlength/8)*this.width,M=new Uint8Array(T*this.height),g=l.length,$=0,I=0,d=0;I<g;){switch(l[I++]){case 0:for(h=F=0;F<T;h=F+=1)M[d++]=l[I++];break;case 1:for(h=j=0;j<T;h=j+=1)c=l[I++],m=h<x?0:M[d-x],M[d++]=(c+m)%256;break;case 2:for(h=V=0;V<T;h=V+=1)c=l[I++],p=(h-h%x)/x,A=$&&M[($-1)*T+p*x+h%x],M[d++]=(A+c)%256;break;case 3:for(h=z=0;z<T;h=z+=1)c=l[I++],p=(h-h%x)/x,m=h<x?0:M[d-x],A=$&&M[($-1)*T+p*x+h%x],M[d++]=(c+Math.floor((m+A)/2))%256;break;case 4:for(h=J=0;J<T;h=J+=1)c=l[I++],p=(h-h%x)/x,m=h<x?0:M[d-x],$===0?A=P=0:(A=M[($-1)*T+p*x+h%x],P=p&&M[($-1)*T+(p-1)*x+h%x]),b=m+A-P,w=Math.abs(b-m),_=Math.abs(b-A),S=Math.abs(b-P),v=w<=_&&w<=S?m:_<=S?A:P,M[d++]=(c+v)%256;break;default:throw new Error("Invalid filter algorithm: "+l[I-1])}$++}return M},o.prototype.decodePalette=function(){var l,c,d,p,h,m,g,b,w;for(d=this.palette,m=this.transparency.indexed||[],h=new Uint8Array((m.length||0)+d.length),p=0,d.length,l=0,c=g=0,b=d.length;g<b;c=g+=3)h[p++]=d[c],h[p++]=d[c+1],h[p++]=d[c+2],h[p++]=(w=m[l++])!=null?w:255;return h},o.prototype.copyToImageData=function(l,c){var d,p,h,m,g,b,w,v,_,S,x;if(p=this.colors,_=null,d=this.hasAlphaChannel,this.palette.length&&(_=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),p=4,d=!0),v=(h=l.data||l).length,g=_||c,m=b=0,p===1)for(;m<v;)w=_?4*c[m/4]:b,S=g[w++],h[m++]=S,h[m++]=S,h[m++]=S,h[m++]=d?g[w++]:this.transparency.grayscale&&this.transparency.grayscale===S?0:255,b=w;else for(;m<v;)w=_?4*c[m/4]:b,h[m++]=g[w++],h[m++]=g[w++],h[m++]=g[w++],h[m++]=d?g[w++]:this.transparency.rgb&&this.transparency.rgb[1]===g[w-3]&&this.transparency.rgb[3]===g[w-2]&&this.transparency.rgb[5]===g[w-1]?0:255,b=w},o.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l},s=e.document&&e.document.createElement("canvas"),a=s&&s.getContext("2d"),n=function(l){var c;return a.width=l.width,a.height=l.height,a.clearRect(0,0,l.width,l.height),a.putImageData(l,0,0),(c=new Image).src=s.toDataURL(),c},o.prototype.decodeFrames=function(l){var c,d,p,h,m,g,b,w;if(this.animation){for(w=[],d=m=0,g=(b=this.animation.frames).length;m<g;d=++m)c=b[d],p=l.createImageData(c.width,c.height),h=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(p,h),c.imageData=p,w.push(c.image=n(p));return w}},o.prototype.renderFrame=function(l,c){var d,p,h;return d=(p=this.animation.frames)[c],h=p[c-1],c===0&&l.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===r?l.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===i&&l.putImageData(h.imageData,h.xOffset,h.yOffset),d.blendOp===t&&l.clearRect(d.xOffset,d.yOffset,d.width,d.height),l.drawImage(d.image,d.xOffset,d.yOffset)},o.prototype.animate=function(l){var c,d,p,h,m,g,b=this;return d=0,g=this.animation,h=g.numFrames,p=g.frames,m=g.numPlays,(c=function(){var w,v;if(w=d++%h,v=p[w],b.renderFrame(l,w),h>1&&d/h<m)return b.animation._timeout=setTimeout(c,v.delay)})()},o.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},o.prototype.render=function(l){var c,d;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,c=l.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(d=c.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),c.putImageData(d,0,0))},o}(self);const rTe=new Set(["jpg","png","bmp","gif"]),iTe=new Set(["S8","U8","S16","U16","S32","U32","F32","F64"]);async function nTe(e,t){var p;if(!oL)throw new R("rasterCoded:decode","lerc decoder is not supported on big endian platform");await Zee();const{offset:r,noDataValue:i}=t;let n=(p=t.pixelType)==null?void 0:p.toUpperCase();n&&!iTe.has(n)&&(n=null);const{width:s,height:a,pixelType:o,statistics:l,pixels:c,mask:d}=Qee(e,{inputOffset:r,noDataValue:i,pixelType:n,returnPixelInterleavedDims:t.returnPixelInterleavedDims});return new st({width:s,height:a,pixelType:o.toLowerCase(),pixels:c,mask:d,statistics:l})}async function sTe(e,t){const r=await eTe(e,t),i=new st({width:r.width,height:r.height,pixels:r.pixels,pixelType:r.pixelType.toLowerCase(),mask:r.mask,statistics:null});return i.updateStatistics(),i}async function aTe(e,t){const r=await X$e(e,t.customOptions),i=new st({width:r.width,height:r.height,pixels:r.pixels,pixelType:r.pixelType.toLowerCase(),mask:r.mask,statistics:null});return i.updateStatistics(),i}function tte(e,t){const r=t.pixelType||"u8",i=st.getPixelArrayConstructor(r),n=r==="u8"?e:new i(e.buffer),s=[],a=t.planes||1;if(a===1)s.push(n);else for(let l=0;l<a;l++){const c=(t.width||1)*(t.height||e.length),d=new i(c);for(let p=0;p<c;p++)d[p]=n[p*a+l];s.push(d)}const o=new st({width:t.width||1,height:t.height||e.length,pixels:s,pixelType:r,statistics:null});return o.updateStatistics(),o}function oTe(e,t){return tte(new Np(new Uint8Array(e)).getBytes(),t)}function lTe(e,t){return tte(sL(e,t.offset,t.eof,!t.isInputBigEndian),t)}function cTe(e,t,r){const{pixelTypeCtor:i}=hTe(t.pixelType),n=(0,O$e.decode)(e,{width:t.width,height:t.height,pixelType:i,format:r}),s=new st({width:t.width,height:t.height,pixels:n.pixels,pixelType:t.pixelType,mask:n.mask,statistics:null});return s.updateStatistics(),s}function uTe(e,t){const r=E$e.decode(e,t.hasNoZlibMask),i=new st({width:r.width,height:r.height,pixels:r.pixels,pixelType:"U8",mask:r.mask,statistics:null});return i.updateStatistics(),i}function dTe(e,t){const r=new Uint8Array(e),i=new tTe(r),{width:n,height:s}=t,a=n*s,o=i.decode();let l,c=0,d=0;const p=new Uint8Array(a);for(c=0;c<a;c++)p[c]=o[4*c+3];const h=new st({width:n,height:s,pixels:[],pixelType:"U8",mask:p,statistics:[]});for(c=0;c<3;c++){for(l=new Uint8Array(a),d=0;d<a;d++)l[d]=o[4*d+c];h.addData({pixels:l})}return h.updateStatistics(),h}async function fTe(e,t,r,i){const n=new nL,s={applyJpegMask:!1,format:t,...r},a=await n.decode(e,s,i),o=new st(a);return o.updateStatistics(),o}function rte(e){if(e==null)throw new R("rasterCodec:decode","parameter encodeddata is required.");const t=new Uint8Array(e,0,10);let r="";return t[0]===255&&t[1]===216?r="jpg":t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71?r="png":t[0]===67&&t[1]===110&&t[2]===116&&t[3]===90&&t[4]===73&&t[5]===109&&t[6]===97&&t[7]===103&&t[8]===101&&t[9]===32?r="lerc":t[0]===76&&t[1]===101&&t[2]===114&&t[3]===99&&t[4]===50&&t[5]===32?r="lerc2":t[0]===73&&t[1]===73&&t[2]===42&&t[3]===0||t[0]===77&&t[1]===77&&t[2]===0&&t[3]===42||t[0]===73&&t[1]===73&&t[2]===43&&t[3]===0||t[0]===77&&t[1]===77&&t[2]===0&&t[3]===43?r="tiff":t[0]===71&&t[1]===73&&t[2]===70?r="gif":t[0]===66&&t[1]===77?r="bmp":String.fromCharCode.apply(null,t).toLowerCase().includes("error")&&(r="error"),r}function pTe(e){let t=null;switch(e){case"lerc":case"lerc2":t=nTe;break;case"jpg":t=uTe;break;case"png":t=dTe;break;case"bsq":case"bip":t=(r,i)=>cTe(r,i,e);break;case"tiff":t=sTe;break;case"deflate":t=oTe;break;case"lzw":t=lTe;break;case"error":t=()=>{throw new R("rasterCodec:decode","input data contains error")};break;default:t=()=>{throw new R("rasterCodec:decode","unsupported raster format")}}return t}function hTe(e){let t=null,r=null;switch(e?e.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":r=255,t=Uint8Array;break;case"u16":r=r||65535,t=Uint16Array;break;case"u32":r=r||2**32-1,t=Uint32Array;break;case"s8":r=r||-128,t=Int8Array;break;case"s16":r=r||-32768,t=Int16Array;break;case"s32":r=r||0-2**31,t=Int32Array;break;default:t=Float32Array}return{pixelTypeCtor:t,noDataValue:r}}function mTe(e,t=1){if(!e)return;const{pixels:r,width:i,height:n,mask:s}=e;if(!r||r.length===0)return;const a=r.length,o=i-1,l=n-1,c=[];let d,p,h,m,g,b,w;const v=st.getPixelArrayConstructor(e.pixelType);if(t===0){for(d=0;d<a;d++){for(g=r[d],b=new v(o*l),p=0;p<l;p++)for(m=p*i,h=0;h<o;h++)b[p*o+h]=g[m+h];c.push(b)}if(s)for(w=new Uint8Array(o*l),p=0;p<l;p++)for(m=p*i,h=0;h<o;h++)w[p*o+h]=s[m+h]}else{for(d=0;d<a;d++){for(g=r[d],b=new v(o*l),p=0;p<l;p++)for(m=p*i,h=0;h<o;h++)b[p*o+h]=(g[m+h]+g[m+h+1]+g[m+i+h]+g[m+i+h+1])/4;c.push(b)}if(s)for(w=new Uint8Array(o*l),p=0;p<l;p++)for(m=p*i,h=0;h<o;h++)w[p*o+h]=Math.min.apply(null,[s[m+h],s[m+h+1],s[m+i+h],s[m+i+h+1]])}e.width=o,e.height=l,e.mask=w,e.pixels=c}function yTe(e){let t=rte(e);return t==="lerc2"?t="lerc":t==="error"&&(t=""),t}async function aV(e,t={},r){if(e==null)throw new R("rasterCodec:decode","missing encodeddata parameter.");let i,n,s=t.format&&t.format.toLowerCase();if(!(s!=="bsq"&&s!=="bip"||t.width!=null&&t.height!=null))throw new R("rasterCodec:decode","requires width and height in options parameter.");return s==="tiff"&&t.customOptions?aTe(e,t):((!s||s!=="bsq"&&s!=="bip"&&s!=="deflate"&&s!=="lzw")&&(s=rte(e)),t.useCanvas&&rTe.has(s)?n=await fTe(e,s,t,r):(i=pTe(s),t.isPoint&&((t={...t}).width++,t.height++),n=await i(e,t),t.isPoint&&mTe(n)),n)}const oV=new Le({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"});let d0=class extends Z{constructor(){super(...arguments),this.baseSymbol=null,this.colorRamp=null,this.type=null}};u([f({type:pn,json:{write:!0}})],d0.prototype,"baseSymbol",void 0),u([f({types:Bw,json:{read:{reader:Uw},write:!0}})],d0.prototype,"colorRamp",void 0),u([f({json:{read:oV.read,write:oV.write}})],d0.prototype,"type",void 0),d0=u([E("esri.rest.support.ClassificationDefinition")],d0);const dL=d0,lV=new Le({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),cV=new Le({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let Va=class extends dL{constructor(){super(...arguments),this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null,this.type="class-breaks-definition"}set standardDeviationInterval(e){this.classificationMethod==="standard-deviation"&&this._set("standardDeviationInterval",e)}set definedInterval(e){this.classificationMethod==="defined-interval"&&this._set("definedInterval",e)}};u([f({json:{write:!0}})],Va.prototype,"breakCount",void 0),u([f({json:{write:!0}})],Va.prototype,"classificationField",void 0),u([f({type:String,json:{read:lV.read,write:lV.write}})],Va.prototype,"classificationMethod",void 0),u([f({json:{write:!0}})],Va.prototype,"normalizationField",void 0),u([f({json:{read:cV.read,write:cV.write}})],Va.prototype,"normalizationType",void 0),u([f({value:null,json:{write:!0}})],Va.prototype,"standardDeviationInterval",null),u([f({value:null,json:{write:!0}})],Va.prototype,"definedInterval",null),u([f()],Va.prototype,"type",void 0),Va=u([E("esri.rest.support.ClassBreaksDefinition")],Va);const gTe=Va;function vh(e,t){return Number(e.toFixed(t))}function bTe(e){const t=nte(e),r=[],i=t.uniqueValues.length;for(let n=0;n<i;n++){const s=t.uniqueValues[n],a=t.valueFrequency[n],o=s.toString();r.push({value:s,count:a,label:o})}return{uniqueValues:r}}function ite(e){const{normalizationTotal:t}=e;return{classBreaks:vTe(e),normalizationTotal:t}}function vTe(e){const t=e.definition,{classificationMethod:r,breakCount:i,normalizationType:n,definedInterval:s}=t,a=[];let o=e.values;if(o.length===0)return[];o=o.sort((d,p)=>d-p);const l=o[0],c=o[o.length-1];if(r==="equal-interval")if(o.length>=i){const d=(c-l)/i;let p=l;for(let h=1;h<i;h++){const m=vh(l+h*d,6);a.push({minValue:p,maxValue:m,label:mn(p,m,n)}),p=m}a.push({minValue:p,maxValue:c,label:mn(p,c,n)})}else o.forEach(d=>{a.push({minValue:d,maxValue:d,label:mn(d,d,n)})});else if(r==="natural-breaks"){const d=nte(o),p=e.valueFrequency||d.valueFrequency,h=wTe(d.uniqueValues,p,i);let m=l;for(let g=1;g<i;g++)if(d.uniqueValues.length>g){const b=vh(d.uniqueValues[h[g]],6);a.push({minValue:m,maxValue:b,label:mn(m,b,n)}),m=b}a.push({minValue:m,maxValue:c,label:mn(m,c,n)})}else if(r==="quantile")if(o.length>=i&&l!==c){let d=l,p=Math.ceil(o.length/i),h=0;for(let m=1;m<i;m++){let g=p+h-1;g>o.length&&(g=o.length-1),g<0&&(g=0),a.push({minValue:d,maxValue:o[g],label:mn(d,o[g],n)}),d=o[g],h+=p,p=Math.ceil((o.length-h)/(i-m))}a.push({minValue:d,maxValue:c,label:mn(d,c,n)})}else{let d=-1;for(let p=0;p<o.length;p++){const h=o[p];h!==d&&(d=h,a.push({minValue:d,maxValue:h,label:mn(d,h,n)}),d=h)}}else if(r==="standard-deviation"){const d=xTe(o),p=MTe(o,d);if(p===0)a.push({minValue:o[0],maxValue:o[0],label:mn(o[0],o[0],n)});else{const h=STe(l,c,i,d,p)*p;let m=0,g=l;for(let w=i;w>=1;w--){const v=vh(d-(w-.5)*h,6);a.push({minValue:g,maxValue:v,label:mn(g,v,n)}),g=v,m++}let b=vh(d+.5*h,6);a.push({minValue:g,maxValue:b,label:mn(g,b,n)}),g=b,m++;for(let w=1;w<=i;w++)b=m===2*i?c:vh(d+(w+.5)*h,6),a.push({minValue:g,maxValue:b,label:mn(g,b,n)}),g=b,m++}}else if(r==="defined-interval"){if(!s)return a;const d=o[0],p=o[o.length-1],h=Math.ceil((p-d)/s);let m=d;for(let g=1;g<h;g++){const b=vh(d+g*s,6);a.push({minValue:m,maxValue:b,label:mn(m,b,n)}),m=b}a.push({minValue:m,maxValue:p,label:mn(m,p,n)})}return a}function mn(e,t,r){let i=null;return i=e===t?r&&r==="percent-of-total"?e+"%":e.toString():r&&r==="percent-of-total"?e+"% - "+t+"%":e+" - "+t,i}function nte(e){const t=[],r=[];let i=Number.MIN_VALUE,n=1,s=-1;for(let a=0;a<e.length;a++){const o=e[a];o===i?(n++,r[s]=n):o!==null&&(t.push(o),i=o,n=1,r.push(n),s++)}return{uniqueValues:t,valueFrequency:r}}function wTe(e,t,r){const i=e.length,n=[];r>i&&(r=i);for(let a=0;a<r;a++)n.push(Math.round(a*i/r-1));n.push(i-1);let s=uV(n,e,t,r);return _Te(s.mean,s.sdcm,n,e,t,r)&&(s=uV(n,e,t,r)),n}function uV(e,t,r,i){let n=[],s=[],a=[],o=0;const l=[],c=[];for(let m=0;m<i;m++){const g=G0(m,e,t,r);l.push(g.sbMean),c.push(g.sbSdcm),o+=c[m]}let d,p=o,h=!0;for(;h||o<p;){h=!1,n=[];for(let m=0;m<i;m++)n.push(e[m]);for(let m=0;m<i;m++)for(let g=e[m]+1;g<=e[m+1];g++)if(d=t[g],m>0&&g!==e[m+1]&&Math.abs(d-l[m])>Math.abs(d-l[m-1]))e[m]=g;else if(m<i-1&&e[m]!==g-1&&Math.abs(d-l[m])>Math.abs(d-l[m+1])){e[m+1]=g-1;break}p=o,o=0,s=[],a=[];for(let m=0;m<i;m++){s.push(l[m]),a.push(c[m]);const g=G0(m,e,t,r);l[m]=g.sbMean,c[m]=g.sbSdcm,o+=c[m]}}if(o>p){for(let m=0;m<i;m++)e[m]=n[m],l[m]=s[m],c[m]=a[m];o=p}return{mean:l,sdcm:c}}function _Te(e,t,r,i,n,s){let a=0,o=0,l=0,c=0,d=!0;for(let p=0;p<2&&d;p++){p===0&&(d=!1);for(let h=0;h<s-1;h++)for(;r[h+1]+1!==r[h+2];){r[h+1]=r[h+1]+1;const m=G0(h,r,i,n);l=m.sbMean,a=m.sbSdcm;const g=G0(h+1,r,i,n);if(c=g.sbMean,o=g.sbSdcm,!(a+o<t[h]+t[h+1])){r[h+1]=r[h+1]-1;break}t[h]=a,t[h+1]=o,e[h]=l,e[h+1]=c,d=!0}for(let h=s-1;h>0;h--)for(;r[h]!==r[h-1]+1;){r[h]=r[h]-1;const m=G0(h-1,r,i,n);l=m.sbMean,a=m.sbSdcm;const g=G0(h,r,i,n);if(c=g.sbMean,o=g.sbSdcm,!(a+o<t[h-1]+t[h])){r[h]=r[h]+1;break}t[h-1]=a,t[h]=o,e[h-1]=l,e[h]=c,d=!0}}return d}function STe(e,t,r,i,n){let s=Math.max(i-e,t-i)/n/r;return s=s>=1?1:s>=.5?.5:.25,s}function xTe(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r];return t/=e.length,t}function MTe(e,t){let r=0;for(let i=0;i<e.length;i++){const n=e[i];r+=(n-t)*(n-t)}return r/=e.length,Math.sqrt(r)}function G0(e,t,r,i){let n=0,s=0;for(let l=t[e]+1;l<=t[e+1];l++){const c=i[l];n+=r[l]*c,s+=c}s<=0&&console.log("Exception in Natural Breaks calculation");const a=n/s;let o=0;for(let l=t[e]+1;l<=t[e+1];l++)o+=i[l]*(r[l]-a)**2;return{sbMean:a,sbSdcm:o}}const ITe=.25,$Te=zw.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),dV=zw.fromJSON(Lee[0]),ste=new Set(["scientific","standard-time","vector-uv","vector-magdir","vector-u","vector-v","vector-magnitude","vector-direction"]);function TTe(e,t){const{attributeTable:r,colormap:i}=e;if(fL(e)){const n=zTe(e);if(C(n))return n}if(C(i)){const n=OTe(e);if(C(n))return n}if(C(r)){const n=RTe(e);if(C(n))return n}return ETe(e,t)}function CTe(e){const t=["raster-stretch"];return cte(e)&&t.push("raster-colormap"),lte(e)&&t.push("unique-value"),DTe(e)&&t.push("class-breaks"),FTe(e)&&t.push("raster-shaded-relief"),fL(e)&&t.push("vector-field"),jTe(e)&&t.push("flow"),t}function UPe(e,t,r){const i=["nearest","bilinear","cubic","majority"].find(n=>n===(r==null?void 0:r.toLowerCase()));return t==="Map"?i!=null?i:"bilinear":e.dataType==="standard-time"?i!=null?i:"nearest":e.dataType==="thematic"||e.attributeTable||e.colormap?i==="nearest"||i==="majority"?i:"nearest":i!=null?i:"bilinear"}function ETe(e,t){e=kTe(e,t==null?void 0:t.variableName);const{bandCount:r}=e;let{bandIds:i,stretchType:n}=t||{};i!=null&&i.some(p=>p>=r)&&(i=null);let s=e.statistics,a=e.histograms;r>1?(i=i!=null&&i.length?i:ate(e),s=s==null?null:i.map(p=>s[p]),a=a==null?null:i.map(p=>a[p])):i=[0],n==null&&(n=LTe(e));let o=!1;switch(n){case"none":o=!1;break;case"percent-clip":o=!(a!=null&&a.length);break;default:o=!(s!=null&&s.length)}const{dataType:l}=e,c=(i==null?void 0:i.length)===1&&ste.has(l)?$Te:null,d=new XA({stretchType:n,dynamicRangeAdjustment:o,colorRamp:c,outputMin:0,outputMax:255,gamma:i.length===1?[1]:[1,1,1],useGamma:!1});return n==="percent-clip"?d.maxPercent=d.minPercent=ITe:n==="standard-deviation"&&(d.numberOfStandardDeviations=2),o||!C(e.multidimensionalInfo)&&!(t!=null&&t.includeStatisticsInStretch)||(n==="percent-clip"?d.histograms=a:n!=="min-max"&&n!=="standard-deviation"||(d.statistics=s)),d}function kTe(e,t){if(t==null)return e;let r=e.statistics,i=e.histograms;const{multidimensionalInfo:n}=e;if(t&&C(n)){const s=n.variables.find(a=>a.name===t);if(s){const{statistics:a,histograms:o}=s;a!=null&&a.length&&(r=a),o!=null&&o.length&&(i=o)}}return e3.fromJSON({...e.toJSON(),statistics:r,histograms:i})}function ate(e){const t=e.bandCount;if(t===1)return null;if(t===2)return[0];const r=e.keyProperties&&e.keyProperties.BandProperties;let i;if(r&&r.length===t){const{red:n,green:s,blue:a,nir:o}=ATe(r);n!=null&&s!=null&&a!=null?i=[n,s,a]:o!=null&&n!=null&&s!=null&&(i=[o,n,s])}return!i&&t>=3&&(i=[0,1,2]),i}function ATe(e){var r;const t={};for(let i=0;i<e.length;i++){const n=e[i],s=(r=n.BandName)==null?void 0:r.toLowerCase();if(s==="red")t.red=i;else if(s==="green")t.green=i;else if(s==="blue")t.blue=i;else if(s==="nearinfrared"||s==="nearinfrared_1"||s==="nir")t.nir=i;else if(n.WavelengthMax&&n.WavelengthMin){const a=n.WavelengthMin,o=n.WavelengthMax;t.blue==null&&a>=410&&a<=480&&o>=480&&o<=540?t.blue=i:t.green==null&&a>=490&&a<=560&&o>=560&&o<=610?t.green=i:t.red==null&&a>=595&&a<=670&&o>=660&&o<=730?t.red=i:t.nir==null&&a>=700&&a<=860&&o>=800&&o<=950&&(t.nir=i)}}return t}function LTe(e){let t="percent-clip";const{pixelType:r,dataType:i,histograms:n,statistics:s}=e;return r!=="u8"||i!=="processed"&&C(n)&&C(s)?r==="u8"||i==="elevation"||ste.has(i)?t="min-max":C(n)?t="percent-clip":C(s)&&(t="min-max"):t="none",t}function RTe(e,t,r,i){if(!lte(e,t))return null;const{attributeTable:n,statistics:s}=e,a=ote(n,t),o=d1(n,"red"),l=d1(n,"green"),c=d1(n,"blue"),d=new Gw,p=[],h=new Set,m=!!(o&&l&&c);if(C(n))n.features.forEach(g=>{const b=g.attributes[a.name];if(!h.has(g.attributes[a.name])&&b!=null){h.add(b);const w=m&&(o.type==="single"||o.type==="double")&&(l.type==="single"||l.type==="double")&&(c.type==="single"||c.type==="double")&&!n.features.some(_=>_.attributes[o.name]>1||_.attributes[l.name]>1||_.attributes[c.name]>1),v=w?255:1;p.push(new Gm({value:g.attributes[a.name],label:g.attributes[a.name]+"",symbol:{type:"simple-fill",style:"solid",outline:null,color:new re(m?[g.attributes[o.name]*v,g.attributes[l.name]*v,g.attributes[c.name]*v,1]:[0,0,0,0])}}))}});else if(s!=null&&s[0])for(let g=s[0].min;g<=s[0].max;g++)p.push(new Gm({value:g,label:g.toString(),symbol:{type:"simple-fill",style:"solid",outline:null,color:new re([0,0,0,0])}}));if(p.sort((g,b)=>g.value&&typeof g.value.valueOf()=="string"?0:g.value>b.value?1:-1),!m){const g=Dp(dV,p.length);p.forEach((b,w)=>b.symbol.color=new re(g[w].slice(1,4))),d.colorRamp=dV}if(r||i){const g=r||Dp(i,p.length).map(b=>b.slice(1));p.forEach((b,w)=>b.symbol.color=new re(g[w])),d.colorRamp=i}return new Kp({field:a.name,uniqueValueInfos:p,authoringInfo:d})}function ote(e,t,r){let i;return C(e)?(i=t?e.fields.find(n=>t.toLowerCase()===n.name.toLowerCase()):PTe(e.fields),i||(r||(i=e.fields.find(n=>n.type==="string")),i||(i=d1(e,"value")))):i=new os({name:"value"}),i}function PTe(e){let t;for(let r=0;r<e.length;r++){const i=e[r].name.toLowerCase();if(e[r].type==="string"){if(i.startsWith("class")){t=e[r];break}t==null&&(i.endsWith("name")||i.endsWith("type"))&&(t=e[r])}}return t}function d1(e,t){return B(e)?null:e.fields.find(r=>r.name.toLowerCase()===t)}function lte(e,t){const{attributeTable:r,bandCount:i}=e;return B(r)&&NTe(e)?!0:!(B(r)||i>1||t&&r.fields.find(n=>n.name.toLowerCase()===t.toLowerCase())==null)}function cte(e){const{bandCount:t,colormap:r}=e;return C(r)&&r.length&&t===1}function OTe(e){if(!cte(e))return null;let t;const{attributeTable:r,colormap:i}=e;if(C(r)){const n=d1(r,"value"),s=ote(r,null,!0);s.type==="string"&&(t={},r.features.forEach(a=>{const o=a.attributes;t[o[n.name]]=s?o[s.name]:o[n.name]}))}return KA.createFromColormap(i,t)}function FTe(e){const{bandCount:t,dataType:r,pixelType:i}=e;return r==="elevation"||r==="generic"&&t===1&&(i==="s16"||i==="f32"||i==="f64")}function DTe(e){const{attributeTable:t,bandCount:r}=e;return r===1&&(C(t)||C(e.histograms))}function NTe(e){var t,r,i;return["u8","s8"].includes(e.pixelType)&&((r=(t=e.statistics)==null?void 0:t[0])==null?void 0:r.min)!=null&&((i=e.statistics[0])==null?void 0:i.max)!=null&&e.bandCount===1}function fL(e){const{dataType:t}=e;return t==="vector-uv"||t==="vector-magdir"}function jTe(e){const{dataType:t}=e;return t==="vector-uv"||t==="vector-magdir"}const VTe=new Map([["m/s","meter-per-second"],["km/h","kilometer-per-hour"],["knots","knots"],["ft/s","feet-per-second"],["mph","mile-per-hour"]]);function zTe(e){if(!fL(e))return null;let t;if(C(e.statistics)&&e.statistics.length&&(e.dataType==="vector-magdir"||e.dataType==="vector-uv")){const{minMagnitude:n,maxMagnitude:s}=UTe(e.dataType,e.statistics);t=[{type:"size",field:"Magnitude",minSize:10,maxSize:40,minDataValue:n,maxDataValue:s}]}const r=C(e.multidimensionalInfo)?VTe.get(e.multidimensionalInfo.variables[0].unit):null,i=new rL({visualVariables:t,inputUnit:r,rotationType:"geographic"});return i.visualVariables=[...i.sizeVariables,...i.rotationVariables],i}function fV(e){var t;return{color:(t=e.symbolLayers[0].material)==null?void 0:t.color,type:"esriSFS",style:"esriSFSSolid"}}function BTe(e){var t,r,i,n;if(e.type==="uniqueValue"){const s=e.uniqueValueInfos;return(r=(t=s[0].symbol)==null?void 0:t.symbolLayers)!=null&&r.length&&(e.uniqueValueInfos=s.map(a=>({value:a.value,label:a.label,symbol:a.symbol?fV(a.symbol):null}))),e}if(e.type==="classBreaks"){const s=e.classBreakInfos;return(n=(i=s[0].symbol)==null?void 0:i.symbolLayers)!=null&&n.length&&(e.classBreakInfos=s.map(a=>({classMinValue:a.classMinValue,classMaxValue:a.classMaxValue,label:a.label,symbol:a.symbol?fV(a.symbol):null}))),e}return e}function UTe(e,t){let r,i;if(e==="vector-magdir")r=t[0].min,i=t[0].max;else{const n=t[0].min,s=t[0].max,a=t[1].min,o=t[1].max;r=0,i=Math.max(Math.abs(n),Math.abs(a),Math.abs(s),Math.abs(o))}return{minMagnitude:r,maxMagnitude:i}}const pV={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},F_=1,GTe=[.299,.587,.114];function ute(e,t=256){t=Math.min(t,256);const{size:r,counts:i}=e,n=new Uint8Array(r),s=i.reduce((d,p)=>d+p/t,0);let a=0,o=0,l=0,c=s;for(let d=0;d<r;d++)if(l+=i[d],!(d<r-1&&l+i[d+1]<c)){for(;a<t-1&&c<l;)a++,c+=s;for(let p=o;p<=d;p++)n[p]=a;o=d+1}for(let d=o;d<r;d++)n[d]=t-1;return n}function hV(e){const{minCutOff:t,maxCutOff:r,gamma:i,pixelType:n}=e,s=e.outMin||0,a=e.outMax||255;if(!["u8","u16","s8","s16"].includes(n))return null;const o=t.length;let l,c,d=0;n==="s8"?d=-127:n==="s16"&&(d=-32767);let p=256;["u16","s16"].includes(n)&&(p=65536);const h=[],m=a-s;for(l=0;l<o;l++)h[l]=r[l]-t[l],r[l],t[l];const g=i&&i.length>=o,b=[];if(g)for(l=0;l<o;l++)i[l]>1?i[l]>2?b[l]=6.5+(i[l]-2)**2.5:b[l]=6.5+100*(2-i[l])**4:b[l]=1;let w;const v=[];let _,S,x;if(g)for(l=0;l<o;l++){for(x=[],c=0;c<p;c++)_=c+d,w=(_-t[l])/h[l],S=1,i[l]>1&&(S-=(1/m)**(w*b[l])),_<r[l]&&_>t[l]?x[c]=Math.floor(S*m*w**(1/i[l]))+s:_>=r[l]?x[c]=a:x[c]=s;v[l]=x}else for(l=0;l<o;l++){for(x=[],c=0;c<p;c++)_=c+d,_<=t[l]?x[c]=s:_>=r[l]?x[c]=a:x[c]=Math.floor((_-t[l])/h[l]*m)+s;v[l]=x}if(e.contrastOffset!=null){const M=qTe(e.contrastOffset,e.brightnessOffset);for(l=0;l<o;l++)for(x=v[l],c=0;c<p;c++)x[c]=M[x[c]]}return{lut:v,offset:d}}function qTe(e,t){const r=Math.min(Math.max(e,-100),100),i=Math.min(Math.max(t,-100),100),n=255,s=128;let a,o;const l=new Uint8Array(256);for(a=0;a<256;a++)r>0&&r<100?o=(200*a-100*n+2*n*i)/(2*(100-r))+s:r<=0&&r>-100?o=(200*a-100*n+2*n*i)*(100+r)/2e4+s:r===100?(o=200*a-100*n+(n+1)*(100-r)+2*n*i,o=o>0?n:0):r===-100&&(o=s),l[a]=o>n?n:o<0?0:o;return l}function HTe(e,t,r){const i=[];for(let n=0;n<t.length;n++){let s=0,a=0,o=0;"min"in t[n]?{min:s,max:a,avg:o}=t[n]:[s,a,o]=t[n];let l=o;e!=="u8"&&(l=255*(l-s)/(a-s)),r&&(l*=GTe[n]),i.push(WTe(l))}return i}function WTe(e){if(e<=0||e>=255)return F_;let t=0;e!==150&&(t=e<=150?45*Math.cos(.01047*e):17*Math.sin(.021*e));const r=255,i=e+t,n=Math.log(e/r),s=Math.log(i/r);if(s===0)return F_;const a=n/s;return isNaN(a)?F_:Math.min(9.9,Math.max(.01,a))}function JTe(e){var A;if(B(e)||!((A=e.pixels)!=null&&A.length))return null;e.statistics||e.updateStatistics();const{pixels:t,mask:r,pixelType:i,statistics:n}=e,s=e.width*e.height,a=t.length;let o,l,c,d,p;const h=[],m=[];let g,b,w,v,_,S,x,M,I,$;const T=256;for(d=0;d<a;d++){if(g=new Uint32Array(T),w=t[d],i==="u8")if(o=-.5,l=255.5,r)for(p=0;p<s;p++)r[p]&&g[w[p]]++;else for(p=0;p<s;p++)g[w[p]]++;else{if(o=n[d].minValue,l=n[d].maxValue,c=(l-o)/T,b=new Uint32Array(T+1),r)for(p=0;p<s;p++)r[p]&&b[Math.floor((w[p]-o)/c)]++;else for(p=0;p<s;p++)b[Math.floor((w[p]-o)/c)]++;for(p=0;p<255;p++)g[p]=b[p];g[255]=b[255]+b[256]}for(h.push({min:o,max:l,size:T,counts:g}),v=0,_=0,M=0,p=0;p<T;p++)v+=g[p],_+=p*g[p];for(I=_/v,p=0;p<T;p++)M+=g[p]*(p-I)**2;$=Math.sqrt(M/(v-1)),c=(l-o)/T,S=(I+.5)*c+o,x=$*c,m.push({min:o,max:l,avg:S,stddev:x})}return{statistics:m,histograms:h}}function GPe(e){const t=[];for(let r=0;r<e.length;r++){const{min:i,max:n,size:s,counts:a}=e[r];let o=0,l=0;for(let g=0;g<s;g++)o+=a[g],l+=g*a[g];const c=l/o;let d=0;for(let g=0;g<s;g++)d+=a[g]*(g-c)**2;const p=(n-i)/s,h=(c+.5)*p+i,m=Math.sqrt(d/(o-1))*p;t.push({min:i,max:n,avg:h,stddev:m})}return t}function bg(e,t){var T;const{pixelBlock:r,bandIds:i,returnHistogramLut:n,rasterInfo:s}=t;let a,o,l=e.stretchType;if(e.dra)if(l==="minMax"&&C(r)&&r.statistics)a=r.statistics.map(A=>[A.minValue,A.maxValue,0,0]);else{const A=JTe(r);a=C(A)?A.statistics:null,o=C(A)?A.histograms:null}else a=((T=e.statistics)==null?void 0:T.length)>0?e.statistics:s.statistics,o=e.histograms||s.histograms;l!=="percentClip"&&l!=="histogramEqualization"||(o==null?void 0:o.length)||(l="minMax");const c=(a==null?void 0:a.length)||(o==null?void 0:o.length)||s.bandCount,d=[],p=[];let h,m,g,b,w,v,_,S,x,M,I,$;switch(a&&!Array.isArray(a[0])&&(a=a.map(A=>[A.min,A.max,A.avg,A.stddev])),l){case"none":{const A=pV[s.pixelType]||pV.f32;for(S=0;S<c;S++)d[S]=A[0],p[S]=A[1]}break;case"minMax":for(S=0;S<c;S++)d[S]=a[S][0],p[S]=a[S][1];break;case"standardDeviation":for(S=0;S<c;S++)d[S]=a[S][2]-e.numberOfStandardDeviations*a[S][3],p[S]=a[S][2]+e.numberOfStandardDeviations*a[S][3],d[S]<a[S][0]&&(d[S]=a[S][0]),p[S]>a[S][1]&&(p[S]=a[S][1]);break;case"histogramEqualization":for(S=0;S<c;S++)d[S]=o[S].min,p[S]=o[S].max;break;case"percentClip":for(S=0;S<o.length;S++){for(h=o[S],w=new Uint32Array(h.size),b=[...h.counts],b.length>=20&&(b[0]=b[1]=b[2]=b[b.length-1]=b[b.length-2]=0),g=0,m=(h.max-h.min)/h.size,_=h.min===-.5&&m===1?.5:0,x=0;x<h.size;x++)g+=b[x],w[x]=g;for(v=(e.minPercent||0)*g/100,x=0;x<h.size;x++)if(w[x]>v){d[S]=h.min+m*(x+_);break}for(v=(1-(e.maxPercent||0)/100)*g,x=h.size-2;x>=0;x--)if(w[x]<v){p[S]=h.min+m*(x+2-_);break}}break;default:for(S=0;S<c;S++)d[S]=a[S][0],p[S]=a[S][1]}return l==="histogramEqualization"?(I=o[0].size||256,M=0,n&&($=o.map(A=>ute(A)))):(I=e.max||255,M=e.min||0),ZTe({minCutOff:d,maxCutOff:p,outMax:I,outMin:M,histogramLut:$},i)}function ZTe(e,t){if(t==null||t.length===0)return e;const r=Math.max.apply(null,t),{minCutOff:i,maxCutOff:n,outMin:s,outMax:a,histogramLut:o}=e;return i.length===t.length||i.length<=r?e:{minCutOff:t.map(l=>i[l]),maxCutOff:t.map(l=>n[l]),histogramLut:o?t.map(l=>o[l]):null,outMin:s,outMax:a}}function D_(e,t){var M;if(B(e)||!((M=e.pixels)!=null&&M.length))return e;const r=e.clone(),{pixels:i,mask:n}=r,{minCutOff:s,maxCutOff:a,gamma:o}=t,l=t.outMin||0,c=t.outMax||255,d=r.width*r.height,p=i.length;let h,m,g,b,w;const v=c-l,_=[];for(h=0;h<p;h++)_[h]=a[h]-s[h],a[h],s[h];const S=o&&o.length>=p,x=[];if(S)for(h=0;h<p;h++)o[h]>1?o[h]>2?x[h]=6.5+(o[h]-2)**2.5:x[h]=6.5+100*(2-o[h])**4:x[h]=1;if(S)if(n!=null){for(m=0;m<d;m++)if(n[m])for(h=0;h<p;h++)g=i[h][m],w=(g-s[h])/_[h],b=1,o[h]>1&&(b-=(1/v)**(w*x[h])),g<a[h]&&g>s[h]?i[h][m]=Math.floor(b*v*w**(1/o[h]))+l:g>=a[h]?i[h][m]=c:i[h][m]=l}else for(m=0;m<d;m++)for(h=0;h<p;h++)g=i[h][m],w=(g-s[h])/_[h],b=1,o[h]>1&&(b-=(1/v)**(w*x[h])),g<a[h]&&g>s[h]?i[h][m]=Math.floor(b*v*w**(1/o[h]))+l:g>=a[h]?i[h][m]=c:i[h][m]=l;else if(n!=null){for(m=0;m<d;m++)if(n[m])for(h=0;h<p;h++)g=i[h][m],g<a[h]&&g>s[h]?i[h][m]=Math.floor((g-s[h])/_[h]*v)+l:g>=a[h]?i[h][m]=c:i[h][m]=l}else for(m=0;m<d;m++)for(h=0;h<p;h++)g=i[h][m],g<a[h]&&g>s[h]?i[h][m]=Math.floor((g-s[h])/_[h]*v)+l:g>=a[h]?i[h][m]=c:i[h][m]=l;return r.pixelType="u8",r.updateStatistics(),r}function dte(e){let{altitude:t,azimuth:r}=e;const{hillshadeType:i,pixelSizePower:n,pixelSizeFactor:s,scalingType:a,isGCS:o,resolution:l}=e,c=i==="multi-directional"?2*e.zFactor:e.zFactor,{x:d,y:p}=l;let h=c/(8*d),m=c/(8*p);if(o&&c>.001&&(h/=111e3,m/=111e3),a==="adjusted")if(o){const j=111e3*d,V=111e3*p;h=(c+j**n*s)/(8*j),m=(c+V**n*s)/(8*V)}else h=(c+d**n*s)/(8*d),m=(c+p**n*s)/(8*p);let g=(90-t)*Math.PI/180,b=Math.cos(g),w=(360-r+90)*Math.PI/180,v=Math.sin(g)*Math.cos(w),_=Math.sin(g)*Math.sin(w);const S=[315,270,225,360,180,0],x=[60,60,60,60,60,90],M=new Float32Array([3,5,3,2,1,4]),I=M.reduce((j,V)=>j+V),$=M.map(j=>j/I),T=i==="multi-directional"?S.length:1,A=new Float32Array(6),P=new Float32Array(6),F=new Float32Array(6);if(i==="multi-directional")for(let j=0;j<T;j++)t=x[j],r=S[j],g=(90-t)*Math.PI/180,b=Math.cos(g),w=(360-r+90)*Math.PI/180,v=Math.sin(g)*Math.cos(w),_=Math.sin(g)*Math.sin(w),A[j]=b,P[j]=v,F[j]=_;else A.fill(b),P.fill(v),F.fill(_);return{resolution:l,factor:[h,m],sinZcosA:v,sinZsinA:_,cosZ:b,sinZcosAs:P,sinZsinAs:F,cosZs:A,weights:$,hillshadeType:["traditional","multi-directional"].indexOf(i)}}function QTe(e,t){if(!Sr(e))return e;const{width:r,height:i,mask:n}=e,s=new Uint8Array(r*i);n&&s.set(n);const{factor:a,sinZcosA:o,sinZsinA:l,cosZ:c,sinZcosAs:d,sinZsinAs:p,cosZs:h,weights:m}=dte(t),[g,b]=a,{hillshadeType:w}=t,v=e.pixels[0],_=new Uint8Array(r*i);let S,x,M,I,$,T,A,P;const F=1;for(let j=F;j<i-F;j++){const V=j*r;for(let z=F;z<r-F;z++){if(n&&!n[V+z]){_[V+z]=0;continue}let J=8;if(n&&(J=n[V-r+z-1]+n[V-r+z]+n[V-r+z+1]+n[V+z-1]+n[V+z+1]+n[V+r+z-1]+n[V+r+z]+n[V+r+z+1],J<7)){_[V+z]=0,s[V+z]=0;continue}J===7?(S=n[V-r+z-1]?v[V-r+z-1]:v[V+z],x=n[V-r+z]?v[V-r+z]:v[V+z],M=n[V-r+z+1]?v[V-r+z+1]:v[V+z],I=n[V+z-1]?v[V+z-1]:v[V+z],$=n[V+z+1]?v[V+z+1]:v[V+z],T=n[V+r+z-1]?v[V+r+z-1]:v[V+z],A=n[V+r+z]?v[V+r+z]:v[V+z],P=n[V+r+z+1]?v[V+r+z+1]:v[V+z]):(S=v[V-r+z-1],x=v[V-r+z],M=v[V-r+z+1],I=v[V+z-1],$=v[V+z+1],T=v[V+r+z-1],A=v[V+r+z],P=v[V+r+z+1]);const K=(M+$+$+P-(S+I+I+T))*g,Q=(T+A+A+P-(S+x+x+M))*b,U=Math.sqrt(1+K*K+Q*Q);let te=0;if(w==="traditional"){let H=255*(c+l*Q-o*K)/U;H<0&&(H=0),te=H}else{const H=p.length;for(let se=0;se<H;se++){let ue=255*(h[se]+p[se]*Q-d[se]*K)/U;ue<0&&(ue=0),te+=ue*m[se]}}_[V+z]=255&te}}for(let j=0;j<i;j++)_[j*r]=_[j*r+1],_[(j+1)*r-1]=_[(j+1)*r-2];for(let j=1;j<r-1;j++)_[j]=_[j+r],_[j+(i-1)*r]=_[j+(i-2)*r];return new st({width:r,height:i,pixels:[_],mask:n?s:null,pixelType:"u8",validPixelCount:e.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}function YTe(e,t,r,i){if(!Sr(e)||!Sr(t))return;const{min:n,max:s}=i,a=e.pixels[0],{pixels:o,mask:l}=t,c=o[0],d=255.00001/(s-n),p=new Uint8ClampedArray(c.length),h=new Uint8ClampedArray(c.length),m=new Uint8ClampedArray(c.length),g=r.length-1;for(let b=0;b<c.length;b++){if(l&&l[b]===0)continue;const w=Math.floor((c[b]-n)*d),[v,_]=r[w<0?0:w>g?g:w],S=a[b],x=S*_,M=x*(1-Math.abs(v%2-1)),I=S-x;switch(Math.floor(v)){case 0:p[b]=x+I,h[b]=M+I,m[b]=I;break;case 1:p[b]=M+I,h[b]=x+I,m[b]=I;break;case 2:p[b]=I,h[b]=x+I,m[b]=M+I;break;case 3:p[b]=I,h[b]=M+I,m[b]=x+I;break;case 4:p[b]=M+I,h[b]=I,m[b]=x+I;break;case 5:case 6:p[b]=x+I,h[b]=I,m[b]=M+I}}e.pixels=[p,h,m],e.updateStatistics()}const mV=ae.getLogger("esri.renderers.support.RasterSymbolizer");function KTe(e,t){const{attributeTable:r,bandCount:i}=e;return!(B(r)||i>1||t&&r.fields.find(n=>n.name.toLowerCase()===t.toLowerCase())==null)}function XTe(e){const{bandCount:t,dataType:r,pixelType:i}=e;return r==="elevation"||r==="generic"&&t===1&&(i==="s16"||i==="f32"||i==="f64")}function eCe(e){const{bandCount:t,colormap:r}=e;return C(r)&&r.length&&t===1}let Tf=class extends Z{constructor(e){super(e)}bind(){const{rendererJSON:e}=this;if(!e)return{success:!1};let t;switch(this.lookup={rendererJSON:{}},e.type){case"uniqueValue":t=this._updateUVRenderer(e);break;case"rasterColormap":t=this._updateColormapRenderer(e);break;case"rasterStretch":t=this._updateStretchRenderer(e);break;case"classBreaks":t=this._updateClassBreaksRenderer(e);break;case"rasterShadedRelief":t=this._updateShadedReliefRenderer(e);break;case"vectorField":t=this._updateVectorFieldRenderer();break;case"flowRenderer":t=this._updateFlowRenderer()}return t}symbolize(e){let t=e&&e.pixelBlock;if(!yV(t))return t;if(e.simpleStretchParams&&this.rendererJSON.type==="rasterStretch")return this.simpleStretch(t,e.simpleStretchParams);try{let r;switch(t.pixels.length>3&&(t=Bj(t,[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":r=this._symbolizeColormap(t);break;case"classBreaks":r=this._symbolizeClassBreaks(t);break;case"rasterStretch":r=this._symbolizeStretch(t,e.bandIds);break;case"rasterShadedRelief":{const{extent:i}=e,n=i.spatialReference.isGeographic,s={x:(i.xmax-i.xmin)/t.width,y:(i.ymax-i.ymin)/t.height};r=this._symbolizeShadedRelief(t,{isGCS:n,resolution:s});break}}return r}catch(r){return mV.error("symbolize",r.message),t}}simpleStretch(e,t){if(!yV(e))return e;try{return e.pixels.length>3&&(e=Bj(e,[0,1,2])),D_(e,t)}catch(r){return mV.error("symbolize",r.message),e}}generateWebGLParameters(e){var a;if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:o,offset:l}=((a=this.lookup)==null?void 0:a.colormapLut)||{};return{colormap:o,colormapOffset:l,type:"lut"}}const{pixelBlock:t,isGCS:r,resolution:i,bandIds:n}=e,{rendererJSON:s}=this;return s.type==="rasterStretch"?this._generateStretchWebGLParams(t,s,n):s.type==="rasterShadedRelief"?this._generateShadedReliefWebGLParams(s,r,i):s.type==="vectorField"?this._generateVectorFieldWebGLParams(s):null}_isLUTChanged(e){if(!this.lookup||!this.lookup.rendererJSON)return!0;if("colorRamp"in this.rendererJSON){const t=this.rendererJSON.colorRamp;return e?JSON.stringify(t)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):(this.rendererJSON,this.lookup.rendererJSON,JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(e){return this._isLUTChanged()&&!this.bind().success?e:C_(e,this.lookup.colormapLut)}_symbolizeClassBreaks(e){const{canUseIndexedLUT:t}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?e:t?C_(e,this.lookup.colormapLut):HIe(e,this.lookup.remapLut)}_symbolizeStretch(e,t){var p;const{rasterInfo:r}=this,{pixelType:i,bandCount:n}=r,s=this.rendererJSON,a=["u8","u16","s8","s16"].includes(i);let o,l;const{dra:c}=s,{gamma:d}=this.lookup;if(s.stretchType==="histogramEqualization"){const h=c?null:this.lookup.histogramLut,m=bg(s,{rasterInfo:r,pixelBlock:e,bandIds:t,returnHistogramLut:!h}),g=D_(e,{...m,gamma:d});l=Uj(g,{lut:c?m.histogramLut:h,offset:0})}else if(a){if(c){const h=bg(s,{rasterInfo:r,pixelBlock:e,bandIds:t});o=hV({pixelType:i,...h,gamma:d})}else if(this._isLUTChanged()){if(!this.bind().success)return e;o=this.lookup?this.lookup.stretchLut:null}else o=this.lookup?this.lookup.stretchLut:null;if(!o)return e;n>1&&(t==null?void 0:t.length)===((p=e)==null?void 0:p.pixels.length)&&(o==null?void 0:o.lut.length)===n&&(o={lut:t.map(h=>o.lut[h]),offset:o.offset}),l=Uj(e,o)}else{const h=bg(s,{rasterInfo:r,pixelBlock:e,bandIds:t});l=D_(e,{...h,gamma:d})}if(s.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return e;l=C_(l,this.lookup.colormapLut)}return l}_symbolizeShadedRelief(e,t){var o,l;const r=this.rendererJSON,i={...r,...t},n=QTe(e,i);if(!r.colorRamp)return n;let s;if(this._isLUTChanged(!0)){if(!this.bind().success)return n;s=this.lookup?this.lookup.hsvMap:null}else s=this.lookup?this.lookup.hsvMap:null;if(!s)return n;const a=(l=(o=this.rasterInfo.statistics)==null?void 0:o[0])!=null?l:{min:0,max:8e3};return YTe(n,e,s,a),n}_isVectorFieldData(){const{bandCount:e,dataType:t}=this.rasterInfo;return e===2&&(t==="vector-magdir"||t==="vector-uv")}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(e){const{bandCount:t,attributeTable:r,pixelType:i}=this.rasterInfo,n=e.field1;if(!n)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const s=e.defaultSymbol,a=t===1&&["u8","s8"].includes(i);if(!KTe(this.rasterInfo,n)&&!a)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const o=[];if(r){const c=r.fields.find(d=>d.name.toLowerCase()==="value");if(!c)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};r.features.forEach(d=>{var h,m;const p=(m=(h=e.uniqueValueInfos.find(g=>String(g.value)===String(d.attributes[n])))==null?void 0:h.symbol)==null?void 0:m.color;p?o.push([d.attributes[c.name]].concat(p)):s&&o.push([d.attributes[c.name]].concat(s.color))})}else{if(n.toLowerCase()!=="value")return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};e.uniqueValueInfos.forEach(c=>{var p;const d=(p=c==null?void 0:c.symbol)==null?void 0:p.color;d?o.push([parseInt(""+c.value,10)].concat(d)):s&&o.push([parseInt(""+c.value,10)].concat(s.color))})}if(o.length===0)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const l=mg({colormap:o});return this.lookup={rendererJSON:e,colormapLut:l},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(e){if(!eCe(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const t=e.colormapInfos.map(i=>[i.value].concat(i.color)).sort((i,n)=>i[0]-n[0]);if(!t||t.length===0)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const r=mg({colormap:t});return this.lookup={rendererJSON:e,colormapLut:r},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(e){if(!XTe(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(e.colorRamp){const t=Dp(e.colorRamp,256,!0),r=mg({colormap:t}),i=[],n=r.indexedColormap;for(let s=0;s<n.length;s+=4){const a=Fp({r:n[s],g:n[s+1],b:n[s+2]});i.push([a.h/60,a.s/100,255*a.v/100])}this.lookup={rendererJSON:e,colormapLut:r,hsvMap:i}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(e){const{attributeTable:t,pixelType:r}=this.rasterInfo,i=C(t)?t.fields.find(a=>a.name.toLowerCase()==="value"):null,n=C(t)?t.fields.find(a=>a.name.toLowerCase()===e.field.toLowerCase()):null,s=i!=null&&n!==null;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(r)||s,tableValueField:i,tableBreakField:n}}_updateClassBreaksRenderer(e){var p;const{attributeTable:t}=this.rasterInfo,{canUseIndexedLUT:r,tableValueField:i,tableBreakField:n}=this._analyzeClassBreaks(e),s=e.classBreakInfos;if(!(s!=null&&s.length))return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const a=s.sort((h,m)=>h.classMaxValue-m.classMaxValue),o=a[a.length-1];let l=e.minValue;if(!r){const h=[];for(let m=0;m<a.length;m++)h.push({value:(p=a[m].classMinValue)!=null?p:l,mappedColor:a[m].symbol.color}),l=a[m].classMaxValue;return h.push({value:o.classMaxValue,mappedColor:o.symbol.color}),this.lookup={rendererJSON:e,remapLut:h},this.canRenderInWebGL=!1,{success:!0}}const c=[];if(i!=null&&n!==null&&i!==n){const h=i.name,m=n.name,g=a[a.length-1],{classMaxValue:b}=g;l=e.minValue;for(const w of t.features){const v=w.attributes[h],_=w.attributes[m],S=_===b?g:_<l?null:a.find(({classMaxValue:x})=>x>_);S&&c.push([v].concat(S.symbol.color))}}else{l=Math.floor(e.minValue);for(let h=0;h<a.length;h++){const m=a[h];for(let g=l;g<m.classMaxValue;g++)c.push([g].concat(m.symbol.color));l=Math.ceil(m.classMaxValue)}o.classMaxValue===l&&c.push([o.classMaxValue].concat(o.symbol.color))}const d=mg({colormap:c,fillUnspecified:!1});return this.lookup={rendererJSON:e,colormapLut:d},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(e){return e==="percentClip"||e==="histogramEqualization"}_isValidRasterStatistics(e){return C(e)&&e.length>0&&e[0].min!=null&&e[0].max!=null}_updateStretchRenderer(e){var d,p;let{stretchType:t,dra:r}=e;if(!(t==="none"||((d=e.statistics)==null?void 0:d.length)||this._isValidRasterStatistics(this.rasterInfo.statistics)||r))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const i=e.histograms||this.rasterInfo.histograms;!this._isHistogramRequired(e.stretchType)||(i==null?void 0:i.length)||r||(t="minMax");const{computeGamma:n,useGamma:s,colorRamp:a}=e;let{gamma:o}=e;if(s&&n&&!(o!=null&&o.length)){const h=(p=e.statistics)!=null&&p.length?e.statistics:this.rasterInfo.statistics;o=HTe(this.rasterInfo.pixelType,h)}const l=this.rasterInfo.pixelType,c=!r&&["u8","u16","s8","s16"].includes(l);if(t==="histogramEqualization"){const h=i.map(m=>ute(m));this.lookup={rendererJSON:e,histogramLut:h}}else if(c){const h=bg(e,{rasterInfo:this.rasterInfo}),m=hV({pixelType:l,...h,gamma:s?o:null});this.lookup={rendererJSON:e,stretchLut:m}}if(a){const h=Dp(a,256,!0);this.lookup||(this.lookup={rendererJSON:e}),this.lookup.colormapLut=mg({colormap:h}),this.lookup.rendererJSON=e}return this.lookup.gamma=s&&(o==null?void 0:o.length)?o:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(e,t,r){let i=null,n=null;const s=this.lookup&&this.lookup.colormapLut;t.colorRamp&&s&&(i=s.indexedColormap,n=s.offset),t.stretchType==="histogramEqualization"&&(t={...t,stretchType:"minMax"});const{gamma:a}=this.lookup,o=!!(t.useGamma&&a&&a.some(_=>_!==1)),{minCutOff:l,maxCutOff:c,outMin:d,outMax:p}=bg(t,{rasterInfo:this.rasterInfo,pixelBlock:e,bandIds:r});let h=0;C(e)&&(h=e.getPlaneCount(),h===2&&((e=e.clone()).statistics=[e.statistics[0]],e.pixels=[e.pixels[0]]));const m=Math.min(3,(r==null?void 0:r.length)||h||this.rasterInfo.bandCount),g=new Float32Array(m),b=i||o?1:255;let w;for(w=0;w<m;w++)g[w]=(p-d)/(c[w]-l[w])/b;const v=new Float32Array(m);if(o)for(w=0;w<m;w++)a[w]>1?a[w]>2?v[w]=6.5+(a[w]-2)**2.5:v[w]=6.5+100*(2-a[w])**4:v[w]=1;return{bandCount:m,outMin:d/b,outMax:p/b,minCutOff:l,maxCutOff:c,factor:g,useGamma:o,gamma:o?a:[1,1,1],gammaCorrection:o?v:[1,1,1],colormap:i,colormapOffset:n,stretchType:t.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(e,t,r){var c,d,p;let i=null,n=null;const s=this.lookup&&this.lookup.colormapLut;e.colorRamp&&s&&(i=s.indexedColormap,n=s.offset);const a={...e,isGCS:t,resolution:r},o=dte(a),l=(c=this.rasterInfo.statistics)==null?void 0:c[0];return{...o,minValue:(d=l==null?void 0:l.min)!=null?d:0,maxValue:(p=l==null?void 0:l.max)!=null?p:8e3,hillshadeType:e.hillshadeType==="traditional"?0:1,type:"hillshade",colormap:i,colormapOffset:n}}_generateVectorFieldWebGLParams(e){var v,_,S,x,M,I,$,T;const{style:t,inputUnit:r,outputUnit:i,visualVariables:n,symbolTileSize:s,flowRepresentation:a}=e;let o;const l=(_=(v=this.rasterInfo.statistics)==null?void 0:v[0].min)!=null?_:0,c=(x=(S=this.rasterInfo.statistics)==null?void 0:S[0].max)!=null?x:50,d=(M=n==null?void 0:n.find(A=>A.type==="sizeInfo"))!=null?M:{type:"sizeInfo",field:"Magnitude",maxDataValue:c,maxSize:.8*s,minDataValue:l,minSize:.2*s},p=(I=d.minDataValue)!=null?I:l,h=($=d.maxDataValue)!=null?$:c,m=C(d.maxSize)&&C(d.minSize)?[d.minSize/s,d.maxSize/s]:[.2,.8];if(t==="wind_speed"){const A=(m[0]+m[1])/2;m[0]=m[1]=A}const g=C(p)&&C(h)?[p,h]:null;if(t==="classified_arrow")if(C(p)&&C(h)&&C(d)){o=[];const A=(d.maxDataValue-d.minDataValue)/5;for(let P=0;P<6;P++)o.push(d.minDataValue+A*P)}else o=[0,1e-6,3.5,7,10.5,14];const b=a==="flow_to"==(t==="ocean_current_kn"||t==="ocean_current_m")?0:Math.PI,w=n==null?void 0:n.find(A=>A.type==="rotationInfo");return{breakValues:o,dataRange:g,inputUnit:r,outputUnit:i,symbolTileSize:s,symbolPercentRange:m,style:t||"single_arrow",rotation:b,rotationType:((T=this.rasterInfo.storageInfo)==null?void 0:T.tileInfo)&&this.rasterInfo.dataType==="vector-uv"?"geographic":(w==null?void 0:w.rotationType)||e.rotationType,type:"vectorField"}}};function yV(e){return Sr(e)&&e.validPixelCount!==0}u([f({json:{write:!0}})],Tf.prototype,"rendererJSON",void 0),u([f({type:e3,json:{write:!0}})],Tf.prototype,"rasterInfo",void 0),u([f({json:{write:!0}})],Tf.prototype,"lookup",void 0),u([f()],Tf.prototype,"canRenderInWebGL",void 0),Tf=u([E("esri.renderers.support.RasterSymbolizer")],Tf);const tCe=Tf;let f0=class extends Z{constructor(){super(...arguments),this.north=null,this.up=null,this.spatialReference=null}};u([f({type:Number,json:{write:!0}})],f0.prototype,"north",void 0),u([f({type:Number,json:{write:!0}})],f0.prototype,"up",void 0),u([f({type:Ce,json:{write:!0}})],f0.prototype,"spatialReference",void 0),f0=u([E("esri.rest.support.ImageAngleResult")],f0);const rCe=f0;let za=class extends Z{constructor(){super(...arguments),this.catalogItemVisibilities=null,this.catalogItems=null,this.location=null,this.name=null,this.objectId=null,this.processedValues=null,this.properties=null,this.value=null}};u([f({json:{write:!0}})],za.prototype,"catalogItemVisibilities",void 0),u([f({type:Ss,json:{write:!0}})],za.prototype,"catalogItems",void 0),u([f({type:be,json:{write:!0}})],za.prototype,"location",void 0),u([f({json:{write:!0}})],za.prototype,"name",void 0),u([f({json:{write:!0}})],za.prototype,"objectId",void 0),u([f({json:{write:!0}})],za.prototype,"processedValues",void 0),u([f({json:{write:!0}})],za.prototype,"properties",void 0),u([f({json:{write:!0}})],za.prototype,"value",void 0),za=u([E("esri.rest.support.ImageIdentifyResult")],za);const iCe=za;let b9=class extends Z{constructor(){super(...arguments),this.geometries=null}};u([f({json:{write:!0}})],b9.prototype,"geometries",void 0),b9=u([E("esri.rest.support.ImagePixelLocationResult")],b9);const nCe=b9;let Gl=class extends Z{constructor(){super(...arguments),this.attributes=null,this.location=null,this.locationId=null,this.rasterId=null,this.resolution=null,this.pixelValue=null}};u([f({json:{write:!0}})],Gl.prototype,"attributes",void 0),u([f({type:be,json:{write:!0}})],Gl.prototype,"location",void 0),u([f({json:{write:!0}})],Gl.prototype,"locationId",void 0),u([f({json:{write:!0}})],Gl.prototype,"rasterId",void 0),u([f({json:{write:!0}})],Gl.prototype,"resolution",void 0),u([f({json:{write:!0}})],Gl.prototype,"pixelValue",void 0),Gl=u([E("esri.rest.support.ImageSample")],Gl);const sCe=Gl;let v9=class extends Z{constructor(){super(...arguments),this.samples=null}};u([f({type:[sCe],json:{write:!0}})],v9.prototype,"samples",void 0),v9=u([E("esri.rest.support.ImageSampleResult")],v9);const aCe=v9;function fte(e){const t=e==null?void 0:e.time;if(t&&(t.start!=null||t.end!=null)){const r=[];t.start!=null&&r.push(t.start),t.end==null||r.includes(t.end)||r.push(t.end),e.time=r.join(",")}}async function pte(e,t,r){const i=Mr(e),n=t.geometry?[t.geometry]:[],s=await Jp(n),a=t.toJSON();fte(a);const o=s&&s[0];C(o)&&(a.geometry=o.toJSON());const l=Td({...i.query,f:"json",...a});return Wp(l,r)}async function oCe(e,t,r){var l;const i=t.toJSON();C(i.angleName)&&(i.angleName=i.angleName.join(",")),C(t.point)&&((l=t.point.spatialReference)==null?void 0:l.imageCoordinateSystem)&&(i.point.spatialReference=pL(t.point.spatialReference)),C(t.spatialReference)&&t.spatialReference.imageCoordinateSystem&&(i.spatialReference=hte(t.spatialReference));const n=Mr(e),s=Td({...n.query,f:"json",...i}),a=Wp(s,r),{data:o}=await $e(`${n.path}/computeAngles`,a);return o.spatialReference=o.spatialReference?o.spatialReference.geodataXform!=null?new Ce({wkid:0,imageCoordinateSystem:o.spatialReference}):Ce.fromJSON(o.spatialReference):null,o.north==="NaN"&&(o.north=null),o.up==="NaN"&&(o.up=null),new rCe(o)}async function lCe(e,t,r){var c;const i=t.toJSON(),{geometries:n}=t;for(let d=0;d<n.length;d++)(c=n[d].spatialReference)!=null&&c.imageCoordinateSystem&&(i.geometries.geometries[d].spatialReference=pL(n[d].spatialReference));const s=Mr(e),a=Td({...s.query,f:"json",...i}),o=Wp(a,r),{data:l}=await $e(`${s.path}/computePixelLocation`,o);return nCe.fromJSON(l)}async function cCe(e,t,r){const i=await pte(e,t,r),n=Mr(e),{data:s}=await $e(`${n.path}/computeStatisticsHistograms`,i),{statistics:a}=s;return a!=null&&a.length&&a.forEach(o=>{o.avg=o.mean,o.stddev=o.standardDeviation}),{statistics:a,histograms:s.histograms}}async function uCe(e,t,r){const i=await pte(e,t,r),n=Mr(e),{data:s}=await $e(`${n.path}/computeHistograms`,i);return{histograms:s.histograms}}async function dCe(e,t,r){var d,p,h;const i=t.toJSON();fte(i),(d=i.outFields)!=null&&d.length&&(i.outFields=i.outFields.join(","));const n=(p=await Jp(t.geometry))==null?void 0:p[0];C(n)&&(i.geometry=n.toJSON());const s=Mr(e),a=Td({...s.query,f:"json",...i}),o=Wp(a,r),{data:l}=await $e(`${s.path}/getSamples`,o),c=(h=l==null?void 0:l.samples)==null?void 0:h.map(m=>{const g=m.value==="NaN"||m.value===""?null:m.value.split(" ").map(b=>Number(b));return{...m,pixelValue:g}});return aCe.fromJSON({samples:c})}async function gV(e,t,r){const i=Mr(e),n=t.geometry?[t.geometry]:[];return Jp(n).then(s=>{const a=t.toJSON(),o=s&&s[0];C(o)&&(a.geometry=JSON.stringify(o.toJSON()));const l=Td({...i.query,f:"json",...a}),c=Wp(l,r);return $e(i.path+"/identify",c)}).then(s=>iCe.fromJSON(s.data))}function pL(e){const{imageCoordinateSystem:t}=e;if(t){const{id:r,referenceServiceName:i}=t;return r!=null?i?{icsid:r,icsns:i}:{icsid:r}:{ics:t}}return e.toJSON()}function hte(e,t){const r=pL(e),{icsid:i,icsns:n,wkid:s}=r;return i!=null?n==null||(t==null?void 0:t.toLowerCase().includes("/"+n.toLowerCase()+"/"))?`0:${i}`:JSON.stringify(r):s?s.toString():JSON.stringify(r)}async function mte(e,t,r){const i=Mr(e);return aZ(i,Ht.from(t),{...r}).then(n=>n.data.count)}async function yte(e,t,r){const i=Mr(e);return sZ(i,Ht.from(t),{...r}).then(n=>n.data.objectIds)}async function gte(e,t,r){var V,z,J,K,Q,U,te;const i=Mr(e),{renderingRule:n,sourceJSON:s}=t||{},a=n?JSON.stringify(n.rasterFunctionDefinition||n):null,o=Td({...i.query,renderingRule:a,f:"json"}),l=Wp(o,r);e=i.path;const c=s||await $e(e,l).then(H=>H.data),d=c.hasRasterAttributeTable?$e(`${e}/rasterAttributeTable`,l):null,p=c.hasColormap?$e(`${e}/colormap`,l):null,h=c.hasHistograms?$e(`${e}/histograms`,l):null,m=c.currentVersion>=10.3?$e(`${e}/keyProperties`,l):null,g=c.hasMultidimensions?$e(`${e}/multidimensionalInfo`,l):null,b=await Promise.allSettled([d,p,h,m,g]);let w=null;if(c.minValues&&c.minValues.length===c.bandCount){w=[];for(let H=0;H<c.minValues.length;H++)w.push({min:c.minValues[H],max:c.maxValues[H],avg:c.meanValues[H],stddev:c.stdvValues[H]})}const v=Ve.fromJSON(c.extent),_=Math.ceil(v.width/c.pixelSizeX-.1),S=Math.ceil(v.height/c.pixelSizeY-.1),x=Ce.fromJSON(c.spatialReference||c.extent.spatialReference),M=b[0].status==="fulfilled"&&b[0].value?Ss.fromJSON(b[0].value.data):null,I=b[1].status==="fulfilled"?(V=b[1].value)==null?void 0:V.data.colormap:null,$=b[2].status==="fulfilled"?(z=b[2].value)==null?void 0:z.data.histograms:null,T=b[3].status==="fulfilled"?(K=(J=b[3].value)==null?void 0:J.data)!=null?K:{}:{},A=b[4].status==="fulfilled"?(Q=b[4].value)==null?void 0:Q.data.multidimensionalInfo:null;(U=A==null?void 0:A.variables)!=null&&U.length&&A.variables.forEach(H=>{var se;(se=H.statistics)!=null&&se.length&&H.statistics.forEach(ue=>{ue.avg=ue.mean,ue.stddev=ue.standardDeviation})});const{defaultVariable:P,serviceDataType:F}=c;P&&P!==T.DefaultVariable&&(T.DefaultVariable=P),F&&F.includes("esriImageServiceDataTypeVector")&&!F.includes(T.DataType)&&(T.DataType=F.replace("esriImageServiceDataType",""));let j=c.noDataValue;return((te=c.noDataValues)==null?void 0:te.length)&&c.noDataValues.some(H=>H!==j)&&(j=c.noDataValues),new e3({width:_,height:S,bandCount:c.bandCount,extent:Ve.fromJSON(c.extent),spatialReference:x,pixelSize:new be({x:c.pixelSizeX,y:c.pixelSizeY,spatialReference:x}),pixelType:c.pixelType.toLowerCase(),statistics:w,attributeTable:M,colormap:I,histograms:$,keyProperties:T,noDataValue:j,multidimensionalInfo:A})}function fCe(e,t,r){return gte(e,{sourceJSON:t},r)}function pCe(e,t,r){return gte(e,{renderingRule:t},r)}async function hCe(e,t,r){var x,M;const i=Mr(e),n=Td({...i.query,f:"json"}),s=Wp(n,r),a=`${i.path}/${t}/info`,o=$e(`${a}`,s),l=$e(`${a}/keyProperties`,s),c=await Promise.allSettled([o,l]),d=c[0].status==="fulfilled"?c[0].value.data:null,p=c[1].status==="fulfilled"?c[1].value.data:null;let h=null;(x=d.statistics)!=null&&x.length&&(h=d.statistics.map(I=>({min:I[0],max:I[1],avg:I[2],stddev:I[3]})));const m=Ve.fromJSON(d.extent),g=Math.ceil(m.width/d.pixelSizeX-.1),b=Math.ceil(m.height/d.pixelSizeY-.1),w=m.spatialReference,v=new be({x:d.pixelSizeX,y:d.pixelSizeY,spatialReference:w}),_=(M=d.histograms)!=null&&M.length?d.histograms:null,S=new Gee({origin:d.origin,blockWidth:d.blockWidth,blockHeight:d.blockHeight,firstPyramidLevel:d.firstPyramidLevel,maximumPyramidLevel:d.maxPyramidLevel});return new e3({width:g,height:b,bandCount:d.bandCount,extent:m,spatialReference:w,pixelSize:v,pixelType:d.pixelType.toLowerCase(),statistics:h,histograms:_,keyProperties:p,storageInfo:S})}var IT;let Cf=IT=class extends Z{constructor(){super(...arguments),this.angleNames=null,this.point=null,this.spatialReference=null,this.rasterId=null}clone(){return new IT(D({angleNames:this.angleNames,point:this.point,spatialReference:this.spatialReference,rasterId:this.rasterId}))}};u([f({type:[String],json:{name:"angleName",write:!0}})],Cf.prototype,"angleNames",void 0),u([f({type:be,json:{write:!0}})],Cf.prototype,"point",void 0),u([f({type:Ce,json:{write:!0}})],Cf.prototype,"spatialReference",void 0),u([f({type:Xe,json:{write:!0}})],Cf.prototype,"rasterId",void 0),Cf=IT=u([E("esri.rest.support.ImageAngleParameters")],Cf);const mCe=Cf;var $T;let No=$T=class extends Z{constructor(){super(...arguments),this.geometry=null,this.mosaicRule=null,this.renderingRule=null,this.pixelSize=null,this.raster=void 0,this.timeExtent=null}writeGeometry(e,t,r){e!=null&&(t.geometryType=Md(e),t[r]=e.toJSON())}clone(){return new $T(D({geometry:this.geometry,mosaicRule:this.mosaicRule,renderingRule:this.renderingRule,pixelSize:this.pixelSize,raster:this.raster,timeExtent:this.timeExtent}))}};u([f({types:xc,json:{read:tl}})],No.prototype,"geometry",void 0),u([ce("geometry")],No.prototype,"writeGeometry",null),u([f({type:Zs,json:{write:!0}})],No.prototype,"mosaicRule",void 0),u([f({type:gt,json:{write:!0}})],No.prototype,"renderingRule",void 0),u([f({type:be,json:{write:!0}})],No.prototype,"pixelSize",void 0),u([f({json:{write:!0}})],No.prototype,"raster",void 0),u([f({type:$s,json:{read:{source:"time"},write:{target:"time"}}})],No.prototype,"timeExtent",void 0),No=$T=u([E("esri.rest.support.ImageHistogramParameters")],No);const bV=No;var TT;let cr=TT=class extends Z{constructor(){super(...arguments),this.geometry=null,this.renderingRules=null,this.pixelSize=null,this.returnGeometry=!0,this.returnCatalogItems=!0,this.returnPixelValues=!0,this.maxItemCount=null,this.timeExtent=null,this.raster=void 0,this.viewId=void 0,this.processAsMultidimensional=!1}writeGeometry(e,t,r){e!=null&&(t.geometryType=Md(e),t[r]=JSON.stringify(e.toJSON()))}set mosaicRule(e){let t=e;t&&t.mosaicMethod&&(t=Zs.fromJSON({...t.toJSON(),mosaicMethod:t.mosaicMethod,mosaicOperation:t.mosaicOperation})),this._set("mosaicRule",t)}writeMosaicRule(e,t,r){e!=null&&(t[r]=JSON.stringify(e.toJSON()))}set renderingRule(e){let t=e;t&&t.rasterFunction&&(t=gt.fromJSON({...t.toJSON(),rasterFunction:t.rasterFunction,rasterFunctionArguments:t.rasterFunctionArguments})),this._set("renderingRule",t)}writeRenderingRule(e,t,r){e!=null&&(t[r]=JSON.stringify(e.toJSON())),e.rasterFunctionDefinition&&(t[r]=JSON.stringify(e.rasterFunctionDefinition))}writeRenderingRules(e,t,r){e!=null&&(t[r]=JSON.stringify(e.map(i=>i.rasterFunctionDefinition||i.toJSON())))}writePixelSize(e,t,r){e!=null&&(t[r]=JSON.stringify(e))}writeTimeExtent(e,t,r){if(e!=null){const i=C(e.start)?e.start.getTime():null,n=C(e.end)?e.end.getTime():null;t[r]=i!=null?n!=null?`${i},${n}`:`${i}`:null}}clone(){return new TT(D({geometry:this.geometry,mosaicRule:this.mosaicRule,renderingRule:this.renderingRule,pixelSize:this.pixelSize,returnGeometry:this.returnGeometry,returnCatalogItems:this.returnCatalogItems,returnPixelValues:this.returnPixelValues,maxItemCount:this.maxItemCount,processAsMultidimensional:this.processAsMultidimensional,raster:this.raster,viewId:this.viewId,timeExtent:this.timeExtent}))}};u([f({json:{write:!0}})],cr.prototype,"geometry",void 0),u([ce("geometry")],cr.prototype,"writeGeometry",null),u([f({type:Zs,json:{write:!0}})],cr.prototype,"mosaicRule",null),u([ce("mosaicRule")],cr.prototype,"writeMosaicRule",null),u([f({type:gt,json:{write:!0}})],cr.prototype,"renderingRule",null),u([ce("renderingRule")],cr.prototype,"writeRenderingRule",null),u([f({type:[gt],json:{write:!0}})],cr.prototype,"renderingRules",void 0),u([ce("renderingRules")],cr.prototype,"writeRenderingRules",null),u([f({type:be,json:{write:!0}})],cr.prototype,"pixelSize",void 0),u([ce("pixelSize")],cr.prototype,"writePixelSize",null),u([f({type:Boolean,json:{write:!0}})],cr.prototype,"returnGeometry",void 0),u([f({type:Boolean,json:{write:!0}})],cr.prototype,"returnCatalogItems",void 0),u([f({type:Boolean,json:{write:!0}})],cr.prototype,"returnPixelValues",void 0),u([f({type:Number,json:{write:!0}})],cr.prototype,"maxItemCount",void 0),u([f({type:$s,json:{write:{target:"time"}}})],cr.prototype,"timeExtent",void 0),u([ce("timeExtent")],cr.prototype,"writeTimeExtent",null),u([f({json:{write:!0}})],cr.prototype,"raster",void 0),u([f({json:{write:!0}})],cr.prototype,"viewId",void 0),u([f({type:Boolean,json:{write:!0}})],cr.prototype,"processAsMultidimensional",void 0),cr=TT=u([E("esri.rest.support.ImageIdentifyParameters")],cr);const vV=cr;var CT;let p0=CT=class extends Z{constructor(){super(...arguments),this.geometries=null,this.rasterId=null}writeGeometry(e,t,r){t.geometries={geometryType:"esriGeometryPoint",geometries:e.map(i=>i.toJSON())}}clone(){return new CT({geometries:this.geometries.map(e=>e.clone()),rasterId:this.rasterId})}};u([f({type:[be],json:{write:!0}})],p0.prototype,"geometries",void 0),u([ce("geometries")],p0.prototype,"writeGeometry",null),u([f({type:Xe,json:{write:!0}})],p0.prototype,"rasterId",void 0),p0=CT=u([E("esri.rest.support.ImagePixelLocationParameters")],p0);const yCe=p0;var ET;let Ai=ET=class extends Z{constructor(){super(...arguments),this.geometry=null,this.interpolation="nearest",this.mosaicRule=null,this.outFields=null,this.pixelSize=null,this.returnFirstValueOnly=!0,this.sampleDistance=null,this.sampleCount=null,this.sliceId=null,this.timeExtent=null}writeGeometry(e,t,r){e!=null&&(t.geometryType=Md(e),t[r]=e.toJSON())}set locations(e){if(e!=null&&e.length){const t=new Bp({spatialReference:e[0].spatialReference});t.points=e.map(r=>[r.x,r.y]),this._set("locations",e),this.geometry=t}}clone(){return new ET(D({geometry:this.geometry,locations:this.locations,interpolation:this.interpolation,mosaicRule:this.mosaicRule,outFields:this.outFields,raster:this.raster,returnFirstValueOnly:this.returnFirstValueOnly,sampleDistance:this.sampleDistance,sampleCount:this.sampleCount,sliceId:this.sliceId,pixelSize:this.pixelSize,timeExtent:this.timeExtent}))}};u([f({types:xc,json:{read:tl}})],Ai.prototype,"geometry",void 0),u([ce("geometry")],Ai.prototype,"writeGeometry",null),u([f()],Ai.prototype,"locations",null),u([f({type:String,json:{type:dd.jsonValues,read:dd.read,write:dd.write}})],Ai.prototype,"interpolation",void 0),u([f({type:Zs,json:{write:!0}})],Ai.prototype,"mosaicRule",void 0),u([f({type:[String],json:{write:!0}})],Ai.prototype,"outFields",void 0),u([f({type:be,json:{write:!0}})],Ai.prototype,"pixelSize",void 0),u([f({type:String,json:{write:!0}})],Ai.prototype,"raster",void 0),u([f({type:Boolean,json:{write:!0}})],Ai.prototype,"returnFirstValueOnly",void 0),u([f({type:Number,json:{write:!0}})],Ai.prototype,"sampleDistance",void 0),u([f({type:Number,json:{write:!0}})],Ai.prototype,"sampleCount",void 0),u([f({type:Number,json:{write:!0}})],Ai.prototype,"sliceId",void 0),u([f({type:$s,json:{read:{source:"time"},write:{target:"time"}}})],Ai.prototype,"timeExtent",void 0),Ai=ET=u([E("esri.rest.support.ImageSampleParameters")],Ai);const gCe=Ai,Qa=ae.getLogger("esri.views.2d.engine.flow.dataUtils"),bCe=10;async function vCe(e,t,r,i){const n=performance.now(),s=wCe(t,r),a=performance.now(),o=SCe(t,s,r.width,r.height),l=performance.now(),c=MCe(o,!0),d=performance.now(),p=e==="Streamlines"?ICe(c,bCe):$Ce(c),h=performance.now();return W("esri-2d-profiler")&&(Qa.info("I.1","_createFlowFieldFromData (ms)",Math.round(a-n)),Qa.info("I.2","_getStreamlines (ms)",Math.round(l-a)),Qa.info("I.3","createAnimatedLinesData (ms)",Math.round(d-l)),Qa.info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(h-d)),Qa.info("I.5","createFlowMesh (ms)",Math.round(h-n)),Qa.info("I.6","Mesh size (bytes)",p.vertexData.buffer.byteLength+p.indexData.buffer.byteLength)),await Promise.resolve(),Ge(i),p}function wCe(e,t){const r=xCe(t.data,t.width,t.height,e.smoothing);return e.interpolate?(i,n)=>{const s=Math.floor(i),a=Math.floor(n);if(s<0||s>=t.width)return[0,0];if(a<0||a>=t.height)return[0,0];const o=i-s,l=n-a,c=s,d=a,p=s<t.width-1?s+1:s,h=a<t.height-1?a+1:a,m=r[2*(d*t.width+c)],g=r[2*(d*t.width+p)],b=r[2*(h*t.width+c)],w=r[2*(h*t.width+p)],v=r[2*(d*t.width+c)+1],_=r[2*(d*t.width+p)+1];return[(m*(1-l)+b*l)*(1-o)+(g*(1-l)+w*l)*o,(v*(1-l)+r[2*(h*t.width+c)+1]*l)*(1-o)+(_*(1-l)+r[2*(h*t.width+p)+1]*l)*o]}:(i,n)=>{const s=Math.round(i),a=Math.round(n);return s<0||s>=t.width||a<0||a>=t.height?[0,0]:[r[2*(a*t.width+s)+0],r[2*(a*t.width+s)+1]]}}function _Ce(e,t,r,i,n,s,a,o,l){const c=[];let d=r,p=i,h=0,[m,g]=t(d,p);m*=e.velocityScale,g*=e.velocityScale;const b=Math.sqrt(m*m+g*g);let w,v;c.push({x:d,y:p,t:h,speed:b});for(let _=0;_<e.verticesPerLine;_++){let[S,x]=t(d,p);S*=e.velocityScale,x*=e.velocityScale;const M=Math.sqrt(S*S+x*x);if(M<e.minSpeedThreshold)return c;const I=S/M,$=x/M;if(d+=I*e.segmentLength,p+=$*e.segmentLength,h+=e.segmentLength/M,Math.acos(I*w+$*v)>e.maxTurnAngle)return c;if(e.collisions){const T=Math.round(d*l),A=Math.round(p*l);if(T<0||T>a-1||A<0||A>o-1)return c;const P=s[A*a+T];if(P!==-1&&P!==n)return c;s[A*a+T]=n}c.push({x:d,y:p,t:h,speed:M}),w=I,v=$}return c}function SCe(e,t,r,i){const n=[],s=new us,a=1/Math.max(e.lineCollisionWidth,1),o=Math.round(r*a),l=Math.round(i*a),c=new Int32Array(o*l);for(let p=0;p<c.length;p++)c[p]=-1;const d=[];for(let p=0;p<i;p+=e.lineSpacing)for(let h=0;h<r;h+=e.lineSpacing)d.push({x:h,y:p,sort:s.getFloat()});d.sort((p,h)=>p.sort-h.sort);for(const{x:p,y:h}of d)if(s.getFloat()<e.density){const m=_Ce(e,t,p,h,n.length,c,o,l,a);if(m.length<2)continue;n.push(m)}return n}function xCe(e,t,r,i){if(i===0)return e;const n=Math.round(3*i),s=new Array(2*n+1);let a=0;for(let c=-n;c<=n;c++){const d=Math.exp(-c*c/(i*i));s[c+n]=d,a+=d}for(let c=-n;c<=n;c++)s[c+n]/=a;const o=new Float32Array(e.length);for(let c=0;c<r;c++)for(let d=0;d<t;d++){let p=0,h=0;for(let m=-n;m<=n;m++){if(d+m<0||d+m>=t)continue;const g=s[m+n];p+=g*e[2*(c*t+(d+m))+0],h+=g*e[2*(c*t+(d+m))+1]}o[2*(c*t+d)+0]=p,o[2*(c*t+d)+1]=h}const l=new Float32Array(e.length);for(let c=0;c<t;c++)for(let d=0;d<r;d++){let p=0,h=0;for(let m=-n;m<=n;m++){if(d+m<0||d+m>=r)continue;const g=s[m+n];p+=g*o[2*((d+m)*t+c)+0],h+=g*o[2*((d+m)*t+c)+1]}l[2*(d*t+c)+0]=p,l[2*(d*t+c)+1]=h}return l}function MCe(e,t){const r=new us,i=e.reduce((l,c)=>l+c.length,0),n=new Float32Array(4*i),s=new Array(e.length);let a=0,o=0;for(const l of e){const c=a;for(const d of l)n[4*a+0]=d.x,n[4*a+1]=d.y,n[4*a+2]=d.t,n[4*a+3]=d.speed,a++;s[o++]={startVertex:c,numberOfVertices:l.length,totalTime:l[l.length-1].t,timeSeed:t?r.getFloat():0}}return{lineVertices:n,lineDescriptors:s}}function ICe(e,t){const{lineVertices:i,lineDescriptors:n}=e;let s=0,a=0;for(const m of n)s+=2*m.numberOfVertices,a+=6*(m.numberOfVertices-1);const o=new Float32Array(s*9),l=new Uint32Array(a);let c=0,d=0;function p(){l[d++]=c-2,l[d++]=c,l[d++]=c-1,l[d++]=c,l[d++]=c+1,l[d++]=c-1}function h(m,g,b,w,v,_,S,x){const M=c*9;let I=0;o[M+I++]=m,o[M+I++]=g,o[M+I++]=1,o[M+I++]=b,o[M+I++]=_,o[M+I++]=S,o[M+I++]=w/2,o[M+I++]=v/2,o[M+I++]=x,c++,o[M+I++]=m,o[M+I++]=g,o[M+I++]=-1,o[M+I++]=b,o[M+I++]=_,o[M+I++]=S,o[M+I++]=-w/2,o[M+I++]=-v/2,o[M+I++]=x,c++}for(const m of n){const{totalTime:g,timeSeed:b}=m;let w=null,v=null,_=null,S=null,x=null,M=null;for(let I=0;I<m.numberOfVertices;I++){const $=i[4*(m.startVertex+I)+0],T=i[4*(m.startVertex+I)+1],A=i[4*(m.startVertex+I)+2],P=i[4*(m.startVertex+I)+3];let F=null,j=null,V=null,z=null;if(I>0){F=$-w,j=T-v;const J=Math.sqrt(F*F+j*j);if(F/=J,j/=J,I>1){let K=F+x,Q=j+M;const U=Math.sqrt(K*K+Q*Q);K/=U,Q/=U;const te=Math.min(1/(K*F+Q*j),t);K*=te,Q*=te,V=-Q,z=K}else V=-j,z=F;V!==null&&z!==null&&(h(w,v,_,V,z,g,b,P),p())}w=$,v=T,_=A,x=F,M=j,S=P}h(w,v,_,-M,x,g,b,S)}return{vertexData:o,indexData:l}}function $Ce(e){const{lineVertices:n,lineDescriptors:s}=e;let a=0,o=0;for(const J of s){const K=J.numberOfVertices-1;a+=4*K*2,o+=6*K*2}const l=new Float32Array(a*16),c=new Uint32Array(o);let d,p,h,m,g,b,w,v,_,S,x,M,I,$,T=0,A=0;function P(){c[A++]=T-8,c[A++]=T-7,c[A++]=T-6,c[A++]=T-7,c[A++]=T-5,c[A++]=T-6,c[A++]=T-4,c[A++]=T-3,c[A++]=T-2,c[A++]=T-3,c[A++]=T-1,c[A++]=T-2}function F(J,K,Q,U,te,H,se,ue,ve,xe,tt,it,Ir,Ts){const pt=T*16;let ct=0;for(const Gn of[1,2])for(const pa of[1,2,3,4])l[pt+ct++]=J,l[pt+ct++]=K,l[pt+ct++]=Q,l[pt+ct++]=U,l[pt+ct++]=se,l[pt+ct++]=ue,l[pt+ct++]=ve,l[pt+ct++]=xe,l[pt+ct++]=Gn,l[pt+ct++]=pa,l[pt+ct++]=Ir,l[pt+ct++]=Ts,l[pt+ct++]=te/2,l[pt+ct++]=H/2,l[pt+ct++]=tt/2,l[pt+ct++]=it/2,T++}function j(J,K){let Q=_+x,U=S+M;const te=Math.sqrt(Q*Q+U*U);Q/=te,U/=te;const H=_*Q+S*U;Q/=H,U/=H;let se=x+I,ue=M+$;const ve=Math.sqrt(se*se+ue*ue);se/=ve,ue/=ve;const xe=x*se+M*ue;se/=xe,ue/=xe,F(d,p,h,m,-U,Q,g,b,w,v,-ue,se,J,K),P()}function V(J,K,Q,U,te,H){if(_=x,S=M,x=I,M=$,_==null&&S==null&&(_=x,S=M),g!=null&&b!=null){I=J-g,$=K-b;const se=Math.sqrt(I*I+$*$);I/=se,$/=se}_!=null&&S!=null&&j(te,H),d=g,p=b,h=w,m=v,g=J,b=K,w=Q,v=U}function z(J,K){_=x,S=M,x=I,M=$,_==null&&S==null&&(_=x,S=M),_!=null&&S!=null&&j(J,K)}for(const J of s){d=null,p=null,h=null,m=null,g=null,b=null,w=null,v=null,_=null,S=null,x=null,M=null,I=null,$=null;const{totalTime:K,timeSeed:Q}=J;for(let U=0;U<J.numberOfVertices;U++)V(n[4*(J.startVertex+U)+0],n[4*(J.startVertex+U)+1],n[4*(J.startVertex+U)+2],n[4*(J.startVertex+U)+3],K,Q);z(K,Q)}return{vertexData:l,indexData:c}}function wV(e,t){const r=t.pixels,{width:i,height:n}=t,s=new Float32Array(i*n*2),a=t.mask||new Uint8Array(i*n*2);if(t.mask||a.fill(255),e==="vector-uv")for(let o=0;o<i*n;o++)s[2*o+0]=r[0][o],s[2*o+1]=-r[1][o];else if(e==="vector-magdir")for(let o=0;o<i*n;o++){const l=r[0][o],c=k0(r[1][o]),d=Math.cos(c-Math.PI/2),p=Math.sin(c-Math.PI/2);s[2*o+0]=d*l,s[2*o+1]=p*l}return{data:s,mask:a,width:i,height:n}}async function qPe(e,t,r,i,n,s){const a=performance.now(),o=ys(t.spatialReference);if(!o){const x=await _V(e,t,r,i,n,s);return W("esri-2d-profiler")&&Qa.info("I.7","loadImagery, early exit (ms)",Math.round(performance.now()-a)),W("esri-2d-profiler")&&Qa.info("I.9","Number of parts",1),x}const[l,c]=o.valid,d=c-l,p=Math.ceil(t.width/d),h=t.width/p,m=Math.round(r/p);let g=t.xmin;const b=[],w=performance.now();for(let x=0;x<p;x++){const M=new Ve({xmin:g,xmax:g+h,ymin:t.ymin,ymax:t.ymax,spatialReference:t.spatialReference});b.push(_V(e,M,m,i,n,s)),g+=h}const v=await Promise.all(b);W("esri-2d-profiler")&&Qa.info("I.8","All calls to _fetchPart (ms)",Math.round(performance.now()-w)),W("esri-2d-profiler")&&Qa.info("I.9","Number of parts",v.length);const _={data:new Float32Array(r*i*2),mask:new Uint8Array(r*i),width:r,height:i};let S=0;for(const x of v){for(let M=0;M<x.height;M++)for(let I=0;I<x.width;I++)S+I>=r||(_.data[2*(M*r+S+I)+0]=x.data[2*(M*x.width+I)+0],_.data[2*(M*r+S+I)+1]=x.data[2*(M*x.width+I)+1],_.mask[M*r+S+I]=x.mask[M*x.width+I]);S+=x.width}return W("esri-2d-profiler")&&Qa.info("I.10","loadImagery, general exit (ms)",Math.round(performance.now()-a)),_}async function _V(e,t,r,i,n,s){const a={requestProjectedLocalDirections:!0,signal:s};if(C(n)&&(a.timeExtent=n),e.type==="imagery"){await e.load({signal:s});const c=e.rasterInfo.dataType,d=await e.fetchImage(t,r,i,a);return!d||B(d.pixelData)||B(d.pixelData.pixelBlock)?{data:new Float32Array(r*i*2),mask:new Uint8Array(r*i),width:r,height:i}:wV(c,d.pixelData.pixelBlock)}await e.load({signal:s});const o=e.rasterInfo.dataType,l=await e.fetchPixels(t,r,i,a);return!l||B(l.pixelBlock)?{data:new Float32Array(r*i*2),mask:new Uint8Array(r*i),width:r,height:i}:wV(o,l.pixelBlock)}const SV=ae.getLogger("esri.layers.mixins.ArcGISImageService"),N_=ir()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"}),TCe=new Set(["png","png8","png24","png32","jpg","bmp","gif","jpgpng","lerc","tiff"]),CCe=ZU(ds,{min:0,max:255});function ECe(e){var r;if(!e)return null;const t=(r=JSON.stringify(e).match(/"rasterFunction":"(.*?")/gi))==null?void 0:r.map(i=>i.replace('"rasterFunction":"',"").replace('"',""));return t?t.join("/"):null}const kCe=e=>{let t=class extends e{constructor(){super(...arguments),this._functionRasterInfos={},this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this._defaultServiceMosaicRule=null,this._serviceSourceType=null,this._serviceSupportsMosaicRule=null,this.rasterAttributeTableFieldPrefix="Raster.",this.adjustAspectRatio=null,this.bandCount=null,this.bandIds=void 0,this.capabilities=null,this.compressionQuality=void 0,this.compressionTolerance=.01,this.copyright=null,this.definitionExpression=null,this.exportImageServiceParameters=null,this.rasterInfo=null,this.fields=null,this.fullExtent=null,this.hasMultidimensions=!1,this.imageMaxHeight=4100,this.imageMaxWidth=4100,this.interpolation=void 0,this.minScale=0,this.maxScale=0,this.multidimensionalInfo=null,this.noData=null,this.noDataInterpretation=void 0,this.objectIdField=null,this.geometryType="polygon",this.typeIdField=null,this.types=[],this.pixelSizeX=null,this.pixelSizeY=null,this.pixelFilter=null,this.raster=void 0,this.viewId=void 0,this.symbolizer=null,this.rasterAttributeTable=null,this.rasterFunctionInfos=null,this.serviceDataType=null,this.spatialReference=null,this.pixelType=null,this.serviceRasterInfo=null,this.sourceJSON=null,this.url=null,this.version=void 0}initialize(){this._set("exportImageServiceParameters",new lr({layer:this}))}readDefaultServiceMosaicRule(r,i){return this._serviceSupportsMosaicRule?Zs.fromJSON(i):null}readServiceSourceType(r,i){return this._isMosaicDataset(i)?"mosaic-dataset":"raster-dataset"}readServiceSupportsMosaicRule(r,i){return this._isMosaicRuleSupported(i)}get rasterFunctionNamesIndex(){const r=new Map;return!this.rasterFunctionInfos||C(this.rasterFunctionInfos)&&this.rasterFunctionInfos.length<1||C(this.rasterFunctionInfos)&&this.rasterFunctionInfos.forEach(i=>{r.set(i.name.toLowerCase().replace(/ /gi,"_"),i.name)}),r}readBandIds(r,i){if(Array.isArray(r)&&r.length>0&&r.every(n=>typeof n=="number"))return r}readCapabilities(r,i){return this._readCapabilities(i)}writeCompressionQuality(r,i,n){r!=null&&this.format!=="lerc"&&(i[n]=r)}writeCompressionTolerance(r,i,n){this.format==="lerc"&&r!=null&&(i[n]=r)}get fieldsIndex(){return this.fields?new qY(this.fields):null}set format(r){r&&TCe.has(r.toLowerCase())&&this._set("format",r.toLowerCase())}readFormat(r,i){return i.serviceDataType==="esriImageServiceDataTypeVector-UV"||i.serviceDataType==="esriImageServiceDataTypeVector-MagDir"||this.pixelFilter!=null?"lerc":"jpgpng"}readMinScale(r,i){return i.minLOD!=null&&i.maxLOD!=null?r:0}readMaxScale(r,i){return i.minLOD!=null&&i.maxLOD!=null?r:0}set mosaicRule(r){let i=r;i&&i.mosaicMethod&&(i=Zs.fromJSON({...i.toJSON(),mosaicMethod:i.mosaicMethod,mosaicOperation:i.mosaicOperation})),this._set("mosaicRule",i)}readMosaicRule(r,i){const n=r||i.mosaicRule;return n?Zs.fromJSON(n):this._isMosaicRuleSupported(i)?Zs.fromJSON(i):null}writeMosaicRule(r,i,n){let s=this.mosaicRule;const a=this.definitionExpression;s?a&&a!==s.where&&(s=s.clone(),s.where=a):a&&(s=new Zs({where:a})),this._isValidCustomizedMosaicRule(s)&&(i[n]=s.toJSON())}writeNoData(r,i,n){r!=null&&typeof r=="number"&&(i[n]=CCe(r))}readObjectIdField(r,i){if(!r){const n=i.fields.filter(s=>s.type==="esriFieldTypeOID"||s.type==="oid");r=n&&n[0]&&n[0].name}return r}get parsedUrl(){return this.url?jt(this.url):null}set renderer(r){this.loaded&&(r=this._configRenderer(r)),this._set("renderer",r)}readRenderer(r,i,n){var o,l;const s=(l=(o=i==null?void 0:i.layerDefinition)==null?void 0:o.drawingInfo)==null?void 0:l.renderer,a=u$e(s,n);return a==null?null:(a.type==="vector-field"&&i.symbolTileSize&&!s.symbolTileSize&&(a.symbolTileSize=i.symbolTileSize),Vee(a)||SV.warn("ArcGISImageService","Imagery layer doesn't support given renderer type."),a)}writeRenderer(r,i,n){i.layerDefinition=i.layerDefinition||{},i.layerDefinition.drawingInfo=i.layerDefinition.drawingInfo||{},i.layerDefinition.drawingInfo.renderer=r.toJSON(),r.type==="vector-field"&&(i.symbolTileSize=r.symbolTileSize)}get rasterFields(){const r=this.rasterAttributeTableFieldPrefix||"Raster.",i=new os({name:"Raster.ItemPixelValue",alias:"Item Pixel Value",domain:null,editable:!1,length:50,type:"string"}),n=new os({name:"Raster.ServicePixelValue",alias:"Service Pixel Value",domain:null,editable:!1,length:50,type:"string"}),s=new os({name:"Raster.ServicePixelValue.Raw",alias:"Raw Service Pixel Value",domain:null,editable:!1,length:50,type:"string"});let a=this.fields?D(this.fields):[];a.push(n),this.capabilities.operations.supportsQuery&&this.fields&&this.fields.length>0&&a.push(i),this.version>=10.4&&C(this.rasterFunctionInfos)&&this.rasterFunctionInfos.some(l=>l.name.toLowerCase()==="none")&&a.push(s),C(this.rasterFunctionInfos)&&this.rasterFunctionInfos.filter(l=>l.name.toLowerCase()!=="none").forEach(l=>{a.push(new os({name:"Raster.ServicePixelValue."+l.name,alias:l.name,domain:null,editable:!1,length:50,type:"string"}))}),this._isVectorDataSet()&&(a.push(new os({name:"Raster.Magnitude",alias:"Magnitude",domain:null,editable:!1,type:"double"})),a.push(new os({name:"Raster.Direction",alias:"Direction",domain:null,editable:!1,type:"double"})));const o=this.rasterInfo.attributeTable&&this.rasterInfo.attributeTable.fields||null;if(o&&o.length>0){const l=o.filter(c=>c.type!=="esriFieldTypeOID"&&c.name.toLowerCase()!=="value").map(c=>{const d=D(c);return d.name=r+c.name,d});a=a.concat(l)}return a}set renderingRule(r){let i=r;i&&i.rasterFunction&&(i=gt.fromJSON({...i.toJSON(),rasterFunction:i.rasterFunction,rasterFunctionArguments:i.rasterFunctionArguments})),this._set("renderingRule",i)}readRenderingRule(r,i){const n=i.rasterFunctionInfos;return i.renderingRule||n&&n.length&&n[0].name!=="None"?this._isRFTJson(i.renderingRule)?gt.fromJSON({rasterFunctionDefinition:i.renderingRule}):gt.fromJSON(i.renderingRule||{rasterFunctionInfos:i.rasterFunctionInfos}):null}writeRenderingRule(r,i,n){const s=r.toJSON();s.rasterFunctionDefinition?i[n]=s.rasterFunctionDefinition:i[n]=s}readSpatialReference(r,i){const n=r||i.extent.spatialReference;return n?Ce.fromJSON(n):null}readPixelType(r){return N_.fromJSON(r)||r}writePixelType(r,i,n){(B(this.serviceRasterInfo)||this.pixelType!==this.serviceRasterInfo.pixelType)&&(i[n]=N_.toJSON(r))}readVersion(r,i){let n=i.currentVersion;return n||(n=i.hasOwnProperty("fields")||i.hasOwnProperty("timeInfo")?10:9.3),n}applyFilter(r){let i=r;return this.pixelFilter&&(i=this._clonePixelData(r),this.pixelFilter(i)),i}async applyRenderer(r,i){let n=r;if(!this._isPicture()&&this.renderer&&this.symbolizer&&!this.pixelFilter){const s=JSON.stringify(this._cachedRendererJson)!==JSON.stringify(this.renderer.toJSON()),a=this._rasterJobHandler.instance,{bandIds:o}=this;if(a){s&&(this.symbolizer.bind(),await a.updateSymbolizer(this.symbolizer,i),this._cachedRendererJson=this.renderer.toJSON());const l=await a.symbolize({bandIds:o,...r},i);n={extent:r.extent,pixelBlock:l}}else n={extent:r.extent,pixelBlock:this.symbolizer.symbolize({bandIds:o,...r})}}return n}destroy(){this._shutdownJobHandler()}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}async computeAngles(r,i){if(await this._fetchCapabilities(i==null?void 0:i.signal),!this.capabilities.operations.supportsComputeAngles)throw new R("imagery-layer:compute-angles","this operation is not supported on the input image service");return r=zo(mCe,r).clone(),oCe(this.url,r,this._getRequestOptions(i))}async computePixelSpaceLocations(r,i){if(await this._fetchCapabilities(i==null?void 0:i.signal),!this.capabilities.operations.supportsComputePixelLocation)throw new R("imagery-layer:compute-pixel-space-locations","this operation is not supported on the input image service");return r=zo(yCe,r).clone(),lCe(this.url,r,this._getRequestOptions(i))}async computeHistograms(r,i){if(await this._fetchCapabilities(i==null?void 0:i.signal),!this.capabilities.operations.supportsComputeHistograms)throw new R("imagery-layer:compute-histograms","this operation is not supported on the input image service");r=zo(bV,r).clone();const{raster:n,mosaicRule:s,renderingRule:a}=this;return a&&r.renderingRule==null&&(r.renderingRule=a),s&&r.mosaicRule==null&&(r.mosaicRule=s),n&&r.raster==null&&(r.raster=n),uCe(this.url,r,this._getRequestOptions(i))}async computeStatisticsHistograms(r,i){if(await this._fetchCapabilities(i==null?void 0:i.signal),!this.capabilities.operations.supportsComputeStatisticsHistograms)throw new R("imagery-layer:compute-statistics-histograms","this operation is not supported on the input image service");r=zo(bV,r).clone();const{raster:n,mosaicRule:s,renderingRule:a}=this;return a&&r.renderingRule==null&&(r.renderingRule=a),s&&r.mosaicRule==null&&(r.mosaicRule=s),n&&r.raster==null&&(r.raster=n),cCe(this.url,r,this._getRequestOptions(i))}getField(r){const{fieldsIndex:i}=this;return C(i)?i.get(r):void 0}getFieldDomain(r,i){const n=this.getField(r);return n?n.domain:null}fetchImage(r,i,n,s={}){if(r==null||i==null||n==null)return Promise.reject(new R("imagery-layer:fetch-image","Insufficient parameters for requesting an image. A valid extent, width and height values are required."));const a=this.renderer||this.symbolizer?this.generateRasterInfo(this.renderingRule,{signal:s.signal}):null;return e4(a).then(o=>{o&&(this.rasterInfo=o);const l={imageServiceParameters:this.getExportImageServiceParameters(r,i,n,s.timeExtent),imageProps:{extent:r,width:i,height:n,format:this.format},requestAsImageElement:s.requestAsImageElement&&!this.pixelFilter||!1,signal:s.signal};return this._requestArrayBuffer(l)})}fetchKeyProperties(r){return $e(this.parsedUrl.path+"/keyProperties",{query:this._getQueryParams({renderingRule:this.version>=10.3?r==null?void 0:r.renderingRule:null})}).then(i=>i.data)}fetchRasterAttributeTable(r){return this.version<10.1?Promise.reject(new R("#fetchRasterAttributeTable()","Failed to get rasterAttributeTable")):$e(this.parsedUrl.path+"/rasterAttributeTable",{query:this._getQueryParams({renderingRule:this.version>=10.3?r==null?void 0:r.renderingRule:null})}).then(i=>Ss.fromJSON(i.data))}getCatalogItemRasterInfo(r,i){const n={...i,query:this._getQueryParams()};return hCe(this.parsedUrl.path,r,n)}async getCatalogItemICSInfo(r,i){var J,K,Q;const{data:n}=await $e(this.parsedUrl.path+"/"+r+"/info/ics",{query:this._getQueryParams(),...i}),s=n&&n.ics;if(!s)return;let a=null;try{a=(await $e(this.parsedUrl.path+"/"+r+"/info",{query:this._getQueryParams(),...i})).data.extent}catch{}if(!a||!a.spatialReference)return{ics:s,icsToPixelTransform:null,icsExtent:null,northDirection:null};const o=this.version>=10.7?$e(this.parsedUrl.path+"/"+r+"/info/icstopixel",{query:this._getQueryParams(),...i}).then(U=>U.data).catch(()=>({})):{},l=a.spatialReference,c={geometries:JSON.stringify({geometryType:"esriGeometryEnvelope",geometries:[a]}),inSR:l.wkid||JSON.stringify(l),outSR:"0:"+r},d=$e(this.parsedUrl.path+"/project",{query:this._getQueryParams(c),...i}).then(U=>U.data).catch(()=>({})),p=5,h=(a.xmin+a.xmax)/2,m=(a.ymax-a.ymin)/(p+1),g=a.ymin+m,b=[];for(let U=0;U<p;U++)b.push({x:h,y:g+m*U});const w={geometries:JSON.stringify({geometryType:"esriGeometryPoint",geometries:b}),inSR:l.wkid||JSON.stringify(l),outSR:"0:"+r},v=$e(this.parsedUrl.path+"/project",{query:this._getQueryParams(w),...i}).then(U=>U.data).catch(()=>({})),_=await Promise.all([o,d,v]);let S=_[0].ipxf;if(S==null){const U=(J=s.geodataXform)==null?void 0:J.xf_0;((K=U==null?void 0:U.name)==null?void 0:K.toLowerCase())==="topup"&&((Q=U==null?void 0:U.coefficients)==null?void 0:Q.length)===6&&(S={affine:{name:"ics [sensor: Frame] to pixel (column, row) transformation",coefficients:U.coefficients,cellsizeRatio:0,type:"GeometricXform"}})}const x=Ve.fromJSON(_[1]&&_[1].geometries&&_[1].geometries[0]);x&&(x.spatialReference=new Ce({wkid:0,imageCoordinateSystem:s}));const M=_[2].geometries?_[2].geometries.filter(U=>U!=null&&U.x!=null&&U.y!=null&&U.x!=="NaN"&&U.y!=="NaN"):[],I=M.length;if(I<3)return{ics:s,icsToPixelTransform:S,icsExtent:x,northDirection:null};let $=0,T=0,A=0,P=0;for(let U=0;U<I;U++)$+=M[U].x,T+=M[U].y,A+=M[U].x*M[U].x,P+=M[U].x*M[U].y;const F=(I*P-$*T)/(I*A-$*$);let j=0;const V=M[p-1].x>M[0].x,z=M[p-1].y>M[0].y;return F===1/0?j=z?90:270:F===0?j=V?0:180:F>0?j=V?180*Math.atan(F)/Math.PI:180*Math.atan(F)/Math.PI+180:F<0&&(j=z?180+180*Math.atan(F)/Math.PI:360+180*Math.atan(F)/Math.PI),{ics:s,icsToPixelTransform:S,icsExtent:x,northDirection:j}}async generateRasterInfo(r,i){var a;if((!r||((a=r==null?void 0:r.functionName)==null?void 0:a.toLowerCase())==="none"||this._isVectorFieldResampleFunction(r))&&C(this.serviceRasterInfo))return this.serviceRasterInfo;const n=ECe(r);if(this._functionRasterInfos[n])return this._functionRasterInfos[n];const s=this._generateRasterInfo(r,i);this._functionRasterInfos[n]=s;try{return await s}catch{return this._functionRasterInfos[n]=null,null}}getExportImageServiceParameters(r,i,n,s){var b;r=r.clone().shiftCentralMeridian();const a=hte(r.spatialReference,this.parsedUrl.path);C(this.serviceRasterInfo)&&this.pixelType!==this.serviceRasterInfo.pixelType&&(this.exportImageServiceParameters.pixelType=this.pixelType);const o=this.exportImageServiceParameters.toJSON(),{bandIds:l,noData:c}=o;let{renderingRule:d}=o;const p=(b=this.renderingRule)==null?void 0:b.rasterFunctionDefinition,h=!this.renderer||this.renderer.type==="raster-stretch";if((l==null?void 0:l.length)&&this._hasRenderingRule(this.renderingRule)&&!p&&h){const w={rasterFunction:"ExtractBand",rasterFunctionArguments:{BandIds:l}};if(d.rasterFunction==="Stretch")w.rasterFunctionArguments.Raster=d.rasterFunctionArguments.Raster,d.rasterFunctionArguments.Raster=w;else if(d.rasterFunction==="Colormap"){const v=d.rasterFunctionArguments.Raster;(v==null?void 0:v.rasterFunction)==="Stretch"?(w.rasterFunctionArguments.Raster=v.rasterFunctionArguments.Raster,v.rasterFunctionArguments.Raster=w):(w.rasterFunctionArguments.Raster=v,d.rasterFunctionArguments.Raster=w)}else w.rasterFunctionArguments.Raster=d,d=w;o.bandIds=void 0}else o.bandIds=l==null?void 0:l.join(",");c instanceof Array&&c.length>0&&(o.noData=c.join(","));const m=this._serviceSupportsMosaicRule?this._combineMosaicRuleWithTimeExtent(this.exportImageServiceParameters.mosaicRule,s):null;o.mosaicRule=m&&JSON.stringify(m),o.renderingRule=this._getRenderingRuleString(gt.fromJSON(d));const g={};if(s){const{start:w,end:v}=s.toJSON();w&&v&&w===v?g.time=""+w:w==null&&v==null||(g.time=`${w==null?"null":w},${v==null?"null":v}`)}return{bbox:r.xmin+","+r.ymin+","+r.xmax+","+r.ymax,bboxSR:a,imageSR:a,size:i+","+n,...o,...g}}async getSamples(r,i){if(await this._fetchCapabilities(i==null?void 0:i.signal),!this.capabilities.operations.supportsGetSamples)throw new R("imagery-layer:get-samples","getSamples operation is not supported on the input image service");r=zo(gCe,r).clone();const{raster:n}=this;return n&&r.raster==null&&(r.raster=n),dCe(this.url,r,this._getRequestOptions(i))}async identify(r,i){if(await this._fetchCapabilities(i==null?void 0:i.signal),!this.capabilities.operations.supportsIdentify)throw new R("imagery-layer:query-rasters","query operation is not supported on the input image service");r=zo(vV,r).clone();const{raster:n,mosaicRule:s,renderingRule:a}=this;if(a&&r.renderingRule==null&&(r.renderingRule=a),s&&r.mosaicRule==null){const o=this._combineMosaicRuleWithTimeExtent(s,r.timeExtent);r.mosaicRule=o}return n&&r.raster==null&&(r.raster=n),gV(this.url,r,this._getRequestOptions(i))}createQuery(){const r=new Ht;return r.outFields=["*"],r.returnGeometry=!0,r.where=this.definitionExpression||"1=1",r}async queryRasters(r,i){return{query:r,requestOptions:i}=await this._prepareForQuery(r,i),O5(this.url,r,i)}async queryObjectIds(r,i){return{query:r,requestOptions:i}=await this._prepareForQuery(r,i),yte(this.url,r,i)}async queryRasterCount(r,i){return{query:r,requestOptions:i}=await this._prepareForQuery(r,i),mte(this.url,r,i)}async queryVisibleRasters(r,i){var _,S;if(!r)throw new R("imagery-layer: query-visible-rasters","missing query parameter");const{pixelSize:n,returnDomainValues:s,returnTopmostRaster:a,showNoDataRecords:o}=i||{pixelSize:null,returnDomainValues:!1,returnTopmostRaster:!1,showNoDataRecords:!1};let l=!1,c=null,d=null;const p="raster.servicepixelvalue",h=this.rasterFunctionNamesIndex;if(C(r.outFields)&&(l=r.outFields.some(x=>!x.toLowerCase().includes(p)),this.version>=10.4)){const x=r.outFields.filter(M=>M.toLowerCase().includes(p)&&M.length>p.length).map(M=>{const I=M.slice(p.length+1);return[this._updateRenderingRulesFunctionName(I,h),I]});c=x.map(M=>new gt({functionName:M[0]})),d=x.map(M=>M[1]),c.length===0?this.renderingRule?(c.push(this.renderingRule),d.push(this.renderingRule.functionName)):c=null:this.renderingRule&&!c.some(M=>M.functionName===this.renderingRule.functionName)&&(c.push(this.renderingRule),d.push(this.renderingRule.functionName))}const m=B(r.outSpatialReference)||r.outSpatialReference.equals(this.spatialReference),g=r.timeExtent||this.timeExtent,b=this._combineMosaicRuleWithTimeExtent(this.exportImageServiceParameters.mosaicRule,g),w=this._getQueryParams({geometry:r.geometry,timeExtent:g,mosaicRule:b,renderingRule:this.version<10.4?this.renderingRule:null,renderingRules:c,pixelSize:n,returnCatalogItems:l,returnGeometry:m,raster:this.raster,maxItemCount:a?1:null});delete w.f;const v=new vV(w);try{await this.generateRasterInfo(this.renderingRule);const x=await gV(this.url,v,{signal:i==null?void 0:i.signal,query:{...this.customParameters}}),M=r.outFields,I=x.value.toLowerCase().includes("nodata");if(!(l&&!m&&((_=x==null?void 0:x.catalogItems)==null?void 0:_.features.length)&&(o||!I)))return this._processVisibleRastersResponse(x,{returnDomainValues:s,templateRRFunctionNames:d,showNoDataRecords:o,templateFields:M});const $=this.objectIdField||"ObjectId",T=x.catalogItems.features,A=T.map(j=>{var V;return(V=j.attributes)==null?void 0:V[$]}),P=new Ht({objectIds:A,returnGeometry:!0,outSpatialReference:r.outSpatialReference,outFields:[$]}),F=await this.queryRasters(P);return(S=F==null?void 0:F.features)!=null&&S.length&&F.features.forEach(j=>{T.forEach(V=>{V.attributes[$]===j.attributes[$]&&(V.geometry=new _s(j.geometry),C(r.outSpatialReference)&&(V.geometry.spatialReference=r.outSpatialReference))})}),this._processVisibleRastersResponse(x,{returnDomainValues:s,templateRRFunctionNames:d,showNoDataRecords:o,templateFields:M})}catch{throw new R("imagery-layer:query-visible-rasters","encountered error when querying visible rasters")}}async fetchVariableStatisticsHistograms(r,i){const n=$e(this.parsedUrl.path+"/statistics",{query:this._getQueryParams({variable:r}),signal:i}).then(o=>{var l;return(l=o.data)==null?void 0:l.statistics}),s=$e(this.parsedUrl.path+"/histograms",{query:this._getQueryParams({variable:r}),signal:i}).then(o=>{var l;return(l=o.data)==null?void 0:l.histograms}),a=await Promise.all([n,s]);return a[0]&&a[0].forEach(o=>{o.avg=o.mean,o.stddev=o.standardDeviation}),{statistics:a[0]||null,histograms:a[1]||null}}async createFlowMesh(r,i){const n=this._rasterJobHandler.instance;return n?n.createFlowMesh(r,i):vCe(r.meshType,r.simulationSettings,r.flowData,C(i.signal)?i.signal:new AbortController().signal)}async _fetchService(r){await this._fetchServiceInfo(r),C(this.serviceRasterInfo)&&!this.rasterInfo&&(this.rasterInfo=this.serviceRasterInfo);const i=this.sourceJSON,n=C(this.serviceRasterInfo)?Promise.resolve(this.serviceRasterInfo):fCe(this.parsedUrl.path,i,{signal:r,query:this._getQueryParams()}).then(o=>(this._set("serviceRasterInfo",o),o)),s=this._hasRenderingRule(this.renderingRule)?this.generateRasterInfo(this.renderingRule,{signal:r}):null,a=this._getRasterFunctionInfos();return Promise.all([n,s,a]).then(o=>{o[1]?this._set("rasterInfo",o[1]):this._set("rasterInfo",o[0]),o[2]&&this._set("rasterFunctionInfos",o[2]),this.renderer&&!this._isSupportedRenderer(this.renderer)&&(this._set("renderer",null),SV.warn("ArcGISImageService","Switching to the default renderer. Renderer applied is not valid for this Imagery Layer")),this._set("renderer",this._configRenderer(this.renderer)),this.own(ee(()=>this.renderingRule,c=>{(this.renderer||this.symbolizer||this.popupEnabled&&this.popupTemplate)&&this.generateRasterInfo(c).then(d=>{d&&(this.rasterInfo=d)})}));const{serviceRasterInfo:l}=this;C(l)&&l.multidimensionalInfo&&this._updateMultidimensionalDefinition(l)})}_combineMosaicRuleWithTimeExtent(r,i){var m;const n=this.timeInfo;if(B(r)||B(this.multidimensionalInfo)||B(i)||B(n==null?void 0:n.startField))return r;const{startField:s}=n,a=this.multidimensionalInfo.variables.some(g=>g.dimensions.some(b=>b.name===s))?s:"StdTime";if(r=r.clone(),this._serviceSourceType==="mosaic-dataset")return r.multidimensionalDefinition=(m=r.multidimensionalDefinition)==null?void 0:m.filter(g=>g.dimensionName!==a),this._cleanupMultidimensionalDefinition(r);r.multidimensionalDefinition=r.multidimensionalDefinition||[];const o=r.multidimensionalDefinition.filter(g=>g.dimensionName===a),l=C(i.start)?i.start.getTime():null,c=C(i.end)?i.end.getTime():null,d=l==null||c==null||l===c,p=d?[l||c]:[[l,c]],h=this.version>=10.8;if(o.length)o.forEach(g=>{g.dimensionName===a&&(h?(g.dimensionName=null,g.isSlice=null,g.values=null):(g.isSlice=d,g.values=p))});else if(!h){const g=r.multidimensionalDefinition.filter(b=>b.variableName!=null&&b.dimensionName==null);g.length?g.forEach(b=>{b.dimensionName=a,b.isSlice=d,b.values=p}):r.multidimensionalDefinition.push(new iL({variableName:"",dimensionName:a,isSlice:d,values:p}))}return this._cleanupMultidimensionalDefinition(r)}_cleanupMultidimensionalDefinition(r){return B(r)?null:(r.multidimensionalDefinition&&(r.multidimensionalDefinition=r.multidimensionalDefinition.filter(i=>!(!i.variableName&&!i.dimensionName)),r.multidimensionalDefinition.length===0&&(r.multidimensionalDefinition=null)),this._serviceSourceType!=="mosaic-dataset"&&r.multidimensionalDefinition==null?null:r)}async _prepareForQuery(r,i){if(await this._fetchCapabilities(i==null?void 0:i.signal),!this.capabilities.operations.supportsQuery)throw new R("imagery-layer:query-rasters","query operation is not supported on the input image service");return r=C(r)?zo(Ht,r):this.createQuery(),i=this._getRequestOptions(i),this.raster&&(i.query={...i.query,raster:this.raster}),{query:r,requestOptions:i}}async _initJobHandler(){if(this._rasterJobHandler.connectionPromise!=null)return this._rasterJobHandler.connectionPromise;const r=new $$e;this._rasterJobHandler.connectionPromise=r.initialize().then(()=>{this._rasterJobHandler.instance=r},()=>null),await this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this._cachedRendererJson=null}_isSupportedRenderer(r){const{rasterInfo:i,renderingRule:n}=this;return r.type==="unique-value"&&this._hasRenderingRule(n)&&i.bandCount===1&&["u8","s8"].includes(i.pixelType)||CTe(this.rasterInfo).includes(this.renderer.type)}async _fetchCapabilities(r){return this.capabilities||await this._fetchServiceInfo(r),this.capabilities}async _fetchServiceInfo(r){var n;let i=this.sourceJSON;if(!i){const{data:s,ssl:a}=await $e(this.parsedUrl.path,{query:this._getQueryParams(),signal:r});i=s,this.sourceJSON=i,a&&(this.url=this.url.replace(/^http:/i,"https:"))}if(((n=i.capabilities)==null?void 0:n.toLowerCase().split(",").map(s=>s.trim()).indexOf("tilesonly"))>-1)throw new R("imagery-layer:fetch-service-info","use ImageryTileLayer to open tiles-only image services");this.read(i,{origin:"service",url:this.parsedUrl})}_isMosaicDataset(r){var i;return r.serviceSourceType?r.serviceSourceType==="esriImageServiceSourceTypeMosaicDataset":((i=r.fields)==null?void 0:i.length)>0}_isMosaicRuleSupported(r){var s;if(!r)return!1;const i=this._isMosaicDataset(r),n=r.currentVersion>=10.71&&r.hasMultidimensions&&r.timeInfo&&!(r.objectIdField&&((s=r.fields)==null?void 0:s.length)>1);return i||n}_isVectorFieldResampleFunction(r){if(B(r))return!1;const{functionName:i,functionArguments:n}=r,s=(i==null?void 0:i.toLowerCase())==="resample",a=(n==null?void 0:n.ResampleType)||(n==null?void 0:n.resampleType);return s&&(a===7||a===10)}_isPicture(){return!this.format||this.format.includes("jpg")||this.format.includes("png")}_configRenderer(r){var i,n;if(!this._isPicture()&&!this.pixelFilter||this._isVectorDataSet()){if(!this.bandIds&&this.rasterInfo.bandCount>=3){const a=ate(this.rasterInfo);!a||this.rasterInfo.bandCount===3&&a[0]===0&&a[1]===1&&a[2]===2||(this.bandIds=a)}r||(r=TTe(this.rasterInfo,{bandIds:this.bandIds,variableName:this.renderingRule?null:(n=(i=this.mosaicRule)==null?void 0:i.multidimensionalDefinition)==null?void 0:n[0].variableName}));const s=BTe(r.toJSON());this.symbolizer?(this.symbolizer.rendererJSON=s,this.symbolizer.rasterInfo=this.rasterInfo):this.symbolizer=new tCe({rendererJSON:s,rasterInfo:this.rasterInfo}),this.symbolizer.bind().success||(this.symbolizer=null)}return r}_clonePixelData(r){return r==null?r:{extent:r.extent&&r.extent.clone(),pixelBlock:C(r.pixelBlock)&&r.pixelBlock.clone()}}_getQueryParams(r){C(r==null?void 0:r.renderingRule)&&typeof r.renderingRule!="string"&&(r.renderingRule=this._getRenderingRuleString(r.renderingRule));const{raster:i,viewId:n}=this;return{raster:i,viewId:n,f:"json",...r,...this.customParameters}}_getRequestOptions(r){return{...r,query:{...r==null?void 0:r.query,...this.customParameters}}}_decodePixelBlock(r,i,n){return this._rasterJobHandler.instance?this._rasterJobHandler.instance.decode({data:r,options:i}):aV(r,i,n)}async _getRasterFunctionInfos(r){var n;const i=this.sourceJSON.rasterFunctionInfos;return this.serviceRasterInfo?i:i&&this.version>=10.3?i.length===1&&i[0].name.toLowerCase()==="none"?i:(n=(await $e(this.parsedUrl.path+"/rasterFunctionInfos",{query:this._getQueryParams(),signal:r})).data)==null?void 0:n.rasterFunctionInfos:null}async _requestArrayBuffer(r){var m;const{imageProps:i,requestAsImageElement:n,signal:s}=r;if(n&&!this.pixelFilter&&((m=i.format)==null?void 0:m.indexOf("png"))>-1)return{imageElement:(await $e(this.parsedUrl.path+"/exportImage",{responseType:"image",query:this._getQueryParams({f:"image",...r.imageServiceParameters}),signal:s})).data,params:i};const a=this._initJobHandler(),o=$e(this.parsedUrl.path+"/exportImage",{responseType:"array-buffer",query:this._getQueryParams({f:"image",...r.imageServiceParameters}),signal:s}),l=(await Promise.all([o,a]))[0].data,c=i.format||"jpgpng";let d=c;if(d!=="bsq"&&d!=="bip"&&(d=yTe(l)),!d)throw new R("imagery-layer:fetch-image","unsupported format signature "+String.fromCharCode.apply(null,new Uint8Array(l)));const p={signal:s};return{pixelData:{pixelBlock:await(c==="gif"||c==="bmp"||c.includes("png")&&(d==="png"||d==="jpg")?aV(l,{useCanvas:!0,...i},p):this._decodePixelBlock(l,{width:i.width,height:i.height,planes:null,pixelType:null,noDataValue:null,format:c},p)),extent:i.extent},params:i}}_generateRasterInfo(r,i){const n={...i,query:this._getQueryParams()};return pCe(this.parsedUrl.path,r,n)}_isValidCustomizedMosaicRule(r){var i;return r&&JSON.stringify(r.toJSON())!==JSON.stringify((i=this._defaultServiceMosaicRule)==null?void 0:i.toJSON())}_updateMultidimensionalDefinition(r){if(this._isValidCustomizedMosaicRule(this.mosaicRule))return;const i=T$e(r);if(C(i)&&i.length>0){this.mosaicRule=this.mosaicRule||new Zs;const n=this.mosaicRule.multidimensionalDefinition;(!n||n&&n.length<=0)&&(this.mosaicRule.multidimensionalDefinition=i)}}_processVisibleRastersResponse(r,i){i=i||{};const n=r.value,{templateRRFunctionNames:s,showNoDataRecords:a,returnDomainValues:o,templateFields:l}=i,c=r.processedValues;let d=r.catalogItems&&r.catalogItems.features,p=r.properties&&r.properties.Values&&r.properties.Values.map(_=>_.replace(/ /gi,", "))||[];const h=this.objectIdField||"ObjectId",m=typeof n=="string"&&n.toLowerCase().includes("nodata"),g=[];if(n&&!d&&!m){const _={};_[h]=0,p=[n],d=[new vi(this.fullExtent,null,_)]}if(!d)return[];let b,w,v;this._updateResponseFieldNames(d,l),m&&!a&&(d=[]);for(let _=0;_<d.length;_++){if(b=d[_],n!=null){if(w=p[_],v=this.renderingRule&&c&&c.length>0&&s&&s.length>0&&s.includes(this.renderingRule.functionName)?c[s.indexOf(this.renderingRule.functionName)]:n,w.toLowerCase()==="nodata"&&!a)continue;const S="Raster.ItemPixelValue",x="Raster.ServicePixelValue";b.attributes[S]=w,b.attributes[x]=v,this._updateFeatureWithMagDirValues(b,w);const M=this.fields&&this.fields.length>0;let I=this.renderingRule&&C(this.serviceRasterInfo)&&this.serviceRasterInfo.attributeTable?M?w:n:v;this.renderingRule||(I=M?w:n),this._updateFeatureWithRasterAttributeTableValues(b,I)}if(b.sourceLayer=b.layer=this,o&&this._updateFeatureWithDomainValues(b),s&&c&&s.length===c.length)for(let S=0;S<s.length;S++){const x="Raster.ServicePixelValue."+s[S];b.attributes[x]=c[S]}g.push(d[_])}return g}_updateFeatureWithRasterAttributeTableValues(r,i){const n=this.rasterInfo&&this.rasterInfo.attributeTable||C(this.serviceRasterInfo)&&this.serviceRasterInfo.attributeTable,s=n&&n.features;if(!s)return;const a=n.fields,o=a.map(d=>d.name).filter(d=>d.toLowerCase()==="value"),l=o&&o[0];if(!l)return;const c=s.filter(d=>d.attributes[l]===(i!=null?parseInt(i,10):null));c&&c[0]&&a.forEach(d=>{const p=this.rasterAttributeTableFieldPrefix+d.name;r.attributes[p]=c[0].attributes[d.name]})}_updateFeatureWithMagDirValues(r,i){if(!this._isVectorDataSet())return;const n=i.split(/,\s*/).map(c=>parseFloat(c)),s=n.map(c=>[c]),a=n.map(c=>({minValue:c,maxValue:c,noDataValue:null})),o=new st({height:1,width:1,pixelType:"f32",pixels:s,statistics:a});this.pixelFilter!=null&&this.pixelFilter({pixelBlock:o,extent:new Ve(0,0,0,0,this.spatialReference)});const l=this.serviceDataType==="esriImageServiceDataTypeVector-MagDir"?[o.pixels[0][0],o.pixels[1][0]]:tL([o.pixels[0][0],o.pixels[1][0]]);r.attributes["Raster.Magnitude"]=l[0],r.attributes["Raster.Direction"]=l[1]}_updateFeatureWithDomainValues(r){const i=this.fields&&this.fields.filter(n=>n.domain&&n.domain.type==="coded-value");i!=null&&i.forEach(n=>{const s=r.attributes[n.name];if(s!=null){const a=n.domain.codedValues.find(o=>o.code===s);a&&(r.attributes[n.name]=a.name)}})}_updateResponseFieldNames(r,i){if(!i||i.length<1)return;const n=this.fieldsIndex;B(n)||r.forEach(s=>{if(s&&s.attributes){for(const a of i)if(n.has(a)){const o=n.get(a).name;o!==a&&(s.attributes[a]=s.attributes[o],delete s.attributes[o])}}})}_getRenderingRuleString(r){var i;if(this._hasRenderingRule(r)){let n=r.toJSON();return n=(i=n.rasterFunctionDefinition)!=null?i:n,(n.thumbnail||n.thumbnailEx)&&(n.thumbnail=n.thumbnailEx=null),JSON.stringify(n)}return null}_hasRenderingRule(r){return r&&r.functionName&&r.functionName.toLowerCase()!=="none"}_updateRenderingRulesFunctionName(r,i){if(!r||r.length<1)return;if(r==="Raw")return r.replace("Raw","None");const n=r.toLowerCase().replace(/ /gi,"_");return i.has(n)?i.get(n):r}_isRFTJson(r){return r&&r.name&&r.arguments&&r.function&&r.hasOwnProperty("functionType")}_isVectorDataSet(){return this.serviceDataType==="esriImageServiceDataTypeVector-UV"||this.serviceDataType==="esriImageServiceDataTypeVector-MagDir"}_readCapabilities(r){const i=r.capabilities?r.capabilities.toLowerCase().split(",").map(p=>p.trim()):["image","catalog"],{currentVersion:n,advancedQueryCapabilities:s,maxRecordCount:a}=r,o=i.includes("image"),l=r.serviceDataType==="esriImageServiceDataTypeElevation",c=!!(r.spatialReference||r.extent&&r.extent.spatialReference),d=i.includes("edit");return{data:{supportsAttachment:!1},operations:{supportsComputeHistograms:o,supportsExportImage:o,supportsIdentify:o,supportsMeasure:i.includes("mensuration")&&c,supportsDownload:i.includes("download"),supportsQuery:i.includes("catalog")&&r.fields&&r.fields.length>0,supportsGetSamples:n>=10.2&&o,supportsProject:n>=10.3&&o,supportsComputeStatisticsHistograms:n>=10.4&&o,supportsQueryBoundary:n>=10.6&&o,supportsCalculateVolume:n>=10.7&&l,supportsComputePixelLocation:n>=10.7&&i.includes("catalog"),supportsComputeAngles:n>=10.91,supportsAdd:d,supportsDelete:d,supportsEditing:d,supportsUpdate:d,supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsChangeTracking:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsExceedsLimitStatistics:!1,supportsQueryAnalytics:!1,supportsQueryTopFeatures:!1},query:{maxRecordCount:a,maxRecordCountFactor:void 0,supportsStatistics:!!(s!=null&&s.supportsStatistics),supportsOrderBy:!!(s!=null&&s.supportsOrderBy),supportsDistinct:!!(s!=null&&s.supportsDistinct),supportsPagination:!!(s!=null&&s.supportsPagination),supportsStandardizedQueriesOnly:!!(s!=null&&s.useStandardizedQueries),supportsPercentileStatistics:!!(s!=null&&s.supportsPercentileStatistics),supportsCentroid:!!(s!=null&&s.supportsReturningGeometryCentroid),supportsDistance:!!(s!=null&&s.supportsQueryWithDistance),supportsExtent:!!(s!=null&&s.supportsReturningQueryExtent),supportsGeometryProperties:!!(s!=null&&s.supportsReturningGeometryProperties),supportsHavingClause:!!(s!=null&&s.supportsHavingClause),supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsMaxRecordCountFactor:!1,supportsSqlExpression:!1,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!1,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!1,supportsCacheHint:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsDefaultSpatialReference:!!(s!=null&&s.supportsDefaultSR),supportsCompactGeometry:!1,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}}}};return u([f()],t.prototype,"_functionRasterInfos",void 0),u([f()],t.prototype,"_rasterJobHandler",void 0),u([f({dependsOn:["_serviceSupportsMosaicRule"]})],t.prototype,"_defaultServiceMosaicRule",void 0),u([ie("_defaultServiceMosaicRule",["defaultMosaicMethod"])],t.prototype,"readDefaultServiceMosaicRule",null),u([f()],t.prototype,"_cachedRendererJson",void 0),u([f({readOnly:!0})],t.prototype,"_serviceSourceType",void 0),u([ie("_serviceSourceType",["serviceSourceType","fields"])],t.prototype,"readServiceSourceType",null),u([f({readOnly:!0})],t.prototype,"_serviceSupportsMosaicRule",void 0),u([ie("_serviceSupportsMosaicRule",["currentVersion","fields"])],t.prototype,"readServiceSupportsMosaicRule",null),u([f()],t.prototype,"rasterAttributeTableFieldPrefix",void 0),u([f({readOnly:!0})],t.prototype,"rasterFunctionNamesIndex",null),u([f()],t.prototype,"adjustAspectRatio",void 0),u([f({readOnly:!0}),fe("serviceRasterInfo.bandCount")],t.prototype,"bandCount",void 0),u([f({type:[Xe],json:{write:!0}})],t.prototype,"bandIds",void 0),u([ie("bandIds")],t.prototype,"readBandIds",null),u([f({readOnly:!0,json:{read:!1}})],t.prototype,"capabilities",void 0),u([ie("service","capabilities",["capabilities","currentVersion","serviceDataType"])],t.prototype,"readCapabilities",null),u([f({type:Number})],t.prototype,"compressionQuality",void 0),u([ce("compressionQuality")],t.prototype,"writeCompressionQuality",null),u([f({type:Number})],t.prototype,"compressionTolerance",void 0),u([ce("compressionTolerance")],t.prototype,"writeCompressionTolerance",null),u([f({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),u([f({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),u([f({readOnly:!0,constructOnly:!0})],t.prototype,"exportImageServiceParameters",void 0),u([f()],t.prototype,"rasterInfo",void 0),u([f({readOnly:!0,type:[os]})],t.prototype,"fields",void 0),u([f({readOnly:!0})],t.prototype,"fieldsIndex",null),u([f({type:["png","png8","png24","png32","jpg","bmp","gif","jpgpng","lerc","tiff"],json:{write:!0}})],t.prototype,"format",null),u([ie("service","format",["serviceDataType"])],t.prototype,"readFormat",null),u([f({type:Ve})],t.prototype,"fullExtent",void 0),u([f({readOnly:!0})],t.prototype,"hasMultidimensions",void 0),u([f({json:{read:{source:"maxImageHeight"}}})],t.prototype,"imageMaxHeight",void 0),u([f({json:{read:{source:"maxImageWidth"}}})],t.prototype,"imageMaxWidth",void 0),u([f({type:String,json:{type:dd.jsonValues,read:dd.read,write:dd.write}})],t.prototype,"interpolation",void 0),u([f()],t.prototype,"minScale",void 0),u([ie("service","minScale")],t.prototype,"readMinScale",null),u([f()],t.prototype,"maxScale",void 0),u([ie("service","maxScale")],t.prototype,"readMaxScale",null),u([f({type:Zs})],t.prototype,"mosaicRule",null),u([ie("mosaicRule",["mosaicRule","defaultMosaicMethod"])],t.prototype,"readMosaicRule",null),u([ce("mosaicRule")],t.prototype,"writeMosaicRule",null),u([f({readOnly:!0}),fe("serviceRasterInfo.multidimensionalInfo")],t.prototype,"multidimensionalInfo",void 0),u([f({json:{type:Xe}})],t.prototype,"noData",void 0),u([ce("noData")],t.prototype,"writeNoData",null),u([f({type:String,json:{type:u1.jsonValues,read:u1.read,write:u1.write}})],t.prototype,"noDataInterpretation",void 0),u([f({type:String,readOnly:!0,json:{read:{source:["fields"]}}})],t.prototype,"objectIdField",void 0),u([ie("objectIdField")],t.prototype,"readObjectIdField",null),u([f({})],t.prototype,"geometryType",void 0),u([f({})],t.prototype,"typeIdField",void 0),u([f({})],t.prototype,"types",void 0),u([f({readOnly:!0})],t.prototype,"parsedUrl",null),u([f({readOnly:!0}),fe("serviceRasterInfo.pixelSize.x")],t.prototype,"pixelSizeX",void 0),u([f({readOnly:!0}),fe("serviceRasterInfo.pixelSize.y")],t.prototype,"pixelSizeY",void 0),u([f({type:Function})],t.prototype,"pixelFilter",void 0),u([f()],t.prototype,"raster",void 0),u([f()],t.prototype,"viewId",void 0),u([f({types:yT,json:{name:"layerDefinition.drawingInfo.renderer",origins:{"web-scene":{types:gT,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:r=>({enabled:r&&r.type!=="vector-field"&&r.type!=="flow"})}}}}})],t.prototype,"renderer",null),u([ie("renderer")],t.prototype,"readRenderer",null),u([ce("renderer")],t.prototype,"writeRenderer",null),u([f()],t.prototype,"symbolizer",void 0),u([f(dm)],t.prototype,"opacity",void 0),u([f({readOnly:!0}),fe("serviceRasterInfo.attributeTable")],t.prototype,"rasterAttributeTable",void 0),u([f({readOnly:!0})],t.prototype,"rasterFields",null),u([f({constructOnly:!0})],t.prototype,"rasterFunctionInfos",void 0),u([f({type:gt})],t.prototype,"renderingRule",null),u([ie("renderingRule",["renderingRule","rasterFunctionInfos"])],t.prototype,"readRenderingRule",null),u([ce("renderingRule")],t.prototype,"writeRenderingRule",null),u([f()],t.prototype,"serviceDataType",void 0),u([f({readOnly:!0,type:Ce})],t.prototype,"spatialReference",void 0),u([ie("spatialReference",["spatialReference","extent"])],t.prototype,"readSpatialReference",null),u([f({json:{type:N_.jsonValues}})],t.prototype,"pixelType",void 0),u([ie("pixelType")],t.prototype,"readPixelType",null),u([ce("pixelType")],t.prototype,"writePixelType",null),u([f({constructOnly:!0,type:e3})],t.prototype,"serviceRasterInfo",void 0),u([f()],t.prototype,"sourceJSON",void 0),u([f(fA)],t.prototype,"url",void 0),u([f({readOnly:!0})],t.prototype,"version",void 0),u([ie("version",["currentVersion","fields","timeInfo"])],t.prototype,"readVersion",null),t=u([E("esri.layers.mixins.ArcGISImageService")],t),t};let qs=class extends uA(gA(mA(yA(hA(kY(kCe(dA(SY(Jw(Lm)))))))))){constructor(...e){super(...e),this.legendEnabled=!0,this.isReference=null,this.operationalLayerType="ArcGISImageServiceLayer",this.popupEnabled=!0,this.popupTemplate=null,this.type="imagery"}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){const t=C(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).catch(ny).then(()=>this._fetchService(t))),Promise.resolve(this)}writeOperationalLayerType(e,t,r){var n;const i=((n=this.renderer)==null?void 0:n.type)==="vector-field";t[r]=i?"ArcGISImageServiceVectorLayer":"ArcGISImageServiceLayer"}get defaultPopupTemplate(){return this.createPopupTemplate()}createPopupTemplate(e){const t=this.rasterFields,r=this.title,i=new Set;let n=!1,s=!1;this.capabilities&&(n=this.capabilities.operations.supportsQuery&&this.fields&&this.fields.length>0,s=this.serviceDataType==="esriImageServiceDataTypeVector-UV"||this.serviceDataType==="esriImageServiceDataTypeVector-MagDir");const a=new Set;n&&a.add("raster.itempixelvalue");for(const o of t){const l=o.name.toLowerCase();a.has(l)||l.includes("raster.servicepixelvalue.")||i.add(o.name)}return s&&i.add("raster.magnitude").add("raster.direction"),SA({fields:t,title:r},{...e,visibleFieldNames:i})}queryFeatures(e,t){return this.queryRasters(e,t).then(r=>{if(r!=null&&r.features)for(const i of r.features)i.layer=i.sourceLayer=this;return r})}queryFeatureCount(e,t){return this.queryRasterCount(e,t)}redraw(){this.emit("redraw")}serviceSupportsSpatialReference(e){return WY(this,e)}};u([f(pA)],qs.prototype,"legendEnabled",void 0),u([f({type:["show","hide"]})],qs.prototype,"listMode",void 0),u([f({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],qs.prototype,"isReference",void 0),u([f({type:["ArcGISImageServiceLayer"],json:{origins:{"web-map":{type:["ArcGISImageServiceLayer","ArcGISImageServiceVectorLayer"],read:!1,write:{target:"layerType",ignoreOrigin:!0}}}}})],qs.prototype,"operationalLayerType",void 0),u([ce("web-map","operationalLayerType")],qs.prototype,"writeOperationalLayerType",null),u([f(H2)],qs.prototype,"popupEnabled",void 0),u([f({type:Gp,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],qs.prototype,"popupTemplate",void 0),u([f({readOnly:!0})],qs.prototype,"defaultPopupTemplate",null),u([f({readOnly:!0,json:{read:!1}})],qs.prototype,"type",void 0),qs=u([E("esri.layers.ImageryLayer")],qs);const bte=qs,HPe=Object.freeze(Object.defineProperty({__proto__:null,default:bte},Symbol.toStringTag,{value:"Module"}));function ACe(e){const t=new bte({url:"https://www.fairfaxcounty.gov/nadar/rest/services/LiDAR/2018_LiDAR_Digital_Terrain_Model/ImageServer",id:"FaifaxCountyLidar",format:"jpgpng",renderingRule:{rasterFunction:"LiDAR DTM Shaded Relief"}});e.layers.add(t)}var kT;let h0=kT=class extends Z{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new kT({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};u([f({type:String,json:{write:!0}})],h0.prototype,"field",void 0),u([f({type:Number,nonNullable:!0,json:{write:!0}})],h0.prototype,"minValue",void 0),u([f({type:Number,nonNullable:!0,json:{write:!0}})],h0.prototype,"maxValue",void 0),h0=kT=u([E("esri.renderers.support.pointCloud.ColorModulation")],h0);const LCe=h0,j_=new Le({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let w9=class extends Z{};u([f({type:j_.apiValues,readOnly:!0,nonNullable:!0,json:{type:j_.jsonValues,read:!1,write:j_.write}})],w9.prototype,"type",void 0),w9=u([E("esri.renderers.support.pointCloud.PointSizeAlgorithm")],w9);const hL=w9;var AT;let m0=AT=class extends hL{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new AT({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};u([ge({pointCloudFixedSizeAlgorithm:"fixed-size"})],m0.prototype,"type",void 0),u([f({type:Number,nonNullable:!0,json:{write:!0}})],m0.prototype,"size",void 0),u([f({type:Boolean,json:{write:!0}})],m0.prototype,"useRealWorldSymbolSizes",void 0),m0=AT=u([E("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],m0);const RCe=m0;var LT;let Sb=LT=class extends hL{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new LT({scaleFactor:this.scaleFactor})}};u([ge({pointCloudSplatAlgorithm:"splat"})],Sb.prototype,"type",void 0),u([f({type:Number,value:1,nonNullable:!0,json:{write:!0}})],Sb.prototype,"scaleFactor",void 0),Sb=LT=u([E("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],Sb);const PCe=Sb,OCe={key:"type",base:hL,typeMap:{"fixed-size":RCe,splat:PCe}},V_=ir()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let ql=class extends Z{constructor(e){super(e),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:D(this.pointSizeAlgorithm),colorModulation:D(this.colorModulation),pointsPerInch:D(this.pointsPerInch)}}};u([f({type:V_.apiValues,readOnly:!0,nonNullable:!0,json:{type:V_.jsonValues,read:!1,write:V_.write}})],ql.prototype,"type",void 0),u([f({types:OCe,json:{write:!0}})],ql.prototype,"pointSizeAlgorithm",void 0),u([f({type:LCe,json:{write:!0}})],ql.prototype,"colorModulation",void 0),u([f({json:{write:!0},nonNullable:!0,type:Number})],ql.prototype,"pointsPerInch",void 0),ql=u([E("esri.renderers.PointCloudRenderer")],ql),function(e){e.fieldTransformTypeKebabDict=new Le({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"})}(ql||(ql={}));const Di=ql;var RT;let vu=RT=class extends Z{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new RT({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:D(this.color)})}};u([f({type:String,json:{write:!0}})],vu.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],vu.prototype,"label",void 0),u([f({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],vu.prototype,"minValue",void 0),u([f({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],vu.prototype,"maxValue",void 0),u([f({type:re,json:{type:[Xe],write:!0}})],vu.prototype,"color",void 0),vu=RT=u([E("esri.renderers.support.pointCloud.ColorClassBreakInfo")],vu);const FCe=vu;var PT;let wu=PT=class extends Di{constructor(e){super(e),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new PT({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:D(this.colorClassBreakInfos),legendOptions:D(this.legendOptions)})}};u([ge({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],wu.prototype,"type",void 0),u([f({json:{write:!0},type:String})],wu.prototype,"field",void 0),u([f({type:oo,json:{write:!0}})],wu.prototype,"legendOptions",void 0),u([f({type:Di.fieldTransformTypeKebabDict.apiValues,json:{type:Di.fieldTransformTypeKebabDict.jsonValues,read:Di.fieldTransformTypeKebabDict.read,write:Di.fieldTransformTypeKebabDict.write}})],wu.prototype,"fieldTransformType",void 0),u([f({type:[FCe],json:{write:!0}})],wu.prototype,"colorClassBreakInfos",void 0),wu=PT=u([E("esri.renderers.PointCloudClassBreaksRenderer")],wu);const WPe=wu;var OT;let xb=OT=class extends Di{constructor(e){super(e),this.type="point-cloud-rgb",this.field=null}clone(){return new OT({...this.cloneProperties(),field:D(this.field)})}};u([ge({pointCloudRGBRenderer:"point-cloud-rgb"})],xb.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],xb.prototype,"field",void 0),xb=OT=u([E("esri.renderers.PointCloudRGBRenderer")],xb);const JPe=xb;var FT;let _u=FT=class extends Di{constructor(e){super(e),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new FT({...this.cloneProperties(),field:D(this.field),fieldTransformType:D(this.fieldTransformType),stops:D(this.stops),legendOptions:D(this.legendOptions)})}};u([ge({pointCloudStretchRenderer:"point-cloud-stretch"})],_u.prototype,"type",void 0),u([f({json:{write:!0},type:String})],_u.prototype,"field",void 0),u([f({type:oo,json:{write:!0}})],_u.prototype,"legendOptions",void 0),u([f({type:Di.fieldTransformTypeKebabDict.apiValues,json:{type:Di.fieldTransformTypeKebabDict.jsonValues,read:Di.fieldTransformTypeKebabDict.read,write:Di.fieldTransformTypeKebabDict.write}})],_u.prototype,"fieldTransformType",void 0),u([f({type:[IJ],json:{write:!0}})],_u.prototype,"stops",void 0),_u=FT=u([E("esri.renderers.PointCloudStretchRenderer")],_u);const ZPe=_u;var DT;let Ef=DT=class extends Z{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new DT({description:this.description,label:this.label,values:D(this.values),color:D(this.color)})}};u([f({type:String,json:{write:!0}})],Ef.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],Ef.prototype,"label",void 0),u([f({type:[String],json:{write:!0}})],Ef.prototype,"values",void 0),u([f({type:re,json:{type:[Xe],write:!0}})],Ef.prototype,"color",void 0),Ef=DT=u([E("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],Ef);const DCe=Ef;var NT;let Su=NT=class extends Di{constructor(e){super(e),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new NT({...this.cloneProperties(),field:D(this.field),fieldTransformType:D(this.fieldTransformType),colorUniqueValueInfos:D(this.colorUniqueValueInfos),legendOptions:D(this.legendOptions)})}};u([ge({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],Su.prototype,"type",void 0),u([f({json:{write:!0},type:String})],Su.prototype,"field",void 0),u([f({type:Di.fieldTransformTypeKebabDict.apiValues,json:{type:Di.fieldTransformTypeKebabDict.jsonValues,read:Di.fieldTransformTypeKebabDict.read,write:Di.fieldTransformTypeKebabDict.write}})],Su.prototype,"fieldTransformType",void 0),u([f({type:[DCe],json:{write:!0}})],Su.prototype,"colorUniqueValueInfos",void 0),u([f({type:oo,json:{write:!0}})],Su.prototype,"legendOptions",void 0),Su=NT=u([E("esri.renderers.PointCloudUniqueValueRenderer")],Su);const QPe=Su,mL=96;function NCe(e,t){const r=t||e.extent,i=e.width,n=Mc(r&&r.spatialReference);return r&&i?r.width/i*n*YE*mL:0}function YPe(e,t){return e/(Mc(t)*YE*mL)}function jT(e,t){return e*(Mc(t)*YE*mL)}function xV(e,t=!1){let r=[];if(t){for(const p of e)if(p.geometry){const h=p.geometry;r.push.apply(r,h.points)}}else r=e.map(p=>p.geometry);const i=[],n=[];let s=1/0,a=-1/0,o=0,l=0,c=0,d=0;for(const p of r){if(!p)continue;t?(i[0]=p[0],i[1]=p[1]):(i[0]=p.x,i[1]=p.y);let h=1/0,m=-1/0;for(const g of r){if(g===p||!g)continue;t?(n[0]=g[0],n[1]=g[1]):(n[0]=g.x,n[1]=g.y);const b=IE(i,n);b>0&&(b<h&&(h=b),b<s&&(s=b),b>m&&(m=b),b>a&&(a=b))}h!==1/0&&(++c,o+=h),m!==-1/0&&(++d,l+=m)}return{minDistance:s!==1/0?s:null,maxDistance:a!==-1/0?a:null,avgMinDistance:c?o/c:null,avgMaxDistance:d?l/d:null}}function jCe(e){let t=0,r=0,i=1/0,n=-1/0;for(const s of e){const a=s.geometry;if(a){let o=0;for(const l of a.paths){const c=que(l);c>0&&(o+=c)}o>0&&(++t,r+=o,o<i&&(i=o),o>n&&(n=o))}}return{minLength:i!==1/0?i:null,maxLength:n!==-1/0?n:null,avgLength:t?r/t:null}}function VCe(e){let t=0,r=0,i=1/0,n=-1/0;for(const s of e){const a=s.geometry;if(a){const o=a.extent;if(o){const l=Math.sqrt(o.width*o.height);l>0&&(++t,r+=l,l<i&&(i=l),l>n&&(n=l))}}}return{minSize:i!==1/0?i:null,maxSize:n!==-1/0?n:null,avgSize:t?r/t:null}}function vte(e){const{features:t}=e;let r=null;switch(e.geometryType){case"point":r=xV(t);break;case"multipoint":r=xV(t,!0);break;case"polyline":r=jCe(t);break;case"polygon":r=VCe(t)}return Promise.resolve(r)}const Ay=(e,t,r)=>[t,r],fa=(e,t,r)=>[t,r,e[2]],Ly=(e,t,r)=>[t,r,e[2],e[3]];function zCe(e){return e?{originPosition:e.originPosition==="upper-left"?"upperLeft":e.originPosition==="lower-left"?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:C(e.extent)?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function h2({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function m2({scale:e,translate:t},r){return Math.round((t[1]-r)/e[1])}function yL(e,t,r){const i=[];let n,s,a,o;for(let l=0;l<r.length;l++){const c=r[l];l>0?(a=h2(e,c[0]),o=m2(e,c[1]),a===n&&o===s||(i.push(t(c,a-n,o-s)),n=a,s=o)):(n=h2(e,c[0]),s=m2(e,c[1]),i.push(t(c,n,s)))}return i.length>0?i:null}function BCe(e,t,r,i){return yL(e,r?i?Ly:fa:i?fa:Ay,t)}function UCe(e,t,r,i){const n=[],s=r?i?Ly:fa:i?fa:Ay;for(let a=0;a<t.length;a++){const o=yL(e,s,t[a]);o&&o.length>=3&&n.push(o)}return n.length?n:null}function GCe(e,t,r,i){const n=[],s=r?i?Ly:fa:i?fa:Ay;for(let a=0;a<t.length;a++){const o=yL(e,s,t[a]);o&&o.length>=2&&n.push(o)}return n.length?n:null}function wte({scale:e,translate:t},r){return r*e[0]+t[0]}function _te({scale:e,translate:t},r){return t[1]-r*e[1]}function Ste(e,t,r){const i=new Array(r.length);if(!r.length)return i;const[n,s]=e.scale;let a=wte(e,r[0][0]),o=_te(e,r[0][1]);i[0]=t(r[0],a,o);for(let l=1;l<r.length;l++){const c=r[l];a+=c[0]*n,o-=c[1]*s,i[l]=t(c,a,o)}return i}function xte(e,t,r){const i=new Array(r.length);for(let n=0;n<r.length;n++)i[n]=Ste(e,t,r[n]);return i}function qCe(e,t,r,i){return Ste(e,r?i?Ly:fa:i?fa:Ay,t)}function HCe(e,t,r,i){return xte(e,r?i?Ly:fa:i?fa:Ay,t)}function WCe(e,t,r,i){return xte(e,r?i?Ly:fa:i?fa:Ay,t)}function JCe(e,t,r,i,n){return t.xmin=h2(e,r.xmin),t.ymin=m2(e,r.ymin),t.xmax=h2(e,r.xmax),t.ymax=m2(e,r.ymax),t!==r&&(i&&(t.zmin=r.zmin,t.zmax=r.zmax),n&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function ZCe(e,t,r,i,n){return t.points=BCe(e,r.points,i,n),t}function Mte(e,t,r,i,n){return t.x=h2(e,r.x),t.y=m2(e,r.y),t!==r&&(i&&(t.z=r.z),n&&(t.m=r.m)),t}function QCe(e,t,r,i,n){const s=UCe(e,r.rings,i,n);return s?(t.rings=s,t):null}function YCe(e,t,r,i,n){const s=GCe(e,r.paths,i,n);return s?(t.paths=s,t):null}function KPe(e,t){return e&&t?aw(t)?Mte(e,{},t,!1,!1):ow(t)?YCe(e,{},t,!1,!1):id(t)?QCe(e,{},t,!1,!1):sw(t)?ZCe(e,{},t,!1,!1):AE(t)?JCe(e,{},t,!1,!1):null:null}function XPe(e,t,r,i,n){return C(r)&&(t.points=qCe(e,r.points,i,n)),t}function eOe(e,t,r,i,n){return B(r)||(t.x=wte(e,r.x),t.y=_te(e,r.y),t!==r&&(i&&(t.z=r.z),n&&(t.m=r.m))),t}function tOe(e,t,r,i,n){return C(r)&&(t.rings=WCe(e,r.rings,i,n)),t}function rOe(e,t,r,i,n){return C(r)&&(t.paths=HCe(e,r.paths,i,n)),t}const KCe="equal-interval",XCe=1,eEe=5,tEe=10,rEe=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,MV=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),Ite=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function gL(e){const t=e.normalizationField!=null||e.normalizationType!=null,r=e.minValue!=null||e.maxValue!=null,i=!!e.sqlExpression&&e.supportsSQLExpression;return!t&&!r&&!i}function iEe(e){const t=e.returnDistinct?[...new Set(e.values)]:e.values,r=t.filter(n=>n!=null).length,i={count:r};return e.supportsNullCount&&(i.nullcount=t.length-r),e.percentileParams&&(i.median=Tte(t,e.percentileParams)),i}function $te(e){const{values:t,useSampleStdDev:r,supportsNullCount:i}=e;let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=null,o=null,l=null,c=null,d=0;const p=e.minValue==null?-1/0:e.minValue,h=e.maxValue==null?1/0:e.maxValue;for(const g of t)Number.isFinite(g)?g>=p&&g<=h&&(a+=g,n=Math.min(n,g),s=Math.max(s,g),d++):typeof g=="string"&&d++;if(d&&a!=null){o=a/d;let g=0;for(const b of t)Number.isFinite(b)&&b>=p&&b<=h&&(g+=(b-o)**2);c=r?d>1?g/(d-1):0:d>0?g/d:0,l=Math.sqrt(c)}else n=null,s=null;const m={avg:o,count:d,max:s,min:n,stddev:l,sum:a,variance:c};return i&&(m.nullcount=t.length-d),e.percentileParams&&(m.median=Tte(t,e.percentileParams)),m}function Tte(e,t){const{fieldType:r,value:i,orderBy:n,isDiscrete:s}=t,a=nEe(r,n==="desc");if((e=[...e].filter(m=>m!=null).sort((m,g)=>a(m,g))).length===0)return null;if(i<=0)return e[0];if(i>=1)return e[e.length-1];const o=(e.length-1)*i,l=Math.floor(o),c=l+1,d=o%1,p=e[l],h=e[c];return c>=e.length||s||typeof p=="string"||typeof h=="string"?p:p*(1-d)+h*d}function nEe(e,t){const r=t?1:-1,i=sEe(t),n=IV(t);if(!(!!e&&["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...MV].includes(e)))return(s,a)=>typeof s=="number"&&typeof a=="number"?i(s,a):typeof s=="string"&&typeof a=="string"?n(s,a):r;if(e==="esriFieldTypeDate")return(s,a)=>{const o=new Date(s).getTime(),l=new Date(a).getTime();return isNaN(o)||isNaN(l)?r:i(o,l)};if(MV.has(e))return(s,a)=>i(s,a);if(e==="esriFieldTypeString")return(s,a)=>n(s,a);if(e==="esriFieldTypeGUID"||e==="esriFieldTypeGlobalID"){const s=IV(t);return(a,o)=>s($V(a),$V(o))}return t?(s,a)=>1:(s,a)=>-1}function IV(e){return e?(t,r)=>(t=t==null?void 0:t.toUpperCase(),r=r==null?void 0:r.toUpperCase(),t>r?-1:t<r?1:0):(t,r)=>(t=t==null?void 0:t.toUpperCase(),r=r==null?void 0:r.toUpperCase(),t<r?-1:t>r?1:0)}function sEe(e){return e?(t,r)=>r-t:(t,r)=>t-r}function $V(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function f1(e,t){let r;for(r in e)Ite.includes(r)&&(Number.isFinite(e[r])||(e[r]=null));return t&&["avg","stddev","variance"].forEach(i=>{e[i]!=null&&(e[i]=Math.ceil(e[i]))}),e}function aEe(e){const t={};for(let r of e)(r==null||typeof r=="string"&&r.trim()==="")&&(r=null),t[r]==null?t[r]={count:1,data:r}:t[r].count++;return{count:t}}function ym(e,t,r){const i=e.count,n=[];r&&t&&t.type==="coded-value"&&t.codedValues.forEach(s=>{const a=s.code;i.hasOwnProperty(a)||(i[a]={data:a,count:0})});for(const s in i){const a=i[s];n.push({value:a.data,count:a.count,label:a.label})}return{uniqueValueInfos:n}}function oEe(e,t,r,i){let n=null;switch(t){case"log":e!==0&&(n=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(i)&&i!==0&&(n=e/i*100);break;case"field":Number.isFinite(r)&&r!==0&&(n=e/r);break;case"natural-log":e>0&&(n=Math.log(e));break;case"square-root":e>0&&(n=e**.5)}return n}function Cte(e,t){const r=VT({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||eEe});return e=lEe(e,t.minValue,t.maxValue),ite({definition:r,values:e,normalizationTotal:t.normalizationTotal})}function lEe(e,t,r){return t=t==null?-1/0:t,r=r==null?1/0:r,e.filter(i=>Number.isFinite(i)&&i>=t&&i<=r)}function VT(e){const t=e.field,r=e.classificationMethod||KCe,i=e.normalizationType,n=e.normalizationField,s=new gTe;return s.classificationField=t,s.breakCount=e.breakCount,s.classificationMethod=r,s.standardDeviationInterval=r==="standard-deviation"?e.standardDeviationInterval||XCe:void 0,s.normalizationType=i,s.normalizationField=i==="field"?n:void 0,s}function zT(e,t){let r=e.classBreaks;const i=r.length,n=r[0].minValue,s=r[i-1].maxValue,a=t==="standard-deviation",o=rEe;return r=r.map(l=>{const c=l.label,d={minValue:l.minValue,maxValue:l.maxValue,label:c};if(a&&c){const p=c.match(o).map(h=>+h.trim());p.length===2?(d.minStdDev=p[0],d.maxStdDev=p[1],p[0]<0&&p[1]>0&&(d.hasAvg=!0)):p.length===1&&(c.includes("<")?(d.minStdDev=null,d.maxStdDev=p[0]):c.includes(">")&&(d.minStdDev=p[0],d.maxStdDev=null))}return d}),{minValue:n,maxValue:s,classBreakInfos:r,normalizationTotal:e.normalizationTotal}}function cEe(e,t){const{min:r,max:i,intervals:n}=uEe(e,t),s=n.map((a,o)=>({minValue:n[o][0],maxValue:n[o][1],count:0}));for(const a of e)if(a!=null&&a>=r&&a<=i){const o=dEe(n,a);o>-1&&s[o].count++}return{bins:s,minValue:r,maxValue:i,normalizationTotal:t.normalizationTotal}}function uEe(e,t){const{field:r,classificationMethod:i,standardDeviationInterval:n,normalizationType:s,normalizationField:a,normalizationTotal:o,minValue:l,maxValue:c}=t,d=t.numBins||tEe;let p=null,h=null,m=null;if((!i||i==="equal-interval")&&!s){if(l!=null&&c!=null)p=l,h=c;else{const g=$te({values:e,minValue:l,maxValue:c,useSampleStdDev:!s,supportsNullCount:gL({normalizationType:s,normalizationField:a,minValue:l,maxValue:c})});p=g.min,h=g.max}m=x6(p,h,d)}else{const{classBreaks:g}=Cte(e,{field:r,normalizationType:s,normalizationField:a,normalizationTotal:o,classificationMethod:i,standardDeviationInterval:n,minValue:l,maxValue:c,numClasses:d});p=g[0].minValue,h=g[g.length-1].maxValue,m=g.map(b=>[b.minValue,b.maxValue])}return{min:p,max:h,intervals:m}}function dEe(e,t){let r=-1;for(let i=e.length-1;i>=0;i--)if(t>=e[i][0]){r=i;break}return r}function x6(e,t,r){const i=(t-e)/r,n=[];let s,a=e;for(let o=1;o<=r;o++)s=a+i,s=Number(s.toFixed(16)),n.push([a,o===r?t:s]),a=s;return n}let wh=null;function fEe(e,t,r){return e.x<0?e.x+=t:e.x>r&&(e.x-=t),e}function pEe(e,t,r,i){const n=CG(r)?ys(r):null,s=n?Math.round((n.valid[1]-n.valid[0])/t.scale[0]):null;return e.map(a=>{const o=new be(a.geometry);return Mte(t,o,o,o.hasZ,o.hasM),a.geometry=n?fEe(o,s,i[0]):o,a})}function hEe(e,t=18,r,i,n,s){const a=new Float64Array(n*s);t=Math.round($t(t));let o=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=0,d=0,p=0,h=0;const m=w9e(i,r);for(const{geometry:b,attributes:w}of e){const{x:v,y:_}=b,S=Math.max(0,v-t),x=Math.max(0,_-t),M=Math.min(s,_+t),I=Math.min(n,v+t),$=+m(w);for(let T=x;T<M;T++)for(let A=S;A<I;A++){const P=T*n+A,F=nY(A-v,T-_,t),j=a[P];c=a[P]+=F*$;const V=c-j;d+=V,p+=V*V,c<o&&(o=c),c>l&&(l=c),h++}}if(!h)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const g=(l-o)/2;return{mean:d/h,stdDev:Math.sqrt((p-d*d/h)/h),min:o,max:l,mid:g,count:h}}async function Ym(e,t){if(!t)return[];const r=e.field,i=e.valueExpression,n=e.normalizationType,s=e.normalizationField,a=e.normalizationTotal,o=[],l=e.viewInfoParams;let c=null,d=null;if(i){if(!wh){const{arcadeUtils:m}=await uo();wh=m}c=wh.createFunction(i),d=l&&wh.getViewInfo({viewingMode:l.viewingMode,scale:l.scale,spatialReference:new Ce(l.spatialReference)})}const p=e.fieldInfos,h=!(t[0]&&"declaredClass"in t[0]&&t[0].declaredClass==="esri.Graphic")&&p?{fields:p}:null;return t.forEach(m=>{const g=m.attributes;let b;if(i){const w=h?{...m,layer:h}:m,v=wh.createExecContext(w,d);b=wh.executeFunction(c,v)}else g&&(b=g[r]);if(n&&isFinite(b)){const w=g&&parseFloat(g[s]);b=oEe(b,n,w,a)}o.push(b)}),o}function Dv(e){const t=e.field,r=e.normalizationType,i=e.normalizationField;let n;return r==="field"?n="(NOT "+i+" = 0)":r!=="log"&&r!=="natural-log"&&r!=="square-root"||(n=`(${t} > 0)`),n}function TV(e,t){return new R(e,t)}function z_(e,t,r){const i=t!=null?e+" >= "+t:"",n=r!=null?e+" <= "+r:"";let s="";return s=i&&n?en(i,n):i||n,s?"("+s+")":""}function en(e,t){let r=C(e)?e:"";return C(t)&&t&&(r=r?"("+r+") AND ("+t+")":t),r}function mEe(e,t,r){const i=yEe({layer:e,fields:t});if(i.length)return TV(r,"Unknown fields: "+i.join(", ")+". You can only use fields defined in the layer schema");const n=gEe({layer:e,fields:t});return n.length?TV(r,"Unsupported fields: "+n.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true"):void 0}function yEe(e){const t=e.layer;return e.fields.filter(r=>!t.getField(r))}function gEe(e){const t=e.layer;return e.fields.filter(r=>{const i=t.getFieldUsageInfo(r);return!i||!i.supportsStatistics})}class ac{async open(t){this.connection=await bw("statsWorker",{strategy:"distributed",signal:t})}destroy(){var t;(t=this.connection)==null||t.close()}static getInstance(){return ac.instance||(ac.instance=new ac),ac.instance}async summaryStatistics(t,r){if(!this.connection)throw new R("worker-client:summary-statistics","connection is required");return this.connection.invoke("summaryStatistics",{attribute:t,features:r})}async uniqueValues(t,r){if(!this.connection)throw new R("worker-client:unique-values","connection is required");return this.connection.invoke("uniqueValues",{attribute:t,features:r})}async classBreaks(t,r){if(!this.connection)throw new R("worker-client:class-breaks","connection is required");return this.connection.invoke("classBreaks",{attribute:t,features:r})}async histogram(t,r){if(!this.connection)throw new R("worker-client:histogram","connection is required");return this.connection.invoke("histogram",{attribute:t,features:r})}async heatmapStatistics(t,r){if(!this.connection)throw new R("worker-client:heatmap-statistics","connection is required");return this.connection.invoke("heatmapStatistics",{attribute:t,features:r})}}const Km={light:["streets","gray","topo","terrain","national-geographic","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","arcgis-light-gray","arcgis-navigation","arcgis-streets","arcgis-streets-relief","arcgis-topographic","arcgis-oceans","osm-standard","osm-standard-relief","osm-streets","osm-streets-relief","osm-light-gray","arcgis-terrain","arcgis-charted-territory","arcgis-community","arcgis-colored-pencil","arcgis-modern-antique","arcgis-midcentury","arcgis-newspaper","arcgis-hillshade-light"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","arcgis-imagery","arcgis-imagery-standard","arcgis-dark-gray","arcgis-navigation-night","arcgis-streets-night","osm-dark-gray","arcgis-nova","arcgis-hillshade-dark"]},CV={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},bEe=["integer","small-integer"];let B_=null;async function gp(e){const t=e.field,r=e.normalizationField,i=e.valueExpression;let n=[];if(i){if(!B_){const{arcadeUtils:s}=await uo();B_=s}n=B_.extractFieldNames(i)}return t&&n.push(t),r&&n.push(r),n}function vg(e){return String(e).padStart(2,"0")}function EV(e,t,r){let i;return t==="date"||t==="number"?(t==="number"&&(e=new Date(e)),i=`TIMESTAMP'${r?e.getFullYear():e.getUTCFullYear()}-${vg((r?e.getMonth():e.getUTCMonth())+1)}-${vg(r?e.getDate():e.getUTCDate())} ${vg(r?e.getHours():e.getUTCHours())}:${vg(r?e.getMinutes():e.getUTCMinutes())}:${vg(r?e.getSeconds():e.getUTCSeconds())}'`):i=e,i}function vEe(e,t,r,i){const{hasQueryEngine:n}=e;let s=`(${EV(r,kV(e,r),n)} - ${EV(t,kV(e,t),n)})`;n&&(s=`(${s} * ${CV.milliseconds})`);let a=CV[i],o="/";return a<1&&(a=1/a,o="*"),{sqlExpression:a===1?s:`(${s} ${o} ${a})`,sqlWhere:null}}function kV(e,t){if(t instanceof Date)return"date";if(typeof t=="number")return"number";if(typeof t=="string"){const r=e.getField(t);if(t.toLowerCase()==="<now>")return;if(r&&r.type==="date")return"field"}}function bL(e,t=Km){for(const r in t)if(t[r].includes(e))return r}function vL(e,t,r=!0){let i=null;return e&&(typeof e=="string"?t.includes(e)&&(i=e):i=Lue(e)),r?i||"gray":i}function Ete(e,t){const r=t&&e.getField(t);return r&&bEe.includes(r.type)}function Mb(e){return`cast(${e} as float)`}let Ib=class extends Z{constructor(){super(...arguments),this.classificationDefinition=null,this.where=null}};u([f({type:dL,json:{read:{source:"classificationDef"},write:{target:"classificationDef"}}})],Ib.prototype,"classificationDefinition",void 0),u([f({type:String,json:{write:!0}})],Ib.prototype,"where",void 0),Ib=u([E("esri.rest.support.GenerateRendererParameters")],Ib);const U_=Ib;let Hl=class extends dL{constructor(){super(...arguments),this.attributeField=null,this.attributeField2=null,this.attributeField3=null,this.fieldDelimiter=null,this.type="unique-value-definition"}get uniqueValueFields(){const e=[];return this.attributeField&&e.push(this.attributeField),this.attributeField2&&e.push(this.attributeField2),this.attributeField3&&e.push(this.attributeField3),e}};u([f()],Hl.prototype,"attributeField",void 0),u([f()],Hl.prototype,"attributeField2",void 0),u([f()],Hl.prototype,"attributeField3",void 0),u([f({json:{write:!0}})],Hl.prototype,"fieldDelimiter",void 0),u([f({json:{write:!0}})],Hl.prototype,"uniqueValueFields",null),u([f()],Hl.prototype,"type",void 0),Hl=u([E("esri.rest.support.UniqueValueDefinition")],Hl);const wEe=Hl,kte="no_dominant_category";function _Ee(e){return{expression:SEe(e,{returnFieldName:!0,defaultValue:`'${kte}'`})}}function SEe(e,t){const{returnFieldName:r,defaultValue:i,layer:n}=t,s=[];if(r&&i){const a=e.map(o=>`${o} <= 0`).join(" AND ");s.push(`WHEN ${a} THEN ${i}`)}for(const a of e){const o=e.reduce((d,p)=>(a!==p&&d.push(`${a} > ${p}`),d),[]).join(" AND "),l=n&&Ete(n,a),c=r&&`'${a}'`?`'${a}'`:l?Mb(a):a;s.push(`WHEN ${o} THEN ${c}`)}return`CASE ${s.join(" ")} ELSE ${i||"0"} END`}function xEe(e){return e&&e.map(t=>`$feature["${t}"];`).join(`
`)+`
`||""}function MEe(e,t=!1){const r=e.map(n=>`"${n}"`),i=`
  if(value != null && value >= 0) {
    if (totalValue == null) { totalValue = 0; }
    totalValue = totalValue + value;
  }
  `;return`
  var fieldNames = [ ${r.join(", ")} ];
  var numFields = ${r.length};
  var maxValueField = null;
  var maxValue = -Infinity;
  var value, i, totalValue = null;

  for(i = 0; i < numFields; i++) {
    value = $feature[fieldNames[i]];

    if(value > 0) {
      if(value > maxValue) {
        maxValue = value;
        maxValueField = fieldNames[i];
      }
      else if (value == maxValue) {
        maxValueField = null;
      }
    }
    ${t?i:""}
  }
  `}function Ate(e){const t=MEe(e);return`
  ${xEe(e)}
  ${t}
  return maxValueField;
  `}async function y2(e){const{attribute:t,features:r}=e,{normalizationType:i,normalizationField:n,minValue:s,maxValue:a,fieldType:o}=t,l=await Ym({field:t.field,valueExpression:t.valueExpression,normalizationType:i,normalizationField:n,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},r),c=gL({normalizationType:i,normalizationField:n,minValue:s,maxValue:a}),d={value:.5,fieldType:o},p=o==="esriFieldTypeString"?iEe({values:l,supportsNullCount:c,percentileParams:d}):$te({values:l,minValue:s,maxValue:a,useSampleStdDev:!i,supportsNullCount:c,percentileParams:d});return f1(p,o==="esriFieldTypeDate")}async function wL(e){const{attribute:t,features:r}=e,i=await Ym({field:t.field,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},r),n=aEe(i);return ym(n,t.domain,t.returnAllCodedValues)}async function _L(e){const{attribute:t,features:r}=e,{field:i,normalizationType:n,normalizationField:s,normalizationTotal:a,classificationMethod:o}=t,l=await Ym({field:i,valueExpression:t.valueExpression,normalizationType:n,normalizationField:s,normalizationTotal:a,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},r),c=Cte(l,{field:i,normalizationType:n,normalizationField:s,normalizationTotal:a,classificationMethod:o,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return zT(c,o)}async function SL(e){const{attribute:t,features:r}=e,{field:i,normalizationType:n,normalizationField:s,normalizationTotal:a,classificationMethod:o}=t,l=await Ym({field:i,valueExpression:t.valueExpression,normalizationType:n,normalizationField:s,normalizationTotal:a,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},r);return cEe(l,{field:i,normalizationType:n,normalizationField:s,normalizationTotal:a,classificationMethod:o,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue})}async function Lte(e){const{attribute:t,features:r}=e,{field:i,radius:n,fieldOffset:s,transform:a,spatialReference:o,size:l}=t,c=pEe(r,a,o,l),{count:d,min:p,max:h,mean:m,stdDev:g}=hEe(c,n,s,i,l[0],l[1]);return{count:d,min:p,max:h,avg:m,stddev:g}}const IEe=Object.freeze(Object.defineProperty({__proto__:null,classBreaks:_L,heatmapStatistics:Lte,histogram:SL,summaryStatistics:y2,uniqueValues:wL},Symbol.toStringTag,{value:"Module"}));let Ba=class extends jn{constructor(e){super(e)}};u([f({constructOnly:!0})],Ba.prototype,"layer",void 0),u([f()],Ba.prototype,"geometryType",void 0),u([f()],Ba.prototype,"objectIdField",void 0),u([f()],Ba.prototype,"supportsSQLExpression",void 0),u([f()],Ba.prototype,"hasQueryEngine",void 0),u([f()],Ba.prototype,"minScale",void 0),u([f()],Ba.prototype,"maxScale",void 0),u([f()],Ba.prototype,"fullExtent",void 0),Ba=u([E("esri.smartMapping.support.adapters.LayerAdapter")],Ba);const xL=Ba,$Ee=/_value$/i,TEe=Math.LOG10E;function p1(e){return e.map(t=>t.toJSON())}async function M6(e,t,r){const i=[];if(t)for(const n of t){const s=e.getField(n);"availableFields"in r&&!r.availableFields.includes(s.name)&&i.push(s.name)}return i}function BT(e,t){const r=e&&e.features,i=r&&r[0]&&r[0].attributes,n={};for(const s in i)n[s.replace($Ee,"").toLowerCase()]=i[s];return n.totalcount!=null&&n.totalcount>=n.count&&(n.nullcount=n.totalcount-n.count),delete n.totalcount,n.min===n.max&&n.min!=null&&n.stddev==null&&(n.stddev=n.variance=0),t&&(["min","max","avg","stddev","sum","variance"].forEach(s=>{n[s]!=null&&(n[s]=Math.ceil(n[s]))}),n.min===n.max&&n.min!=null&&(n.avg=n.min,n.stddev=n.variance=0)),n}function CEe(e){const t=[],r=e.classBreaks,i=r[0].minValue,n=r[r.length-1].maxValue;r.forEach(a=>{t.push([a.minValue,a.maxValue])});const s={field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,layer:e.layer};return{min:i,max:n,intervals:t,sqlExpr:$b(s),excludeZerosExpr:e.where,normTotal:e.normalizationTotal}}function $b(e){const{field:t,normalizationType:r,normalizationField:i,normalizationTotal:n,layer:s}=e,a=Ete(s,t);let o=t;return r==="percent-of-total"?o=`((${a?Mb(t):t} / ${n}) * 100)`:r==="log"?o=`(log(${t}) * ${TEe})`:r==="field"?o=`(${a?Mb(t):t} / ${i})`:r==="natural-log"?o=`(log(${a?Mb(t):t}))`:r==="square-root"&&(o=`(power(${a?Mb(t):t}, 0.5))`),o}function Rte(e,t){let r;if(t=t.toLowerCase(),e){for(const i in e)if(i.toLowerCase()!==t){r=e[i];break}}return r}function UT(e,t){let r;if(t=t.toLowerCase(),e){for(const i in e)if(i.toLowerCase()===t){r=e[i];break}}return r}function Pte(e,t,r,i,n){const s={},a="countOFExpr";e&&e.features&&e.features.forEach(l=>{const c=l.attributes,d=Rte(c,a),p=UT(c,a);d!==0&&(s[d]=p)});const o=[];return x6(t,r,i).forEach((l,c)=>{const d=(c+1).toString();o.push({minValue:l[0],maxValue:l[1],count:s.hasOwnProperty(d)?s[d]:0})}),{bins:o,minValue:t,maxValue:r,normalizationTotal:n}}function I6(e,t,r,i,n,s){const a=e&&e.features,o="countOF"+(r||"Expr"),l={};let c=!1;if(a.forEach(d=>{const p=d.attributes,h=UT(p,o);let m=r?UT(p,r):Rte(p,o);m===null&&h===0&&(c=!0),(m==null||typeof m=="string"&&m.trim()==="")&&(m=null),l[m]==null?l[m]={count:h,data:m}:l[m].count=l[m].count+h}),r&&c){const d=r+" is NULL";return t.queryFeatureCount({whereClause:d,view:i,signal:s}).then(p=>(p=p||0,l.null.count=l.null.count+p,G_(l,n))).catch(()=>(Ge(s),G_(l,n)))}return Promise.resolve(G_(l,n))}function G_(e,t){if(t)for(const r in e)e[r].label=t[r];return{count:e}}function AV(e,t){return vEe(e,new Date(0),t,"milliseconds").sqlExpression}function Wu(e){var t;return{viewingMode:e.type==="2d"?"map":e.viewingMode,scale:e.scale,spatialReference:(t=e.spatialReference)==null?void 0:t.toJSON()}}function Ote(e,t){const r=e.map(n=>n.value),i=t.filter(n=>!r.includes(n));for(const n of i)e.push({value:n,count:0});e.sort((n,s)=>t.indexOf(n.value)-t.indexOf(s.value));for(const n of e)n.value===kte&&(n.value=null);return{predominantCategoryInfos:e}}function EEe(e,t){return t}function ML(e,t,r,i){switch(r){case 0:return g2(e,t+i,0);case 1:return e.originPosition==="lowerLeft"?g2(e,t+i,1):LEe(e,t+i,1)}}function Fte(e,t,r,i){return r===2?g2(e,t,2):ML(e,t,r,i)}function kEe(e,t,r,i){return r===2?g2(e,t,3):ML(e,t,r,i)}function AEe(e,t,r,i){return r===3?g2(e,t,3):Fte(e,t,r,i)}function g2({translate:e,scale:t},r,i){return e[i]+r*t[i]}function LEe({translate:e,scale:t},r,i){return e[i]-r*t[i]}class REe{constructor(t){this.options=t,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=EEe,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this._attributesConstructor=()=>{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(t){if(this.options.applyTransform&&(t.transform=null),this._attributesConstructor=()=>{},this.coordinateBuffer=null,this.lengths.length=0,!t.hasZ)return;const r=XE(t.geometryType,this.options.sourceSpatialReference,t.spatialReference);if(!B(r))for(const i of t.features)r(i.geometry)}createSpatialReference(){return{}}addField(t,r){t.fields.push(r);const i=t.fields.map(n=>n.name);this._attributesConstructor=function(){for(const n of i)this[n]=null}}addFeature(t,r){t.features.push(r)}prepareFeatures(t){switch(this.transform=t.transform,this.options.applyTransform&&t.transform&&(this.applyTransform=this._deriveApplyTransform(t)),this.vertexDimension=2,t.hasZ&&this.vertexDimension++,t.hasM&&this.vertexDimension++,t.geometryType){case"esriGeometryPoint":this.addCoordinate=(r,i,n)=>this.addCoordinatePoint(r,i,n),this.createGeometry=r=>this.createPointGeometry(r);break;case"esriGeometryPolygon":this.addCoordinate=(r,i,n)=>this._addCoordinatePolygon(r,i,n),this.createGeometry=r=>this._createPolygonGeometry(r);break;case"esriGeometryPolyline":this.addCoordinate=(r,i,n)=>this._addCoordinatePolyline(r,i,n),this.createGeometry=r=>this._createPolylineGeometry(r);break;case"esriGeometryMultipoint":this.addCoordinate=(r,i,n)=>this._addCoordinateMultipoint(r,i,n),this.createGeometry=r=>this._createMultipointGeometry(r);break;default:t.geometryType}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(t,r,i){this.lengths.length===0&&(this.toAddInCurrentPath=r),this.lengths.push(r)}addQueryGeometry(t,r){const{queryGeometry:i,queryGeometryType:n}=r,s=_I(i.clone(),i,!1,!1,this.transform),a=IZ(s,n,!1,!1);t.queryGeometryType=n,t.queryGeometry={...a}}createPointGeometry(t){const r={x:0,y:0,spatialReference:t.spatialReference};return t.hasZ&&(r.z=0),t.hasM&&(r.m=0),r}addCoordinatePoint(t,r,i){switch(r=this.applyTransform(this.transform,r,i,0),i){case 0:t.x=r;break;case 1:t.y=r;break;case 2:"z"in t?t.z=r:t.m=r;break;case 3:t.m=r}}_transformPathLikeValue(t,r){let i=0;return r<=1&&(i=this.previousCoordinate[r],this.previousCoordinate[r]+=t),this.applyTransform(this.transform,t,r,i)}_addCoordinatePolyline(t,r,i){this._dehydratedAddPointsCoordinate(t.paths,r,i)}_addCoordinatePolygon(t,r,i){this._dehydratedAddPointsCoordinate(t.rings,r,i)}_addCoordinateMultipoint(t,r,i){i===0&&t.points.push([]);const n=this._transformPathLikeValue(r,i);t.points[t.points.length-1].push(n)}_createPolygonGeometry(t){return{rings:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_createPolylineGeometry(t){return{paths:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_createMultipointGeometry(t){return{points:[],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_dehydratedAddPointsCoordinate(t,r,i){i===0&&this.toAddInCurrentPath--==0&&(t.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const n=this._transformPathLikeValue(r,i),s=t[t.length-1];i===0&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),s.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=n}_deriveApplyTransform(t){const{hasZ:r,hasM:i}=t;return r&&i?AEe:r?Fte:i?kEe:ML}}async function PEe(e,t,r){const i=Mr(e),n={...r},s=Ht.from(t),a=!s.quantizationParameters,{data:o}=await iZ(i,s,new REe({sourceSpatialReference:s.sourceSpatialReference,applyTransform:a}),n);return o}function OEe(e){const t=e.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t}function FEe(e,t){const r={};for(const i of e){const{parentObjectId:n,parentGlobalId:s,attachmentInfos:a}=i;for(const o of a){const{id:l}=o,c=Soe(LG(`${t}/${n}/attachments/${l}`)),d=aJ.fromJSON(o);d.set({url:c,parentObjectId:n,parentGlobalId:s}),r[n]?r[n].push(d):r[n]=[d]}}return r}function DEe(e,t,r){let i={query:N2({...e.query,f:"json",...OEe(t)})};return r&&(i={...r,...i,query:{...r.query,...i.query}}),$e(e.path+"/queryAttachments",i)}async function NEe(e,t,r){const i=Mr(e);return DEe(i,z4.from(t),{...r}).then(n=>FEe(n.data.attachmentGroups,i.path))}async function jEe(e,t,r){const i=Mr(e);return oZ(i,Ht.from(t),{...r}).then(n=>({count:n.data.count,extent:Ve.fromJSON(n.data.extent)}))}function VEe(e,t){const r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(",")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(",")),r.outFields&&!(t!=null&&t.returnCountOnly)?r.outFields.includes("*")?r.outFields="*":r.outFields=r.outFields.join(","):delete r.outFields,r.outSpatialReference&&(r.outSR=r.outSR.wkid||JSON.stringify(r.outSR.toJSON()),delete r.outSpatialReference),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}async function zEe(e,t,r){const i=await Dte(e,t,r),n=i.data,s=n.geometryType,a=n.spatialReference,o={};for(const l of n.relatedRecordGroups){const c={fields:void 0,objectIdFieldName:void 0,geometryType:s,spatialReference:a,hasZ:!!n.hasZ,hasM:!!n.hasM,features:l.relatedRecords};if(l.objectId!=null)o[l.objectId]=c;else for(const d in l)l.hasOwnProperty(d)&&d!=="relatedRecords"&&(o[l[d]]=c)}return{...i,data:o}}async function BEe(e,t,r){const i=await Dte(e,t,r,{returnCountOnly:!0}),n=i.data,s={};for(const a of n.relatedRecordGroups)a.objectId!=null&&(s[a.objectId]=a.count);return{...i,data:s}}async function Dte(e,t,r={},i){const n=N2({...e.query,f:"json",...i,...VEe(t,i)});return $e(e.path+"/queryRelatedRecords",{...r,query:{...r.query,...n}})}async function UEe(e,t,r){t=Pp.from(t);const i=Mr(e);return zEe(i,t,r).then(n=>{const s=n.data,a={};return Object.keys(s).forEach(o=>a[o]=Ss.fromJSON(s[o])),a})}async function GEe(e,t,r){t=Pp.from(t);const i=Mr(e);return BEe(i,t,{...r}).then(n=>n.data)}const LV="Layer does not support extent calculation.";function qEe(e,t){var s,a;const r=e.geometry,i=e.toJSON(),n=i;if(C(r)&&(n.geometry=JSON.stringify(r),n.geometryType=Md(r),n.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference)),(s=i.topFilter)!=null&&s.groupByFields&&(n.topFilter.groupByFields=i.topFilter.groupByFields.join(",")),(a=i.topFilter)!=null&&a.orderByFields&&(n.topFilter.orderByFields=i.topFilter.orderByFields.join(",")),i.topFilter&&(n.topFilter=JSON.stringify(n.topFilter)),i.objectIds&&(n.objectIds=i.objectIds.join(",")),i.orderByFields&&(n.orderByFields=i.orderByFields.join(",")),i.outFields&&!((t==null?void 0:t.returnCountOnly)||(t==null?void 0:t.returnExtentOnly)||(t==null?void 0:t.returnIdsOnly))?i.outFields.includes("*")?n.outFields="*":n.outFields=i.outFields.join(","):delete n.outFields,i.outSR?n.outSR=i.outSR.wkid||JSON.stringify(i.outSR):r&&i.returnGeometry&&(n.outSR=n.inSR),i.returnGeometry&&delete i.returnGeometry,i.timeExtent){const o=i.timeExtent,{start:l,end:c}=o;l==null&&c==null||(n.time=l===c?l:`${l==null?"null":l},${c==null?"null":c}`),delete i.timeExtent}return n}async function HEe(e,t,r,i){const n=await c8(e,t,"json",i);return K4(t,r,n.data),n}async function WEe(e,t,r){return C(t.timeExtent)&&t.timeExtent.isEmpty?{data:{objectIds:[]}}:c8(e,t,"json",r,{returnIdsOnly:!0})}async function JEe(e,t,r){return C(t.timeExtent)&&t.timeExtent.isEmpty?{data:{count:0,extent:null}}:c8(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then(i=>{const n=i.data;if(n.hasOwnProperty("extent"))return i;if(n.features)throw new Error(LV);if(n.hasOwnProperty("count"))throw new Error(LV);return i})}function ZEe(e,t,r){return C(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):c8(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function c8(e,t,r,i={},n={}){const s=typeof e=="string"?jt(e):e,a=t.geometry?[t.geometry]:[];return i.responseType=r==="pbf"?"array-buffer":"json",Jp(a,null,i).then(o=>{const l=o&&o[0];C(l)&&((t=t.clone()).geometry=l);const c=N2({...s.query,f:r,...n,...qEe(t,n)});return $e(hd(s.path,"queryTopFeatures"),{...i,query:{...c,...i.query}})})}async function QEe(e,t,r,i){const n=Mr(e),s={...i},{data:a}=await HEe(n,Hu.from(t),r,s);return Ss.fromJSON(a)}async function YEe(e,t,r){const i=Mr(e);return(await WEe(i,Hu.from(t),{...r})).data.objectIds}async function KEe(e,t,r){const i=Mr(e),n=await JEe(i,Hu.from(t),{...r});return{count:n.data.count,extent:Ve.fromJSON(n.data.extent)}}async function XEe(e,t,r){const i=Mr(e);return(await ZEe(i,Hu.from(t),{...r})).data.count}let y0=class extends ye{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return typeof e!="string"?e:{url:e,...t}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?jt(e):null}_encode(e,t,r){const i={};for(const n in e){if(n==="declaredClass")continue;const s=e[n];if(s!=null&&typeof s!="function")if(Array.isArray(s)){i[n]=[];for(let a=0;a<s.length;a++)i[n][a]=this._encode(s[a])}else if(typeof s=="object")if(s.toJSON){const a=s.toJSON(r&&r[n]);i[n]=t?a:JSON.stringify(a)}else i[n]=t?s:JSON.stringify(s);else i[n]=s}return i}};u([f({readOnly:!0})],y0.prototype,"parsedUrl",null),u([f()],y0.prototype,"requestOptions",void 0),u([f({type:String})],y0.prototype,"url",void 0),y0=u([E("esri.tasks.Task")],y0);const Nte=y0;let Wl=class extends Nte{constructor(e){super(e),this.dynamicDataSource=null,this.fieldsIndex=null,this.format="json",this.gdbVersion=null,this.infoFor3D=null,this.sourceSpatialReference=null}execute(e,t){return this.executeJSON(e,t).then(r=>this.featureSetFromJSON(e,r,t))}async executeJSON(e,t){var l;const r={...this.requestOptions,...t},i=this._normalizeQuery(e),n=((l=e.outStatistics)==null?void 0:l[0])!=null,s=W("featurelayer-pbf-statistics"),a=!n||s;let o;if(this.format==="pbf"&&a)try{o=await PEe(this.url,i,r)}catch(c){if(c.name!=="query:parsing-pbf")throw c;this.format="json"}return this.format!=="json"&&a||(o=await lZ(this.url,i,r)),this._normalizeFields(o.fields),o}async featureSetFromJSON(e,t,r){if(!this._queryIs3DObjectFormat(e)||B(this.infoFor3D)||!t.features||!t.features.length)return Ss.fromJSON(t);const{meshFeatureSetFromJSON:i}=await kU(Y(()=>import("./meshFeatureSet.0d9f8a4e.js").then(n=>n.a),["meshFeatureSet.0d9f8a4e.js","georeference.0fdf75b4.js","quatf64.2f917dd7.js","mat4f64.0958f530.js","quat.af7ab8fb.js","BufferView.e4fb5d53.js","vec33.3b1d0816.js","earcut.f65e2fcc.js","deduplicate.bd5e5d05.js"],import.meta.url),r);return i(e,this.infoFor3D,t)}executeForCount(e,t){const r={...this.requestOptions,...t},i=this._normalizeQuery(e);return mte(this.url,i,r)}executeForExtent(e,t){const r={...this.requestOptions,...t},i=this._normalizeQuery(e);return jEe(this.url,i,r)}executeForIds(e,t){const r={...this.requestOptions,...t},i=this._normalizeQuery(e);return yte(this.url,i,r)}executeRelationshipQuery(e,t){e=Pp.from(e);const r={...this.requestOptions,...t};return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),UEe(this.url,e,r)}executeRelationshipQueryForCount(e,t){e=Pp.from(e);const r={...this.requestOptions,...t};return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),GEe(this.url,e,r)}executeAttachmentQuery(e,t){const r={...this.requestOptions,...t};return NEe(this.url,e,r)}executeTopFeaturesQuery(e,t){const r={...this.requestOptions,...t};return QEe(this.parsedUrl,e,this.sourceSpatialReference,r)}executeForTopIds(e,t){const r={...this.requestOptions,...t};return YEe(this.parsedUrl,e,r)}executeForTopExtents(e,t){const r={...this.requestOptions,...t};return KEe(this.parsedUrl,e,r)}executeForTopCount(e,t){const r={...this.requestOptions,...t};return XEe(this.parsedUrl,e,r)}_normalizeQuery(e){let t=Ht.from(e);if(t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(t=t===e?t.clone():t,t.gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?In.from(e.dynamicDataSource):this.dynamicDataSource),C(this.infoFor3D)&&this._queryIs3DObjectFormat(e)){t=t===e?t.clone():t,t.formatOf3DObjects=null;for(const r of this.infoFor3D.queryFormats){if(r.id==="3D_glb"){t.formatOf3DObjects=r.id;break}r.id!=="3D_gltf"||t.formatOf3DObjects||(t.formatOf3DObjects=r.id)}if(!t.formatOf3DObjects)throw new R("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(B(t.outFields)||!t.outFields.includes("*")){t=t===e?t.clone():t,B(t.outFields)&&(t.outFields=[]);const{originX:r,originY:i,originZ:n,translationX:s,translationY:a,translationZ:o,scaleX:l,scaleY:c,scaleZ:d,rotationX:p,rotationY:h,rotationZ:m,rotationDeg:g}=this.infoFor3D.transformFieldRoles;t.outFields.push(r,i,n,s,a,o,l,c,d,p,h,m,g)}}return t}_normalizeFields(e){if(C(this.fieldsIndex)&&C(e))for(const t of e){const r=this.fieldsIndex.get(t.name);r&&Object.assign(t,r.toJSON())}}_queryIs3DObjectFormat(e){return C(this.infoFor3D)&&e.returnGeometry&&e.multipatchOption!=="xyFootprint"&&!e.outStatistics}};u([f({type:In})],Wl.prototype,"dynamicDataSource",void 0),u([f()],Wl.prototype,"fieldsIndex",void 0),u([f()],Wl.prototype,"format",void 0),u([f()],Wl.prototype,"gdbVersion",void 0),u([f()],Wl.prototype,"infoFor3D",void 0),u([f()],Wl.prototype,"sourceSpatialReference",void 0),Wl=u([E("esri.tasks.QueryTask")],Wl);const eke=Wl;let kf=class extends Nte{constructor(e){super(e),this._field=null,this.checkValueRange=null,this.gdbVersion=null,this.source=null}get parsedUrl(){const e=this._parseUrl(this.url);return e.path+="/generateRenderer",e}execute(e,t){var s;const{classificationDefinition:r}=e,i={...e.toJSON(),f:"json"};if(r.declaredClass==="esri.rest.support.ClassBreaksDefinition"?this._field=r.classificationField:this._field=r.attributeField,this.source){const a={source:(s=this.source)==null?void 0:s.toJSON()};i.layer=JSON.stringify(a)}this.gdbVersion&&(i.gdbVersion=this.gdbVersion),i.classificationDef&&(i.classificationDef=JSON.stringify(i.classificationDef));let n={query:i};return(this.requestOptions||t)&&(n={...this.requestOptions,...t,...n}),$e(this.parsedUrl.path,n).then(a=>this._handleExecuteResponse(a))}_handleExecuteResponse(e){const t=e&&e.data;if(!t)return;if(!this.checkValueRange){const a=this._processRendererJSON(t);return Promise.resolve(a)}const r=new eke({url:this.url}),i=new hp({statisticType:"min",onStatisticField:this._field}),n=new hp({statisticType:"max",onStatisticField:this._field}),s=new Ht({outStatistics:[i,n]});return r.execute(s).then(a=>{const o=a.features[0].attributes;let l=null,c=null;for(const d in o)d.toLowerCase().indexOf("min")===0?l=o[d]:c=o[d];return this._processRendererJSON(t,l,c)})}_processRendererJSON(e,t,r){if(e.type==="classBreaks"){const i=uY(e);return{classBreaks:i.classBreakInfos.map((n,s)=>(s===0&&t!=null&&(n.minValue=t),s===i.classBreakInfos.length-1&&r!=null&&(n.maxValue=r),{minValue:n.minValue,maxValue:n.maxValue,label:n.label})),normalizationTotal:i.normalizationTotal}}return{uniqueValues:e.uniqueValueInfos.map((i,n)=>(n===0&&t!=null&&(i.value=t),n===e.uniqueValueInfos.length-1&&r!=null&&(i.value=r),{count:i.count,value:i.value,label:i.label}))}}};u([f()],kf.prototype,"checkValueRange",void 0),u([f()],kf.prototype,"gdbVersion",void 0),u([f({type:In})],kf.prototype,"source",void 0),u([f({readOnly:!0})],kf.prototype,"parsedUrl",null),kf=u([E("esri.tasks.GenerateRendererTask")],kf);const tke=kf,rke=ae.getLogger("esri.smartMapping.support.adapters.FeatureLayerAdapter"),q_=5,Nv=10,RV=2e4,ike=4e5;let _9=class extends xL{constructor(e){super(e)}destroy(){var e;this._hasLocalSource=null,(e=this.workerClient)==null||e.destroy()}_isStatsSupportedOnService(){const e=this.layer;return!e.get("capabilities.query.supportsStatistics")||this.geometryType==="multipatch"&&!cA(e.url)&&e.version<10.5?Promise.reject(new R("feature-layer-adapter:not-supported","Layer does not support statistics query")):Promise.resolve()}async _waitForLayerViewUpdate(e){if(!e)throw new R("feature-layer-adapter:insufficient-data","layerView is required to fetch the features");const t=new AbortController,r=Xa(()=>!e.updating,t.signal);await AU(r,5e3,t).catch(i=>{throw rke.warn("LayerView is taking too long to update. Aborting fetch from layerView."),i})}async _fetchFeaturesFromMemory(e,t,r,i){const n=this.layer,s=i==="json";if(this._hasLocalSource){const o=await n.queryFeatures(t);return s?p1(o.features):o.features}if(await this._waitForLayerViewUpdate(e),s&&"queryFeaturesJSON"in e&&e.queryFeaturesJSON){const{features:o}=await e.queryFeaturesJSON(t,{signal:r});return o}const a=await e.queryFeatures(t,{signal:r});return s?p1(a.features):a.features}_fetchFeaturesFromService(e,t){return this.layer.queryFeatures(e,{signal:t}).then(r=>r.features)}_fetchFeaturesJSONFromService(e,t){return this._fetchFeaturesFromService(e,t).then(p1)}_fetchFeaturesForStats(e,t){return gp({field:e.field,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then(r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,requiredFields:r,signal:e.signal},t))}_summaryStatsFromGenRend(e){const t=e.normalizationType,r=e.normalizationField;return this.classBreaks({field:e.field,numClasses:q_,classificationMethod:"standard-deviation",standardDeviationInterval:.25,normalizationType:t,normalizationField:t==="field"?r:void 0,minValue:e.minValue,maxValue:e.maxValue,signal:e.signal}).then(i=>{let n,s,a;if(i.classBreakInfos.some(l=>(l.hasAvg&&(n=l),!!n)),n){const l=n.maxValue-n.minValue;s=n.minValue+l/2,a=4*l}const o={min:i.minValue,max:i.maxValue,avg:s,stddev:a};return f1(o)})}_getSummaryStatsQuery(e,t){const{field:r,normalizationType:i,normalizationField:n,normalizationTotal:s,minValue:a,maxValue:o}=e,l=this.supportsSQLExpression&&t?AV(this,r):e.sqlExpression,c=$b({field:r,normalizationType:i,normalizationField:n,normalizationTotal:s,layer:this}),d=l||c,p=d?z_(d,a,o):null,h=Dv({field:r,normalizationField:n,normalizationType:i}),m=en(e.sqlWhere,h),g=en(m,p),b=gL({normalizationField:n,normalizationType:i,sqlExpression:l,supportsSQLExpression:this.supportsSQLExpression,minValue:a,maxValue:o}),w=Ede(this.getField(r)),v=Ite.filter(S=>S==="nullcount"?b:!w||S==="count"),_=this.layer.createQuery();return _.where=en(_.where,g),_.sqlFormat=l?"standard":null,_.outStatistics=v.map(S=>{const x=new hp;let M=null,I=null,$=`${S}_value`;return S==="variance"?(M="var",I=d):S==="nullcount"?(M="count",I=this.layer.objectIdField,$="totalcount_value"):S==="median"?(M="percentile-continuous",I=d,x.statisticParameters={value:.5}):(M=S,I=d),x.statisticType=M,x.onStatisticField=I,x.outStatisticFieldName=$,x}),_}async _summaryStatsFromServiceQuery(e,t){await this._isStatsSupportedOnService(),e.normalizationType==="percent-of-total"&&(e.normalizationTotal=await this._getNormalizationTotal(e.field,e.normalizationType));const r=this._getSummaryStatsQuery(e,t),i=await this.layer.queryFeatures(r,{signal:e.signal}),n=BT(i,t);return f1(n)}async _summaryStatsFromClientQuery(e,t){const r=this._getSummaryStatsQuery(e,t),i=await this.layer.queryFeatures(r,{signal:e.signal}),n=BT(i,t);return f1(n)}async _getNormalizationTotalFromMemory(e,t,r){const{featuresJSON:i,graphics:n,layerView:s,query:a}=t,o=(!i&&!n&&s&&"querySummaryStatistics"in s?await s.querySummaryStatistics(a,{field:e},{signal:r}):i?await this.workerClient.summaryStatistics({field:e},i):await y2({attribute:{field:e},features:n})).sum;if(o==null)throw new R("feature-layer-adapter:invalid","invalid normalizationTotal");return o}async _summaryStatsFromMemory(e,t){const{view:r,field:i,valueExpression:n,normalizationType:s,signal:a}=e,o={field:i,valueExpression:n,normalizationType:s,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue},{featuresJSON:l,graphics:c,layerView:d,query:p,fieldInfos:h}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"querySummaryStatistics"});return n&&r&&(l||c)&&(o.fieldType=t!=null&&t.type?Ak.toJSON(t.type):null,o.viewInfoParams=Wu(r),o.fieldInfos=h),s==="percent-of-total"&&e.normalizationTotal==null&&(o.normalizationTotal=await this._getNormalizationTotalFromMemory(i,{featuresJSON:l,graphics:c,layerView:d,query:p},a)),!l&&!c&&d&&"querySummaryStatistics"in d?d.querySummaryStatistics(p,o,{signal:a}):l?this.workerClient.summaryStatistics(o,l):y2({attribute:o,features:c})}async _processStatsFromMemoryParams(e){const t=e.features;if(t!=null&&t.length)return t.length&&"declaredClass"in t[0]&&t[0].declaredClass==="esri.Graphic"?{graphics:t}:{featuresJSON:t};const{view:r,field:i,normalizationField:n,valueExpression:s,returnGeometry:a,layerViewFunc:o,signal:l}=e;let c=null,d=null,p=null,h=null,m=null;if(r)try{c=await r.whenLayerView(this.layer),d=o in c&&typeof c[o]=="function"}catch{d=!1}if(d)try{await this._waitForLayerViewUpdate(c);const g=await gp({field:i,normalizationField:n,valueExpression:s});(await M6(this,g,c)).length?d=!1:(p=this.layer.createQuery(),p.outFields=g,p.returnGeometry=!1),c.suspended&&(d=!1)}catch{d=!1}if(!d&&(h=await this._fetchFeaturesForStats({field:i,valueExpression:s,normalizationField:n,returnGeometry:a,view:r,signal:l},"json"),m=(await gp({valueExpression:s})).map(g=>{var b;return(b=this.getField(g))==null?void 0:b.toJSON()}).filter(Boolean),!(h!=null&&h.length)))throw new R("feature-layer-adapter:insufficient-data","No features are available to calculate statistics");return{layerView:c,query:p,featuresJSON:h,fieldInfos:m}}_uvFromGenRenderer(e,t){const r=e.field,i=new wEe;i.attributeField=r;const n=new U_;return n.classificationDefinition=i,this.generateRenderer(n,e.signal).then(s=>{const a={},o=this.getField(r);return s.uniqueValues.forEach(l=>{let c=l.value;c!=null&&c!==""&&(typeof c!="string"||c.trim()!==""&&c.toLowerCase()!=="<null>")||(c=null),a[c]==null?a[c]={count:l.count,data:k2(o)&&c?Number(c):c}:a[c].count=a[c].count+l.count}),{count:a}}).then(s=>ym(s,t,e.returnAllCodedValues))}_getUVQuery(e){const t=e.field,r=e.sqlExpression,i="countOF"+(t||"Expr"),n=new hp;n.statisticType="count",n.onStatisticField=r?"1":t,n.outStatisticFieldName=i;const s=this.layer.createQuery();return s.where=en(s.where,e.sqlWhere),s.sqlFormat=r?"standard":null,s.outStatistics=[n],s.groupByFieldsForStatistics=[t||r],s}_uvFromServiceQuery(e,t){return this._isStatsSupportedOnService().then(()=>this.layer.queryFeatures(this._getUVQuery(e),{signal:e.signal})).then(r=>I6(r,this,e.field,e.view,null,e.signal)).then(r=>ym(r,t,e.returnAllCodedValues))}async _uvFromClientQuery(e,t){const{signal:r}=e,i=this._getUVQuery(e),n=await this.layer.queryFeatures(i,{signal:r}),s=await I6(n,this,e.field,e.view,null,r);return ym(s,t,e.returnAllCodedValues)}async _uvFromMemory(e,t){const{view:r,field:i,valueExpression:n,returnAllCodedValues:s,signal:a}=e,{featuresJSON:o,graphics:l,layerView:c,query:d,fieldInfos:p}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryUniqueValues"}),h={field:i,valueExpression:n,domain:t,returnAllCodedValues:s};return n&&r&&o&&(h.viewInfoParams=Wu(r),h.fieldInfos=p),!o&&!l&&c&&"queryUniqueValues"in c?c.queryUniqueValues(d,h,{signal:a}):o?this.workerClient.uniqueValues(h,o):wL({attribute:h,features:l})}_calcBinsSQL(e,t,r){const i=[],n=t.length;return t.forEach((s,a)=>{const[o,l]=s;let c=null;c=a!==0||r?a!==n-1||r?en(`${e} >= ${o}`,`${e} ${a===n-1?" <= ":" < "} ${l}`):`${e} >= ${o}`:`${e} < ${l}`,i.push("WHEN ("+c+") THEN "+(a+1))}),["CASE",i.join(" "),"ELSE 0","END"].join(" ")}_getNormalizationTotal(e,t,r){return e&&t==="percent-of-total"?this.summaryStatistics({field:e,signal:r}).then(i=>i.sum):Promise.resolve(null)}_getQueryParamsForExpr(e,t){const r=e.valueExpression||e.sqlExpression,i=e.signal;if(!r){const{field:n,normalizationType:s,normalizationField:a}=e,o=n?this.getField(n):null,l=nm(o);return{sqlExpression:l?AV(this,n):$b({field:n,normalizationType:s,normalizationField:a,normalizationTotal:t,layer:this}),sqlWhere:l?null:e.sqlWhere||Dv({field:n,normalizationType:s,normalizationField:a}),signal:i}}return{valueExpression:e.valueExpression,sqlExpression:e.sqlExpression,sqlWhere:e.sqlWhere,signal:i}}_getDataRange(e,t,r){return t!=null&&r!=null?Promise.resolve({min:t,max:r}):this.summaryStatistics(e).then(i=>({min:i.min,max:i.max}))}_histogramForExpr(e){return this._getNormalizationTotal(e.field,e.normalizationType,e.signal).then(t=>{const r=this._getQueryParamsForExpr(e,t);return this._getDataRange(r,e.minValue,e.maxValue).then(i=>{const{min:n,max:s}=i,a=e.numBins||Nv,o=x6(n,s,a),l=this._calcBinsSQL(r.sqlExpression,o,e.minValue!=null&&e.maxValue!=null),c=new hp({statisticType:"count",outStatisticFieldName:"countOFExpr",onStatisticField:"1"}),d=this.layer.createQuery();return d.where=en(d.where,r.sqlWhere),d.sqlFormat="standard",d.outStatistics=[c],d.groupByFieldsForStatistics=[l],d.orderByFields=[l],this._isStatsSupportedOnService().then(()=>this.layer.queryFeatures(d,{signal:r.signal})).then(p=>Pte(p,n,s,a,t))})})}_histogramForField(e){let t=null;return t=e.minValue!=null&&e.maxValue!=null?Promise.resolve({min:e.minValue,max:e.maxValue}):this.summaryStatistics(e).then(r=>{if(!r.count)throw new R("feature-layer-adapter:insufficient-data","Either the layer has no features or none of the features have data for the field");return{min:r.min,max:r.max}}),t.then(r=>this._getBins({min:r.min,max:r.max},e.field,e.numBins,e.view,e.signal))}_getBins(e,t,r=Nv,i,n){const{min:s,max:a,normTotal:o,excludeZerosExpr:l}=e,c=e.intervals||x6(s,a,r),d=e.sqlExpr||t;return this._queryBins(c,d,l,i,n).then(p=>({bins:p.map((h,m)=>({minValue:c[m][0],maxValue:c[m][1],count:h.value})),minValue:s,maxValue:a,normalizationTotal:o}))}_queryBins(e,t,r,i,n){const s=[],a=e.length;for(let o=0;o<a;o++){const l=en(r,en(t+" >= "+e[o][0],e[o][1]!==null?t+(o===a-1?" <= ":" < ")+e[o][1]:""));s.push(l)}return Kt(s.map(o=>this.queryFeatureCount({whereClause:o,view:i,signal:n})))}_binParamsFromGenRend(e,t){const{field:r,normalizationType:i,normalizationField:n,signal:s}=e,a=Dv({field:r,normalizationType:i,normalizationField:n}),o=new U_({classificationDefinition:VT({field:r,normalizationType:i,normalizationField:n,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numBins||Nv}),where:en(a,t)});return this.generateRenderer(o,s).then(l=>{const{normalizationTotal:c,classBreaks:d}=l;return CEe({field:r,normalizationType:i,normalizationField:n,normalizationTotal:c,classBreaks:d,where:a,layer:this})})}async _histogramFromMemory(e){const{view:t,field:r,signal:i}=e,{featuresJSON:n,graphics:s,layerView:a,query:o,fieldInfos:l}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryHistogram"}),c={field:r,valueExpression:e.valueExpression,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return e.valueExpression&&t&&n&&(c.viewInfoParams=Wu(t),c.fieldInfos=l),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(c.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:n,graphics:s,layerView:a,query:o},i)),!n&&!s&&a&&"queryHistogram"in a?a.queryHistogram(o,c,{signal:i}):n?this.workerClient.histogram(c,n):SL({attribute:c,features:s})}_classBreaksFromGenRend(e){const{field:t,normalizationType:r,normalizationField:i,normalizationTotal:n,signal:s}=e,a=Dv({field:t,normalizationType:r,normalizationField:i}),o=$b({field:t,normalizationType:r,normalizationField:i,normalizationTotal:n,layer:this}),l=z_(o,e.minValue,e.maxValue),c=VT({field:t,normalizationType:r,normalizationField:i,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numClasses||q_}),d=new U_;return d.classificationDefinition=c,d.where=en(a,l),this.generateRenderer(d,s).then(p=>zT(p,e.classificationMethod))}_classBreaksFromInterpolation(e){const{minValue:t,maxValue:r}=e,i=e.numClasses||q_,n=[],s=(r-t)/i;for(let l=0;l<i;l++){const c=t+l*s;n.push({minValue:c,maxValue:c+s})}n[i-1].maxValue=r;const a={classBreaks:n,normalizationTotal:e.normalizationTotal},o=zT(a,e.classificationMethod);return Promise.resolve(o)}async _classBreaksFromMemory(e){const{view:t,field:r,signal:i}=e,{featuresJSON:n,graphics:s,layerView:a,query:o,fieldInfos:l}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryClassBreaks"}),c={field:r,valueExpression:e.valueExpression,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return e.valueExpression&&t&&n&&(c.viewInfoParams=Wu(t),c.fieldInfos=l),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(c.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:n,graphics:s,layerView:a,query:o},i)),!n&&!s&&a&&"queryClassBreaks"in a?a.queryClassBreaks(o,c,{signal:i}):n?this.workerClient.classBreaks(c,n):_L({attribute:c,features:s})}async _heatmapStatsFromMemory(e,t){var c;const{view:r,field:i,radius:n}=e,{featuresJSON:s,graphics:a}=await this._processStatsFromMemoryParams({...e,returnGeometry:!0}),o=new Lk({extent:r.extent,tolerance:r.type==="2d"?r.state.resolution:r.pixelSizeAt(r.center)}),l={field:i,fieldOffset:t,radius:n,transform:zCe(o),spatialReference:(c=r.spatialReference)==null?void 0:c.toJSON(),size:r.size};return(s==null?void 0:s.length)||(a==null?void 0:a.length)?s?this.workerClient.heatmapStatistics(l,s):Lte({attribute:l,features:a}):{count:0,min:null,max:null,avg:null,stddev:null}}getField(e=""){return this.layer.getField(e)}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!0,supportsStatistics:!0}:null}getFieldDomain(e,t){return this.layer.getFieldDomain(e,t)}summaryStatistics(e){const{field:t,normalizationType:r,sqlExpression:i,view:n,features:s,useFeaturesInView:a}=e,o=t?this.getField(t):null,l=nm(o),c=e.valueExpression||i,d=c&&!i,p=this._hasLocalSource||s||a,h=n&&n.type==="3d";return p||d?d||s||a||h?this._summaryStatsFromMemory(e,o):this._summaryStatsFromClientQuery(e,l):!this.supportsSQLExpression&&(l||c||r==="natural-log"||r==="square-root")?Promise.reject(new R("feature-layer-adapter:not-supported","Layer does not support standardized SQL expression for queries")):(r&&!this.supportsSQLExpression?this._summaryStatsFromGenRend(e):this._summaryStatsFromServiceQuery(e,l)).catch(()=>(Ge(e.signal),this._summaryStatsFromMemory(e,o)))}uniqueValues(e){const{field:t,valueExpression:r,sqlExpression:i,features:n,useFeaturesInView:s,signal:a}=e,o=(t?this.getField(t):null)&&this.getFieldDomain(t),l=r&&(!i||!this.supportsSQLExpression),c=this._hasLocalSource||n||s||l,d=e.view,p=d&&d.type==="3d";return c?l||n||s||p?this._uvFromMemory(e,o):this._uvFromClientQuery(e,o):this._uvFromServiceQuery(e,o).catch(h=>(Ge(a),e.field?this._uvFromGenRenderer(e,o):h)).catch(()=>(Ge(a),p?this._uvFromMemory(e,o):this._uvFromClientQuery(e,o)))}histogram(e){const{field:t,normalizationType:r,normalizationField:i,classificationMethod:n,view:s,signal:a}=e,o=t?this.getField(t):null,l=nm(o),c=e.valueExpression||e.sqlExpression,d=c&&!e.sqlExpression,p=this._hasLocalSource||e.features||e.useFeaturesInView||d,h=this.supportsSQLExpression,m=!n||n==="equal-interval",g=e.minValue,b=e.maxValue,w=g!=null&&b!=null,v=e.numBins||Nv;return p?this._histogramFromMemory(e):(c||h)&&m?h||!c&&r!=="natural-log"&&r!=="square-root"?this._histogramForExpr(e):Promise.reject(new R("feature-layer-adapter:not-supported","Layer does not support standardized SQL expression for queries")):l&&m?Promise.reject(new R("feature-layer-adapter:not-supported","Normalization and date field are not allowed when layer does not support standardized SQL expression for queries")):r||!m?this._binParamsFromGenRend(e).then(_=>{if(!w)return this._getBins(_,t,v,s,a);if(g>_.max||b<_.min)throw new R("histogram:insufficient-data","Range defined by 'minValue' and 'maxValue' does not intersect available data range of the field");if(m)return this._getBins({min:g,max:b,sqlExpr:_.sqlExpr,excludeZerosExpr:_.excludeZerosExpr},t,v,s,a);{const S={field:t,normalizationType:r,normalizationField:i,normalizationTotal:_.normTotal,layer:this},x=$b(S),M=z_(x,g,b);return this._binParamsFromGenRend(e,M).then(I=>this._getBins(I,t,v,s,a))}}):this._histogramForField(e)}classBreaks(e){const t=e.analyzeData!==!1,r=this._hasLocalSource||e.features||e.useFeaturesInView||e.valueExpression;return t&&r?this._classBreaksFromMemory(e):(t?this._classBreaksFromGenRend(e):this._classBreaksFromInterpolation(e)).catch(()=>(Ge(e.signal),this._classBreaksFromMemory(e)))}queryFeatureCount(e){if(this._hasLocalSource)return Promise.reject(new R("feature-layer-adapter:not-supported","Layer does not support count query"));const t=this.layer,r=t.createQuery();return r.where=en(r.where,e.whereClause),t.queryFeatureCount(r,{signal:e.signal})}generateRenderer(e,t){const r=this.layer;if(this._hasLocalSource||r.version<10.1)return Promise.reject(new R("feature-layer-adapter:not-supported","Layer does not support generateRenderer operation (requires ArcGIS Server version 10.1+)"));const i=new tke({url:r.parsedUrl.path,source:r.dynamicDataSource,gdbVersion:r.gdbVersion}),n=r.createQuery();return e.where=en(e.where,n.where),i.execute(e,{signal:t})}heatmapStatistics(e){const{field:t,fieldOffset:r,view:i,signal:n}=e;return(t&&r==null?this.summaryStatistics({field:t,view:i,signal:n}):Promise.resolve(null)).then(s=>{let a=r||0;if(s){const{count:o,min:l,max:c}=s;o?l===c&&l===0?a=1:c<=0?a="abs":l<0&&(a=-1.01*l):a=1}return this._heatmapStatsFromMemory(e,a).then(o=>({...o,summaryStatistics:s,fieldOffset:a}))})}async predominantCategories(e){if(!this._hasLocalSource&&!this.supportsSQLExpression)throw new R("feature-layer-adapter:not-supported","Layer does not support advanced SQL expressions and standardized queries");const{fields:t,view:r,signal:i}=e,n=Ate(t),s=_Ee(t),a=r&&this._hasLocalSource?await this._uvFromMemory({valueExpression:n,view:r,signal:i}):await this._uvFromServiceQuery({sqlExpression:s.expression,valueExpression:n,signal:i});return Ote(a.uniqueValueInfos,t)}async getSampleFeatures(e,t){const{view:r,sampleSize:i,requiredFields:n,returnGeometry:s,signal:a}=e,o=this.layer.createQuery(),l=1,c=t==="json";o.outSpatialReference=e.spatialReference||r&&r.spatialReference,o.returnGeometry=!!s,o.outFields=n;let d=[],p=!1;if(r)try{const h=await r.whenLayerView(this.layer);if(p=!(await M6(this,n,h)).length,p&&(d=await this._fetchFeaturesFromMemory(h,o,a,t),d.length&&i>0&&i<=d.length))return A1(d,i,l)}catch{Ge(a)}try{if(this._hasLocalSource)return p?d:c?this._fetchFeaturesJSONFromService(o,a):this._fetchFeaturesFromService(o,a);const h=await this.queryFeatureCount({view:r,signal:a}),m=this.layer.capabilities.query.maxRecordCount;let g=i===-1?h:i;if(g=m&&g>m?m:g,h<=d.length||d.length>=m)return d;const b=r.extent.width/r.width/r.scale*ike;if(o.maxAllowableOffset=e.resolution||b,h<=g)return c?this._fetchFeaturesJSONFromService(o,a):this._fetchFeaturesFromService(o,a);if(h<=RV){const w=await this.layer.queryObjectIds();return o.objectIds=A1(w,g,l),c?this._fetchFeaturesJSONFromService(o,a):this._fetchFeaturesFromService(o,a)}return this.layer.get("capabilities.query.supportsPagination")&&(o.num=Math.min(g,RV)),c?this._fetchFeaturesJSONFromService(o,a):this._fetchFeaturesFromService(o,a)}catch{return Ge(a),d}}load(e){const t=this.layer.load(e).then(async r=>{this.geometryType=r.geometryType,this.objectIdField=r.objectIdField,this.supportsSQLExpression=r.get("capabilities.query.supportsSqlExpression"),this._hasLocalSource=!r.url&&!!r.source,this.hasQueryEngine=this._hasLocalSource,this.minScale=r.minScale,this.maxScale=r.maxScale,this.fullExtent=r.fullExtent,this.workerClient=ac.getInstance(),await this.workerClient.open(e.signal)});return this.addResolvingPromise(t),Promise.resolve(this)}};u([f({constructOnly:!0})],_9.prototype,"layer",void 0),_9=u([E("esri.smartMapping.support.adapters.FeatureLayerAdapter")],_9);const gm=_9;function PV(e){return e.declaredClass==="esri.rest.support.ClassBreaksDefinition"}function OV(e){return e.declaredClass==="esri.rest.support.UniqueValueDefinition"}let GT=class extends gm{constructor(e){super(e)}async _createGenerateRendererResult(e,t,r,i,n){const s=e==null?void 0:e.features;if(!(s==null?void 0:s.length))throw new R("csv-layer-adapter:insufficient-data","No features are available to calculate statistics");const o=p1(s);let l=null;if(i==="percent-of-total"&&(l=(await this.workerClient.summaryStatistics({field:t},o)).sum,l==null))throw new R("csv-layer-adapter:invalid","invalid normalizationTotal");if(PV(n)){const c=(await Ym({field:t,normalizationType:i,normalizationField:r,normalizationTotal:l},o)).filter(d=>Number.isFinite(d));return ite({definition:n,values:c,normalizationTotal:l})}if(OV(n)){const c=(await Ym({field:t},o)).filter(d=>d!=null&&typeof d=="string"&&d.trim()!=="");return bTe(c)}}generateRenderer(e,t){const r=e.classificationDefinition;let i=null,n=null,s=null;PV(r)?(i=r.classificationField,n=r.normalizationField,s=r.normalizationType):OV(r)&&(i=r.attributeField);const a=this.layer;return gp({field:i,normalizationField:n}).then(o=>{const l=a.createQuery();return l.returnGeometry=!1,l.outFields=o,l.where=en(l.where,e.where),a.queryFeatures(l,{signal:t}).then(c=>this._createGenerateRendererResult(c,i,n,s,r))})}load(e){const t=this.layer.load(e).then(async r=>{this.geometryType=r.geometryType,this.objectIdField=r.objectIdField,this.supportsSQLExpression=!0,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=ac.getInstance(),await this.workerClient.open(e.signal)});return this.addResolvingPromise(t),Promise.resolve(this)}};GT=u([E("esri.smartMapping.support.adapters.CSVLayerAdapter")],GT);const nke=GT;let qT=class extends gm{constructor(e){super(e)}async _waitForLayerViewUpdate(e){if(!e)throw new R("ogc-feature-layer-adapter:insufficient-data","layerView is required to fetch the features");await Xa(()=>!e.updating)}async _summaryStatsFromClientQuery(e,t){const{signal:r,view:i}=e;if(!i)throw new R("ogc-feature-layer-adapter:insufficient-data","view is required to fetch the features from layerView");const n=this._getSummaryStatsQuery(e,t),s=await i.whenLayerView(this.layer);await Xa(()=>!s.updating,r);const a=await s.queryFeatures(n,{signal:r}),o=BT(a,t);return f1(o)}async _uvFromClientQuery(e,t){const{signal:r,view:i}=e;if(!i)throw new R("ogc-feature-layer-adapter:insufficient-data","view is required to fetch the features from layerView");const n=this._getUVQuery(e),s=await i.whenLayerView(this.layer);await Xa(()=>!s.updating,r);const a=await s.queryFeatures(n,{signal:r}),o=await I6(a,this,e.field,e.view,null,r);return ym(o,t,e.returnAllCodedValues)}summaryStatistics(e){const{field:t,valueExpression:r,sqlExpression:i,features:n,view:s}=e,a=t?this.getField(t):null,o=nm(a),l=!!r,c=(s==null?void 0:s.type)==="3d";if(!r&&i&&!this.supportsSQLExpression)throw new R("ogc-feature-layer-adapter:not-supported","Layer does not support standardized SQL expression for queries");return l||n||c?this._summaryStatsFromMemory(e,a):this._summaryStatsFromClientQuery(e,o)}uniqueValues(e){const{field:t,valueExpression:r,sqlExpression:i,features:n,view:s}=e,a=(t?this.getField(t):null)&&this.getFieldDomain(t),o=!!r,l=(s==null?void 0:s.type)==="3d";if(!r&&i&&!this.supportsSQLExpression)throw new R("ogc-feature-layer-adapter:not-supported","Layer does not support standardized SQL expression for queries");return o||n||l?this._uvFromMemory(e,a):this._uvFromClientQuery(e,a)}histogram(e){const{features:t,valueExpression:r,normalizationType:i,sqlExpression:n}=e,s=t||!!r;if(!r&&n&&!this.supportsSQLExpression)throw new R("ogc-feature-layer-adapter:not-supported","Layer does not support standardized SQL expression for queries");return s||i?this._histogramFromMemory(e):this._histogramForField(e)}classBreaks(e){return e.analyzeData!==!1?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)}async queryFeatureCount(e){const{whereClause:t,view:r,signal:i}=e;if(!r)throw new R("ogc-feature-layer-adapter:insufficient-data","view is required to fetch the features from layerView");const n=this.layer.createQuery();n.where=en(n.where,t);const s=await r.whenLayerView(this.layer);return await Xa(()=>!s.updating,i),s.queryFeatureCount(n,{signal:i})}generateRenderer(e,t){throw new R("ogc-feature-layer-adapter:not-supported","OGCFeatureLayer does not support generateRenderer operation")}async predominantCategories(e){const{fields:t,view:r,signal:i}=e,n=Ate(t),s=await this._uvFromMemory({valueExpression:n,view:r,signal:i});return Ote(s.uniqueValueInfos,t)}async getSampleFeatures(e,t){const{view:r,sampleSize:i,requiredFields:n,returnGeometry:s,signal:a}=e,o=this.layer.createQuery(),l=1;if(o.outSpatialReference=e.spatialReference||r&&r.spatialReference,o.returnGeometry=!!s,o.outFields=n,!r)throw new R("ogc-feature-layer-adapter:not-supported","view is required to get sample features for OGCFeatureLayer");const c=await r.whenLayerView(this.layer);if((await M6(this,n,c)).length)throw new R("ogc-feature-layer-adapter:not-supported","Required fields need to be passed in the outFields for OGCFeatureLayer");const d=await this._fetchFeaturesFromMemory(c,o,a,t);return A1(d,i>0&&i<=d.length?i:d.length,l)}load(e){const t=this.layer.load(e).then(async r=>{this.geometryType=r.geometryType,this.objectIdField=r.objectIdField,this.supportsSQLExpression=r.get("capabilities.query.supportsSqlExpression"),this.minScale=r.minScale,this.maxScale=r.maxScale,this.fullExtent=r.fullExtent,this.workerClient=ac.getInstance(),await this.workerClient.open(e.signal)});return this.addResolvingPromise(t),Promise.resolve(this)}};qT=u([E("esri.smartMapping.support.adapters.OGCFeatureLayerAdapter")],qT);const ske=qT;let S9=class extends xL{constructor(e){super(e)}destroy(){var e;this._featureLayerAdapter=null,(e=this.workerClient)==null||e.destroy()}_hasCachedStatistics(e){return this.layer.hasCachedStatistics(e)}_updateQuery(e,t=[],r=[]){if(!r.length)return e;const i=this.layer.objectIdField,n=e.clone(),s=t.filter(o=>{const l=this.layer.getField(o);return!r.includes(l.name)}),a=s.some(o=>this.layer.getField(o).name===i);return n.outFields=a?s:[...s,i],n}async _fetchFeaturesFromMemory(e,t,r){if(!e)throw new R("scene-layer-adapter:insufficient-data","view is required to fetch the features from layerView");const i=await e.whenLayerView(this.layer),n=new AbortController,s=n.signal,a=Xa(()=>!i.updating,s);await AU(a,5e3,n);const o=await M6(this,r,i);Ge(s);const l=this._updateQuery(t,r,o),c=await i.queryFeatures(l,{signal:s});Ge(s);const d=c.features;return o.length?i.whenGraphicAttributes(d,o):d}async _fetchFeaturesJSONFromMemory(e,t,r){return this._fetchFeaturesFromMemory(e,t,r).then(p1)}_fetchFeaturesForStats(e,t){return gp({field:e.field,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then(r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,requiredFields:r,signal:e.signal},t))}async _processStatsFromMemoryParams(e){const t=e.features;if(t!=null&&t.length)return t.length&&"declaredClass"in t[0]&&t[0].declaredClass==="esri.Graphic"?{graphics:t}:{featuresJSON:t};const{view:r,field:i,normalizationField:n,valueExpression:s,signal:a}=e,o=await this._fetchFeaturesForStats({field:i,valueExpression:s,normalizationField:n,view:r,signal:a});if(!(o!=null&&o.length))throw new R("scene-layer-adapter:insufficient-data","No features are available to calculate statistics");return{graphics:o}}_generateFeatureSetForCachedHistogram(e,t=e.minimum,r=e.maximum,i){const n=[];for(let d=0;d<i;d++)n[d]=0;const s=e.counts.length,a=e.minimum,o=e.maximum;for(let d=0;d<s;d++){const p=(d+.5)/s,h=((1-p)*a+p*o-t)/(r-t)*i;h>=0&&h<=i&&(n[h===i?i-1:Math.floor(h)]+=e.counts[d])}const l=[];n.forEach((d,p)=>{const h=new vi({attributes:{}});h.attributes.EXPR_1=p+1,h.attributes.countOFExpr=d,l.push(h)});const c=new Ss;return c.features=l,c}_getCachedStatistics(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.minValue||e.maxValue?Promise.reject(new R("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression', 'sqlWhere', 'minValue' or 'maxValue' is specified")):r.queryCachedStatistics(t&&t.name,{signal:e.signal}).then(i=>{const n=i.stats,{min:s,max:a,totalValuesCount:o}=n;let{avg:l,stddev:c,sum:d,variance:p,count:h}=n;return s===0&&a===0||(l=l===0?null:l,d=d===0?null:d,c=c===0?null:c,p=p===0?null:p,h=h===0?null:h),h==null&&(d!=null&&l!=null?h=Math.round(d/l):o!=null&&(h=o)),{avg:l,count:h,max:a,min:s,stddev:c,sum:d,variance:p}})}async _getNormalizationTotal(e,t,r){const i=(t?await this.workerClient.summaryStatistics({field:e},t):await y2({attribute:{field:e},features:r})).sum;if(i==null)throw new R("scene-layer-adapter:invalid","invalid normalizationTotal");return i}async _getSummaryStatisticsFromMemory(e,t){const{view:r,field:i,normalizationField:n,valueExpression:s}=e,{featuresJSON:a,graphics:o}=await this._processStatsFromMemoryParams(e),l={field:i,valueExpression:s,normalizationType:e.normalizationType,normalizationField:n,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue};return e.valueExpression&&r&&a&&(l.fieldType=t!=null&&t.type?Ak.toJSON(t.type):null,l.viewInfoParams=Wu(r)),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(l.normalizationTotal=await this._getNormalizationTotal(i,a,o)),a?this.workerClient.summaryStatistics(l,a):y2({attribute:l,features:o})}_getCachedStatisticsForUniqueValues(e,t){const r=this.layer,i=t&&t.name,n=t&&this.getFieldDomain(e.field);return e.valueExpression||e.sqlExpression||e.sqlWhere?Promise.reject(new R("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression' or 'sqlWhere' is specified")):r.queryCachedStatistics(i,{signal:e.signal}).then(s=>{const a=s.stats;if(!a.mostFrequentValues)throw new Error;const o=s.labels&&s.labels.labels,l={},c=[],d="countOF"+i;a.mostFrequentValues.forEach(h=>{const m=new vi({attributes:{}});m.attributes[i]=t&&t.name!==r.objectIdField&&(k2(t)||nm(t))?Number(h.value):h.value,m.attributes[d]=h.count,c.push(m)}),o&&o.forEach(h=>{l[h.value]=h.label});const p=new Ss;return p.features=c,I6(p,this,e.field,e.view,l,e.signal)}).then(s=>ym(s,n,e.returnAllCodedValues))}async _getUniqueValuesFromMemory(e,t){const r=t&&this.getFieldDomain(e.field),{view:i,field:n,valueExpression:s,returnAllCodedValues:a}=e,o={field:n,valueExpression:s,domain:r,returnAllCodedValues:a},{featuresJSON:l,graphics:c}=await this._processStatsFromMemoryParams(e);return e.valueExpression&&i&&l&&(o.viewInfoParams=Wu(i)),l?this.workerClient.uniqueValues(o,l):wL({attribute:o,features:c})}_getCachedStatisticsForHistogram(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.normalizationType?Promise.reject(new R("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression' or 'sqlExpression' or 'sqlWhere' or 'normalizationType' is specified")):r.queryCachedStatistics(t&&t.name,{signal:e.signal}).then(i=>{const n=i.stats,{minValue:s,maxValue:a}=e,o=s!=null?s:n.min,l=a!=null?a:n.max,c=e.numBins||10,d=this._generateFeatureSetForCachedHistogram(n.histogram,o,l,c);return Pte(d,o,l,c)})}async _getClassBreaksFromMemory(e){const{view:t,field:r,normalizationField:i,valueExpression:n}=e,{featuresJSON:s,graphics:a}=await this._processStatsFromMemoryParams(e),o={field:r,valueExpression:n,normalizationType:e.normalizationType,normalizationField:i,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return e.valueExpression&&t&&s&&(o.viewInfoParams=Wu(t)),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(o.normalizationTotal=await this._getNormalizationTotal(r,s,a)),s?this.workerClient.classBreaks(o,s):_L({attribute:o,features:a})}async _getHistogramFromMemory(e){const{view:t,field:r}=e,{featuresJSON:i,graphics:n}=await this._processStatsFromMemoryParams(e),s={field:r,valueExpression:e.valueExpression,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return e.valueExpression&&t&&i&&(s.viewInfoParams=Wu(t)),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(s.normalizationTotal=await this._getNormalizationTotal(r,i,n)),i?this.workerClient.histogram(s,i):SL({attribute:s,features:n})}getField(e=""){return this.layer.getField(e)}getFieldUsageInfo(e){const t=this.getField(e);if(!t)return null;const r=this.layer.getFieldUsageInfo(t.name);return{supportsLabelingInfo:r.supportsLabelingInfo,supportsPopupTemplate:r.supportsPopupTemplate,supportsRenderer:r.supportsRenderer,supportsLayerQuery:r.supportsLayerQuery,supportsStatistics:!0}}getFieldDomain(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.getFieldDomain(e,t):null}summaryStatistics(e){const t=this.getField(e.field);return this._featureLayerAdapter?this._featureLayerAdapter.summaryStatistics(e):this._hasCachedStatistics(t&&t.name)?this._getCachedStatistics(e,t).catch(()=>(Ge(e.signal),this._getSummaryStatisticsFromMemory(e,t))):this._getSummaryStatisticsFromMemory(e,t)}uniqueValues(e){const t=this.getField(e.field);return this._featureLayerAdapter?this._featureLayerAdapter.uniqueValues(e):this._hasCachedStatistics(t&&t.name)?this._getCachedStatisticsForUniqueValues(e,t).catch(()=>(Ge(e.signal),this._getUniqueValuesFromMemory(e,t))):this._getUniqueValuesFromMemory(e,t)}histogram(e){const t=this.getField(e.field);return this._featureLayerAdapter?this._featureLayerAdapter.histogram(e):this._hasCachedStatistics(t&&t.name)?this._getCachedStatisticsForHistogram(e,t).catch(()=>(Ge(e.signal),this._getHistogramFromMemory(e))):this._getHistogramFromMemory(e)}classBreaks(e){const t=this.getField(e.field);return this._featureLayerAdapter?this._featureLayerAdapter.classBreaks(e):this._hasCachedStatistics(t&&t.name)?Promise.reject(new R("scene-layer-adapter:not-supported","Cached stats not supported")):this._getClassBreaksFromMemory(e)}queryFeatureCount(e){return this._featureLayerAdapter?this._featureLayerAdapter.queryFeatureCount(e):Promise.reject(new R("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support count query"))}generateRenderer(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.generateRenderer(e,t):Promise.reject(new R("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support generateRenderer operation"))}heatmapStatistics(e){return this._featureLayerAdapter?this._featureLayerAdapter.heatmapStatistics(e):Promise.reject(new R("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support heatmapStatistics operation"))}async predominantCategories(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.predominantCategories(e);throw new R("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support predominantCategories")}async getSampleFeatures(e,t){const{view:r,sampleSize:i,requiredFields:n,returnGeometry:s,signal:a}=e,o=1,l=t==="json",c=this.layer.createQuery();c.outFields=n,c.returnGeometry=!!s,c.where=null,c.num=i;let d=[];try{if(d=l?await this._fetchFeaturesJSONFromMemory(r,c,n):await this._fetchFeaturesFromMemory(r,c,n),d.length&&i>0&&i<=d.length)return A1(d,i,o)}catch{Ge(a)}let p=null;if(this._featureLayerAdapter){const h={...e};delete h.view,p=await this._featureLayerAdapter.getSampleFeatures(h,t)}return p&&p.length?p:A1(d,d.length,o)}load(e){const t=this.layer.load(e).then(async r=>{this.workerClient=ac.getInstance(),await this.workerClient.open(e.signal);const i=r.associatedLayer;if(this.geometryType=r.geometryType,C(i))return this._featureLayerAdapter=new gm({layer:i}),this._featureLayerAdapter.load(e).then(()=>{this.objectIdField=this._featureLayerAdapter.objectIdField,this.supportsSQLExpression=this._featureLayerAdapter.supportsSQLExpression,this.minScale=this._featureLayerAdapter.minScale,this.maxScale=this._featureLayerAdapter.maxScale,this.fullExtent=this._featureLayerAdapter.fullExtent});this.objectIdField=r.objectIdField,this.supportsSQLExpression=!1,this.hasQueryEngine=!1,this.fullExtent=r.fullExtent});return this.addResolvingPromise(t),Promise.resolve(this)}};u([f({constructOnly:!0})],S9.prototype,"layer",void 0),S9=u([E("esri.smartMapping.support.adapters.SceneLayerAdapter")],S9);const jte=S9;let HT=class extends jte{constructor(e){super(e)}getField(e=""){return this.layer.fieldsIndex.get(e)}getFieldUsageInfo(e){const t=this.getField(e);if(!t)return null;const r=this._hasCachedStatistics(t.name);return{supportsLabelingInfo:r,supportsPopupTemplate:r,supportsRenderer:r,supportsLayerQuery:!1,supportsStatistics:r}}getFieldDomain(){return null}load(e){const t=this.layer.load(e).then(()=>{this.geometryType="point",this.objectIdField=null,this.supportsSQLExpression=!1,this.hasQueryEngine=!1});return this.addResolvingPromise(t),Promise.resolve(this)}};HT=u([E("esri.smartMapping.support.adapters.PointCloudLayerAdapter")],HT);const ake=HT;var fr;(function(e){e[e.CSVLayer=0]="CSVLayer",e[e.GeoJSONLayer=1]="GeoJSONLayer",e[e.FeatureLayer=2]="FeatureLayer",e[e.OGCFeatureLayer=3]="OGCFeatureLayer",e[e.SceneLayer=4]="SceneLayer",e[e.PointCloudLayer=5]="PointCloudLayer",e[e.WFSLayer=6]="WFSLayer"})(fr||(fr={}));const WT={[fr.CSVLayer]:{adapter:nke,type:"csv",label:"CSVLayer"},[fr.FeatureLayer]:{adapter:gm,type:"feature",label:"FeatureLayer"},[fr.OGCFeatureLayer]:{adapter:ske,type:"ogc-feature",label:"OGCFeatureLayer"},[fr.GeoJSONLayer]:{adapter:gm,type:"geojson",label:"GeoJSONLayer"},[fr.SceneLayer]:{adapter:jte,type:"scene",label:"SceneLayer"},[fr.PointCloudLayer]:{adapter:ake,type:"point-cloud",label:"PointCloudLayer"},[fr.WFSLayer]:{adapter:gm,type:"wfs",label:"WFSLayer"}},JT=[fr.CSVLayer,fr.FeatureLayer,fr.OGCFeatureLayer,fr.GeoJSONLayer,fr.SceneLayer,fr.PointCloudLayer,fr.WFSLayer],wd=[fr.CSVLayer,fr.FeatureLayer,fr.OGCFeatureLayer,fr.SceneLayer,fr.GeoJSONLayer,fr.WFSLayer];function t3(e){return e.map(t=>WT[t].label)}function r3(e,t=JT){if(e instanceof xL)return e;let r=null;return t.some(i=>{const n=e.type===WT[i].type;if(n){const s=WT[i].adapter;r=new s({layer:e})}return n}),r}const oke=[{size:10,width:0},{size:20,width:.5},{size:80,width:1},{size:250,width:2}];async function lke(e){const{view:t}=e;if(!(e&&t&&e.layer))throw new R("outline:missing-parameters","'view' and 'layer' parameters are required");const{layer:r,...i}=e,n=r3(r,wd),s={layerAdapter:n,...i};if(!n)throw new R("outline:invalid-parameters","'layer' must be one of these types: "+t3(wd).join(", "));await t.when();const a=C(s.signal)?{signal:s.signal}:null;if(await n.load(a),n.geometryType!=="polygon")throw new R("outline:not-supported",`outline is not supported for geometryType: ${n.geometryType}`);return s}function cke(e,t){const r=e.avgSize,i=jT(1,t.spatialReference),n=oke.map(s=>({size:s.width,value:Math.round(r/s.size*i)}));return n.sort((s,a)=>s.value-a.value),{visualVariables:[new xs({target:"outline",valueExpression:"$view.scale",stops:n})],opacity:.25}}async function uke(e){const{layerAdapter:t,...r}=await lke(e),i=-1,n=await t.getSampleFeatures({sampleSize:i,returnGeometry:!0,...r}),s=await vte({features:n,geometryType:t.geometryType});if(!("avgSize"in s)||!s.avgSize)throw new R("outline:insufficient-info","average polygon size is invalid");return cke(s,r.view)}const dke=500,fke=1e8,H_=1280,pke=12,hke=30,mke=15;async function yke(e){const{view:t,sampleSize:r}=e;if(!(e&&t&&e.layer))throw new R("scale-range:missing-parameters","'view' and 'layer' parameters are required");const{layer:i,...n}=e,s=r3(i,wd),a={layerAdapter:s,...n};if(a.sampleSize=r||dke,!s)throw new R("scale-range:invalid-parameters","'layer' must be one of these types: "+t3(wd).join(", "));await t.when();const o=C(a.signal)?{signal:a.signal}:null;return await s.load(o),a}function gke(e,t){const r=pke,i=H_/4,n=hke,s=H_/4,a=mke,o=H_/2;let l=null,c=null,d=null,p=null;switch(e){case"point":case"multipoint":{const h=t;l=h.avgMinDistance,c=r,d=h.minDistance,p=i;break}case"polyline":{const h=t;l=h.avgLength,c=n,d=h.minLength,p=s;break}case"polygon":{const h=t;l=h.avgSize,c=a,d=h.minSize,p=o;break}}return{resolutionForMinScale:l>0?l/c:null,resolutionForMaxScale:d>0?d/p:null}}function bke(e,t,r){const i=gke(e.geometryType,t);return{minScale:jT(i.resolutionForMinScale,r.spatialReference),maxScale:jT(i.resolutionForMaxScale,r.spatialReference)}}function FV(e,t,r=!0){if(e.constraints&&"effectiveLODs"in e.constraints){const i=e.constraints.effectiveLODs,n=r?i:i.slice(0).reverse();let s=null;for(const a of n)if(!(r?a.scale>t:a.scale<t)){s=a;break}return s}}function vke(e,t,r,i){const{view:n,snapToLOD:s,layerAdapter:a}=e;if(s){const o=FV(n,t),l=FV(n,r,!1);t=o?o.scale:t,r=l?l.scale:r}if(t<r)throw new R("scale-range:invalid","calculated minScale is less than maxScale.");return r>t/2&&(r=Math.floor(r/2)),t>fke&&(t=0),a.geometryType!=="polygon"&&(r=0),{minScale:Math.ceil(t),maxScale:Math.floor(r),spatialStatistics:i}}async function wke(e){const t=await yke(e),{view:r,sampleSize:i,layerAdapter:n,signal:s}=t,a=await n.getSampleFeatures({view:r,sampleSize:i,returnGeometry:!0,signal:s}),o=await vte({features:a,geometryType:n.geometryType}),{minScale:l,maxScale:c}=bke(n,o,r);return vke(t,l,c,o)}const _ke=1e8,Ske=1128.497176,xke=591657527591555e-6,Mke=[10,8,4,2],Ike=[100,100,60,30],$ke=[2,1,.75,.5],Tke=[32,18,12,6],Cke=[{level:0,resolution:156543.03392800014,scale:591657527591555e-6},{level:1,resolution:78271.51696399994,scale:295828763795777e-6},{level:2,resolution:39135.75848200009,scale:147914381897889e-6},{level:3,resolution:19567.87924099992,scale:73957190948944e-6},{level:4,resolution:9783.93962049996,scale:36978595474472e-6},{level:5,resolution:4891.96981024998,scale:18489297737236e-6},{level:6,resolution:2445.98490512499,scale:9244648868618e-6},{level:7,resolution:1222.992452562495,scale:4622324434309e-6},{level:8,resolution:611.4962262813797,scale:2311162217155e-6},{level:9,resolution:305.74811314055756,scale:1155581108577e-6},{level:10,resolution:152.87405657041106,scale:577790.554289},{level:11,resolution:76.43702828507324,scale:288895.277144},{level:12,resolution:38.21851414253662,scale:144447.638572},{level:13,resolution:19.10925707126831,scale:72223.819286},{level:14,resolution:9.554628535634155,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.388657133974685,scale:9027.977411},{level:17,resolution:1.1943285668550503,scale:4513.988705},{level:18,resolution:.5971642835598172,scale:2256.994353},{level:19,resolution:.29858214164761665,scale:1128.497176}];async function Eke(e){const{view:t}=e;if(!(e&&t&&e.layer))throw new R("size-range:missing-parameters","'view' and 'layer' parameters are required");const{layer:r,...i}=e,n=r3(r,wd),s={layerAdapter:n,...i};if(!n)throw new R("size-range:invalid-parameters","'layer' must be one of these types: "+t3(wd).join(", "));await t.when();const a=C(s.signal)?{signal:s.signal}:null;await n.load(a);const o=n.geometryType;if(o!=="point"&&o!=="multipoint"&&o!=="polyline"&&o!=="polygon")throw new R("size-range:not-supported",`sizeRange is not supported for geometryType: ${o}`);return s}function kke(e,t){const r=Math.ceil(e/t);let i=Math.ceil(r/4);i<4?i=4:i>16&&(i=16);const n=5*i;return{min:i,max:n<50?50:n}}function Vte(e,t){const{view:r}=e,i=t.minScale||_ke,n=r.constraints&&"effectiveLODs"in r.constraints&&r.constraints.effectiveLODs||Cke,s=[];for(const a in n){if(n[a].scale>i)continue;const o=Number(a),l=[o-3,o,o+3,o+6];for(const c of l)c>-1&&c<n.length&&s.push(n[c].scale);break}return s.sort((a,o)=>a-o)}function Ake(e,t){const{view:r,layerAdapter:i}=e,n=i.fullExtent,s=i.minScale||Ske,a=i.maxScale||xke,o=t.minScale||0,l=t.maxScale||0;let c=C(n)?NCe(r,n):0;return c=c<s&&c>a?c:0,{scales:[s,a,o,l,c].map(Math.round).sort((d,p)=>d-p).filter((d,p,h)=>!!d&&h.indexOf(d)===p).filter((d,p,h)=>!p||Math.abs(d-h[p-1])>5),fullExtentScale:c}}function Lke(e,t){const{minScale:r,maxScale:i}=t,n=Vte(e,{minScale:r,maxScale:i});if(!n.length)throw new R("scale-range:insufficient-info","not enough scale values");return{minSize:new xs({valueExpression:"$view.scale",stops:n.map((s,a)=>({value:s,size:oi(Mke[a])}))}),maxSize:new xs({valueExpression:"$view.scale",stops:n.map((s,a)=>({value:s,size:oi(Ike[a])}))})}}function Rke(e,t){const{minScale:r,maxScale:i}=t,n=Vte(e,{minScale:r,maxScale:i});if(!n.length)throw new R("scale-range:insufficient-info","not enough scale values");return{minSize:new xs({valueExpression:"$view.scale",stops:n.map((s,a)=>({value:s,size:oi($ke[a])}))}),maxSize:new xs({valueExpression:"$view.scale",stops:n.map((s,a)=>({value:s,size:oi(Tke[a])}))})}}function Pke(e,t){const{spatialStatistics:r,minScale:i,maxScale:n}=t;if(!("avgSize"in r)||!r.avgSize)throw new R("size-range:insufficient-info","average polygon size is invalid");const s=r.avgSize,{resolution:a,scale:o}=e.view,l=a/o,{scales:c,fullExtentScale:d}=Ake(e,{minScale:i,maxScale:n}),p=[],h=[];return c.forEach((m,g)=>{const{min:b,max:w}=kke(s,l*m),v=c.indexOf(d),_=v>-1&&g>v?2:1;p.push({value:m,size:oi(b/_)}),h.push({value:m,size:oi(w/_)})}),{minSize:new xs({valueExpression:"$view.scale",stops:p}),maxSize:new xs({valueExpression:"$view.scale",stops:h})}}async function Oke(e){const t=await Eke(e),{view:r,layerAdapter:i,signal:n}=t,s=await wke({layer:i,view:r,signal:n});switch(i.geometryType){case"point":case"multipoint":return Lke(t,s);case"polyline":return Rke(t,s);case"polygon":return Pke(t,s);case"mesh":case"multipatch":return null}return null}async function Fke(e){await e.whenReady();const t=e.basemapView.baseLayerViews.map(d=>d.layer);if(!t.length){const d=getComputedStyle(e.container).backgroundColor,p=d&&new re(d);return e.get("background.color")||(p&&p.a!==0?p:null)||null}const r=(await e.takeScreenshot({format:"png",layers:t.toArray()})).data.data,i=r.length;let n=0,s=0,a=0,o=0,l=0,c=0;for(let d=0;d<i;d+=4){const p=r[d],h=r[d+1],m=r[d+2],g=r[d+3],b=g/255;n+=p*p*b,s+=h*h*b,a+=m*m*b,l+=b,g&&(o+=g,c++)}return n=Math.round(Math.sqrt(n/l)),s=Math.round(Math.sqrt(s/l)),a=Math.round(Math.sqrt(a/l)),new re([n,s,a,o/c/255])}async function Dke(e){if(!e)return null;const t=await Fke(e);return C(t)?Nke(t):null}function Nke(e){return zte(e).isBright?"light":"dark"}function zte(e){let{r:t,g:r,b:i,a:n}=e;return n<1&&(t=Math.round(n*t+255*(1-n)),r=Math.round(n*r+255*(1-n)),i=Math.round(n*i+255*(1-n))),new re({r:t,g:r,b:i})}function iOe(e){const{r:t,g:r,b:i}=zte(e);return .2126*t+.7152*r+.0722*i}const DV=[0,0,0,.4],jke=[].concat(Km.light).concat(Km.dark);function NV(e,t){return new R(e,t)}function jV(e,t){const r=[],i=e.length;for(let n=0;n<t;n++)r.push(new re(e[n%i]));return r}function Vke(e,t,r){switch(t){case"point":case"multipoint":return r?"noDataSize"in e?e.noDataSize:null:"size"in e?e.size:null;case"polyline":return r?"noDataWidth"in e?e.noDataWidth:null:"width"in e?e.width:null;case"polygon":return"size"in e?e.size:null;default:return}}function zke(e,t,r){switch(t){case"point":case"multipoint":case"polygon":{if(!("outline"in e))return null;const i={color:e.outline.color,width:e.outline.width};if(r!=null&&i.color){const n=i.color.clone();n.a=r,i.color=n}return i}default:return}}function jv(e,t){const{type:r,size:i,color:n,outline:s}=t;let a;switch(e){case"point":case"multipoint":if(r==="2d")a=new Ni({color:n,size:i,outline:{color:s.color,width:s.width}});else if(r==="3d-flat")a=new ic({symbolLayers:[new Uu({size:i,resource:{primitive:"circle"},material:{color:n},outline:{color:s.color,size:s.width}})]});else if(r.includes("3d-volumetric")){const o=r==="3d-volumetric-uniform",l=new pw({height:i,resource:{primitive:o?"sphere":"cylinder"},material:{color:n}});o||(l.width=t.widthAndDepth,l.depth=t.widthAndDepth),a=new ic({symbolLayers:[l]})}break;case"polyline":r==="2d"?a=new qi({color:n,width:i}):r==="3d-flat"?a=new Dm({symbolLayers:[new fy({size:i,material:{color:n}})]}):r==="3d-volumetric"&&(a=new Dm({symbolLayers:[new hw({width:typeof i=="number"?i:parseFloat(i),height:typeof i=="number"?i:parseFloat(i),material:{color:n}})]}));break;case"polygon":r==="2d"?a=new po({color:n,outline:{color:s.color,width:s.width}}):r==="3d-flat"?a=new Ap({symbolLayers:[new Fm({material:{color:n},outline:{color:s.color,size:s.width}})]}):r==="3d-volumetric"&&(a=new Ap({symbolLayers:[new jE({size:i,material:{color:n}})]}));break;case"mesh":{const o=t.meshInfo&&t.meshInfo.colorMixMode,l=t.meshInfo&&t.meshInfo.edgesType;a=new yw({symbolLayers:[new Fm({material:{color:n,colorMixMode:o||null},edges:l==="solid"?new aH({color:DV}):l==="sketch"?new sH({color:DV}):null})]});break}}return a}function Bke(e,t,r){const i=Uke({layer:e,fields:t});if(i.length)return NV(r,"Unknown fields: "+i.join(", ")+". You can only use fields defined in the layer schema");const n=Gke({layer:e,fields:t});return n.length?NV(r,"Unsupported fields: "+n.join(", ")+". You can only use fields that are accessible to the renderer i.e. FieldUsageInfo.supportsRenderer must be true"):void 0}function Uke(e){const t=e.layer;return e.fields.filter(r=>!t.getField(r))}function Gke(e){const t=e.layer;return e.fields.filter(r=>{const i=t.getFieldUsageInfo(r);return!i||!i.supportsRenderer})}async function qke(e,t){var n;let r=null,i=null;if(!e&&!t)return{basemapId:r,basemapTheme:i};if(!e&&t&&(e=t&&((n=t.map)==null?void 0:n.basemap)),e&&(r=vL(e,jke,!1),r)){const s=bL(r);C(s)&&(i=s)}return r||(t==null?void 0:t.type)!=="2d"||(i=await Dke(t),C(i)&&(r=i==="dark"?"dark-gray":"gray")),{basemapId:r,basemapTheme:i}}async function Hke(e){if(!e||!e.layer||!e.field&&!e.valueExpression)throw new R("unique-values:missing-parameters","'layer' and 'field' or 'valueExpression' parameters are required");const t=e.valueExpression||e.sqlExpression,r=t&&!e.sqlExpression;if(t){if(r){if(!e.view)throw new R("unique-values:missing-parameters","View is required when 'valueExpression' is specified")}else if(!e.valueExpression)throw new R("unique-values:missing-parameters","'valueExpression' parameters are required")}const{layer:i,...n}=e,s=r3(i,JT),a={layerAdapter:s,...n};if(!s)throw new R("unique-values:invalid-parameters","'layer' must be one of these types: "+t3(JT).join(", "));const o=C(a.signal)?{signal:a.signal}:null;await s.load(o);const l=await gp({field:a.field,valueExpression:a.valueExpression}),c=mEe(s,l,"unique-values:invalid-parameters");if(c)throw c;return a}async function Wke(e){const{layerAdapter:t,...r}=await Hke(e);return t.uniqueValues(r)}const Jke={"seq-yellow-orange-red-bright":{1:["#ff7b22"],2:["#c0370f","#ff7b22"],3:["#b1260b","#e05919","#ff8e33"],4:["#a11506","#d04814","#ef6a1d","#ffa143"],5:["#a11506","#d04814","#ef6a1d","#ff8e33","#ffb454"],6:["#a11506","#c0370f","#e05919","#ef6a1d","#ff8e33","#ffb454"],7:["#a11506","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffc764"],8:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffc764"],9:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74"],10:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"],stops:["#910000","#c33910","#f6711f","#fbaf52","#ffed85"],tags:["light","reds","yellows","oranges","bright","sequential","colorblind-friendly"],name:"Orange 1"},"seq-yellow-pink-purple":{1:["#b65fa5"],2:["#e6b7c4","#b65fa5"],3:["#eecec9","#d588b9","#a14e96"],4:["#f6e5cf","#dd9fbf","#cc71b4","#8c3c88"],5:["#f6e5cf","#dd9fbf","#cc71b4","#a14e96","#762a79"],6:["#f6e5cf","#e6b7c4","#d588b9","#cc71b4","#a14e96","#762a79"],7:["#f6e5cf","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#61196a"],8:["#fffcd4","#eecec9","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#61196a"],9:["#fffcd4","#eecec9","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#762a79","#4b075b"],10:["#fffcd4","#eecec9","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#762a79","#4b075b","#350242"],stops:["#fffcd4","#e0b2c1","#c168ad","#7b3578","#350242"],tags:["light","purples","pinks","sequential","colorblind-friendly"],name:"Purple 1"},"seq-red-blue-green":{1:["#6193b3"],2:["#bac6df","#6193b3"],3:["#d1d1e5","#8cb1d2","#4e8099"],4:["#e8dbeb","#a3bbd8","#75a6cc","#3b6e80"],5:["#e8dbeb","#a3bbd8","#75a6cc","#4e8099","#275b67"],6:["#e8dbeb","#bac6df","#8cb1d2","#75a6cc","#4e8099","#275b67"],7:["#e8dbeb","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#14484d"],8:["#ffe6f1","#d1d1e5","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#14484d"],9:["#ffe6f1","#d1d1e5","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#275b67","#003534"],10:["#ffe6f1","#d1d1e5","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#275b67","#003534","#002624"],stops:["#ffe6f1","#b5c2d9","#6b9dc0","#366272","#002624"],tags:["light","blues","subdued","sequential","colorblind-friendly"],name:"Blue 1"},"seq-pink-red":{1:["#c75c49"],2:["#ecacaa","#c75c49"],3:["#f1c1c5","#e18073","#b44f3b"],4:["#f6d7e0","#e6968e","#db6a58","#a1412c"],5:["#f6d7e0","#e6968e","#db6a58","#b44f3b","#8d331d"],6:["#f6d7e0","#ecacaa","#e18073","#db6a58","#b44f3b","#8d331d"],7:["#f6d7e0","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#7a260f"],8:["#fcedfb","#f1c1c5","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#7a260f"],9:["#fcedfb","#f1c1c5","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#8d331d","#661800"],10:["#fcedfb","#f1c1c5","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#8d331d","#661800","#510b00"],stops:["#fcedfb","#e7a8a6","#d16351","#913729","#510b00"],tags:["light","reds","subdued","sequential","colorblind-friendly"],name:"Red 1"},"seq-yellow-purple-blue":{1:["#8573cb"],2:["#cdc1d9","#8573cb"],3:["#ddd4d7","#ab99db","#7062b9"],4:["#eee8d6","#bcadda","#9a85dd","#5a50a7"],5:["#eee8d6","#bcadda","#9a85dd","#7062b9","#453e94"],6:["#eee8d6","#cdc1d9","#ab99db","#9a85dd","#7062b9","#453e94"],7:["#eee8d6","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#302d82"],8:["#fffcd4","#ddd4d7","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#302d82"],9:["#fffcd4","#ddd4d7","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#453e94","#1b1b70"],10:["#fffcd4","#ddd4d7","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#453e94","#1b1b70","#10104f"],stops:["#fffcd4","#c8bcd4","#907cd4","#504692","#10104f"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 2"},"seq-yellow-orange-red":{1:["#d4743c"],2:["#f2c38e","#d4743c"],3:["#f6d6a5","#e99e5f","#c35d30"],4:["#fbe9bd","#eeb177","#e58b48","#b24625"],5:["#fbe9bd","#eeb177","#e58b48","#c35d30","#a12f19"],6:["#fbe9bd","#f2c38e","#e99e5f","#e58b48","#c35d30","#a12f19"],7:["#fbe9bd","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#90180d"],8:["#fffcd4","#f6d6a5","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#90180d"],9:["#fffcd4","#f6d6a5","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#a12f19","#7f0101"],10:["#fffcd4","#f6d6a5","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#a12f19","#7f0101","#660000"],stops:["#fffcd4","#eebe8b","#dd8042","#a24021","#660000"],tags:["light","reds","oranges","sequential","colorblind-friendly"],name:"Red 2"},"seq-yellow-green-blue":{1:["#5a93a8"],2:["#b4d2c6","#5a93a8"],3:["#cde0ca","#82b6bc","#4b7e98"],4:["#e6eecf","#9bc4c1","#69a8b7","#3d6a89"],5:["#e6eecf","#9bc4c1","#69a8b7","#4b7e98","#2e557a"],6:["#e6eecf","#b4d2c6","#82b6bc","#69a8b7","#4b7e98","#2e557a"],7:["#e6eecf","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#1f406a"],8:["#fffcd4","#cde0ca","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#1f406a"],9:["#fffcd4","#cde0ca","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#2e557a","#102b5b"],10:["#fffcd4","#cde0ca","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#2e557a","#102b5b","#0d2644"],stops:["#fffcd4","#b1cdc2","#629eb0","#38627a","#0d2644"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 2"},"seq-yellow-red-purple":{1:["#420239"],2:["#fffcd4","#420239"],3:["#fffcd4","#d86868","#420239"],4:["#fffcd4","#ecb29e","#d86868","#420239"],5:["#fffcd4","#ecb29e","#d86868","#9b3557","#420239"],6:["#fffcd4","#ecb29e","#d86868","#9b3557","#872351","#420239"],7:["#fffcd4","#ecb29e","#d86868","#9b3557","#872351","#5e0146","#420239"],8:["#fffcd4","#ecb29e","#df817a","#d86868","#9b3557","#872351","#5e0146","#420239"],9:["#fffcd4","#f2cbb0","#ecb29e","#df817a","#d86868","#9b3557","#872351","#5e0146","#420239"],10:["#fffcd4","#f2cbb0","#ecb29e","#df817a","#d86868","#c45762","#9b3557","#872351","#5e0146","#420239"],stops:["#fffcd4","#e7ae9d","#ce6065","#88314f","#420239"],tags:["light","purples","sequential","colorblind-friendly"],name:"Pink 1"},"seq-orange-red-light":{1:["#660202"],2:["#ffefdc","#660202"],3:["#ffefdc","#d15e3d","#660202"],4:["#ffefdc","#f5c5ab","#d15e3d","#660202"],5:["#ffefdc","#f5c5ab","#d15e3d","#b13925","#660202"],6:["#ffefdc","#f5c5ab","#e27149","#d15e3d","#b13925","#660202"],7:["#ffefdc","#f5c5ab","#e78662","#e27149","#d15e3d","#b13925","#660202"],8:["#ffefdc","#f5c5ab","#e78662","#e27149","#d15e3d","#b13925","#a02619","#660202"],9:["#ffefdc","#f5c5ab","#f1b093","#e78662","#e27149","#d15e3d","#b13925","#a02619","#660202"],10:["#ffefdc","#f5c5ab","#f1b093","#e78662","#e27149","#d15e3d","#b13925","#a02619","#7f0101","#660202"],stops:["#ffefdc","#edac90","#da6843","#a03523","#660202"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 3"},"seq-orange-red-dark":{1:["#470000"],2:["#ffefdc","#470000"],3:["#ffefdc","#ab472f","#470000"],4:["#ffefdc","#ab472f","#7a1c13","#470000"],5:["#ffefdc","#c76f54","#ab472f","#7a1c13","#470000"],6:["#ffefdc","#dea28b","#c76f54","#ab472f","#7a1c13","#470000"],7:["#ffefdc","#dea28b","#c76f54","#ab472f","#8b2b1d","#7a1c13","#470000"],8:["#ffefdc","#dea28b","#c76f54","#ab472f","#8b2b1d","#7a1c13","#590000","#470000"],9:["#ffefdc","#dea28b","#c76f54","#bc5539","#ab472f","#8b2b1d","#7a1c13","#590000","#470000"],10:["#ffefdc","#e9bca6","#dea28b","#c76f54","#bc5539","#ab472f","#8b2b1d","#7a1c13","#590000","#470000"],stops:["#ffefdc","#d99f88","#b34e34","#7d271a","#470000"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 4"},"seq-single-blues":{1:["#9ecae1"],2:["#bdd7e7","#6baed6"],3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],10:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#083582","#022259"],stops:["rgba(239, 243, 255, 1)","rgba(189, 215, 231, 1)","rgba(107, 174, 214, 1)","rgba(49, 130, 189, 1)","rgba(8, 81, 156, 1)"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 3"},"seq-single-greens":{1:["#a1d99b"],2:["#bae4b3","#74c476"],3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],10:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#065220","#023414"],stops:["rgba(237, 248, 233, 1)","rgba(186, 228, 179, 1)","rgba(116, 196, 118, 1)","rgba(49, 163, 84, 1)","rgba(0, 109, 44, 1)"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 1"},"seq-single-grays":{1:["#bdbdbd"],2:["#cccccc","#969696"],3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],10:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#999999","#7a7a7a","#595959","#404040","#262626","#000000"],stops:["rgba(247, 247, 247, 1)","rgba(204, 204, 204, 1)","rgba(150, 150, 150, 1)","rgba(99, 99, 99, 1)","rgba(37, 37, 37, 1)"],tags:["light","grays","sequential","colorblind-friendly"],name:"Gray 1"},"seq-single-oranges":{1:["#fdae6b"],2:["#fdbe85","#fd8d3c"],3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],10:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704","#591502"],stops:["rgba(254, 237, 222, 1)","rgba(253, 190, 133, 1)","rgba(253, 141, 60, 1)","rgba(230, 85, 13, 1)","rgba(166, 54, 3, 1)"],tags:["light","oranges","sequential","colorblind-friendly"],name:"Orange 2"},"seq-single-purples":{1:["#bcbddc"],2:["#cbc9e2","#9e9ac8"],3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],10:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d","#2d0059"],stops:["rgba(242, 240, 247, 1)","rgba(203, 201, 226, 1)","rgba(158, 154, 200, 1)","rgba(117, 107, 177, 1)","rgba(84, 39, 143, 1)"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 3"},"seq-single-reds":{1:["#fc9272"],2:["#fcae91","#fb6a4a"],3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],10:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#7d0011","#52000b"],stops:["rgba(254, 229, 217, 1)","rgba(252, 174, 145, 1)","rgba(251, 106, 74, 1)","rgba(222, 45, 38, 1)","rgba(165, 15, 21, 1)"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 5"},"seq-multi-bugn":{1:["#99d8c9"],2:["#b2e2e2","#66c2a4"],3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],10:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#005824","#033d18"],stops:["rgba(237, 248, 251, 1)","rgba(178, 226, 226, 1)","rgba(102, 194, 164, 1)","rgba(44, 162, 95, 1)","rgba(0, 109, 44, 1)"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 2"},"seq-multi-bupu":{1:["#9ebcda"],2:["#b3cde3","#8c96c6"],3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],10:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#680066","#3f013f"],stops:["rgba(237, 248, 251, 1)","rgba(179, 205, 227, 1)","rgba(140, 150, 198, 1)","rgba(136, 86, 167, 1)","rgba(129, 15, 124, 1)"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 4"},"seq-multi-gnbu":{1:["#a8ddb5"],2:["#bae4bc","#7bccc4"],3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],10:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081","#0e2f6b"],stops:["rgba(240, 249, 232, 1)","rgba(186, 228, 188, 1)","rgba(123, 204, 196, 1)","rgba(67, 162, 202, 1)","rgba(8, 104, 172, 1)"],tags:["light","blues","greens","sequential","colorblind-friendly"],name:"Blue 4"},"seq-multi-orrd":{1:["#fdbb84"],2:["#fdcc8a","#fc8d59"],3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],10:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#8a0002","#660000"],stops:["rgba(254, 240, 217, 1)","rgba(253, 204, 138, 1)","rgba(252, 141, 89, 1)","rgba(227, 74, 51, 1)","rgba(179, 0, 0, 1)"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 6"},"seq-multi-pubu":{1:["#a6bddb"],2:["#bdc9e1","#74a9cf"],3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],10:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#06436b","#05304d"],stops:["rgba(241, 238, 246, 1)","rgba(189, 201, 225, 1)","rgba(116, 169, 207, 1)","rgba(43, 140, 190, 1)","rgba(4, 90, 141, 1)"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 5"},"seq-multi-pubugn":{1:["#a6bddb"],2:["#bdc9e1","#67a9cf"],3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],10:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#095742","#073d2c"],stops:["rgba(246, 239, 247, 1)","rgba(189, 201, 225, 1)","rgba(103, 169, 207, 1)","rgba(28, 144, 153, 1)","rgba(1, 108, 89, 1)"],tags:["light","greens","blues","sequential","colorblind-friendly"],name:"Green 3"},"seq-multi-purd":{1:["#c994c7"],2:["#d7b5d8","#df65b0"],3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],10:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f","#48000c"],stops:["rgba(241, 238, 246, 1)","rgba(215, 181, 216, 1)","rgba(223, 101, 176, 1)","rgba(221, 28, 119, 1)","rgba(152, 0, 67, 1)"],tags:["light","pinks","sequential","colorblind-friendly"],name:"Pink 2"},"seq-multi-rdpu":{1:["#fa9fb5"],2:["#fbb4b9","#f768a1"],3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],10:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a","#2d004d"],stops:["rgba(254, 235, 226, 1)","rgba(251, 180, 185, 1)","rgba(247, 104, 161, 1)","rgba(197, 27, 138, 1)","rgba(122, 1, 119, 1)"],tags:["light","pinks","sequential","colorblind-friendly"],name:"Pink 3"},"seq-multi-ylgn":{1:["#addd8e"],2:["#c2e699","#78c679"],3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],10:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#09522c","#023827"],stops:["rgba(255, 255, 204, 1)","rgba(194, 230, 153, 1)","rgba(120, 198, 121, 1)","rgba(49, 163, 84, 1)","rgba(0, 104, 55, 1)"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 4"},"seq-multi-ylgnbu":{1:["#7fcdbb"],2:["#a1dab4","#41b6c4"],3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],10:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#2f419e","#152875","#061b42"],stops:["rgba(255, 255, 204, 1)","rgba(161, 218, 180, 1)","rgba(65, 182, 196, 1)","rgba(44, 127, 184, 1)","rgba(37, 52, 148, 1)"],tags:["light","blues","greens","sequential","colorblind-friendly"],name:"Blue 6"},"seq-multi-ylorbr":{1:["#fec44f"],2:["#fed98e","#fe9929"],3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],10:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#702607","#57220b"],stops:["rgba(255, 255, 212, 1)","rgba(254, 217, 142, 1)","rgba(254, 153, 41, 1)","rgba(217, 95, 14, 1)","rgba(153, 52, 4, 1)"],tags:["light","yellows","oranges","sequential","colorblind-friendly"],name:"Orange 3"},"seq-multi-ylorrd":{1:["#feb24c"],2:["#fecc5c","#fd8d3c"],3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],10:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#940025","#67001f"],stops:["rgba(255, 255, 178, 1)","rgba(254, 204, 92, 1)","rgba(253, 141, 60, 1)","rgba(240, 59, 32, 1)","rgba(189, 0, 38, 1)"],tags:["light","reds","yellows","oranges","sequential","colorblind-friendly"],name:"Orange 4"},"seq-teal-lightgreen-bright":{1:["#add46a"],2:["#e2ebd3","#2d8078"],3:["#e2ebd3","#add46a","#2d8078"],4:["#e2ebd3","#c8e09f","#add46a","#2d8078"],5:["#e2ebd3","#c8e09f","#add46a","#62afa7","#2d8078"],6:["#e2ebd3","#c8e09f","#add46a","#8fc890","#62afa7","#2d8078"],7:["#e2ebd3","#d5e5b9","#c8e09f","#add46a","#8fc890","#50a098","#2d8078"],8:["#e2ebd3","#d5e5b9","#c8e09f","#add46a","#8fc890","#73bfb7","#50a098","#2d8078"],9:["#e2ebd3","#d5e5b9","#c8e09f","#add46a","#8fc890","#73bfb7","#62afa7","#50a098","#2d8078"],10:["#e2ebd3","#d5e5b9","#c8e09f","#bada84","#add46a","#8fc890","#73bfb7","#62afa7","#50a098","#2d8078"],stops:["#e2ebd3","#c8e09f","#add46a","#62afa7","#2d8078"],tags:["light","greens","blues","sequential","colorblind-friendly"],name:"Green 5"},"seq-green-lightgray-bright":{1:["#a3af96"],2:["#e6e4e1","#4e6605"],3:["#e6e4e1","#a3af96","#4e6605"],4:["#e6e4e1","#d9d7d6","#7c9e14","#4e6605"],5:["#e6e4e1","#d9d7d6","#a3af96","#7c9e14","#4e6605"],6:["#e6e4e1","#d9d7d6","#a3af96","#93ba1c","#7c9e14","#4e6605"],7:["#e6e4e1","#d9d7d6","#c0bebe","#a3af96","#93ba1c","#7c9e14","#4e6605"],8:["#e6e4e1","#d9d7d6","#c0bebe","#b3b1b3","#a3af96","#93ba1c","#7c9e14","#4e6605"],9:["#e6e4e1","#d9d7d6","#c0bebe","#b3b1b3","#a3af96","#93ba1c","#7c9e14","#65820d","#4e6605"],10:["#e6e4e1","#d9d7d6","#cdcbca","#c0bebe","#b3b1b3","#a3af96","#93ba1c","#7c9e14","#65820d","#4e6605"],stops:["#e6e4e1","#d9d7d6","#a3af96","#7c9e14","#4e6605"],tags:["light","greens","sequential","grays","colorblind-friendly"],name:"Green 6"},"seq-red-lightgray-bright":{1:["#b3bfd1"],2:["#d7e1ee","#991f17"],3:["#d7e1ee","#b3bfd1","#991f17"],4:["#d7e1ee","#cbd6e4","#c86558","#991f17"],5:["#d7e1ee","#cbd6e4","#b3bfd1","#c86558","#991f17"],6:["#d7e1ee","#cbd6e4","#b3bfd1","#df8879","#c86558","#991f17"],7:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#df8879","#c86558","#991f17"],8:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#df8879","#c86558","#b04238","#991f17"],9:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#a4a2a8","#df8879","#c86558","#b04238","#991f17"],10:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#a7b4c7","#a4a2a8","#df8879","#c86558","#b04238","#991f17"],stops:["#d7e1ee","#cbd6e4","#b3bfd1","#c86558","#991f17"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 7"},"seq-blue-lightgray-bright":{1:["#9cadb4"],2:["#ebe6df","#007f99"],3:["#ebe6df","#9cadb4","#007f99"],4:["#ebe6df","#c3beb9","#40a7b9","#007f99"],5:["#ebe6df","#c3beb9","#9cadb4","#40a7b9","#007f99"],6:["#ebe6df","#ded9d2","#c3beb9","#9cadb4","#40a7b9","#007f99"],7:["#ebe6df","#ded9d2","#c3beb9","#9cadb4","#40a7b9","#2093a9","#007f99"],8:["#ebe6df","#ded9d2","#d1ccc6","#c3beb9","#9cadb4","#40a7b9","#2093a9","#007f99"],9:["#ebe6df","#ded9d2","#d1ccc6","#c3beb9","#9cadb4","#60bbc9","#40a7b9","#2093a9","#007f99"],10:["#ebe6df","#ded9d2","#d1ccc6","#c3beb9","#b6b1ac","#9cadb4","#60bbc9","#40a7b9","#2093a9","#007f99"],stops:["#ebe6df","#c3beb9","#9cadb4","#40a7b9","#007f99"],tags:["light","blues","sequential","grays","colorblind-friendly"],name:"Blue 7"},"seq-orange-lightgray-bright":{1:["#b39e93"],2:["#dfe1e6","#8c4a23"],3:["#dfe1e6","#b39e93","#8c4a23"],4:["#dfe1e6","#bbbfc9","#c4703e","#8c4a23"],5:["#dfe1e6","#bbbfc9","#b39e93","#c4703e","#8c4a23"],6:["#dfe1e6","#d3d6dc","#bbbfc9","#e0834c","#c4703e","#8c4a23"],7:["#dfe1e6","#d3d6dc","#bbbfc9","#b39e93","#e0834c","#c4703e","#8c4a23"],8:["#dfe1e6","#d3d6dc","#c7cbd3","#bbbfc9","#b39e93","#e0834c","#c4703e","#8c4a23"],9:["#dfe1e6","#d3d6dc","#c7cbd3","#bbbfc9","#b39e93","#e0834c","#c4703e","#a85d31","#8c4a23"],10:["#dfe1e6","#d3d6dc","#c7cbd3","#bbbfc9","#afb4bf","#b39e93","#e0834c","#c4703e","#a85d31","#8c4a23"],stops:["#dfe1e6","#bbbfc9","#b39e93","#c4703e","#8c4a23"],tags:["light","oranges","browns","sequential","grays","colorblind-friendly"],name:"Orange 5"},"seq-blue-red-yellow-bright":{1:["#c59ca4"],2:["#eae2bb","#1d4e89"],3:["#eae2bb","#c59ca4","#1d4e89"],4:["#e9d7b8","#e8c9b3","#a48d9e","#606d94"],5:["#e9d7b8","#e8c9b3","#c59ca4","#a48d9e","#606d94"],6:["#eae2bb","#e9d7b8","#e8c9b3","#a48d9e","#606d94","#1d4e89"],7:["#eae2bb","#e9d7b8","#e8c9b3","#c59ca4","#a48d9e","#606d94","#1d4e89"],8:["#eae2bb","#e9d7b8","#e8c9b3","#e8baae","#c59ca4","#a48d9e","#606d94","#1d4e89"],9:["#eae2bb","#e9d7b8","#e8c9b3","#e8baae","#c59ca4","#a48d9e","#827d99","#606d94","#1d4e89"],10:["#eae2bb","#e9d7b8","#e8c9b3","#e8baae","#d7aba9","#c59ca4","#a48d9e","#827d99","#606d94","#1d4e89"],stops:["#e9d7b8","#e8c9b3","#c59ca4","#a48d9e","#606d94"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 8"},"seq-gray-lightgreen-bright":{1:["#b1bf85"],2:["#635e5e","#d9f191"],3:["#635e5e","#b1bf85","#d9f191"],4:["#635e5e","#928d8d","#c2e655","#d9f191"],5:["#635e5e","#928d8d","#b1bf85","#c2e655","#d9f191"],6:["#7b7676","#928d8d","#aaa5a5","#b6e038","#c2e655","#d9f191"],7:["#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#d9f191"],8:["#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#ceec73","#d9f191"],9:["#635e5e","#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#ceec73","#d9f191"],10:["#635e5e","#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#ceec73","#d9f191","#e5f7ae"],stops:["#635e5e","#928d8d","#b1bf85","#c2e655","#d9f191"],tags:["dark","greens","sequential","bright","grays","colorblind-friendly"],name:"Green 7"},"seq-blue-tan-bright":{1:["#afbac4"],2:["#ebe6df","#436480"],3:["#ebe6df","#afbac4","#436480"],4:["#ebe6df","#d9c2b1","#7d9ab3","#436480"],5:["#ebe6df","#d9c2b1","#afbac4","#7d9ab3","#436480"],6:["#ebe6df","#e5dad0","#d9c2b1","#7d9ab3","#607f99","#436480"],7:["#ebe6df","#e5dad0","#d9c2b1","#afbac4","#7d9ab3","#607f99","#436480"],8:["#ebe6df","#e5dad0","#dfcec0","#d9c2b1","#afbac4","#7d9ab3","#607f99","#436480"],9:["#ebe6df","#e5dad0","#dfcec0","#d9c2b1","#c4bebc","#afbac4","#7d9ab3","#607f99","#436480"],10:["#ebe6df","#e5dad0","#dfcec0","#d9c2b1","#c4bebc","#afbac4","#9ab5cc","#7d9ab3","#607f99","#436480"],stops:["#ebe6df","#d9c2b1","#afbac4","#7d9ab3","#436480"],tags:["light","blues","sequential","subdued","colorblind-friendly"],name:"Blue 9"},"seq-teal-lightbrown-bright":{1:["#aabdb5"],2:["#eee2cf","#3b758c"],3:["#eee2cf","#aabdb5","#3b758c"],4:["#eee2cf","#dbd0b9","#74a2b3","#3b758c"],5:["#eee2cf","#dbd0b9","#aabdb5","#74a2b3","#3b758c"],6:["#eee2cf","#e4d9c4","#dbd0b9","#74a2b3","#588ba0","#3b758c"],7:["#eee2cf","#e4d9c4","#dbd0b9","#aabdb5","#74a2b3","#588ba0","#3b758c"],8:["#eee2cf","#e4d9c4","#dbd0b9","#c7bea2","#aabdb5","#74a2b3","#588ba0","#3b758c"],9:["#eee2cf","#e4d9c4","#dbd0b9","#c7bea2","#aabdb5","#91b8c7","#74a2b3","#588ba0","#3b758c"],10:["#eee2cf","#e4d9c4","#dbd0b9","#d1c7ad","#c7bea2","#aabdb5","#91b8c7","#74a2b3","#588ba0","#3b758c"],stops:["#eee2cf","#dbd0b9","#aabdb5","#74a2b3","#3b758c"],tags:["light","blues","sequential","subdued","colorblind-friendly"],name:"Blue 10"},"seq-reds-bright":{1:["#ec5244"],2:["#7b4238","#fff0dc"],3:["#7b4238","#ec5244","#fff0dc"],4:["#57453b","#c23d33","#f9816c","#fff0dc"],5:["#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae"],6:["#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae","#fff0dc"],7:["#57453b","#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae","#fff0dc"],8:["#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae"],9:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae"],10:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"],stops:["#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae"],tags:["dark","reds","sequential","bright","colorblind-friendly"],name:"Red 8"},"seq-purples-bright":{1:["#946bdc"],2:["#5a4a78","#e6e1ff"],3:["#5a4a78","#946bdc","#e6e1ff"],4:["#4e465c","#695291","#aa89e8","#e6e1ff"],5:["#4e465c","#695291","#8663c3","#aa89e8","#d7c4ff"],6:["#5a4a78","#775baa","#946bdc","#aa89e8","#d7c4ff","#e6e1ff"],7:["#4e465c","#5a4a78","#775baa","#946bdc","#aa89e8","#d7c4ff","#e6e1ff"],8:["#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff"],9:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff"],10:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"],stops:["#4e465c","#695291","#8663c3","#aa89e8","#d7c4ff"],tags:["dark","purples","sequential","bright","colorblind-friendly"],name:"Purple 5"},"seq-blues-bright":{1:["#50a5e7"],2:["#435c6c","#e6faff"],3:["#435c6c","#50a5e7","#e6faff"],4:["#404d54","#48799d","#74bbed","#e6faff"],5:["#404d54","#48799d","#4d96ce","#74bbed","#bce6f9"],6:["#435c6c","#4b88b6","#4d96ce","#74bbed","#bce6f9","#e6faff"],7:["#404d54","#435c6c","#4b88b6","#4d96ce","#74bbed","#bce6f9","#e6faff"],8:["#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9"],9:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9"],10:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"],stops:["#404d54","#48799d","#4d96ce","#74bbed","#bce6f9"],tags:["dark","blues","sequential","bright","colorblind-friendly"],name:"Blue 11"},"seq-greens-bright":{1:["#33b581"],2:["#39544c","#f4ffea"],3:["#39544c","#4bc392","#f4ffea"],4:["#39544c","#368165","#64d2a2","#f4ffea"],5:["#39544c","#368165","#33b581","#64d2a2","#cbf6d9"],6:["#39544c","#386757","#359b73","#4bc392","#7ce0b3","#f4ffea"],7:["#39544c","#386757","#359b73","#4bc392","#64d2a2","#cbf6d9","#f4ffea"],8:["#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9"],9:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9"],10:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"],stops:["#39544c","#368165","#33b581","#64d2a2","#cbf6d9"],tags:["dark","greens","sequential","bright","colorblind-friendly"],name:"Green 8"},"seq-browns-bright":{1:["#eba748"],2:["#524834","#f9e0b7"],3:["#524834","#eba748","#f9e0b7"],4:["#524834","#ae8140","#eeb664","#f9e0b7"],5:["#715b38","#ae8140","#cc9444","#eeb664","#f9e0b7"],6:["#524834","#715b38","#ae8140","#eba748","#f0c47f","#fff8eb"],7:["#524834","#715b38","#8f6e3c","#ae8140","#eba748","#f0c47f","#fff8eb"],8:["#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7"],9:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7"],10:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"],stops:["#715b38","#ae8140","#cc9444","#eeb664","#f9e0b7"],tags:["dark","oranges","browns","sequential","bright","colorblind-friendly"],name:"Yellow 1"},"seq-dark-to-light-magenta-bright":{1:["#ec2e96"],2:["#614149","#fff0ff"],3:["#614149","#ec2e96","#fff0ff"],4:["#7c3d58","#c33381","#ec90c6","#fff0ff"],5:["#7c3d58","#c33381","#e84fa6","#ec90c6","#fff0ff"],6:["#614149","#7c3d58","#c33381","#e84fa6","#ec90c6","#fff0ff"],7:["#614149","#7c3d58","#c33381","#ec2e96","#ea6fb6","#ec90c6","#fff0ff"],8:["#7c3d58","#9f386d","#c33381","#ec2e96","#e84fa6","#ea6fb6","#ec90c6","#edb2d4"],9:["#614149","#7c3d58","#9f386d","#c33381","#ec2e96","#e84fa6","#ea6fb6","#ec90c6","#edb2d4"],10:["#614149","#7c3d58","#9f386d","#c33381","#ec2e96","#e84fa6","#ea6fb6","#ec90c6","#edb2d4","#fff0ff"],stops:["#7c3d58","#c33381","#e84fa6","#ec90c6","#fff0ff"],tags:["dark","pinks","sequential","bright","colorblind-friendly"],name:"Pink 4"},"seq-dark-to-light-purple-bright":{1:["#8b87e4"],2:["#4a4672","#f0f0ff"],3:["#4a4672","#8b87e4","#f0f0ff"],4:["#545086","#6f6abb","#aaa7ff","#f0f0ff"],5:["#545086","#6f6abb","#8b87e4","#aaa7ff","#f0f0ff"],6:["#4a4672","#545086","#6f6abb","#8b87e4","#aaa7ff","#f0f0ff"],7:["#545086","#615da1","#6f6abb","#7c77d6","#9b97f1","#aaa7ff","#f0f0ff"],8:["#545086","#615da1","#6f6abb","#7c77d6","#8b87e4","#9b97f1","#aaa7ff","#cdccff"],9:["#4a4672","#545086","#615da1","#6f6abb","#7c77d6","#8b87e4","#9b97f1","#aaa7ff","#cdccff"],10:["#4a4672","#545086","#615da1","#6f6abb","#7c77d6","#8b87e4","#9b97f1","#aaa7ff","#cdccff","#f0f0ff"],stops:["#545086","#6f6abb","#8b87e4","#aaa7ff","#f0f0ff"],tags:["dark","purples","sequential","bright","colorblind-friendly"],name:"Purple 6"},"seq-dark-to-light-blue-bright":{1:["#5686ff"],2:["#41495f","#e6f5fa"],3:["#41495f","#5686ff","#e6f5fa"],4:["#45537a","#4e6dbd","#96b8fe","#e6f5fa"],5:["#45537a","#4e6dbd","#5686ff","#96b8fe","#e6f5fa"],6:["#41495f","#45537a","#4e6dbd","#5686ff","#96b8fe","#e6f5fa"],7:["#45537a","#49609b","#4e6dbd","#5279de","#769ffe","#96b8fe","#e6f5fa"],8:["#45537a","#49609b","#4e6dbd","#5279de","#5686ff","#769ffe","#96b8fe","#b6d1fd"],9:["#41495f","#45537a","#49609b","#4e6dbd","#5279de","#5686ff","#769ffe","#96b8fe","#b6d1fd"],10:["#41495f","#45537a","#49609b","#4e6dbd","#5279de","#5686ff","#769ffe","#96b8fe","#b6d1fd","#e6f5fa"],stops:["#45537a","#4e6dbd","#5686ff","#96b8fe","#e6f5fa"],tags:["dark","blues","sequential","bright","colorblind-friendly"],name:"Blue 12"},"seq-dark-to-light-green-bright":{1:["#72c66d"],2:["#3d5439","#f5fff2"],3:["#3d5439","#72c66d","#f5fff2"],4:["#43683f","#5b9756","#b7e3b2","#f5fff2"],5:["#43683f","#5b9756","#72c66d","#b7e3b2","#f5fff2"],6:["#3d5439","#43683f","#5b9756","#72c66d","#b7e3b2","#f5fff2"],7:["#43683f","#4f804b","#5b9756","#66af62","#95d490","#b7e3b2","#f5fff2"],8:["#43683f","#4f804b","#5b9756","#66af62","#72c66d","#95d490","#b7e3b2","#daf1d5"],9:["#3d5439","#43683f","#4f804b","#5b9756","#66af62","#72c66d","#95d490","#b7e3b2","#daf1d5"],10:["#3d5439","#43683f","#4f804b","#5b9756","#66af62","#72c66d","#95d490","#b7e3b2","#daf1d5","#f5fff2"],stops:["#43683f","#5b9756","#72c66d","#b7e3b2","#f5fff2"],tags:["dark","greens","sequential","bright","colorblind-friendly"],name:"Green 9"},"seq-brown-to-tan-bright":{1:["#d69253"],2:["#594439","#fff5e6"],3:["#594439","#d69253","#fff5e6"],4:["#744d30","#af6b2f","#ebc39a","#fff5e6"],5:["#744d30","#af6b2f","#d69253","#ebc39a","#fff5e6"],6:["#594439","#744d30","#af6b2f","#d69253","#ebc39a","#fff5e6"],7:["#744d30","#915c30","#af6b2f","#cc7a2f","#e1ab76","#ebc39a","#fff5e6"],8:["#744d30","#915c30","#af6b2f","#cc7a2f","#d69253","#e1ab76","#ebc39a","#f5dbbd"],9:["#594439","#744d30","#915c30","#af6b2f","#cc7a2f","#d69253","#e1ab76","#ebc39a","#f5dbbd"],10:["#594439","#744d30","#915c30","#af6b2f","#cc7a2f","#d69253","#e1ab76","#ebc39a","#f5dbbd","#fff5e6"],stops:["#744d30","#af6b2f","#d69253","#ebc39a","#fff5e6"],tags:["dark","browns","sequential","bright","colorblind-friendly"],name:"Brown 1"},"seq-lightgray-blue-bright":{1:["#6e8d99"],2:["#325361","#faefdb"],3:["#325361","#6e8d99","#faefdb"],4:["#325361","#2f7589","#bcb4a6","#faefdb"],5:["#325361","#2f7589","#6e8d99","#bcb4a6","#faefdb"],6:["#325361","#316475","#2e859c","#bcb4a6","#dbd2c0","#faefdb"],7:["#325361","#316475","#2e859c","#6e8d99","#bcb4a6","#dbd2c0","#faefdb"],8:["#325361","#316475","#2f7589","#2e859c","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],9:["#325361","#316475","#2f7589","#2e859c","#6e8d99","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],10:["#325361","#316475","#2f7589","#2e859c","#2c96b0","#6e8d99","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],stops:["#325361","#2f7589","#6e8d99","#bcb4a6","#faefdb"],tags:["dark","blues","sequential","grays","colorblind-friendly"],name:"Blue 13"},"seq-lightgray-green-bright":{1:["#6f9988"],2:["#2c593f","#e6f4ff"],3:["#2c593f","#6f9988","#e6f4ff"],4:["#2c593f","#387c55","#aab5c0","#e6f4ff"],5:["#2c593f","#387c55","#6f9988","#aab5c0","#e6f4ff"],6:["#2e6a46","#387c55","#4ba072","#8c96a0","#aab5c0","#e6f4ff"],7:["#2e6a46","#387c55","#418e63","#6f9988","#8c96a0","#aab5c0","#e6f4ff"],8:["#2e6a46","#387c55","#418e63","#4ba072","#8c96a0","#aab5c0","#c8d5df","#e6f4ff"],9:["#2e6a46","#387c55","#418e63","#4ba072","#6f9988","#8c96a0","#aab5c0","#c8d5df","#e6f4ff"],10:["#2c593f","#2e6a46","#387c55","#418e63","#4ba072","#6f9988","#8c96a0","#aab5c0","#c8d5df","#e6f4ff"],stops:["#2c593f","#387c55","#6f9988","#aab5c0","#e6f4ff"],tags:["dark","greens","sequential","grays","colorblind-friendly"],name:"Green 10"},"seq-lightgray-darkmagenta-bright":{1:["#a3829b"],2:["#5c3a5b","#faefdb"],3:["#5c3a5b","#a3829b","#faefdb"],4:["#5c3a5b","#864d84","#bcb4a6","#faefdb"],5:["#5c3a5b","#864d84","#a3829b","#bcb4a6","#faefdb"],6:["#5c3a5b","#71446f","#9b5798","#9d978b","#bcb4a6","#faefdb"],7:["#5c3a5b","#71446f","#9b5798","#a3829b","#9d978b","#bcb4a6","#faefdb"],8:["#5c3a5b","#71446f","#864d84","#9b5798","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],9:["#5c3a5b","#71446f","#864d84","#9b5798","#a3829b","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],10:["#5c3a5b","#71446f","#864d84","#9b5798","#b060ac","#a3829b","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],stops:["#5c3a5b","#864d84","#a3829b","#bcb4a6","#faefdb"],tags:["dark","purples","sequential","grays","colorblind-friendly"],name:"Purple 7"},"seq-yellow-darkblue-bright":{1:["#799a96"],2:["#3a4d6b","#ffec99"],3:["#3a4d6b","#799a96","#ffec99"],4:["#3a4d6b","#3d6da2","#ccbe6a","#ffec99"],5:["#3a4d6b","#3d6da2","#799a96","#ccbe6a","#ffec99"],6:["#3b5d87","#3d6da2","#3e7cbe","#b3a752","#ccbe6a","#ffec99"],7:["#3b5d87","#3d6da2","#3e7cbe","#799a96","#b3a752","#ccbe6a","#ffec99"],8:["#3b5d87","#3d6da2","#3e7cbe","#3f8cd9","#b3a752","#ccbe6a","#e6d581","#ffec99"],9:["#3b5d87","#3d6da2","#3e7cbe","#3f8cd9","#799a96","#b3a752","#ccbe6a","#e6d581","#ffec99"],10:["#3a4d6b","#3b5d87","#3d6da2","#3e7cbe","#3f8cd9","#799a96","#b3a752","#ccbe6a","#e6d581","#ffec99"],stops:["#3a4d6b","#3d6da2","#799a96","#ccbe6a","#ffec99"],tags:["dark","blues","yellows","sequential","colorblind-friendly"],name:"Blue 14"},"seq-lightred-darkgray-bright":{1:["#948889"],2:["#484c59","#ffe9e6"],3:["#484c59","#948889","#ffe9e6"],4:["#484c59","#63687a","#e0b9b5","#ffe9e6"],5:["#484c59","#63687a","#948889","#e0b9b5","#ffe9e6"],6:["#484c59","#63687a","#71768a","#c18983","#f0d1cd","#ffe9e6"],7:["#484c59","#63687a","#71768a","#948889","#d1a19c","#f0d1cd","#ffe9e6"],8:["#484c59","#565a69","#63687a","#71768a","#d1a19c","#e0b9b5","#f0d1cd","#ffe9e6"],9:["#484c59","#565a69","#63687a","#71768a","#c18983","#d1a19c","#e0b9b5","#f0d1cd","#ffe9e6"],10:["#484c59","#565a69","#63687a","#71768a","#948889","#c18983","#d1a19c","#e0b9b5","#f0d1cd","#ffe9e6"],stops:["#484c59","#63687a","#948889","#e0b9b5","#ffe9e6"],tags:["light","pinks","grays","sequential","subdued","colorblind-friendly"],name:"Pink 5"},"seq-lightmagenta-darkgray-bright":{1:["#9e8998"],2:["#4d4d41","#ffe1ff"],3:["#4d4d41","#9e8998","#ffe1ff"],4:["#4d4d41","#77756a","#e8a3e8","#ffe1ff"],5:["#4d4d41","#77756a","#9e8998","#e8a3e8","#ffe1ff"],6:["#4d4d41","#626155","#77756a","#dd83dd","#e8a3e8","#ffe1ff"],7:["#4d4d41","#626155","#77756a","#9e8998","#dd83dd","#e8a3e8","#ffe1ff"],8:["#4d4d41","#626155","#77756a","#8c897e","#dd83dd","#e8a3e8","#f4c2f4","#ffe1ff"],9:["#4d4d41","#626155","#77756a","#8c897e","#9e8998","#dd83dd","#e8a3e8","#f4c2f4","#ffe1ff"],10:["#4d4d41","#626155","#77756a","#8c897e","#9e8998","#d164d1","#dd83dd","#e8a3e8","#f4c2f4","#ffe1ff"],stops:["#4d4d41","#77756a","#9e8998","#e8a3e8","#ffe1ff"],tags:["dark","purples","grays","sequential","bright","colorblind-friendly"],name:"Purple 8"},"seq-lightblue-darkgray-bright":{1:["#7d8e93"],2:["#4c4a44","#d9fcff"],3:["#4c4a44","#7d8e93","#d9fcff"],4:["#4c4a44","#6d6a63","#9cd2dc","#d9fcff"],5:["#4c4a44","#6d6a63","#7d8e93","#9cd2dc","#d9fcff"],6:["#4c4a44","#5c5a53","#6d6a63","#7ebdca","#9cd2dc","#d9fcff"],7:["#4c4a44","#5c5a53","#6d6a63","#7d8e93","#7ebdca","#9cd2dc","#d9fcff"],8:["#4c4a44","#5c5a53","#6d6a63","#7d7a72","#7ebdca","#9cd2dc","#bbe7ed","#d9fcff"],9:["#4c4a44","#5c5a53","#6d6a63","#7d7a72","#7d8e93","#7ebdca","#9cd2dc","#bbe7ed","#d9fcff"],10:["#4c4a44","#5c5a53","#6d6a63","#7d7a72","#7d8e93","#5fa8b8","#7ebdca","#9cd2dc","#bbe7ed","#d9fcff"],stops:["#4c4a44","#6d6a63","#7d8e93","#9cd2dc","#d9fcff"],tags:["dark","blues","sequential","grays","bright","colorblind-friendly"],name:"Blue 15"},"seq-blue-bright-1":{1:["#00ffff"],2:["#007b7b","#00ffff"],3:["#007b7b","#00a4a4","#00ffff"],4:["#005353","#007b7b","#00a4a4","#00ffff"],5:["#005353","#007b7b","#00a4a4","#00cccc","#00ffff"],6:["#005353","#007b7b","#009090","#00a4a4","#00cccc","#00ffff"],7:["#005353","#006767","#007b7b","#009090","#00a4a4","#00cccc","#00ffff"],8:["#003f3f","#005353","#006767","#007b7b","#009090","#00a4a4","#00cccc","#00ffff"],9:["#003f3f","#005353","#006767","#007b7b","#009090","#00a4a4","#00b8b8","#00cccc","#00ffff"],10:["#003f3f","#005353","#006767","#007b7b","#009090","#00a4a4","#00b8b8","#00cccc","#00e0e0","#00ffff"],stops:["#005353","#007b7b","#00a4a4","#00cccc","#00ffff"],tags:["dark","blues","bright","sequential","colorblind-friendly"],name:"Blue 16"},"seq-green-bright-1":{1:["#00ffaa"],2:["#007e4f","#00ffaa"],3:["#007e4f","#00a76a","#00ffaa"],4:["#005435","#007e4f","#00a76a","#00ffaa"],5:["#005435","#007e4f","#00a76a","#00d184","#00ffaa"],6:["#005435","#007e4f","#00935c","#00a76a","#00d184","#00ffaa"],7:["#005435","#006942","#007e4f","#00935c","#00a76a","#00d184","#00ffaa"],8:["#003f28","#005435","#006942","#007e4f","#00935c","#00a76a","#00d184","#00ffaa"],9:["#003f28","#005435","#006942","#007e4f","#00935c","#00a76a","#00bc77","#00d184","#00ffaa"],10:["#003f28","#005435","#006942","#007e4f","#00935c","#00a76a","#00bc77","#00d184","#00e691","#00ffaa"],stops:["#005435","#007e4f","#00a76a","#00d184","#00ffaa"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 11"},"seq-green-bright-2":{1:["#00ff00"],2:["#007f00","#00ff00"],3:["#007f00","#00aa00","#00ff00"],4:["#005400","#007f00","#00aa00","#00ff00"],5:["#005400","#007f00","#00aa00","#00d400","#00ff00"],6:["#005400","#007f00","#009400","#00aa00","#00d400","#00ff00"],7:["#005400","#006a00","#007f00","#009400","#00aa00","#00d400","#00ff00"],8:["#003f00","#005400","#006a00","#007f00","#009400","#00aa00","#00d400","#00ff00"],9:["#003f00","#005400","#006a00","#007f00","#009400","#00aa00","#00bf00","#00d400","#00ff00"],10:["#003f00","#005400","#006a00","#007f00","#009400","#00aa00","#00bf00","#00d400","#00ea00","#00ff00"],stops:["#005400","#007f00","#00aa00","#00d400","#00ff00"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 12"},"seq-green-bright-3":{1:["#b2ff56"],2:["#537f1d","#b2ff56"],3:["#537f1d","#73aa30","#b2ff56"],4:["#34540a","#537f1d","#73aa30","#b2ff56"],5:["#34540a","#537f1d","#73aa30","#92d443","#b2ff56"],6:["#34540a","#537f1d","#639426","#73aa30","#92d443","#b2ff56"],7:["#34540a","#446a13","#537f1d","#639426","#73aa30","#92d443","#b2ff56"],8:["#243f00","#34540a","#446a13","#537f1d","#639426","#73aa30","#92d443","#b2ff56"],9:["#243f00","#34540a","#446a13","#537f1d","#639426","#73aa30","#83bf39","#92d443","#b2ff56"],10:["#243f00","#34540a","#446a13","#537f1d","#639426","#73aa30","#83bf39","#92d443","#a2ea4c","#b2ff56"],stops:["#34540a","#537f1d","#73aa30","#92d443","#b2ff56"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 13"},"seq-blue-bright-2":{1:["#8378ff"],2:["#4c33cc","#8378ff"],3:["#4c33cc","#6040ff","#8378ff"],4:["#392699","#4c33cc","#6040ff","#8378ff"],5:["#392699","#4c33cc","#6040ff","#765cff","#8378ff"],6:["#392699","#4c33cc","#563ae6","#6040ff","#765cff","#8378ff"],7:["#392699","#432db3","#4c33cc","#563ae6","#6040ff","#765cff","#8378ff"],8:["#2f2080","#392699","#432db3","#4c33cc","#563ae6","#6040ff","#765cff","#8378ff"],9:["#2f2080","#392699","#432db3","#4c33cc","#563ae6","#6040ff","#6f4eff","#765cff","#8378ff"],10:["#2f2080","#392699","#432db3","#4c33cc","#563ae6","#6040ff","#6f4eff","#765cff","#7c6aff","#8378ff"],stops:["#392699","#4c33cc","#6040ff","#765cff","#8378ff"],tags:["dark","blues","bright","sequential"],name:"Blue 17"},"seq-blue-bright-3":{1:["#4d91ff"],2:["#3039b7","#4d91ff"],3:["#3039b7","#3948e1","#4d91ff"],4:["#2b2e80","#3039b7","#3948e1","#4d91ff"],5:["#2b2e80","#3039b7","#3948e1","#445bff","#4d91ff"],6:["#2b2e80","#3039b7","#333fd3","#3948e1","#445bff","#4d91ff"],7:["#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#445bff","#4d91ff"],8:["#282864","#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#445bff","#4d91ff"],9:["#282864","#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#3e52f0","#445bff","#4d91ff"],10:["#282864","#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#3e52f0","#445bff","#4976ff","#4d91ff"],stops:["#2b2e80","#3039b7","#3948e1","#445bff","#4d91ff"],tags:["dark","blues","bright","sequential"],name:"Blue 18"},"seq-blue-bright-4":{1:["#00b7ff"],2:["#0062a8","#00b7ff"],3:["#0062a8","#007cd3","#00b7ff"],4:["#00497c","#0062a8","#007cd3","#00b7ff"],5:["#00497c","#0062a8","#007cd3","#0095ff","#00b7ff"],6:["#00497c","#0062a8","#006fbd","#007cd3","#0095ff","#00b7ff"],7:["#00497c","#005592","#0062a8","#006fbd","#007cd3","#0095ff","#00b7ff"],8:["#003c66","#00497c","#005592","#0062a8","#006fbd","#007cd3","#0095ff","#00b7ff"],9:["#003c66","#00497c","#005592","#0062a8","#006fbd","#007cd3","#0088e9","#0095ff","#00b7ff"],10:["#003c66","#00497c","#005592","#0062a8","#006fbd","#007cd3","#0088e9","#0095ff","#009cff","#00b7ff"],stops:["#00497c","#0062a8","#007cd3","#0095ff","#00b7ff"],tags:["dark","blues","bright","sequential"],name:"Blue 19"},"seq-blue-bright-5":{1:["#00ddff"],2:["#006a85","#00ddff"],3:["#006a85","#008bae","#00ddff"],4:["#004a5d","#006a85","#008bae","#00ddff"],5:["#004a5d","#006a85","#008bae","#00aed6","#00ddff"],6:["#004a5d","#006a85","#007b9a","#008bae","#00aed6","#00ddff"],7:["#004a5d","#005a71","#006a85","#007b9a","#008bae","#00aed6","#00ddff"],8:["#003a49","#004a5d","#005a71","#006a85","#007b9a","#008bae","#00aed6","#00ddff"],9:["#003a49","#004a5d","#005a71","#006a85","#007b9a","#008bae","#009bc2","#00aed6","#00ddff"],10:["#003a49","#004a5d","#005a71","#006a85","#007b9a","#008bae","#009bc2","#00aed6","#00c6eb","#00ddff"],stops:["#004a5d","#006a85","#008bae","#00aed6","#00ddff"],tags:["dark","blues","bright","sequential","colorblind-friendly"],name:"Blue 20"},"seq-red-purple-bright":{1:["#bf66ff"],2:["#6a27a0","#bf66ff"],3:["#6a27a0","#8531c1","#bf66ff"],4:["#4d267d","#6a27a0","#8531c1","#bf66ff"],5:["#4d267d","#6a27a0","#8531c1","#9f44e0","#bf66ff"],6:["#4d267d","#6a27a0","#7827b1","#8531c1","#9f44e0","#bf66ff"],7:["#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#9f44e0","#bf66ff"],8:["#3e256b","#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#9f44e0","#bf66ff"],9:["#3e256b","#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#923ad0","#9f44e0","#bf66ff"],10:["#3e256b","#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#923ad0","#9f44e0","#af55ef","#bf66ff"],stops:["#4d267d","#6a27a0","#8531c1","#9f44e0","#bf66ff"],tags:["dark","purples","bright","sequential","colorblind-friendly"],name:"Purple 9"},"seq-red-magenta-bright":{1:["#ff00ff"],2:["#750580","#ff00ff"],3:["#750580","#9c00aa","#ff00ff"],4:["#4e0f55","#750580","#9c00aa","#ff00ff"],5:["#4e0f55","#750580","#9c00aa","#ca00d4","#ff00ff"],6:["#4e0f55","#750580","#880095","#9c00aa","#ca00d4","#ff00ff"],7:["#4e0f55","#620a6b","#750580","#880095","#9c00aa","#ca00d4","#ff00ff"],8:["#3b1440","#4e0f55","#620a6b","#750580","#880095","#9c00aa","#ca00d4","#ff00ff"],9:["#3b1440","#4e0f55","#620a6b","#750580","#880095","#9c00aa","#af00bf","#ca00d4","#ff00ff"],10:["#3b1440","#4e0f55","#620a6b","#750580","#880095","#9c00aa","#af00bf","#ca00d4","#e400ea","#ff00ff"],stops:["#4e0f55","#750580","#9c00aa","#ca00d4","#ff00ff"],tags:["dark","purples","bright","sequential","colorblind-friendly"],name:"Purple 10"},"seq-red-bright-3":{1:["#ff4a0d"],2:["#83080a","#ff4a0d"],3:["#83080a","#b20000","#ff4a0d"],4:["#531717","#83080a","#b20000","#ff4a0d"],5:["#531717","#83080a","#b20000","#df0000","#ff4a0d"],6:["#531717","#83080a","#9b0103","#b20000","#df0000","#ff4a0d"],7:["#531717","#6b1010","#83080a","#9b0103","#b20000","#df0000","#ff4a0d"],8:["#3b1e1e","#531717","#6b1010","#83080a","#9b0103","#b20000","#df0000","#ff4a0d"],9:["#3b1e1e","#531717","#6b1010","#83080a","#9b0103","#b20000","#c80000","#df0000","#ff4a0d"],10:["#3b1e1e","#531717","#6b1010","#83080a","#9b0103","#b20000","#c80000","#df0000","#ef2607","#ff4a0d"],stops:["#531717","#83080a","#b20000","#df0000","#ff4a0d"],tags:["dark","reds","bright","sequential","colorblind-friendly"],name:"Red 9"},"seq-red-bright-4":{1:["#ffa200"],2:["#914505","#ffa200"],3:["#914505","#c85700","#ffa200"],4:["#582c0e","#914505","#c85700","#ffa200"],5:["#582c0e","#914505","#c85700","#ff6e00","#ffa200"],6:["#582c0e","#914505","#ad5100","#c85700","#ff6e00","#ffa200"],7:["#582c0e","#743909","#914505","#ad5100","#c85700","#ff6e00","#ffa200"],8:["#402315","#582c0e","#743909","#914505","#ad5100","#c85700","#ff6e00","#ffa200"],9:["#402315","#582c0e","#743909","#914505","#ad5100","#c85700","#e46300","#ff6e00","#ffa200"],10:["#402315","#582c0e","#743909","#914505","#ad5100","#c85700","#e46300","#ff6e00","#ff8800","#ffa200"],stops:["#582c0e","#914505","#c85700","#ff6e00","#ffa200"],tags:["dark","browns","oranges","bright","sequential","colorblind-friendly"],name:"Orange 6"},"seq-yellow-bright-1":{1:["#ffc800"],2:["#886200","#ffc800"],3:["#886200","#b78300","#ffc800"],4:["#584100","#886200","#b78300","#ffc800"],5:["#584100","#886200","#b78300","#e7a300","#ffc800"],6:["#584100","#886200","#a07200","#b78300","#e7a300","#ffc800"],7:["#584100","#705100","#886200","#a07200","#b78300","#e7a300","#ffc800"],8:["#403000","#584100","#705100","#886200","#a07200","#b78300","#e7a300","#ffc800"],9:["#403000","#584100","#705100","#886200","#a07200","#b78300","#cf9300","#e7a300","#ffc800"],10:["#403000","#584100","#705100","#886200","#a07200","#b78300","#cf9300","#e7a300","#ffb400","#ffc800"],stops:["#584100","#886200","#b78300","#e7a300","#ffc800"],tags:["dark","browns","oranges","bright","sequential","colorblind-friendly"],name:"Yellow 2"},"seq-yellow-bright-2":{1:["#ffdd00"],2:["#7a6a00","#ffdd00"],3:["#7a6a00","#a79100","#ffdd00"],4:["#4e4400","#7a6a00","#a79100","#ffdd00"],5:["#4e4400","#7a6a00","#a79100","#d3b700","#ffdd00"],6:["#4e4400","#7a6a00","#907d00","#a79100","#d3b700","#ffdd00"],7:["#4e4400","#645700","#7a6a00","#907d00","#a79100","#d3b700","#ffdd00"],8:["#383100","#4e4400","#645700","#7a6a00","#907d00","#a79100","#d3b700","#ffdd00"],9:["#383100","#4e4400","#645700","#7a6a00","#907d00","#a79100","#bda400","#d3b700","#ffdd00"],10:["#383100","#4e4400","#645700","#7a6a00","#907d00","#a79100","#bda400","#d3b700","#e9ca00","#ffdd00"],stops:["#4e4400","#7a6a00","#a79100","#d3b700","#ffdd00"],tags:["dark","yellows","bright","sequential","colorblind-friendly"],name:"Yellow 3"},"seq-yellow-bright-3":{1:["#ffff00"],2:["#757500","#ffff00"],3:["#757500","#a3a300","#ffff00"],4:["#474700","#757500","#a3a300","#ffff00"],5:["#474700","#757500","#a3a300","#d1d100","#ffff00"],6:["#474700","#757500","#8c8c00","#a3a300","#d1d100","#ffff00"],7:["#474700","#5e5e00","#757500","#8c8c00","#a3a300","#d1d100","#ffff00"],8:["#303000","#474700","#5e5e00","#757500","#8c8c00","#a3a300","#d1d100","#ffff00"],9:["#303000","#474700","#5e5e00","#757500","#8c8c00","#a3a300","#baba00","#d1d100","#ffff00"],10:["#303000","#474700","#5e5e00","#757500","#8c8c00","#a3a300","#baba00","#d1d100","#e8e800","#ffff00"],stops:["#474700","#757500","#a3a300","#d1d100","#ffff00"],tags:["dark","yellows","bright","sequential","colorblind-friendly"],name:"Yellow 4"},"seq-yellow-bright-4":{1:["#d0ff00"],2:["#637900","#d0ff00"],3:["#637900","#87a600","#d0ff00"],4:["#3e4c00","#637900","#87a600","#d0ff00"],5:["#3e4c00","#637900","#87a600","#acd200","#d0ff00"],6:["#3e4c00","#637900","#758f00","#87a600","#acd200","#d0ff00"],7:["#3e4c00","#506300","#637900","#758f00","#87a600","#acd200","#d0ff00"],8:["#2c3600","#3e4c00","#506300","#637900","#758f00","#87a600","#acd200","#d0ff00"],9:["#2c3600","#3e4c00","#506300","#637900","#758f00","#87a600","#99bc00","#acd200","#d0ff00"],10:["#2c3600","#3e4c00","#506300","#637900","#758f00","#87a600","#99bc00","#acd200","#bee900","#d0ff00"],stops:["#3e4c00","#637900","#87a600","#acd200","#d0ff00"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 14"},"seq-yellow-gray-bright":{1:["#ffff00"],2:["#68655d","#ffff00"],3:["#68655d","#959258","#ffff00"],4:["#45423b","#68655d","#959258","#ffff00"],5:["#45423b","#68655d","#959258","#cac92c","#ffff00"],6:["#45423b","#68655d","#7a776e","#959258","#cac92c","#ffff00"],7:["#45423b","#57544c","#68655d","#7a776e","#959258","#cac92c","#ffff00"],8:["#33312a","#45423b","#57544c","#68655d","#7a776e","#959258","#cac92c","#ffff00"],9:["#33312a","#45423b","#57544c","#68655d","#7a776e","#959258","#afad42","#cac92c","#ffff00"],10:["#33312a","#45423b","#57544c","#68655d","#7a776e","#959258","#afad42","#cac92c","#e4e416","#ffff00"],stops:["#45423b","#68655d","#959258","#cac92c","#ffff00"],tags:["dark","yellows","grays","bright","sequential","colorblind-friendly"],name:"Yellow 5"},"seq-green-gray-bright":{1:["#aaff00"],2:["#5b695b","#aaff00"],3:["#5b695b","#789753","#aaff00"],4:["#3b453b","#5b695b","#789753","#aaff00"],5:["#3b453b","#5b695b","#789753","#91cc26","#aaff00"],6:["#3b453b","#5b695b","#6b7b6b","#789753","#91cc26","#aaff00"],7:["#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#91cc26","#aaff00"],8:["#2b332b","#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#91cc26","#aaff00"],9:["#2b332b","#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#84b33a","#91cc26","#aaff00"],10:["#2b332b","#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#84b33a","#91cc26","#9de613","#aaff00"],stops:["#3b453b","#5b695b","#789753","#91cc26","#aaff00"],tags:["dark","greens","grays","bright","sequential","colorblind-friendly"],name:"Green 15"},"seq-blue-gray-bright":{1:["#00ffff"],2:["#455873","#00ffff"],3:["#455873","#3f83a1","#00ffff"],4:["#2f3f56","#455873","#3f83a1","#00ffff"],5:["#2f3f56","#455873","#3f83a1","#1ec1d5","#00ffff"],6:["#2f3f56","#455873","#506482","#3f83a1","#1ec1d5","#00ffff"],7:["#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#1ec1d5","#00ffff"],8:["#243247","#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#1ec1d5","#00ffff"],9:["#243247","#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#2da2c0","#1ec1d5","#00ffff"],10:["#243247","#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#2da2c0","#1ec1d5","#0fe0ea","#00ffff"],stops:["#2f3f56","#455873","#3f83a1","#1ec1d5","#00ffff"],tags:["dark","blues","grays","bright","sequential","colorblind-friendly"],name:"Blue 21"},"seq-red-gray-bright":{1:["#ff80ff"],2:["#54504c","#ff80ff"],3:["#54504c","#ab3da9","#ff80ff"],4:["#3b3734","#54504c","#ab3da9","#ff80ff"],5:["#3b3734","#54504c","#ab3da9","#eb44e8","#ff80ff"],6:["#3b3734","#54504c","#6b506b","#ab3da9","#eb44e8","#ff80ff"],7:["#3b3734","#474440","#54504c","#6b506b","#ab3da9","#eb44e8","#ff80ff"],8:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#eb44e8","#ff80ff"],9:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#de25da","#eb44e8","#ff80ff"],10:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#de25da","#eb44e8","#f261f1","#ff80ff"],stops:["#3b3734","#54504c","#ab3da9","#eb44e8","#ff80ff"],tags:["dark","pinks","purples","grays","bright","sequential","colorblind-friendly"],name:"Pink 6"},"seq-gray-redbright":{1:["#d4d1ce"],2:["#892520","#d4d1ce"],3:["#892520","#8c6e62","#d4d1ce"],4:["#680000","#892520","#8c6e62","#d4d1ce"],5:["#680000","#892520","#8c6e62","#ada297","#d4d1ce"],6:["#680000","#892520","#8e493f","#8c6e62","#ada297","#d4d1ce"],7:["#680000","#830000","#892520","#8e493f","#8c6e62","#ada297","#d4d1ce"],8:["#4d0000","#680000","#830000","#892520","#8e493f","#8c6e62","#ada297","#d4d1ce"],9:["#4d0000","#680000","#830000","#892520","#8e493f","#8c6e62","#998b7c","#ada297","#d4d1ce"],10:["#4d0000","#680000","#830000","#892520","#8e493f","#8c6e62","#998b7c","#ada297","#c0bab3","#d4d1ce"],stops:["#680000","#892520","#8c6e62","#ada297","#d4d1ce"],tags:["dark","reds","grays","sequential","colorblind-friendly"],name:"Red 10"},"seq-gray-green-bright":{1:["#c8d7c8"],2:["#217c31","#c8d7c8"],3:["#217c31","#68876c","#c8d7c8"],4:["#00590f","#217c31","#68876c","#c8d7c8"],5:["#00590f","#217c31","#68876c","#9baa9b","#c8d7c8"],6:["#00590f","#217c31","#42864d","#68876c","#9baa9b","#c8d7c8"],7:["#00590f","#007215","#217c31","#42864d","#68876c","#9baa9b","#c8d7c8"],8:["#003f0a","#00590f","#007215","#217c31","#42864d","#68876c","#9baa9b","#c8d7c8"],9:["#003f0a","#00590f","#007215","#217c31","#42864d","#68876c","#849384","#9baa9b","#c8d7c8"],10:["#003f0a","#00590f","#007215","#217c31","#42864d","#68876c","#849384","#9baa9b","#b1c0b1","#c8d7c8"],stops:["#00590f","#217c31","#68876c","#9baa9b","#c8d7c8"],tags:["dark","greens","grays","sequential","colorblind-friendly"],name:"Green 16"},"seq-gray-blue-bright":{1:["#b0c4d8"],2:["#1d3bef","#b0c4d8"],3:["#1d3bef","#5b6da6","#b0c4d8"],4:["#0010d9","#1d3bef","#5b6da6","#b0c4d8"],5:["#0010d9","#1d3bef","#5b6da6","#8d9fb7","#b0c4d8"],6:["#0010d9","#1d3bef","#3956df","#5b6da6","#8d9fb7","#b0c4d8"],7:["#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#8d9fb7","#b0c4d8"],8:["#0000b3","#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#8d9fb7","#b0c4d8"],9:["#0000b3","#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#7c8ca6","#8d9fb7","#b0c4d8"],10:["#0000b3","#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#7c8ca6","#8d9fb7","#9fb1c7","#b0c4d8"],stops:["#0010d9","#1d3bef","#5b6da6","#8d9fb7","#b0c4d8"],tags:["dark","blues","grays","bright","sequential","colorblind-friendly"],name:"Blue 22"},"seq-gray-purple-bright":{1:["#c4bedc"],2:["#6535a6","#c4bedc"],3:["#6535a6","#7d6aa1","#c4bedc"],4:["#481295","#6535a6","#7d6aa1","#c4bedc"],5:["#481295","#6535a6","#7d6aa1","#9e97b8","#c4bedc"],6:["#481295","#6535a6","#7346af","#7d6aa1","#9e97b8","#c4bedc"],7:["#481295","#57239e","#6535a6","#7346af","#7d6aa1","#9e97b8","#c4bedc"],8:["#3a008c","#481295","#57239e","#6535a6","#7346af","#7d6aa1","#9e97b8","#c4bedc"],9:["#3a008c","#481295","#57239e","#6535a6","#7346af","#7d6aa1","#8b83a6","#9e97b8","#c4bedc"],10:["#3a008c","#481295","#57239e","#6535a6","#7346af","#7d6aa1","#8b83a6","#9e97b8","#b1aaca","#c4bedc"],stops:["#481295","#6535a6","#7d6aa1","#9e97b8","#c4bedc"],tags:["dark","purples","grays","sequential","colorblind-friendly"],name:"Purple 11"},"seq-plaingray-bright":{1:["#f7f7f7"],2:["#686868","#f7f7f7"],3:["#686868","#8c8c8c","#f7f7f7"],4:["#454545","#686868","#8c8c8c","#f7f7f7"],5:["#454545","#686868","#8c8c8c","#c2c2c2","#f7f7f7"],6:["#454545","#686868","#7a7a7a","#8c8c8c","#c2c2c2","#f7f7f7"],7:["#454545","#575757","#686868","#7a7a7a","#8c8c8c","#c2c2c2","#f7f7f7"],8:["#333333","#454545","#575757","#686868","#7a7a7a","#8c8c8c","#c2c2c2","#f7f7f7"],9:["#333333","#454545","#575757","#686868","#7a7a7a","#8c8c8c","#a7a7a7","#c2c2c2","#f7f7f7"],10:["#333333","#454545","#575757","#686868","#7a7a7a","#8c8c8c","#a7a7a7","#c2c2c2","#dcdcdc","#f7f7f7"],stops:["#454545","#686868","#8c8c8c","#c2c2c2","#f7f7f7"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 2"},"seq-greengray-bright":{1:["#f2f7f5"],2:["#5c6864","#f2f7f5"],3:["#5c6864","#7e8c87","#f2f7f5"],4:["#3a4541","#5c6864","#7e8c87","#f2f7f5"],5:["#3a4541","#5c6864","#7e8c87","#b8c2be","#f2f7f5"],6:["#3a4541","#5c6864","#6d7a75","#7e8c87","#b8c2be","#f2f7f5"],7:["#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#b8c2be","#f2f7f5"],8:["#29332f","#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#b8c2be","#f2f7f5"],9:["#29332f","#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#9ba7a3","#b8c2be","#f2f7f5"],10:["#29332f","#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#9ba7a3","#b8c2be","#d5dcda","#f2f7f5"],stops:["#3a4541","#5c6864","#7e8c87","#b8c2be","#f2f7f5"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 3"},"seq-coolgray-bright":{1:["#f0f4f7"],2:["#566068","#f0f4f7"],3:["#566068","#78838c","#f0f4f7"],4:["#353d45","#566068","#78838c","#f0f4f7"],5:["#353d45","#566068","#78838c","#b4bcc2","#f0f4f7"],6:["#353d45","#566068","#67727a","#78838c","#b4bcc2","#f0f4f7"],7:["#353d45","#464f57","#566068","#67727a","#78838c","#b4bcc2","#f0f4f7"],8:["#242c33","#353d45","#464f57","#566068","#67727a","#78838c","#b4bcc2","#f0f4f7"],9:["#242c33","#353d45","#464f57","#566068","#67727a","#78838c","#969fa7","#b4bcc2","#f0f4f7"],10:["#242c33","#353d45","#464f57","#566068","#67727a","#78838c","#969fa7","#b4bcc2","#d2d8dc","#f0f4f7"],stops:["#353d45","#566068","#78838c","#b4bcc2","#f0f4f7"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 4"},"seq-warmgray-bright":{1:["#f7f5f7"],2:["#686268","#f7f5f7"],3:["#686268","#8c858c","#f7f5f7"],4:["#453f45","#686268","#8c858c","#f7f5f7"],5:["#453f45","#686268","#8c858c","#c8c2c8","#f7f5f7"],6:["#453f45","#686268","#7a737a","#8c858c","#c8c2c8","#f7f5f7"],7:["#453f45","#575057","#686268","#7a737a","#8c858c","#c8c2c8","#f7f5f7"],8:["#332d33","#453f45","#575057","#686268","#7a737a","#8c858c","#c8c2c8","#f7f5f7"],9:["#332d33","#453f45","#575057","#686268","#7a737a","#8c858c","#b1aab1","#c8c2c8","#f7f5f7"],10:["#332d33","#453f45","#575057","#686268","#7a737a","#8c858c","#b1aab1","#c8c2c8","#e0dce0","#f7f5f7"],stops:["#453f45","#686268","#8c858c","#c8c2c8","#f7f5f7"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 5"},"seq-yellow-green-combo-bright":{1:["#d0ff00"],2:["#008c1a","#d0ff00"],3:["#008c1a","#00bf25","#d0ff00"],4:["#00590f","#008c1a","#00bf25","#d0ff00"],5:["#00590f","#008c1a","#00bf25","#76df13","#d0ff00"],6:["#00590f","#008c1a","#00a520","#00bf25","#76df13","#d0ff00"],7:["#00590f","#007215","#008c1a","#00a520","#00bf25","#76df13","#d0ff00"],8:["#003f0a","#00590f","#007215","#008c1a","#00a520","#00bf25","#76df13","#d0ff00"],9:["#003f0a","#00590f","#007215","#008c1a","#00a520","#00bf25","#49cf1c","#76df13","#d0ff00"],10:["#003f0a","#00590f","#007215","#008c1a","#00a520","#00bf25","#49cf1c","#76df13","#a3ef09","#d0ff00"],stops:["#00590f","#008c1a","#00bf25","#76df13","#d0ff00"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 17"},"seq-cyan-blue-combo-bright":{1:["#00ffff"],2:["#0040ff","#00ffff"],3:["#0040ff","#0080ff","#00ffff"],4:["#0010d9","#0040ff","#0080ff","#00ffff"],5:["#0010d9","#0040ff","#0080ff","#00bfff","#00ffff"],6:["#0010d9","#0040ff","#0060ff","#0080ff","#00bfff","#00ffff"],7:["#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#00bfff","#00ffff"],8:["#0000b3","#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#00bfff","#00ffff"],9:["#0000b3","#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#009fff","#00bfff","#00ffff"],10:["#0000b3","#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#009fff","#00bfff","#00dfff","#00ffff"],stops:["#0010d9","#0040ff","#0080ff","#00bfff","#00ffff"],tags:["dark","blues","bright","sequential","colorblind-friendly"],name:"Blue 23"},"seq-magenta-purple-combo-bright":{1:["#e566ff"],2:["#690cc2","#e566ff"],3:["#690cc2","#8f14f7","#e566ff"],4:["#43048d","#690cc2","#8f14f7","#e566ff"],5:["#43048d","#690cc2","#8f14f7","#b63df4","#e566ff"],6:["#43048d","#690cc2","#7c10dd","#8f14f7","#b63df4","#e566ff"],7:["#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#b63df4","#e566ff"],8:["#300073","#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#b63df4","#e566ff"],9:["#300073","#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#9f29ee","#b63df4","#e566ff"],10:["#300073","#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#9f29ee","#b63df4","#ce52f9","#e566ff"],stops:["#43048d","#690cc2","#8f14f7","#b63df4","#e566ff"],tags:["dark","purples","bright","sequential","colorblind-friendly"],name:"Purple 13"},"seq-magenta":{stops:["#4D394D","#6C2F68","#901F8A","#C700BB","#FF33F3"],tags:["dark","pinks","sequential","colorblind-friendly"],name:"Magenta 1"},"seq-red":{stops:["#452D31","#6C2F39","#901F32","#C70021","#FF3355"],tags:["dark","reds","sequential","colorblind-friendly"],name:"Red 11"},"seq-orange":{stops:["#4D4139","#6F4222","#91430B","#B84D00","#FF6900"],tags:["dark","oranges","sequential","colorblind-friendly"],name:"Orange 7"},"seq-yellow":{stops:["#453F1C","#665B1F","#887922","#B39E27","#F9D70E"],tags:["dark","yellows","sequential","colorblind-friendly"],name:"Yellow 6"},"seq-yellowgreen":{stops:["#37451C","#4B5E1D","#6B8822","#8EB327","#A8E000"],tags:["dark","greens","sequential","colorblind-friendly"],name:"Green 18"},"seq-green":{stops:["#234028","#23642E","#228833","#27B33E","#2DE64B"],tags:["dark","greens","sequential","colorblind-friendly"],name:"Green 19"},"seq-turquoise":{stops:["#1C4542","#1C5955","#218279","#29BAAD","#00FFEA"],tags:["dark","blues","sequential","colorblind-friendly"],name:"Turquoise 1"},"seq-royal":{stops:["#1F3D4D","#204F66","#226687","#298ABA","#33BBFF"],tags:["dark","blues","sequential","colorblind-friendly"],name:"Royal Blue 1"},"seq-blueberry":{stops:["#3D3D66","#5E5EAA","#6C6CB8","#8888D5","#A5A5F1"],tags:["dark","purples","sequential","colorblind-friendly"],name:"Purple 14"},"seq-purple":{stops:["#453A59","#5A4089","#6E46B9","#8050DC","#9259FF"],tags:["dark","purples","sequential","colorblind-friendly"],name:"Purple 15"},"seq-brown":{stops:["#40312D","#6D5048","#996F63","#CCA391","#FFD7BE"],tags:["dark","browns","sequential","colorblind-friendly"],name:"Brown 2"},"seq-blue":{stops:["#273859","#4A5D83","#6D81AC","#8FA5D6","#B2CAFF"],tags:["dark","blues","sequential","colorblind-friendly"],name:"Blue 24"},"seq-red-darkblue":{stops:["#3a454d","#435955","#645b4b","#964c2f","#cc3d3d"],tags:["dark","reds","sequential","3d","colorblind-friendly"],name:"Red 12"},"seq-purple-darkgreen":{stops:["#403f19","#594411","#804141","#a63a8b","#992fe6"],tags:["dark","purples","sequential","3d","colorblind-friendly"],name:"Purple 16"},"seq-blue-darkgreen":{stops:["#403c26","#57591f","#4b7345","#387c8c","#3c98f2"],tags:["dark","blues","sequential","3d","colorblind-friendly"],name:"Blue 25"},"seq-green-darkpurple":{stops:["#4d434d","#665347","#807119","#4d9900","#00c484"],tags:["dark","greens","sequential","3d","colorblind-friendly"],name:"Green 20"},"seq-blue-gray":{stops:["#494d49","#606644","#7d802d","#77a66e","#51c8e6"],tags:["dark","greens","blues","sequential","3d","colorblind-friendly"],name:"Blue 26"},"seq-magenta-light":{stops:["#D9CFD9","#C6A3C4","#B377B0","#9F4C9B","#85007D"],tags:["light","pinks","sequential","colorblind-friendly"],name:"Magenta 2"},"seq-red-light":{stops:["#D9CACA","#D09898","#C66565","#BD3333","#A60000"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 13"},"seq-orange-light":{stops:["#D9D0C3","#D6BA92","#D3A462","#CF8E31","#BF7000"],tags:["light","oranges","browns","sequential","colorblind-friendly"],name:"Orange 8"},"seq-mustard-light":{stops:["#D9D8C3","#CCC992","#C0BB62","#969131","#807900"],tags:["light","yellows","sequential","colorblind-friendly"],name:"Mustard"},"seq-yellowgreen-light":{stops:["#D5D9C3","#bac392","#a0ac62","#859631","#6a8000"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 21"},"seq-green-light":{stops:["#C3D9C7","#92C99C","#62B970","#31A945","#008C17"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 22"},"seq-aqua-light":{stops:["#C3D9D7","#8FD3CD","#5BCDC3","#26C2B5","#00A698"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 23"},"seq-cyan-light":{stops:["#CAD2D9","#98C9E3","#6DC2EC","#45B0E6","#0099E6"],tags:["light","blues","sequential","colorblind-friendly"],name:"Royal Blue 2"},"seq-blue-light":{stops:["#CACCD9","#A8B1E3","#8595EC","#6076ED","#405FFF"],tags:["light","purples","blues","sequential","colorblind-friendly"],name:"Blue 27"},"seq-purple-light":{stops:["#CAC3D9","#B1A1D3","#997FCC","#805CC5","#673ABF"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 17"},"seq-brown-light":{stops:["#D9C8C3","#C0A69E","#A68479","#8D6153","#733F2E"],tags:["light","browns","sequential","colorblind-friendly"],name:"Brown 3"},"seq-steel-light":{stops:["#C3CAD9","#a9b3c9","#8898c0","#6d7fad","#505e85"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 28"},"seq-brown-palegreen":{stops:["#cceedc","#95baa4","#857c4f","#995d08","#8c1515"],tags:["light","greens","browns","sequential","3d","colorblind-friendly"],name:"Green and Brown 2"},"seq-purple-pink-yellow":{stops:["#fff966","#ebb42f","#bf6060","#8c256a","#6f158c"],tags:["light","yellows","purples","sequential","3d","colorblind-friendly"],name:"Purple and Yellow 5"},"seq-blue-green-yellow":{stops:["#ffee99","#d4d94c","#77b46c","#3d8799","#2b57d9"],tags:["light","yellows","blues","greens","sequential","3d","colorblind-friendly"],name:"Blue and Yellow 12"},"seq-green-avocado-lightpurple":{stops:["#ffd9ff","#d1aa9d","#8c8746","#4e8043","#006655"],tags:["light","purples","greens","sequential","3d","colorblind-friendly"],name:"Purple and Green 12"},"seq-turquoise-lightgreen":{stops:["#dae6c8","#c2d182","#97ba66","#5c997c","#2c8499"],tags:["light","blues","greens","sequential","3d","colorblind-friendly"],name:"Green and Blue 10"},"seq-red-brown-white":{stops:["#ffffff","#e6d889","#c0974c","#99550f","#8c1515"],tags:["light","reds","sequential","3d","colorblind-friendly"],name:"Red 13"},"seq-purple-pink-white":{stops:["#ffffff","#e6d889","#b97f7a","#8c256a","#6f158c"],tags:["light","purples","sequential","3d","colorblind-friendly"],name:"Purple 18"},"seq-blue-green-white":{stops:["#ffffff","#dee689","#81a683","#3d8799","#2b57d9"],tags:["light","greens","blues","sequential","3d","colorblind-friendly"],name:"Green and Blue 11"},"seq-green-avocado-white":{stops:["#ffffff","#d9b098","#90b445","#428200","#006e5c"],tags:["light","greens","sequential","3d","colorblind-friendly"],name:"Green 24"},"seq-turquoise-lightgreen-white":{stops:["#ffffff","#d2e096","#c7cc47","#78a66f","#308fa6"],tags:["light","greens","blues","sequential","3d","colorblind-friendly"],name:"Green 25"},"seq-subdued-red-yellow":{1:["#eecb9a"],2:["#c06677","#eecb9a"],3:["#c06677","#e09d85","#eecb9a"],4:["#c06677","#e09d85","#e7b48f","#eecb9a"],5:["#c06677","#d9867a","#e09d85","#e7b48f","#eecb9a"],6:["#c06677","#d9867a","#e09d85","#e7b48f","#eecb9a","#faebc8"],7:["#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#faebc8"],8:["#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#f2d6a9","#faebc8"],9:["#b35675","#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#f2d6a9","#faebc8"],10:["#b35675","#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#f2d6a9","#f6e0b9","#faebc8"],stops:["#c06677","#d9867a","#e09d85","#e7b48f","#eecb9a"],tags:["light","reds","yellows","subdued","sequential","colorblind-friendly"],name:"Sunburned Skies"},"seq-subdued-purple-blue":{1:["#a586c2"],2:["#a586c2","#afd1e9"],3:["#9972b0","#b299d4","#afd1e9"],4:["#9972b0","#b299d4","#afd1e9","#d2e5f2"],5:["#9972b0","#b299d4","#b0bee2","#afd1e9","#d2e5f2"],6:["#9972b0","#b299d4","#b1acdb","#b0bee2","#afd1e9","#d2e5f2"],7:["#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#d2e5f2"],8:["#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#c0dbee","#d2e5f2"],9:["#8c5f9e","#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#c0dbee","#d2e5f2"],10:["#8c5f9e","#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#c0dbee","#d2e5f2","#e3eff7"],stops:["#9972b0","#b299d4","#b0bee2","#afd1e9","#d2e5f2"],tags:["light","blues","purples","subdued","sequential","colorblind-friendly"],name:"Winter Solstice"},"seq-subdued-blue-cyan":{1:["#8ac3d3"],2:["#6780b0","#8ac3d3"],3:["#6780b0","#8ac3d3","#afd8e0"],4:["#5870a0","#768fbf","#8ac3d3","#afd8e0"],5:["#5870a0","#768fbf","#8ac3d3","#afd8e0","#d4eded"],6:["#5870a0","#768fbf","#80a9c9","#8ac3d3","#afd8e0","#d4eded"],7:["#5870a0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#d4eded"],8:["#5870a0","#6780b0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#d4eded"],9:["#5870a0","#6780b0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#c2e3e7","#d4eded"],10:["#496191","#5870a0","#6780b0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#c2e3e7","#d4eded"],stops:["#5870a0","#768fbf","#8ac3d3","#afd8e0","#d4eded"],tags:["light","blues","subdued","sequential","colorblind-friendly"],name:"Silky Sapphire"},"seq-subdued-green-yellow":{1:["#d0c8a0"],2:["#78835f","#d0c8a0"],3:["#78835f","#d0c8a0","#f7e9cc"],4:["#78835f","#a5b386","#d0c8a0","#f7e9cc"],5:["#78835f","#a5b386","#d0c8a0","#eedebd","#f7e9cc"],6:["#78835f","#a5b386","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc"],7:["#78835f","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc"],8:["#78835f","#8e9b72","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc"],9:["#78835f","#8e9b72","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc","#fff5dc"],10:["#616b4b","#78835f","#8e9b72","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc","#fff5dc"],stops:["#78835f","#a5b386","#d0c8a0","#eedebd","#f7e9cc"],tags:["light","greens","subdued","sequential","colorblind-friendly"],name:"Sansevieria"},"seq-subdued-green":{1:["#99c5b6"],2:["#99c5b6","#e3f1d2"],3:["#4d8c8c","#99c5b6","#e3f1d2"],4:["#4d8c8c","#99c5b6","#cbe0b2","#e3f1d2"],5:["#4d8c8c","#6fa9aa","#99c5b6","#cbe0b2","#e3f1d2"],6:["#4d8c8c","#6fa9aa","#99c5b6","#b2d2b4","#cbe0b2","#e3f1d2"],7:["#4d8c8c","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#e3f1d2"],8:["#4d8c8c","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#d7e9c2","#e3f1d2"],9:["#4d8c8c","#5e9a9b","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#d7e9c2","#e3f1d2"],10:["#4d8c8c","#5e9a9b","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#d7e9c2","#e3f1d2","#effae2"],stops:["#4d8c8c","#6fa9aa","#99c5b6","#cbe0b2","#e3f1d2"],tags:["light","greens","subdued","sequential","colorblind-friendly"],name:"Garden Grass"},"seq-subdued-brown-tan":{1:["#91595c"],2:["#e8c29c","#91595c"],3:["#e8c29c","#b78165","#91595c"],4:["#e8c29c","#b78165","#a6695c","#91595c"],5:["#e8c29c","#c79a6d","#b78165","#a6695c","#91595c"],6:["#e8c29c","#c79a6d","#b78165","#a6695c","#91595c","#664755"],7:["#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#664755"],8:["#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#7f5158","#664755"],9:["#f9d6b3","#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#7f5158","#664755"],10:["#f9d6b3","#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#7f5158","#734c56","#664755"],stops:["#e8c29c","#c79a6d","#b78165","#a6695c","#91595c"],tags:["dark","browns","subdued","sequential","colorblind-friendly"],name:"Golden Glory"},"seq-subdued-gray-green":{1:["#4a6989"],2:["#9fd5d0","#4a6989"],3:["#9fd5d0","#619aa1","#4a6989"],4:["#9fd5d0","#619aa1","#568295","#4a6989"],5:["#9fd5d0","#6db3ad","#619aa1","#568295","#4a6989"],6:["#9fd5d0","#6db3ad","#619aa1","#568295","#4a6989","#454f59"],7:["#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#454f59"],8:["#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#496179","#454f59"],9:["#b8e6e2","#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#496179","#454f59"],10:["#b8e6e2","#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#496179","#475869","#454f59"],stops:["#9fd5d0","#6db3ad","#619aa1","#568295","#4a6989"],tags:["dark","greens","grays","subdued","sequential","colorblind-friendly"],name:"Morning Dew"},"seq-subdued-green-tan":{1:["#546d3f"],2:["#c2c5a1","#546d3f"],3:["#c2c5a1","#7f8c62","#546d3f"],4:["#c2c5a1","#7f8c62","#6a7d50","#546d3f"],5:["#c2c5a1","#959c73","#7f8c62","#6a7d50","#546d3f"],6:["#c2c5a1","#959c73","#7f8c62","#6a7d50","#546d3f","#325438"],7:["#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#325438"],8:["#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#446639","#325438"],9:["#d9d9b8","#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#446639","#325438"],10:["#d9d9b8","#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#446639","#346033","#325438"],stops:["#c2c5a1","#959c73","#7f8c62","#6a7d50","#546d3f"],tags:["dark","greens","subdued","sequential","colorblind-friendly"],name:"Alligator Armor"},"seq-subdued-blue-purple":{1:["#726299"],2:["#a0c8dd","#726299"],3:["#a0c8dd","#7e8daa","#726299"],4:["#a0c8dd","#7e8daa","#7878a2","#726299"],5:["#a0c8dd","#84a3b3","#7e8daa","#7878a2","#726299"],6:["#a0c8dd","#84a3b3","#7e8daa","#7878a2","#726299","#524573"],7:["#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#524573"],8:["#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#68588d","#524573"],9:["#aedbf2","#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#68588d","#524573"],10:["#aedbf2","#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#68588d","#5d4f80","#524573"],stops:["#a0c8dd","#84a3b3","#7e8daa","#7878a2","#726299"],tags:["dark","blues","purples","subdued","sequential","colorblind-friendly"],name:"Moonstones"},"seq-subdued-pink-brown":{1:["#895277"],2:["#eeb1b1","#895277"],3:["#eeb1b1","#b66d7a","#895277"],4:["#eeb1b1","#b66d7a","#9f6078","#895277"],5:["#eeb1b1","#cc7b7b","#b66d7a","#9f6078","#895277"],6:["#eeb1b1","#cc7b7b","#b66d7a","#9f6078","#895277","#693f5a"],7:["#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#693f5a"],8:["#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#7d4b6d","#693f5a"],9:["#ffcccc","#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#7d4b6d","#693f5a"],10:["#ffcccc","#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#7d4b6d","#724463","#693f5a"],stops:["#eeb1b1","#cc7b7b","#b66d7a","#9f6078","#895277"],tags:["dark","browns","purples","pinks","subdued","sequential","colorblind-friendly"],name:"Watermelon Sugar"},"seq-subdued-green-pink":{1:["#3b9ea2"],2:["#3b9ea2","#f8c8be"],3:["#3b9ea2","#b8bcba","#f8c8be"],4:["#006e76","#3b9ea2","#f8c8be","#fcd4cc"],5:["#006e76","#3b9ea2","#b8bcba","#f8c8be","#fcd4cc"],6:["#006e76","#3b9ea2","#8cb2b2","#b8bcba","#f8c8be","#fcd4cc"],7:["#006e76","#3b9ea2","#8cb2b2","#b8bcba","#f8c8be","#fcd4cc","#ffe0d9"],8:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#b8bcba","#f8c8be","#fcd4cc","#ffe0d9"],9:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#b8bcba","#e6c2bc","#f8c8be","#fcd4cc","#ffe0d9"],10:["#006e76","#1e868c","#3b9ea2","#63a8aa","#8cb2b2","#b8bcba","#e6c2bc","#f8c8be","#fcd4cc","#ffe0d9"],stops:["#006e76","#3b9ea2","#b8bcba","#f8c8be","#fcd4cc"],tags:["dark","greens","pinks","subdued","sequential","colorblind-friendly"],name:"Forest Dusk"},"seq-lines-blue-orange":{1:["#a889b8"],2:["#0060a6","#ffcabf"],3:["#0060a6","#a889b8","#ffcabf"],4:["#0060a6","#2782c4","#ffa18e","#ffcabf"],5:["#0060a6","#2782c4","#a889b8","#ffa18e","#ffcabf"],6:["#0060a6","#2782c4","#a889b8","#d78e9a","#ffa18e","#ffcabf"],7:["#0060a6","#2782c4","#698bc4","#a889b8","#d78e9a","#ffa18e","#ffcabf"],8:["#0060a6","#2782c4","#698bc4","#a889b8","#d78e9a","#ffa18e","#ffb5a6","#ffcabf"],9:["#0060a6","#1474b9","#2782c4","#698bc4","#a889b8","#d78e9a","#ffa18e","#ffb5a6","#ffcabf"],10:["#0060a6","#1474b9","#2782c4","#698bc4","#a889b8","#d78e9a","#ed9595","#ffa18e","#ffb5a6","#ffcabf"],stops:["#0060a6","#2782c4","#a889b8","#ffa18e","#ffcabf"],tags:["light","blues","lines","sequential","colorblind-friendly"],name:"Perfect Pigtails"},"seq-lines-purple-brown":{1:["#9e6b90"],2:["#3900b3","#ebb698"],3:["#3900b3","#9e6b90","#ebb698"],4:["#3900b3","#714dbf","#cf9270","#ebb698"],5:["#3900b3","#714dbf","#9e6b90","#cf9270","#ebb698"],6:["#3900b3","#714dbf","#9e6b90","#b17777","#cf9270","#ebb698"],7:["#3900b3","#714dbf","#8c5fae","#9e6b90","#b17777","#cf9270","#ebb698"],8:["#3900b3","#714dbf","#8c5fae","#9e6b90","#b17777","#cf9270","#dba283","#ebb698"],9:["#3900b3","#5929c0","#714dbf","#8c5fae","#9e6b90","#b17777","#cf9270","#dba283","#ebb698"],10:["#3900b3","#5929c0","#714dbf","#8c5fae","#9e6b90","#b17777","#c4825e","#cf9270","#dba283","#ebb698"],stops:["#3900b3","#714dbf","#9e6b90","#cf9270","#ebb698"],tags:["light","purples","browns","lines","sequential","colorblind-friendly"],name:"Andromeda"},"seq-lines-green-brown":{1:["#00ffd4"],2:["#00ffd4","#8c4600"],3:["#00ffd4","#36ba84","#8c4600"],4:["#00ffd4","#5b9a5b","#8c4600","#592d00"],5:["#00ffd4","#5b9a5b","#8f6519","#8c4600","#592d00"],6:["#00ffd4","#36ba84","#5b9a5b","#8f6519","#8c4600","#592d00"],7:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#8f6519","#8c4600","#592d00"],8:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#8f6519","#8c4600","#733900","#592d00"],9:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#807b32","#8f6519","#8c4600","#733900","#592d00"],10:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#807b32","#8f6519","#9e4f00","#8c4600","#733900","#592d00"],stops:["#00ffd4","#5b9a5b","#8f6519","#8c4600","#592d00"],tags:["dark","greens","browns","lines","sequential","colorblind-friendly"],name:"Chocolate Mint"},"seq-lines-yellow-blue":{1:["#ffff00"],2:["#ffff00","#0040bf"],3:["#ffff00","#4c6f80","#0040bf"],4:["#ffff00","#8fa745","#4c6f80","#0040bf"],5:["#ffff00","#8fa745","#4c6f80","#1150ba","#0040bf"],6:["#ffff00","#b5c42e","#8fa745","#4c6f80","#1150ba","#0040bf"],7:["#ffff00","#dae217","#b5c42e","#8fa745","#4c6f80","#1150ba","#0040bf"],8:["#ffff00","#dae217","#b5c42e","#8fa745","#4c6f80","#215eb3","#1150ba","#0040bf"],9:["#ffff00","#dae217","#b5c42e","#8fa745","#6a895c","#4c6f80","#215eb3","#1150ba","#0040bf"],10:["#ffff00","#dae217","#b5c42e","#8fa745","#6a895c","#4c6f80","#215eb3","#1150ba","#0040bf","#00359e"],stops:["#ffff00","#8fa745","#4c6f80","#1150ba","#0040bf"],tags:["dark","yellows","blues","lines","sequential","colorblind-friendly"],name:"Going Bananas"},"seq-esribrand-red":{1:["#f07062"],2:["#a8281e","#fbb1a8"],3:["#a8281e","#f07062","#fbb1a8"],4:["#a8281e","#d83020","#f07062","#fbb1a8"],5:["#a8281e","#d83020","#f07062","#f89b91","#fbb1a8"],6:["#a8281e","#c02c1f","#e45041","#f48579","#f89b91","#ffc6bf"],7:["#a8281e","#c02c1f","#d83020","#e45041","#f48579","#f89b91","#ffc6bf"],8:["#a8281e","#c02c1f","#d83020","#e45041","#f07062","#f48579","#fbb1a8","#ffc6bf"],9:["#a8281e","#c02c1f","#d83020","#e45041","#f07062","#f48579","#f89b91","#fbb1a8","#ffc6bf"],10:["#99241b","#a8281e","#c02c1f","#d83020","#e45041","#f07062","#f48579","#f89b91","#fbb1a8","#ffc6bf"],stops:["#a8281e","#d83020","#f07062","#f89b91","#fbb1a8"],tags:["light","reds","esri-brand","sequential","colorblind-friendly"],name:"Esri Red 1"},"seq-esribrand-red-orange":{1:["#e68261"],2:["#ad3c16","#f9d2c5"],3:["#ad3c16","#e68261","#f9d2c5"],4:["#ad3c16","#da4d1e","#e68261","#f9d2c5"],5:["#ad3c16","#da4d1e","#e68261","#f3b7a3","#f9d2c5"],6:["#ad3c16","#c4451a","#e0673f","#ec9c82","#f3b7a3","#ffece6"],7:["#ad3c16","#c4451a","#da4d1e","#e0673f","#ec9c82","#f3b7a3","#ffece6"],8:["#ad3c16","#c4451a","#da4d1e","#e0673f","#e68261","#ec9c82","#f9d2c5","#ffece6"],9:["#ad3c16","#c4451a","#da4d1e","#e0673f","#e68261","#ec9c82","#f3b7a3","#f9d2c5","#ffece6"],10:["#963413","#ad3c16","#c4451a","#da4d1e","#e0673f","#e68261","#ec9c82","#f3b7a3","#f9d2c5","#ffece6"],stops:["#ad3c16","#da4d1e","#e68261","#f3b7a3","#f9d2c5"],tags:["light","reds","sequential","esri-brand","colorblind-friendly"],name:"Esri Red 2"},"seq-esribrand-orange":{1:["#f7975e"],2:["#c65a18","#fdd4ba"],3:["#c65a18","#f7975e","#fdd4ba"],4:["#c65a18","#f36f20","#f7975e","#fdd4ba"],5:["#c65a18","#f36f20","#f7975e","#fbc09b","#fdd4ba"],6:["#c65a18","#dd651c","#fa8640","#f9ab7c","#fbc09b","#ffe8d9"],7:["#c65a18","#dd651c","#f36f20","#fa8640","#f9ab7c","#fbc09b","#ffe8d9"],8:["#c65a18","#dd651c","#f36f20","#fa8640","#f7975e","#f9ab7c","#fdd4ba","#ffe8d9"],9:["#c65a18","#dd651c","#f36f20","#fa8640","#f7975e","#f9ab7c","#fbc09b","#fdd4ba","#ffe8d9"],10:["#b35116","#c65a18","#dd651c","#f36f20","#fa8640","#f7975e","#f9ab7c","#fbc09b","#fdd4ba","#ffe8d9"],stops:["#c65a18","#f36f20","#f7975e","#fbc09b","#fdd4ba"],tags:["light","oranges","sequential","esri-brand","colorblind-friendly"],name:"Esri Orange 1"},"seq-esribrand-orangeyellow":{1:["#fbb664"],2:["#c67718","#fed9ad"],3:["#c67718","#fbb664","#fed9ad"],4:["#c67718","#f29526","#fbb664","#fed9ad"],5:["#c67718","#f29526","#fbb664","#fdcc92","#fed9ad"],6:["#c67718","#dc861f","#f7a645","#fcc17b","#fdcc92","#ffe6c7"],7:["#c67718","#dc861f","#f29526","#f7a645","#fcc17b","#fdcc92","#ffe6c7"],8:["#c67718","#dc861f","#f29526","#f7a645","#fbb664","#fcc17b","#fed9ad","#ffe6c7"],9:["#c67718","#dc861f","#f29526","#f7a645","#fbb664","#fcc17b","#fdcc92","#fed9ad","#ffe6c7"],10:["#b36a16","#c67718","#dc861f","#f29526","#f7a645","#fbb664","#fcc17b","#fdcc92","#fed9ad","#ffe6c7"],stops:["#c67718","#f29526","#fbb664","#fdcc92","#fed9ad"],tags:["light","browns","yellows","sequential","esri-brand","colorblind-friendly"],name:"Esri Pumpkin Pie"},"seq-esribrand-yellow":{1:["#f1df55"],2:["#beac2d","#fff5bf"],3:["#beac2d","#f1df55","#fff5bf"],4:["#beac2d","#ddca39","#f1df55","#fff5bf"],5:["#beac2d","#ddca39","#f1df55","#fdf19d","#fff5bf"],6:["#beac2d","#d3c035","#e7d33c","#fbea6e","#fdf19d","#fff9d6"],7:["#beac2d","#d3c035","#ddca39","#e7d33c","#fbea6e","#fdf19d","#fff9d6"],8:["#beac2d","#d3c035","#ddca39","#e7d33c","#f1df55","#fbea6e","#fff5bf","#fff9d6"],9:["#beac2d","#d3c035","#ddca39","#e7d33c","#f1df55","#fbea6e","#fdf19d","#fff5bf","#fff9d6"],10:["#ad9d29","#beac2d","#d3c035","#ddca39","#e7d33c","#f1df55","#fbea6e","#fdf19d","#fff5bf","#fff9d6"],stops:["#beac2d","#ddca39","#f1df55","#fdf19d","#fff5bf"],tags:["light","yellows","sequential","esri-brand","colorblind-friendly"],name:"Esri Yellow 1"},"seq-esribrand-yellowgreen":{1:["#b9db62"],2:["#84a338","#e5f7b4"],3:["#84a338","#b9db62","#e5f7b4"],4:["#84a338","#a4c74c","#b9db62","#e5f7b4"],5:["#84a338","#a4c74c","#b9db62","#d4ec95","#e5f7b4"],6:["#84a338","#97ba42","#add056","#c2e075","#d4ec95","#f0ffc7"],7:["#84a338","#97ba42","#a4c74c","#add056","#c2e075","#d4ec95","#f0ffc7"],8:["#84a338","#97ba42","#a4c74c","#add056","#b9db62","#c2e075","#e5f7b4","#f0ffc7"],9:["#84a338","#97ba42","#a4c74c","#add056","#b9db62","#c2e075","#d4ec95","#e5f7b4","#f0ffc7"],10:["#748f31","#84a338","#97ba42","#a4c74c","#add056","#b9db62","#c2e075","#d4ec95","#e5f7b4","#f0ffc7"],stops:["#84a338","#a4c74c","#b9db62","#d4ec95","#e5f7b4"],tags:["light","greens","sequential","esri-brand","colorblind-friendly"],name:"Esri Green 1"},"seq-esribrand-green":{1:["#61c66f"],2:["#288835","#b5f1bd"],3:["#288835","#61c66f","#b5f1bd"],4:["#288835","#35ac46","#61c66f","#b5f1bd"],5:["#288835","#35ac46","#61c66f","#99e3a3","#b5f1bd"],6:["#288835","#2f9a3e","#45b855","#7dd489","#99e3a3","#d1ffd7"],7:["#288835","#2f9a3e","#35ac46","#45b855","#7dd489","#99e3a3","#d1ffd7"],8:["#288835","#2f9a3e","#35ac46","#45b855","#61c66f","#7dd489","#b5f1bd","#d1ffd7"],9:["#288835","#2f9a3e","#35ac46","#45b855","#61c66f","#7dd489","#99e3a3","#b5f1bd","#d1ffd7"],10:["#22732d","#288835","#2f9a3e","#35ac46","#45b855","#61c66f","#7dd489","#99e3a3","#b5f1bd","#d1ffd7"],stops:["#288835","#35ac46","#61c66f","#99e3a3","#b5f1bd"],tags:["light","greens","sequential","esri-brand","colorblind-friendly"],name:"Esri Green 2"},"seq-esribrand-greenblue":{1:["#3cd3d0"],2:["#009b98","#a7eeed"],3:["#009b98","#3cd3d0","#a7eeed"],4:["#009b98","#00bab5","#3cd3d0","#a7eeed"],5:["#009b98","#00bab5","#3cd3d0","#81e7e5","#a7eeed"],6:["#009b98","#00aba7","#1ec7c3","#5ae0de","#81e7e5","#cef5f4"],7:["#009b98","#00aba7","#00bab5","#1ec7c3","#5ae0de","#81e7e5","#cef5f4"],8:["#009b98","#00aba7","#00bab5","#1ec7c3","#3cd3d0","#5ae0de","#a7eeed","#cef5f4"],9:["#009b98","#00aba7","#00bab5","#1ec7c3","#3cd3d0","#5ae0de","#81e7e5","#a7eeed","#cef5f4"],10:["#00807d","#009b98","#00aba7","#00bab5","#1ec7c3","#3cd3d0","#5ae0de","#81e7e5","#a7eeed","#cef5f4"],stops:["#009b98","#00bab5","#3cd3d0","#81e7e5","#a7eeed"],tags:["light","blues","sequential","esri-brand","colorblind-friendly"],name:"Esri Blue 1"},"seq-esribrand-blue":{1:["#49a4d8"],2:["#00619b","#a6d8f6"],3:["#00619b","#49a4d8","#a6d8f6"],4:["#00619b","#1480bf","#49a4d8","#a6d8f6"],5:["#00619b","#1480bf","#49a4d8","#8cc9ed","#a6d8f6"],6:["#00619b","#006eaf","#2891ce","#6bb6e3","#8cc9ed","#bfe7ff"],7:["#00619b","#006eaf","#1480bf","#2891ce","#6bb6e3","#8cc9ed","#bfe7ff"],8:["#00619b","#006eaf","#1480bf","#2891ce","#49a4d8","#6bb6e3","#a6d8f6","#bfe7ff"],9:["#00619b","#006eaf","#1480bf","#2891ce","#49a4d8","#6bb6e3","#8cc9ed","#a6d8f6","#bfe7ff"],10:["#005080","#00619b","#006eaf","#1480bf","#2891ce","#49a4d8","#6bb6e3","#8cc9ed","#a6d8f6","#bfe7ff"],stops:["#00619b","#1480bf","#49a4d8","#8cc9ed","#a6d8f6"],tags:["light","blues","sequential","esri-brand","colorblind-friendly"],name:"Esri Blue 2"},"seq-esribrand-violet":{1:["#a085c6"],2:["#57318c","#d6c4f1"],3:["#57318c","#a085c6","#d6c4f1"],4:["#57318c","#7b5ba9","#a085c6","#d6c4f1"],5:["#57318c","#7b5ba9","#a085c6","#c4afe2","#d6c4f1"],6:["#57318c","#69469a","#8d70b7","#b29ad4","#c4afe2","#e8d9ff"],7:["#57318c","#69469a","#7b5ba9","#8d70b7","#b29ad4","#c4afe2","#e8d9ff"],8:["#57318c","#69469a","#7b5ba9","#8d70b7","#a085c6","#b29ad4","#d6c4f1","#e8d9ff"],9:["#57318c","#69469a","#7b5ba9","#8d70b7","#a085c6","#b29ad4","#c4afe2","#d6c4f1","#e8d9ff"],10:["#3f2466","#57318c","#69469a","#7b5ba9","#8d70b7","#a085c6","#b29ad4","#c4afe2","#d6c4f1","#e8d9ff"],stops:["#57318c","#7b5ba9","#a085c6","#c4afe2","#d6c4f1"],tags:["light","purples","sequential","esri-brand","colorblind-friendly"],name:"Esri Purple 1"},"seq-esribrand-violetred":{1:["#b983c3"],2:["#73377e","#eac5f0"],3:["#73377e","#b983c3","#eac5f0"],4:["#73377e","#9753a3","#b983c3","#eac5f0"],5:["#73377e","#9753a3","#b983c3","#daafe1","#eac5f0"],6:["#73377e","#864691","#a466af","#ca99d2","#daafe1","#fadbff"],7:["#73377e","#864691","#9753a3","#a466af","#ca99d2","#daafe1","#fadbff"],8:["#73377e","#864691","#9753a3","#a466af","#b983c3","#ca99d2","#eac5f0","#fadbff"],9:["#73377e","#864691","#9753a3","#a466af","#b983c3","#ca99d2","#daafe1","#eac5f0","#fadbff"],10:["#5d2d66","#73377e","#864691","#9753a3","#a466af","#b983c3","#ca99d2","#daafe1","#eac5f0","#fadbff"],stops:["#73377e","#9753a3","#b983c3","#daafe1","#eac5f0"],tags:["light","purples","sequential","esri-brand","colorblind-friendly"],name:"Esri Purple 2"},"seq-esribrand-brown":{1:["#ad8b62"],2:["#684217","#e5ceb1"],3:["#684217","#ad8b62","#e5ceb1"],4:["#684217","#855621","#ad8b62","#e5ceb1"],5:["#684217","#855621","#ad8b62","#d2b897","#e5ceb1"],6:["#684217","#764c1c","#946d3f","#c0a27d","#d2b897","#f7e4cb"],7:["#684217","#764c1c","#855621","#946d3f","#c0a27d","#d2b897","#f7e4cb"],8:["#684217","#764c1c","#855621","#946d3f","#ad8b62","#c0a27d","#e5ceb1","#f7e4cb"],9:["#684217","#764c1c","#855621","#946d3f","#ad8b62","#c0a27d","#d2b897","#e5ceb1","#f7e4cb"],10:["#593812","#684217","#764c1c","#855621","#946d3f","#ad8b62","#c0a27d","#d2b897","#e5ceb1","#f7e4cb"],stops:["#684217","#855621","#ad8b62","#d2b897","#e5ceb1"],tags:["light","browns","sequential","esri-brand","colorblind-friendly"],name:"Esri Brown 1"},"seq-esribrand-gray":{1:["#999999"],2:["#404040","#cecece"],3:["#404040","#999999","#cecece"],4:["#404040","#666666","#999999","#cecece"],5:["#404040","#666666","#999999","#bcbcbc","#cecece"],6:["#404040","#535353","#808080","#ababab","#bcbcbc","#dfdfdf"],7:["#404040","#535353","#666666","#808080","#ababab","#bcbcbc","#dfdfdf"],8:["#404040","#535353","#666666","#808080","#999999","#ababab","#cecece","#dfdfdf"],9:["#404040","#535353","#666666","#808080","#999999","#ababab","#bcbcbc","#cecece","#dfdfdf"],10:["#2e2e2e","#404040","#535353","#666666","#808080","#999999","#ababab","#bcbcbc","#cecece","#dfdfdf"],stops:["#404040","#666666","#999999","#bcbcbc","#cecece"],tags:["light","grays","sequential","esri-brand","colorblind-friendly"],name:"Esri Gray 1"},"seq-mentone-beach":{stops:["#48385F","#995375","#DB4A5B","#FC9A59","#FEE086"],tags:["dark","purples","yellows","sequential","colorblind-friendly"],name:"Mentone Beach"},"seq-snowy-mountain":{stops:["#e8e6f1","#c9d5eb","#a9c4e5","#87b3de","#60a3d8"],tags:["light","blues","sequential","colorblind-friendly"],name:"Snowy Mountain"},"seq-snow-cactus":{stops:["#F3F5E8","#E2DBBF","#90825D","#3E4939","#2A3225"],tags:["light","greens","sequential","colorblind-friendly"],name:"Snow Cactus"},"div-orange-pink":{1:["#b796b8"],2:["#d8a79c","#b796b8"],3:["#d8a79c","#ffffff","#b796b8"],4:["#bf6d59","#e5c4bd","#cfb9d0","#874f88"],5:["#bf6d59","#e5c4bd","#ffffff","#cfb9d0","#874f88"],6:["#b24f38","#d8a79c","#f2e2de","#e7dce7","#b796b8","#6f2c71"],7:["#b24f38","#d8a79c","#f2e2de","#ffffff","#e7dce7","#b796b8","#6f2c71"],8:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],9:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#ffffff","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],10:["#a53217","#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e7dce7","#cfb9d0","#9f72a0","#6f2c71","#570959"],stops:["#a53217","#d2998b","#ffffff","#ab84ac","#570959"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 1"},"div-orange-yellow-pink":{1:["#b795aa"],2:["#d8a78d","#b795aa"],3:["#d8a78d","#fffee6","#b795aa"],4:["#bf6c52","#e5c4ab","#cfb8be","#874f81"],5:["#bf6c52","#e5c4ab","#fffee6","#cfb8be","#874f81"],6:["#b24f35","#d8a78d","#f2e1c8","#e7dbd2","#b795aa","#6f2c6d"],7:["#b24f35","#d8a78d","#f2e1c8","#fffee6","#e7dbd2","#b795aa","#6f2c6d"],8:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],9:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#fffee6","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],10:["#a53217","#b24f35","#cc8970","#e5c4ab","#f2e1c8","#e7dbd2","#cfb8be","#9f7295","#6f2c6d","#570959"],stops:["#a53217","#d2987f","#fffee6","#ab84a0","#570959"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 2"},"div-bluegreen-redpurple":{1:["#bd929b"],2:["#92aeaa","#bd929b"],3:["#92aeaa","#ffffff","#bd929b"],4:["#497871","#b6c9c6","#d3b6bc","#924959"],5:["#497871","#b6c9c6","#ffffff","#d3b6bc","#924959"],6:["#245d54","#92aeaa","#dbe4e3","#e9dbde","#bd929b","#7c2437"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#e9dbde","#bd929b","#7c2437"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#e9dbde","#d3b6bc","#a86d7a","#7c2437","#660016"],stops:["#004238","#80a19c","#ffffff","#b3808b","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 1"},"div-bluegreen-yellow-redpurple":{1:["#bd918d"],2:["#92ad9b","#bd918d"],3:["#92ad9b","#fffee6","#bd918d"],4:["#49786a","#b6c8b4","#d3b5ab","#924951"],5:["#49786a","#b6c8b4","#fffee6","#d3b5ab","#924951"],6:["#245d51","#92ad9b","#dbe3cd","#e9dac8","#bd918d","#7c2434"],7:["#245d51","#92ad9b","#dbe3cd","#fffee6","#e9dac8","#bd918d","#7c2434"],8:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],9:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#fffee6","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],10:["#004238","#245d51","#6d9383","#b6c8b4","#dbe3cd","#e9dac8","#d3b5ab","#a86d6f","#7c2434","#660016"],stops:["#004238","#80a08f","#fffee6","#b37f7e","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 1"},"div-green-orange":{1:["#d8a79c"],2:["#aab193","#d8a79c"],3:["#aab193","#ffffff","#d8a79c"],4:["#717d4b","#c6cbb7","#e5c4bd","#bf6d59"],5:["#717d4b","#c6cbb7","#ffffff","#e5c4bd","#bf6d59"],6:["#546327","#aab193","#e3e5db","#f2e2de","#d8a79c","#b24f38"],7:["#546327","#aab193","#e3e5db","#ffffff","#f2e2de","#d8a79c","#b24f38"],8:["#546327","#8d976f","#c6cbb7","#e3e5db","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],9:["#546327","#8d976f","#c6cbb7","#e3e5db","#ffffff","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],10:["#384903","#546327","#8d976f","#c6cbb7","#e3e5db","#f2e2de","#e5c4bd","#cc8a7a","#b24f38","#a53217"],stops:["#384903","#9ca481","#ffffff","#d2998b","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 2"},"div-green-yellow-orange":{1:["#d8a78d"],2:["#aab085","#d8a78d"],3:["#aab085","#fffee6","#d8a78d"],4:["#717d44","#c6caa5","#e5c4ab","#bf6c52"],5:["#717d44","#c6caa5","#fffee6","#e5c4ab","#bf6c52"],6:["#546323","#aab085","#e3e4c6","#f2e1c8","#d8a78d","#b24f35"],7:["#546323","#aab085","#e3e4c6","#fffee6","#f2e1c8","#d8a78d","#b24f35"],8:["#546323","#8d9764","#c6caa5","#e3e4c6","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],9:["#546323","#8d9764","#c6caa5","#e3e4c6","#fffee6","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],10:["#384903","#546323","#8d9764","#c6caa5","#e3e4c6","#f2e1c8","#e5c4ab","#cc8970","#b24f35","#a53217"],stops:["#384903","#9ca375","#fffee6","#d2987f","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 3"},"div-bluegreen-orange":{1:["#d8a79c"],2:["#92aeaa","#d8a79c"],3:["#92aeaa","#ffffff","#d8a79c"],4:["#497871","#b6c9c6","#e5c4bd","#bf6d59"],5:["#497871","#b6c9c6","#ffffff","#e5c4bd","#bf6d59"],6:["#245d54","#92aeaa","#dbe4e3","#f2e2de","#d8a79c","#b24f38"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#f2e2de","#d8a79c","#b24f38"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#f2e2de","#e5c4bd","#cc8a7a","#b24f38","#a53217"],stops:["#004238","#80a19c","#ffffff","#d2998b","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 4"},"div-bluegreen-yellow-orange":{1:["#d8a78d"],2:["#92ad9b","#d8a78d"],3:["#92ad9b","#fffee6","#d8a78d"],4:["#49786a","#b6c8b4","#e5c4ab","#bf6c52"],5:["#49786a","#b6c8b4","#fffee6","#e5c4ab","#bf6c52"],6:["#245d51","#92ad9b","#dbe3cd","#f2e1c8","#d8a78d","#b24f35"],7:["#245d51","#92ad9b","#dbe3cd","#fffee6","#f2e1c8","#d8a78d","#b24f35"],8:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],9:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#fffee6","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],10:["#004238","#245d51","#6d9383","#b6c8b4","#dbe3cd","#f2e1c8","#e5c4ab","#cc8970","#b24f35","#a53217"],stops:["#004238","#80a08f","#fffee6","#d2987f","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 5"},"div-green-redpurple":{1:["#bd929b"],2:["#aab193","#bd929b"],3:["#aab193","#ffffff","#bd929b"],4:["#717d4b","#c6cbb7","#d3b6bc","#924959"],5:["#717d4b","#c6cbb7","#ffffff","#d3b6bc","#924959"],6:["#546327","#aab193","#e3e5db","#e9dbde","#bd929b","#7c2437"],7:["#546327","#aab193","#e3e5db","#ffffff","#e9dbde","#bd929b","#7c2437"],8:["#546327","#8d976f","#c6cbb7","#e3e5db","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],9:["#546327","#8d976f","#c6cbb7","#e3e5db","#ffffff","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],10:["#384903","#546327","#8d976f","#c6cbb7","#e3e5db","#e9dbde","#d3b6bc","#a86d7a","#7c2437","#660016"],stops:["#384903","#9ca481","#ffffff","#b3808b","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 6"},"div-green-yellow-redpurple":{1:["#bd918d"],2:["#aab085","#bd918d"],3:["#aab085","#fffee6","#bd918d"],4:["#717d44","#c6caa5","#d3b5ab","#924951"],5:["#717d44","#c6caa5","#fffee6","#d3b5ab","#924951"],6:["#546323","#aab085","#e3e4c6","#e9dac8","#bd918d","#7c2434"],7:["#546323","#aab085","#e3e4c6","#fffee6","#e9dac8","#bd918d","#7c2434"],8:["#546323","#8d9764","#c6caa5","#e3e4c6","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],9:["#546323","#8d9764","#c6caa5","#e3e4c6","#fffee6","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],10:["#384903","#546323","#8d9764","#c6caa5","#e3e4c6","#e9dac8","#d3b5ab","#a86d6f","#7c2434","#660016"],stops:["#384903","#9ca375","#fffee6","#b37f7e","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 7"},"div-orange-yellow-blue-light":{1:["#99a6ac"],2:["#d8a78d","#99a6ac"],3:["#d8a78d","#fffee6","#99a6ac"],4:["#bf6c52","#e5c4ab","#bbc3bf","#546b85"],5:["#bf6c52","#e5c4ab","#fffee6","#bbc3bf","#546b85"],6:["#b24f35","#d8a78d","#f2e1c8","#dde1d3","#99a6ac","#324d71"],7:["#b24f35","#d8a78d","#f2e1c8","#fffee6","#dde1d3","#99a6ac","#324d71"],8:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#dde1d3","#bbc3bf","#768898","#324d71"],9:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#fffee6","#dde1d3","#bbc3bf","#768898","#324d71"],10:["#a53217","#b24f35","#cc8970","#e5c4ab","#f2e1c8","#dde1d3","#bbc3bf","#768898","#324d71","#10305e"],stops:["#a53217","#d2987f","#fffee6","#8897a2","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 1"},"div-orange-yellow-blue-dark":{1:["#92a1a3"],2:["#c0a183","#92a1a3"],3:["#c0a183","#fffee6","#92a1a3"],4:["#956442","#d5c0a4","#b6c0b9","#496476"],5:["#956442","#d5c0a4","#fffee6","#b6c0b9","#496476"],6:["#804521","#c0a183","#eadfc5","#dbdfd0","#92a1a3","#24455f"],7:["#804521","#c0a183","#eadfc5","#fffee6","#dbdfd0","#92a1a3","#24455f"],8:["#804521","#aa8363","#d5c0a4","#eadfc5","#dbdfd0","#b6c0b9","#6d838c","#24455f"],9:["#804521","#aa8363","#d5c0a4","#eadfc5","#fffee6","#dbdfd0","#b6c0b9","#6d838c","#24455f"],10:["#6b2600","#804521","#aa8363","#d5c0a4","#eadfc5","#dbdfd0","#b6c0b9","#6d838c","#24455f","#002649"],stops:["#6b2600","#b59273","#fffee6","#809298","#002649"],tags:["light","browns","blues","diverging","colorblind-friendly"],name:"Blue and Brown 1"},"div-red-yellow-pink":{1:["#b795aa"],2:["#d39688","#b795aa"],3:["#d39688","#fffee6","#b795aa"],4:["#b6504a","#e2b9a7","#cfb8be","#874f81"],5:["#b6504a","#e2b9a7","#fffee6","#cfb8be","#874f81"],6:["#a82e2a","#d39688","#f0dbc7","#e7dbd2","#b795aa","#6f2c6d"],7:["#a82e2a","#d39688","#f0dbc7","#fffee6","#e7dbd2","#b795aa","#6f2c6d"],8:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],9:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#fffee6","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],10:["#990b0b","#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e7dbd2","#cfb8be","#9f7295","#6f2c6d","#570959"],stops:["#990b0b","#cc8579","#fffee6","#ab84a0","#570959"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 3"},"div-red-yellow-purple":{1:["#ae9db2"],2:["#d39688","#ae9db2"],3:["#d39688","#fffee6","#ae9db2"],4:["#b6504a","#e2b9a7","#c9bdc3","#775c90"],5:["#b6504a","#e2b9a7","#fffee6","#c9bdc3","#775c90"],6:["#a82e2a","#d39688","#f0dbc7","#e4ded5","#ae9db2","#5c3b7e"],7:["#a82e2a","#d39688","#f0dbc7","#fffee6","#e4ded5","#ae9db2","#5c3b7e"],8:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e4ded5","#c9bdc3","#927ca1","#5c3b7e"],9:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#fffee6","#e4ded5","#c9bdc3","#927ca1","#5c3b7e"],10:["#990b0b","#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e4ded5","#c9bdc3","#927ca1","#5c3b7e","#411b6d"],stops:["#990b0b","#cc8579","#fffee6","#a08daa","#411b6d"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 4"},"div-blue-green":{1:["#aab193"],2:["#99a6ba","#aab193"],3:["#99a6ba","#ffffff","#aab193"],4:["#546b8c","#bbc4d1","#c6cbb7","#717d4b"],5:["#546b8c","#bbc4d1","#ffffff","#c6cbb7","#717d4b"],6:["#324e75","#99a6ba","#dde1e8","#e3e5db","#aab193","#546327"],7:["#324e75","#99a6ba","#dde1e8","#ffffff","#e3e5db","#aab193","#546327"],8:["#324e75","#7689a3","#bbc4d1","#dde1e8","#e3e5db","#c6cbb7","#8d976f","#546327"],9:["#324e75","#7689a3","#bbc4d1","#dde1e8","#ffffff","#e3e5db","#c6cbb7","#8d976f","#546327"],10:["#10305e","#324e75","#7689a3","#bbc4d1","#dde1e8","#e3e5db","#c6cbb7","#8d976f","#546327","#384903"],stops:["#10305e","#8898af","#ffffff","#9ca481","#384903"],tags:["light","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 1"},"div-red-blue":{1:["#99a6ba"],2:["#d39696","#99a6ba"],3:["#d39696","#ffffff","#99a6ba"],4:["#b65151","#e2b9b9","#bbc4d1","#546b8c"],5:["#b65151","#e2b9b9","#ffffff","#bbc4d1","#546b8c"],6:["#a82e2e","#d39696","#f0dcdc","#dde1e8","#99a6ba","#324e75"],7:["#a82e2e","#d39696","#f0dcdc","#ffffff","#dde1e8","#99a6ba","#324e75"],8:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#dde1e8","#bbc4d1","#7689a3","#324e75"],9:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#ffffff","#dde1e8","#bbc4d1","#7689a3","#324e75"],10:["#990b0b","#a82e2e","#c57474","#e2b9b9","#f0dcdc","#dde1e8","#bbc4d1","#7689a3","#324e75","#10305e"],stops:["#990b0b","#cc8585","#ffffff","#8898af","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 2"},"div-bluegreen-purple":{1:["#ae9dc0"],2:["#92aeaa","#ae9dc0"],3:["#92aeaa","#ffffff","#ae9dc0"],4:["#497871","#b6c9c6","#c9bed5","#775c97"],5:["#497871","#b6c9c6","#ffffff","#c9bed5","#775c97"],6:["#245d54","#92aeaa","#dbe4e3","#e4deea","#ae9dc0","#5c3c82"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#e4deea","#ae9dc0","#5c3c82"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#e4deea","#c9bed5","#927dac","#5c3c82"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#e4deea","#c9bed5","#927dac","#5c3c82"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#e4deea","#c9bed5","#927dac","#5c3c82","#411b6d"],stops:["#004238","#80a19c","#ffffff","#a08db6","#411b6d"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 1"},"div-redpurple-blue":{1:["#99a6ba"],2:["#bd929b","#99a6ba"],3:["#bd929b","#ffffff","#99a6ba"],4:["#924959","#d3b6bc","#bbc4d1","#546b8c"],5:["#924959","#d3b6bc","#ffffff","#bbc4d1","#546b8c"],6:["#7c2437","#bd929b","#e9dbde","#dde1e8","#99a6ba","#324e75"],7:["#7c2437","#bd929b","#e9dbde","#ffffff","#dde1e8","#99a6ba","#324e75"],8:["#7c2437","#a86d7a","#d3b6bc","#e9dbde","#dde1e8","#bbc4d1","#7689a3","#324e75"],9:["#7c2437","#a86d7a","#d3b6bc","#e9dbde","#ffffff","#dde1e8","#bbc4d1","#7689a3","#324e75"],10:["#660016","#7c2437","#a86d7a","#d3b6bc","#e9dbde","#dde1e8","#bbc4d1","#7689a3","#324e75","#10305e"],stops:["#660016","#b3808b","#ffffff","#8898af","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 3"},"div-orange-blue":{1:["#99a6ba"],2:["#d8a79c","#99a6ba"],3:["#d8a79c","#ffffff","#99a6ba"],4:["#bf6d59","#e5c4bd","#bbc4d1","#546b8c"],5:["#bf6d59","#e5c4bd","#ffffff","#bbc4d1","#546b8c"],6:["#b24f38","#d8a79c","#f2e2de","#dde1e8","#99a6ba","#324e75"],7:["#b24f38","#d8a79c","#f2e2de","#ffffff","#dde1e8","#99a6ba","#324e75"],8:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#dde1e8","#bbc4d1","#7689a3","#324e75"],9:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#ffffff","#dde1e8","#bbc4d1","#7689a3","#324e75"],10:["#a53217","#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#dde1e8","#bbc4d1","#7689a3","#324e75","#10305e"],stops:["#a53217","#d2998b","#ffffff","#8898af","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 4"},"div-green-pink":{1:["#b796b8"],2:["#aab193","#b796b8"],3:["#aab193","#ffffff","#b796b8"],4:["#717d4b","#c6cbb7","#cfb9d0","#874f88"],5:["#717d4b","#c6cbb7","#ffffff","#cfb9d0","#874f88"],6:["#546327","#aab193","#e3e5db","#e7dce7","#b796b8","#6f2c71"],7:["#546327","#aab193","#e3e5db","#ffffff","#e7dce7","#b796b8","#6f2c71"],8:["#546327","#8d976f","#c6cbb7","#e3e5db","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],9:["#546327","#8d976f","#c6cbb7","#e3e5db","#ffffff","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],10:["#384903","#546327","#8d976f","#c6cbb7","#e3e5db","#e7dce7","#cfb9d0","#9f72a0","#6f2c71","#570959"],stops:["#384903","#9ca481","#ffffff","#ab84ac","#570959"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 2"},"div-red-green":{1:["#aab193"],2:["#d39696","#aab193"],3:["#d39696","#ffffff","#aab193"],4:["#b65151","#e2b9b9","#c6cbb7","#717d4b"],5:["#b65151","#e2b9b9","#ffffff","#c6cbb7","#717d4b"],6:["#a82e2e","#d39696","#f0dcdc","#e3e5db","#aab193","#546327"],7:["#a82e2e","#d39696","#f0dcdc","#ffffff","#e3e5db","#aab193","#546327"],8:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#e3e5db","#c6cbb7","#8d976f","#546327"],9:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#ffffff","#e3e5db","#c6cbb7","#8d976f","#546327"],10:["#990b0b","#a82e2e","#c57474","#e2b9b9","#f0dcdc","#e3e5db","#c6cbb7","#8d976f","#546327","#384903"],stops:["#990b0b","#cc8585","#ffffff","#9ca481","#384903"],tags:["light","reds","greens","diverging"],name:"Red and Green 8"},"div-bluegreen-pink":{1:["#b796b8"],2:["#92aeaa","#b796b8"],3:["#92aeaa","#ffffff","#b796b8"],4:["#497871","#b6c9c6","#cfb9d0","#874f88"],5:["#497871","#b6c9c6","#ffffff","#cfb9d0","#874f88"],6:["#245d54","#92aeaa","#dbe4e3","#e7dce7","#b796b8","#6f2c71"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#e7dce7","#b796b8","#6f2c71"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#e7dce7","#cfb9d0","#9f72a0","#6f2c71","#570959"],stops:["#004238","#80a19c","#ffffff","#ab84ac","#570959"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 3"},"div-orange-purple":{1:["#ae9dc0"],2:["#d8a79c","#ae9dc0"],3:["#d8a79c","#ffffff","#ae9dc0"],4:["#bf6d59","#e5c4bd","#c9bed5","#775c97"],5:["#bf6d59","#e5c4bd","#ffffff","#c9bed5","#775c97"],6:["#b24f38","#d8a79c","#f2e2de","#e4deea","#ae9dc0","#5c3c82"],7:["#b24f38","#d8a79c","#f2e2de","#ffffff","#e4deea","#ae9dc0","#5c3c82"],8:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e4deea","#c9bed5","#927dac","#5c3c82"],9:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#ffffff","#e4deea","#c9bed5","#927dac","#5c3c82"],10:["#a53217","#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e4deea","#c9bed5","#927dac","#5c3c82","#411b6d"],stops:["#a53217","#d2998b","#ffffff","#a08db6","#411b6d"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 5"},"div-orange-gray-blue":{1:["#4f847c"],2:["#8a6a36","#4f847c"],3:["#8a6a36","#333333","#4f847c"],4:["#c58e37","#6d5835","#466964","#62b9ac"],5:["#c58e37","#6d5835","#333333","#466964","#62b9ac"],6:["#e2a138","#8a6a36","#504534","#3c4e4b","#4f847c","#6cd4c5"],7:["#e2a138","#8a6a36","#504534","#333333","#3c4e4b","#4f847c","#6cd4c5"],8:["#e2a138","#a87c36","#6d5835","#504534","#3c4e4b","#466964","#599e94","#6cd4c5"],9:["#e2a138","#a87c36","#6d5835","#504534","#333333","#3c4e4b","#466964","#599e94","#6cd4c5"],10:["#ffb339","#e2a138","#a87c36","#6d5835","#504534","#3c4e4b","#466964","#599e94","#6cd4c5","#75efdd"],stops:["#ffb339","#997336","#333333","#549188","#75efdd"],tags:["dark","yellows","blues","diverging","bright","colorblind-friendly"],name:"Blue and Orange 1"},"div-yellow-gray-purple":{1:["#826288"],2:["#8a8356","#826288"],3:["#8a8356","#333333","#826288"],4:["#c5b86e","#6d684a","#68526c","#b681c0"],5:["#c5b86e","#6d684a","#333333","#68526c","#b681c0"],6:["#e2d279","#8a8356","#504e3f","#4d434f","#826288","#d190dd"],7:["#e2d279","#8a8356","#504e3f","#333333","#4d434f","#826288","#d190dd"],8:["#e2d279","#a89d62","#6d684a","#504e3f","#4d434f","#68526c","#9c71a4","#d190dd"],9:["#e2d279","#a89d62","#6d684a","#504e3f","#333333","#4d434f","#68526c","#9c71a4","#d190dd"],10:["#ffed85","#e2d279","#a89d62","#6d684a","#504e3f","#4d434f","#68526c","#9c71a4","#d190dd","#eba0f9"],stops:["#ffed85","#99905c","#333333","#8f6a96","#eba0f9"],tags:["dark","purples","diverging","bright","colorblind-friendly"],name:"Purple and Yellow 1"},"div-red-gray-blue":{1:["#4f847c"],2:["#8a5757","#4f847c"],3:["#8a5757","#333333","#4f847c"],4:["#c57070","#6d4b4b","#466964","#62b9ac"],5:["#c57070","#6d4b4b","#333333","#466964","#62b9ac"],6:["#e27c7c","#8a5757","#503f3f","#3c4e4b","#4f847c","#6cd4c5"],7:["#e27c7c","#8a5757","#503f3f","#333333","#3c4e4b","#4f847c","#6cd4c5"],8:["#e27c7c","#a86464","#6d4b4b","#503f3f","#3c4e4b","#466964","#599e94","#6cd4c5"],9:["#e27c7c","#a86464","#6d4b4b","#503f3f","#333333","#3c4e4b","#466964","#599e94","#6cd4c5"],10:["#ff8888","#e27c7c","#a86464","#6d4b4b","#503f3f","#3c4e4b","#466964","#599e94","#6cd4c5","#75efdd"],stops:["#ff8888","#995e5e","#333333","#549188","#75efdd"],tags:["dark","pinks","blues","diverging","colorblind-friendly"],name:"Blue and Red 5"},"div-green-gray-purple":{1:["#826288"],2:["#598459","#826288"],3:["#598459","#333333","#826288"],4:["#72b972","#4c694c","#68526c","#b681c0"],5:["#72b972","#4c694c","#333333","#68526c","#b681c0"],6:["#7ed47e","#598459","#404e40","#4d434f","#826288","#d190dd"],7:["#7ed47e","#598459","#404e40","#333333","#4d434f","#826288","#d190dd"],8:["#7ed47e","#659e65","#4c694c","#404e40","#4d434f","#68526c","#9c71a4","#d190dd"],9:["#7ed47e","#659e65","#4c694c","#404e40","#333333","#4d434f","#68526c","#9c71a4","#d190dd"],10:["#8bef8b","#7ed47e","#659e65","#4c694c","#404e40","#4d434f","#68526c","#9c71a4","#d190dd","#eba0f9"],stops:["#8bef8b","#5f915f","#333333","#8f6a96","#eba0f9"],tags:["dark","greens","purples","diverging","bright","colorblind-friendly"],name:"Purple and Green 4"},"div-blue-yellow-red-bright":{1:["#ead98b"],2:["#954151","#1d4e89"],3:["#954151","#ead98b","#1d4e89"],4:["#954151","#ead98b","#9aacae","#1d4e89"],5:["#954151","#db9793","#ead98b","#7295bf","#1d4e89"],6:["#954151","#db9793","#ead98b","#c2c29c","#7295bf","#1d4e89"],7:["#954151","#ba6f75","#db9793","#ead98b","#9aacae","#7295bf","#1d4e89"],8:["#954151","#ba6f75","#db9793","#ead98b","#c2c29c","#9aacae","#7295bf","#1d4e89"],9:["#954151","#ba6f75","#db9793","#deba87","#ead98b","#c2c29c","#9aacae","#7295bf","#1d4e89"],10:["#954151","#ba6f75","#db9793","#deba87","#ead98b","#c2c29c","#9aacae","#7295bf","#4872a4","#1d4e89"],stops:["#954151","#db9793","#ead98b","#7295bf","#1d4e89"],tags:["reds","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Red 6"},"div-green-gray-bright":{1:["#dae6d5"],2:["#757172","#5d7a06"],3:["#757172","#dae6d5","#5d7a06"],4:["#757172","#bcb8b4","#9ebb51","#5d7a06"],5:["#757172","#bcb8b4","#dae6d5","#9ebb51","#5d7a06"],6:["#757172","#a5a19e","#bcb8b4","#bfdc76","#9ebb51","#5d7a06"],7:["#757172","#a5a19e","#bcb8b4","#dae6d5","#bfdc76","#9ebb51","#5d7a06"],8:["#757172","#a5a19e","#bcb8b4","#d4d0ca","#dae6d5","#bfdc76","#9ebb51","#5d7a06"],9:["#757172","#a5a19e","#bcb8b4","#d4d0ca","#dae6d5","#bfdc76","#9ebb51","#7e9b2b","#5d7a06"],10:["#757172","#8d8988","#a5a19e","#bcb8b4","#d4d0ca","#dae6d5","#bfdc76","#9ebb51","#7e9b2b","#5d7a06"],stops:["#757172","#bcb8b4","#dae6d5","#9ebb51","#5d7a06"],tags:["light","grays","greens","bright","diverging","colorblind-friendly"],name:"Green and Gray 1"},"div-red-green-bright":{1:["#dedad2"],2:["#54bebe","#c80064"],3:["#54bebe","#dedad2","#c80064"],4:["#54bebe","#98d1d1","#df979e","#c80064"],5:["#54bebe","#98d1d1","#dedad2","#df979e","#c80064"],6:["#54bebe","#98d1d1","#dedad2","#e4bcad","#df979e","#c80064"],7:["#54bebe","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#c80064"],8:["#54bebe","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#c80064"],9:["#54bebe","#76c8c8","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#c80064"],10:["#54bebe","#76c8c8","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#d03277","#c80064"],stops:["#54bebe","#98d1d1","#dedad2","#df979e","#c80064"],tags:["light","blues","pinks","bright","diverging","colorblind-friendly"],name:"Pink and Blue 1"},"div-red-blue-bright":{1:["#c5c8d4"],2:["#4d7799","#b5515b"],3:["#4d7799","#c5c8d4","#b5515b"],4:["#4d7799","#7fa4c4","#d48e95","#b5515b"],5:["#4d7799","#7fa4c4","#c5c8d4","#d48e95","#b5515b"],6:["#4d7799","#7fa4c4","#98bbd9","#c5c8d4","#d48e95","#b5515b"],7:["#4d7799","#7fa4c4","#98bbd9","#c5c8d4","#e3adb2","#d48e95","#b5515b"],8:["#4d7799","#7fa4c4","#98bbd9","#c5c8d4","#f2cbcf","#e3adb2","#d48e95","#b5515b"],9:["#4d7799","#668eae","#7fa4c4","#98bbd9","#c5c8d4","#f2cbcf","#e3adb2","#d48e95","#b5515b"],10:["#4d7799","#668eae","#7fa4c4","#98bbd9","#c5c8d4","#f2cbcf","#e3adb2","#d48e95","#c46f78","#b5515b"],stops:["#4d7799","#7fa4c4","#c5c8d4","#d48e95","#b5515b"],tags:["light","blues","reds","diverging","colorblind-friendly"],name:"Blue and Red 7"},"div-orange-gray-bright":{1:["#d5cbcb"],2:["#6d717a","#a65a2c"],3:["#6d717a","#d5cbcb","#a65a2c"],4:["#6d717a","#a2a6b1","#db9167","#a65a2c"],5:["#6d717a","#a2a6b1","#d5cbcb","#db9167","#a65a2c"],6:["#6d717a","#a2a6b1","#d5cbcb","#e2b49a","#db9167","#a65a2c"],7:["#6d717a","#a2a6b1","#bcc1cc","#d5cbcb","#e2b49a","#db9167","#a65a2c"],8:["#6d717a","#a2a6b1","#bcc1cc","#d5cbcb","#edd5ca","#e2b49a","#db9167","#a65a2c"],9:["#6d717a","#878c95","#a2a6b1","#bcc1cc","#d5cbcb","#edd5ca","#e2b49a","#db9167","#a65a2c"],10:["#6d717a","#878c95","#a2a6b1","#bcc1cc","#d5cbcb","#edd5ca","#e2b49a","#db9167","#cc7441","#a65a2c"],stops:["#6d717a","#a2a6b1","#d5cbcb","#db9167","#a65a2c"],tags:["light","grays","browns","oranges","diverging","colorblind-friendly"],name:"Orange and Gray 1"},"div-blue-orange-bright":{1:["#d6cdcd"],2:["#bf5b1d","#547a99"],3:["#bf5b1d","#d6cdcd","#547a99"],4:["#bf5b1d","#e48043","#84a7c4","#547a99"],5:["#bf5b1d","#e48043","#d6cdcd","#84a7c4","#547a99"],6:["#bf5b1d","#e48043","#eb9b6a","#d6cdcd","#84a7c4","#547a99"],7:["#bf5b1d","#e48043","#eb9b6a","#d6cdcd","#9cbdd9","#84a7c4","#547a99"],8:["#bf5b1d","#d26d30","#e48043","#eb9b6a","#d6cdcd","#9cbdd9","#84a7c4","#547a99"],9:["#bf5b1d","#d26d30","#e48043","#eb9b6a","#d6cdcd","#9cbdd9","#84a7c4","#6c90ae","#547a99"],10:["#bf5b1d","#d26d30","#e48043","#eb9b6a","#f2b591","#d6cdcd","#9cbdd9","#84a7c4","#6c90ae","#547a99"],stops:["#bf5b1d","#e48043","#d6cdcd","#84a7c4","#547a99"],tags:["light","blues","oranges","diverging","colorblind-friendly"],name:"Blue and Orange 2"},"div-blue-lightgreen-bright":{1:["#99b9c3"],2:["#dbf2e3","#364187"],3:["#dbf2e3","#99b9c3","#364187"],4:["#c5ead4","#99b9c3","#6f72b2","#364187"],5:["#dbf2e3","#c5ead4","#99b9c3","#6f72b2","#364187"],6:["#dbf2e3","#c5ead4","#99b9c3","#a7a3dc","#6f72b2","#364187"],7:["#dbf2e3","#c5ead4","#98d9b5","#99b9c3","#a7a3dc","#6f72b2","#364187"],8:["#dbf2e3","#c5ead4","#98d9b5","#99b9c3","#a7a3dc","#8b8bc7","#6f72b2","#364187"],9:["#dbf2e3","#c5ead4","#aee1c4","#98d9b5","#99b9c3","#a7a3dc","#8b8bc7","#6f72b2","#364187"],10:["#dbf2e3","#c5ead4","#aee1c4","#98d9b5","#99b9c3","#a7a3dc","#8b8bc7","#6f72b2","#525a9c","#364187"],stops:["#dbf2e3","#c5ead4","#99b9c3","#6f72b2","#364187"],tags:["light","blues","purples","greens","diverging","colorblind-friendly"],name:"Green and Blue 2"},"div-red-gray-bright":{1:["#c7d3e5"],2:["#667181","#be3027"],3:["#667181","#c7d3e5","#be3027"],4:["#667181","#97a2b3","#d5857f","#be3027"],5:["#667181","#97a2b3","#ebd9d8","#d5857f","#be3027"],6:["#667181","#97a2b3","#c7d3e5","#ebd9d8","#d5857f","#be3027"],7:["#667181","#97a2b3","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#be3027"],8:["#667181","#97a2b3","#afbbcc","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#be3027"],9:["#667181","#97a2b3","#afbbcc","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#c95a53","#be3027"],10:["#667181","#7e8a9a","#97a2b3","#afbbcc","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#c95a53","#be3027"],stops:["#667181","#97a2b3","#ebd9d8","#d5857f","#be3027"],tags:["light","reds","grays","diverging","colorblind-friendly"],name:"Red and Gray 1"},"div-blue-gray-bright":{1:["#ced9d9"],2:["#78716e","#009db3"],3:["#78716e","#ced9d9","#009db3"],4:["#78716e","#a19b96","#54c5d5","#009db3"],5:["#78716e","#a19b96","#ced9d9","#54c5d5","#009db3"],6:["#78716e","#a19b96","#ced9d9","#7ed9e6","#54c5d5","#009db3"],7:["#78716e","#a19b96","#b5afaa","#ced9d9","#7ed9e6","#54c5d5","#009db3"],8:["#78716e","#a19b96","#b5afaa","#c9c4be","#ced9d9","#7ed9e6","#54c5d5","#009db3"],9:["#78716e","#a19b96","#b5afaa","#c9c4be","#ced9d9","#7ed9e6","#54c5d5","#2ab1c4","#009db3"],10:["#78716e","#8c8682","#a19b96","#b5afaa","#c9c4be","#ced9d9","#7ed9e6","#54c5d5","#2ab1c4","#009db3"],stops:["#78716e","#a19b96","#ced9d9","#54c5d5","#009db3"],tags:["light","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 1"},"div-red-lightgreen-bright":{1:["#bab0bf"],2:["#cfe6e6","#a60053"],3:["#cfe6e6","#bab0bf","#a60053"],4:["#cfe6e6","#a7d5d5","#da6aa2","#a60053"],5:["#cfe6e6","#a7d5d5","#bab0bf","#da6aa2","#a60053"],6:["#cfe6e6","#bbdddd","#a7d5d5","#da6aa2","#c94788","#a60053"],7:["#cfe6e6","#bbdddd","#a7d5d5","#bab0bf","#da6aa2","#c94788","#a60053"],8:["#cfe6e6","#bbdddd","#a7d5d5","#bab0bf","#da6aa2","#c94788","#b7236d","#a60053"],9:["#cfe6e6","#bbdddd","#a7d5d5","#93cccc","#bab0bf","#da6aa2","#c94788","#b7236d","#a60053"],10:["#cfe6e6","#bbdddd","#a7d5d5","#93cccc","#bab0bf","#eb8dbc","#da6aa2","#c94788","#b7236d","#a60053"],stops:["#cfe6e6","#a7d5d5","#bab0bf","#da6aa2","#a60053"],tags:["light","blues","pinks","diverging","colorblind-friendly"],name:"Pink and Blue 2"},"div-blue-green-bright":{1:["#dae1da"],2:["#3a8059","#434e96"],3:["#3a8059","#dae1da","#434e96"],4:["#3a8059","#85bf9b","#8a8fbf","#434e96"],5:["#3a8059","#85bf9b","#dae1da","#8a8fbf","#434e96"],6:["#3a8059","#85bf9b","#abdebc","#d1d0e7","#8a8fbf","#434e96"],7:["#3a8059","#85bf9b","#abdebc","#dae1da","#d1d0e7","#8a8fbf","#434e96"],8:["#3a8059","#85bf9b","#abdebc","#dae1da","#d1d0e7","#aeb0d3","#8a8fbf","#434e96"],9:["#3a8059","#609f7a","#85bf9b","#abdebc","#dae1da","#d1d0e7","#aeb0d3","#8a8fbf","#434e96"],10:["#3a8059","#609f7a","#85bf9b","#abdebc","#dae1da","#d1d0e7","#aeb0d3","#8a8fbf","#666faa","#434e96"],stops:["#3a8059","#85bf9b","#dae1da","#8a8fbf","#434e96"],tags:["light","blues","greens","diverging","colorblind-friendly"],name:"Green and Blue 3"},"div-purple-brown-bright":{1:["#dbd3d4"],2:["#935b44","#84628b"],3:["#935b44","#dbd3d4","#84628b"],4:["#935b44","#bc9483","#b49fbc","#84628b"],5:["#935b44","#bc9483","#dbd3d4","#b49fbc","#84628b"],6:["#935b44","#bc9483","#d9c4c2","#ccbed4","#b49fbc","#84628b"],7:["#935b44","#bc9483","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#84628b"],8:["#935b44","#bc9483","#d1b1a3","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#84628b"],9:["#935b44","#bc9483","#d1b1a3","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#9c81a3","#84628b"],10:["#935b44","#a87864","#bc9483","#d1b1a3","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#9c81a3","#84628b"],stops:["#935b44","#bc9483","#dbd3d4","#b49fbc","#84628b"],tags:["light","browns","purples","subdued","diverging","colorblind-friendly"],name:"Purple and Brown 1"},"div-blue-brown-bright":{1:["#cbd7e6"],2:["#946e43","#547a99"],3:["#946e43","#cbd7e6","#547a99"],4:["#946e43","#bd9f83","#90a9c0","#547a99"],5:["#946e43","#bd9f83","#cbd7e6","#90a9c0","#547a99"],6:["#946e43","#bd9f83","#cec7c5","#cbd7e6","#90a9c0","#547a99"],7:["#946e43","#bd9f83","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#547a99"],8:["#946e43","#bd9f83","#d1b7a3","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#547a99"],9:["#946e43","#bd9f83","#d1b7a3","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#7291ac","#547a99"],10:["#946e43","#a88663","#bd9f83","#d1b7a3","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#7291ac","#547a99"],stops:["#946e43","#bd9f83","#cbd7e6","#90a9c0","#547a99"],tags:["light","blues","browns","subdued","diverging","colorblind-friendly"],name:"Blue and Brown 2"},"div-teal-brown-bright":{1:["#d2dec8"],2:["#806c44","#448199"],3:["#806c44","#d2dec8","#448199"],4:["#806c44","#ad9d79","#8fb6bc","#448199"],5:["#806c44","#ad9d79","#d2dec8","#8fb6bc","#448199"],6:["#806c44","#ad9d79","#cbcaae","#b5d0cd","#8fb6bc","#448199"],7:["#806c44","#ad9d79","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#448199"],8:["#806c44","#ad9d79","#c4b594","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#448199"],9:["#806c44","#ad9d79","#c4b594","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#6a9baa","#448199"],10:["#806c44","#97845f","#ad9d79","#c4b594","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#6a9baa","#448199"],stops:["#806c44","#ad9d79","#d2dec8","#8fb6bc","#448199"],tags:["light","blues","browns","subdued","diverging","colorblind-friendly"],name:"Blue and Brown 3"},"div-green-teal-bright":{1:["#c8e6cf"],2:["#358c84","#5d7a06"],3:["#358c84","#c8e6cf","#5d7a06"],4:["#358c84","#73b5ae","#9cbd58","#5d7a06"],5:["#358c84","#73b5ae","#c8e6cf","#9cbd58","#5d7a06"],6:["#358c84","#73b5ae","#92cac2","#bcde81","#9cbd58","#5d7a06"],7:["#358c84","#73b5ae","#92cac2","#c8e6cf","#bcde81","#9cbd58","#5d7a06"],8:["#358c84","#73b5ae","#92cac2","#b1ded7","#c8e6cf","#bcde81","#9cbd58","#5d7a06"],9:["#358c84","#73b5ae","#92cac2","#b1ded7","#c8e6cf","#bcde81","#9cbd58","#7d9b2f","#5d7a06"],10:["#358c84","#54a199","#73b5ae","#92cac2","#b1ded7","#c8e6cf","#bcde81","#9cbd58","#7d9b2f","#5d7a06"],stops:["#358c84","#73b5ae","#c8e6cf","#9cbd58","#5d7a06"],tags:["light","blues","greens","diverging","colorblind-friendly"],name:"Green and Blue 4"},"div-lightgreen-yellow-bright":{1:["#505944"],2:["#ffea8c","#8cffdc"],3:["#ffea8c","#505944","#8cffdc"],4:["#ffea8c","#b3ab60","#5aa28b","#8cffdc"],5:["#ffea8c","#b3ab60","#505944","#5aa28b","#8cffdc"],6:["#ffea8c","#b3ab60","#666b33","#417363","#5aa28b","#8cffdc"],7:["#ffea8c","#b3ab60","#666b33","#505944","#417363","#5aa28b","#8cffdc"],8:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#417363","#5aa28b","#73d0b4","#8cffdc"],9:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#505944","#417363","#5aa28b","#73d0b4","#8cffdc"],10:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#666b33","#505944","#417363","#5aa28b","#73d0b4","#8cffdc"],stops:["#ffea8c","#b3ab60","#505944","#5aa28b","#8cffdc"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 1"},"div-lightblue-gray-bright":{1:["#757269"],2:["#faefdb","#80f3ff"],3:["#faefdb","#757269","#80f3ff"],4:["#faefdb","#a19c8f","#40b2c6","#80f3ff"],5:["#faefdb","#a19c8f","#00708d","#40b2c6","#80f3ff"],6:["#faefdb","#a19c8f","#50716e","#2091aa","#40b2c6","#80f3ff"],7:["#faefdb","#a19c8f","#50716e","#00708d","#2091aa","#40b2c6","#80f3ff"],8:["#faefdb","#cec5b5","#a19c8f","#757269","#2091aa","#40b2c6","#60d2e2","#80f3ff"],9:["#faefdb","#cec5b5","#a19c8f","#757269","#50716e","#2091aa","#40b2c6","#60d2e2","#80f3ff"],10:["#faefdb","#cec5b5","#a19c8f","#757269","#50716e","#00708d","#2091aa","#40b2c6","#60d2e2","#80f3ff"],stops:["#faefdb","#a19c8f","#00708d","#40b2c6","#80f3ff"],tags:["light","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 2"},"div-lightgreen-gray-bright":{1:["#555b61"],2:["#becdd9","#99ffc5"],3:["#becdd9","#555b61","#99ffc5"],4:["#becdd9","#788189","#64b47f","#99ffc5"],5:["#becdd9","#788189","#41543e","#64b47f","#99ffc5"],6:["#becdd9","#788189","#555b61","#4a8f5c","#64b47f","#99ffc5"],7:["#becdd9","#788189","#555b61","#2f6939","#4a8f5c","#64b47f","#99ffc5"],8:["#becdd9","#9ba7b1","#788189","#555b61","#4a8f5c","#64b47f","#7fdaa2","#99ffc5"],9:["#becdd9","#9ba7b1","#788189","#555b61","#41543e","#4a8f5c","#64b47f","#7fdaa2","#99ffc5"],10:["#becdd9","#9ba7b1","#788189","#555b61","#41543e","#2f6939","#4a8f5c","#64b47f","#7fdaa2","#99ffc5"],stops:["#becdd9","#788189","#41543e","#64b47f","#99ffc5"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 2"},"div-lightred-gray-bright":{1:["#616673"],2:["#d4d9e6","#ffbdb3"],3:["#d4d9e6","#616673","#ffbdb3"],4:["#d4d9e6","#9ba0ad","#c27166","#ffbdb3"],5:["#d4d9e6","#9ba0ad","#616673","#c27166","#ffbdb3"],6:["#9ba0ad","#7e8390","#616673","#a44b40","#c27166","#e1978d"],7:["#9ba0ad","#7e8390","#616673","#6b472d","#a44b40","#c27166","#e1978d"],8:["#d4d9e6","#b7bcc9","#9ba0ad","#7e8390","#a44b40","#c27166","#e1978d","#ffbdb3"],9:["#b7bcc9","#9ba0ad","#7e8390","#616673","#6b472d","#a44b40","#c27166","#e1978d","#ffbdb3"],10:["#d4d9e6","#b7bcc9","#9ba0ad","#7e8390","#616673","#6b472d","#a44b40","#c27166","#e1978d","#ffbdb3"],stops:["#d4d9e6","#9ba0ad","#616673","#c27166","#ffbdb3"],tags:["dark","reds","grays","diverging","subdued","colorblind-friendly"],name:"Red and Gray 2"},"div-lightmagenta-gray-bright":{1:["#594154"],2:["#faefdb","#ff99ff"],3:["#faefdb","#594154","#ff99ff"],4:["#faefdb","#a7a194","#b650b6","#ff99ff"],5:["#faefdb","#a7a194","#594154","#b650b6","#ff99ff"],6:["#faefdb","#a7a194","#54534d","#922c91","#b650b6","#ff99ff"],7:["#faefdb","#a7a194","#54534d","#594154","#922c91","#b650b6","#ff99ff"],8:["#faefdb","#d1c8b8","#a7a194","#7e7a70","#922c91","#b650b6","#db75da","#ff99ff"],9:["#faefdb","#d1c8b8","#a7a194","#7e7a70","#594154","#922c91","#b650b6","#db75da","#ff99ff"],10:["#faefdb","#d1c8b8","#a7a194","#7e7a70","#54534d","#594154","#922c91","#b650b6","#db75da","#ff99ff"],stops:["#faefdb","#a7a194","#594154","#b650b6","#ff99ff"],tags:["dark","purples","bright","grays","diverging","colorblind-friendly"],name:"Purple and Gray 1"},"div-yellow-green-bright":{1:["#8fa17b"],2:["#38524d","#ffec99"],3:["#38524d","#8fa17b","#ffec99"],4:["#38524d","#4a7c6e","#ccbe6a","#ffec99"],5:["#38524d","#4a7c6e","#8fa17b","#ccbe6a","#ffec99"],6:["#38524d","#41675e","#53917f","#b3a752","#ccbe6a","#ffec99"],7:["#38524d","#41675e","#53917f","#8fa17b","#b3a752","#ccbe6a","#ffec99"],8:["#38524d","#41675e","#4a7c6e","#53917f","#b3a752","#ccbe6a","#e6d581","#ffec99"],9:["#38524d","#41675e","#4a7c6e","#53917f","#8fa17b","#b3a752","#ccbe6a","#e6d581","#ffec99"],10:["#38524d","#41675e","#4a7c6e","#53917f","#5ca68f","#8fa17b","#b3a752","#ccbe6a","#e6d581","#ffec99"],stops:["#38524d","#4a7c6e","#8fa17b","#ccbe6a","#ffec99"],tags:["dark","yellows","greens","diverging","colorblind-friendly"],name:"Green and Yellow 1"},"div-lightblue-yellow-bright":{1:["#4b595e"],2:["#ffea8c","#aadbff"],3:["#ffea8c","#4b595e","#aadbff"],4:["#ffea8c","#b3ab60","#6693c8","#aadbff"],5:["#ffea8c","#b3ab60","#4b595e","#6693c8","#aadbff"],6:["#ffea8c","#b3ab60","#8c8b49","#446fad","#6693c8","#aadbff"],7:["#ffea8c","#b3ab60","#8c8b49","#4b595e","#446fad","#6693c8","#aadbff"],8:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#446fad","#6693c8","#88b7e4","#aadbff"],9:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#4b595e","#446fad","#6693c8","#88b7e4","#aadbff"],10:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#666b33","#4b595e","#446fad","#6693c8","#88b7e4","#aadbff"],stops:["#ffea8c","#b3ab60","#4b595e","#6693c8","#aadbff"],tags:["dark","yellows","blues","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 2"},"div-green-darkgray-bright":{1:["#4bb375"],2:["#4a4e54","#d9ffe9"],3:["#4a4e54","#4bb375","#d9ffe9"],4:["#4a4e54","#636a71","#92d9af","#d9ffe9"],5:["#4a4e54","#636a71","#4bb375","#92d9af","#d9ffe9"],6:["#575c63","#636a71","#6c8a83","#6fc692","#92d9af","#d9ffe9"],7:["#575c63","#636a71","#707880","#4bb375","#6fc692","#92d9af","#d9ffe9"],8:["#575c63","#636a71","#707880","#6c8a83","#6fc692","#92d9af","#b6eccc","#d9ffe9"],9:["#575c63","#636a71","#707880","#6c8a83","#4bb375","#6fc692","#92d9af","#b6eccc","#d9ffe9"],10:["#4a4e54","#575c63","#636a71","#707880","#6c8a83","#4bb375","#6fc692","#92d9af","#b6eccc","#d9ffe9"],stops:["#4a4e54","#636a71","#4bb375","#92d9af","#d9ffe9"],tags:["dark","grays","greens","diverging","colorblind-friendly"],name:"Green and Gray 3"},"div-brbg":{1:["#d8b365"],2:["#d8b365","#5ab4ac"],3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],stops:["rgba(166, 97, 26, 1)","rgba(223, 194, 125, 1)","rgba(245, 245, 245, 1)","rgba(128, 205, 193, 1)","rgba(1, 133, 113, 1)"],tags:["light","browns","greens","diverging","colorblind-friendly"],name:"Green and Brown 1"},"div-piyg":{1:["#e9a3c9"],2:["#e9a3c9","#a1d76a"],3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],stops:["rgba(208, 28, 139, 1)","rgba(241, 182, 218, 1)","rgba(247, 247, 247, 1)","rgba(184, 225, 134, 1)","rgba(77, 172, 38, 1)"],tags:["light","pinks","bright","greens","diverging","colorblind-friendly"],name:"Green and Pink 1"},"div-prgn":{1:["#af8dc3"],2:["#af8dc3","#7fbf7b"],3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],stops:["rgba(123, 50, 148, 1)","rgba(194, 165, 207, 1)","rgba(247, 247, 247, 1)","rgba(166, 219, 160, 1)","rgba(0, 136, 55, 1)"],tags:["light","purples","greens","bright","diverging","colorblind-friendly"],name:"Purple and Green 5"},"div-puor":{1:["#f1a340"],2:["#f1a340","#998ec3"],3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],stops:["rgba(230, 97, 1, 1)","rgba(253, 184, 99, 1)","rgba(247, 247, 247, 1)","rgba(178, 171, 210, 1)","rgba(94, 60, 153, 1)"],tags:["light","browns","purples","oranges","diverging","colorblind-friendly"],name:"Purple and Brown 2"},"div-rdbu":{1:["#ef8a62"],2:["#ef8a62","#67a9cf"],3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],stops:["rgba(202, 0, 32, 1)","rgba(244, 165, 130, 1)","rgba(247, 247, 247, 1)","rgba(146, 197, 222, 1)","rgba(5, 113, 176, 1)"],tags:["light","reds","blues","diverging","bright","colorblind-friendly"],name:"Blue and Red 8"},"div-rdgy":{1:["#ef8a62"],2:["#ef8a62","#999999"],3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],stops:["rgba(202, 0, 32, 1)","rgba(244, 165, 130, 1)","rgba(255, 255, 255, 1)","rgba(186, 186, 186, 1)","rgba(64, 64, 64, 1)"],tags:["light","grays","reds","diverging","colorblind-friendly"],name:"Red and Gray 3"},"div-rdylbu":{1:["#fc8d59"],2:["#fc8d59","#91bfdb"],3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],stops:["rgba(215, 25, 28, 1)","rgba(253, 174, 97, 1)","rgba(255, 255, 191, 1)","rgba(171, 217, 233, 1)","rgba(44, 123, 182, 1)"],tags:["light","blues","reds","oranges","diverging","bright","colorblind-friendly"],name:"Blue and Red 9"},"div-rdylgn":{1:["#fc8d59"],2:["#fc8d59","#91cf60"],3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],stops:["rgba(215, 25, 28, 1)","rgba(253, 174, 97, 1)","rgba(255, 255, 191, 1)","rgba(166, 217, 106, 1)","rgba(26, 150, 65, 1)"],tags:["light","reds","bright","greens","diverging"],name:"Red and Green 9"},"div-spectral":{1:["#fc8d59"],2:["#fc8d59","#99d594"],3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],stops:["rgba(215, 25, 28, 1)","rgba(253, 174, 97, 1)","rgba(255, 255, 191, 1)","rgba(171, 221, 164, 1)","rgba(43, 131, 186, 1)"],tags:["light","reds","oranges","yellows","blues","greens","bright","diverging"],name:"Blue and Red 10"},"div-yellow-orange-purple-bright":{1:["#ffb400"],2:["#ffb400","#9080ff"],3:["#ffb400","#363445","#9080ff"],4:["#ffb400","#a57c1b","#5e569b","#9080ff"],5:["#ffb400","#a57c1b","#363445","#5e569b","#9080ff"],6:["#ffb400","#a57c1b","#786028","#48446e","#5e569b","#9080ff"],7:["#ffb400","#a57c1b","#786028","#363445","#48446e","#5e569b","#9080ff"],8:["#ffb400","#d2980d","#a57c1b","#786028","#363445","#48446e","#5e569b","#9080ff"],9:["#ffb400","#d2980d","#a57c1b","#786028","#363445","#48446e","#5e569b","#776bcd","#9080ff"],10:["#ffb400","#d2980d","#a57c1b","#786028","#454034","#363445","#48446e","#5e569b","#776bcd","#9080ff"],stops:["#ffb400","#a57c1b","#363445","#5e569b","#9080ff"],tags:["dark","yellows","oranges","purples","bright","diverging","colorblind-friendly"],name:"Purple and Orange 2"},"div-yellow-blue-bright-1":{1:["#ffc700"],2:["#ffc700","#6ca0ff"],3:["#ffc700","#343a45","#6ca0ff"],4:["#ffc700","#a4861c","#4c689b","#6ca0ff"],5:["#ffc700","#a4861c","#343a45","#4c689b","#6ca0ff"],6:["#ffc700","#a4861c","#77662a","#3c4c69","#4c689b","#6ca0ff"],7:["#ffc700","#a4861c","#77662a","#343a45","#3c4c69","#4c689b","#6ca0ff"],8:["#ffc700","#d2a60e","#a4861c","#77662a","#343a45","#3c4c69","#4c689b","#6ca0ff"],9:["#ffc700","#d2a60e","#a4861c","#77662a","#343a45","#3c4c69","#4c689b","#5c84cd","#6ca0ff"],10:["#ffc700","#d2a60e","#a4861c","#77662a","#4a4538","#343a45","#3c4c69","#4c689b","#5c84cd","#6ca0ff"],stops:["#ffc700","#a4861c","#343a45","#4c689b","#6ca0ff"],tags:["dark","yellows","blues","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 6"},"div-yellow-blue-bright-2":{1:["#ffda00"],2:["#ffda00","#48c0ff"],3:["#ffda00","#343f45","#48c0ff"],4:["#ffda00","#a4901c","#3b799b","#48c0ff"],5:["#ffda00","#a4901c","#343f45","#3b799b","#48c0ff"],6:["#ffda00","#a4901c","#776b2a","#345669","#3b799b","#48c0ff"],7:["#ffda00","#a4901c","#776b2a","#343f45","#345669","#3b799b","#48c0ff"],8:["#ffda00","#d2b50e","#a4901c","#776b2a","#343f45","#345669","#3b799b","#48c0ff"],9:["#ffda00","#d2b50e","#a4901c","#776b2a","#343f45","#345669","#3b799b","#419dcd","#48c0ff"],10:["#ffda00","#d2b50e","#a4901c","#776b2a","#4a4738","#343f45","#345669","#3b799b","#419dcd","#48c0ff"],stops:["#ffda00","#a4901c","#343f45","#3b799b","#48c0ff"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 7"},"div-yellow-blue-bright":{1:["#ffff00"],2:["#ffff00","#00ffff"],3:["#ffff00","#344545","#00ffff"],4:["#ffff00","#a4a41c","#219797","#00ffff"],5:["#ffff00","#a4a41c","#344545","#219797","#00ffff"],6:["#ffff00","#a4a41c","#77772a","#316363","#219797","#00ffff"],7:["#ffff00","#a4a41c","#77772a","#344545","#316363","#219797","#00ffff"],8:["#ffff00","#d2d20e","#a4a41c","#77772a","#344545","#316363","#219797","#00ffff"],9:["#ffff00","#d2d20e","#a4a41c","#77772a","#344545","#316363","#219797","#10cbcb","#00ffff"],10:["#ffff00","#d2d20e","#a4a41c","#77772a","#4f4f3c","#344545","#316363","#219797","#10cbcb","#00ffff"],stops:["#ffff00","#a4a41c","#344545","#219797","#00ffff"],tags:["dark","yellows","greens","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 8"},"div-yellow-blue-bright-3":{1:["#e8ff00"],2:["#e8ff00","#4a99ff"],3:["#e8ff00","#3b434f","#4a99ff"],4:["#e8ff00","#97a41c","#3f69a2","#4a99ff"],5:["#e8ff00","#97a41c","#3b434f","#3f69a2","#4a99ff"],6:["#e8ff00","#97a41c","#6f772a","#395173","#3f69a2","#4a99ff"],7:["#e8ff00","#97a41c","#6f772a","#3b434f","#395173","#3f69a2","#4a99ff"],8:["#e8ff00","#c0d20e","#97a41c","#6f772a","#3b434f","#395173","#3f69a2","#4a99ff"],9:["#e8ff00","#c0d20e","#97a41c","#6f772a","#3b434f","#395173","#3f69a2","#4481d0","#4a99ff"],10:["#e8ff00","#c0d20e","#97a41c","#6f772a","#50523e","#3b434f","#395173","#3f69a2","#4481d0","#4a99ff"],stops:["#e8ff00","#97a41c","#3b434f","#3f69a2","#4a99ff"],tags:["dark","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 9"},"div-yellow-purple-bright-1":{1:["#e8ff00"],2:["#e8ff00","#8c80ff"],3:["#e8ff00","#413f54","#8c80ff"],4:["#e8ff00","#97a41c","#655dbb","#8c80ff"],5:["#e8ff00","#97a41c","#413f54","#655dbb","#8c80ff"],6:["#e8ff00","#97a41c","#6f772a","#524b99","#655dbb","#8c80ff"],7:["#e8ff00","#97a41c","#6f772a","#413f54","#524b99","#655dbb","#8c80ff"],8:["#e8ff00","#c0d20e","#97a41c","#6f772a","#413f54","#524b99","#655dbb","#8c80ff"],9:["#e8ff00","#c0d20e","#97a41c","#6f772a","#413f54","#524b99","#655dbb","#796edd","#8c80ff"],10:["#e8ff00","#c0d20e","#97a41c","#6f772a","#50523e","#413f54","#524b99","#655dbb","#796edd","#8c80ff"],stops:["#e8ff00","#97a41c","#413f54","#655dbb","#8c80ff"],tags:["dark","yellows","purples","bright","diverging","colorblind-friendly"],name:"Purple and Yellow 2"},"div-yellow-purple-bright-2":{1:["#d0ff00"],2:["#d0ff00","#ac4dff"],3:["#d0ff00","#3d3345","#ac4dff"],4:["#d0ff00","#7f9717","#6f3d9c","#ac4dff"],5:["#d0ff00","#7f9717","#3d3345","#6f3d9c","#ac4dff"],6:["#d0ff00","#7f9717","#576323","#51356b","#6f3d9c","#ac4dff"],7:["#d0ff00","#7f9717","#576323","#3d3345","#51356b","#6f3d9c","#ac4dff"],8:["#d0ff00","#a8cb0c","#7f9717","#576323","#3d3345","#51356b","#6f3d9c","#ac4dff"],9:["#d0ff00","#a8cb0c","#7f9717","#576323","#3d3345","#51356b","#6f3d9c","#8e45ce","#ac4dff"],10:["#d0ff00","#a8cb0c","#7f9717","#576323","#424534","#3d3345","#51356b","#6f3d9c","#8e45ce","#ac4dff"],stops:["#d0ff00","#7f9717","#3d3345","#6f3d9c","#ac4dff"],tags:["dark","greens","purples","bright","diverging","colorblind-friendly"],name:"Purple and Yellow 3"},"div-yellow-red-bright-1":{1:["#d0ff00"],2:["#d0ff00","#fb2bff"],3:["#d0ff00","#443745","#fb2bff"],4:["#d0ff00","#7f9717","#98319b","#fb2bff"],5:["#d0ff00","#7f9717","#443745","#98319b","#fb2bff"],6:["#d0ff00","#7f9717","#576323","#673469","#98319b","#fb2bff"],7:["#d0ff00","#7f9717","#576323","#443745","#673469","#98319b","#fb2bff"],8:["#d0ff00","#a8cb0c","#7f9717","#576323","#443745","#673469","#98319b","#fb2bff"],9:["#d0ff00","#a8cb0c","#7f9717","#576323","#443745","#673469","#98319b","#ca2ecd","#fb2bff"],10:["#d0ff00","#a8cb0c","#7f9717","#576323","#424534","#443745","#673469","#98319b","#ca2ecd","#fb2bff"],stops:["#d0ff00","#7f9717","#443745","#98319b","#fb2bff"],tags:["dark","pinks","greens","purples","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 3"},"div-yellow-red-bright-2":{1:["#d0ff00"],2:["#d0ff00","#ff0099"],3:["#d0ff00","#45373f","#ff0099"],4:["#d0ff00","#7f9717","#9b236b","#ff0099"],5:["#d0ff00","#7f9717","#45373f","#9b236b","#ff0099"],6:["#d0ff00","#7f9717","#576323","#693454","#9b236b","#ff0099"],7:["#d0ff00","#7f9717","#576323","#45373f","#693454","#9b236b","#ff0099"],8:["#d0ff00","#a8cb0c","#7f9717","#576323","#45373f","#693454","#9b236b","#ff0099"],9:["#d0ff00","#a8cb0c","#7f9717","#576323","#45373f","#693454","#9b236b","#cd1182","#ff0099"],10:["#d0ff00","#a8cb0c","#7f9717","#576323","#424534","#45373f","#693454","#9b236b","#cd1182","#ff0099"],stops:["#d0ff00","#7f9717","#45373f","#9b236b","#ff0099"],tags:["dark","greens","pinks","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 4"},"div-yellow-gray-bright-1":{1:["#ffff00"],2:["#ffff00","#cccccc"],3:["#ffff00","#424038","#cccccc"],4:["#ffff00","#a4a41c","#8a8a8a","#cccccc"],5:["#ffff00","#a4a41c","#424038","#8a8a8a","#cccccc"],6:["#ffff00","#a4a41c","#77772a","#5e5e5e","#8a8a8a","#cccccc"],7:["#ffff00","#a4a41c","#77772a","#424038","#5e5e5e","#8a8a8a","#cccccc"],8:["#ffff00","#d2d20e","#a4a41c","#77772a","#424038","#5e5e5e","#8a8a8a","#cccccc"],9:["#ffff00","#d2d20e","#a4a41c","#77772a","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],10:["#ffff00","#d2d20e","#a4a41c","#77772a","#4f4f3c","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],stops:["#ffff00","#a4a41c","#424038","#8a8a8a","#cccccc"],tags:["dark","yellows","grays","bright","diverging","colorblind-friendly"],name:"Yellow and Gray 1"},"div-yellow-gray-bright-2":{1:["#ffff00"],2:["#ffff00","#aab2c8"],3:["#ffff00","#383b42","#aab2c8"],4:["#ffff00","#a4a41c","#727681","#aab2c8"],5:["#ffff00","#a4a41c","#383b42","#727681","#aab2c8"],6:["#ffff00","#a4a41c","#77772a","#50545e","#727681","#aab2c8"],7:["#ffff00","#a4a41c","#77772a","#383b42","#50545e","#727681","#aab2c8"],8:["#ffff00","#d2d20e","#a4a41c","#77772a","#383b42","#50545e","#727681","#aab2c8"],9:["#ffff00","#d2d20e","#a4a41c","#77772a","#383b42","#50545e","#727681","#9196a5","#aab2c8"],10:["#ffff00","#d2d20e","#a4a41c","#77772a","#4f4f3c","#383b42","#50545e","#727681","#9196a5","#aab2c8"],stops:["#ffff00","#a4a41c","#383b42","#727681","#aab2c8"],tags:["dark","yellows","grays","bright","diverging","colorblind-friendly"],name:"Yellow and Gray 2"},"div-yellow-gray-bright-3":{1:["#d0ff00"],2:["#d0ff00","#ccafaf"],3:["#d0ff00","#3d3434","#ccafaf"],4:["#d0ff00","#849c19","#837171","#ccafaf"],5:["#d0ff00","#849c19","#3d3434","#837171","#ccafaf"],6:["#d0ff00","#849c19","#5e6b26","#5e5151","#837171","#ccafaf"],7:["#d0ff00","#849c19","#5e6b26","#3d3434","#5e5151","#837171","#ccafaf"],8:["#d0ff00","#aace0d","#849c19","#5e6b26","#3d3434","#5e5151","#837171","#ccafaf"],9:["#d0ff00","#aace0d","#849c19","#5e6b26","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],10:["#d0ff00","#aace0d","#849c19","#5e6b26","#4a4d3a","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],stops:["#d0ff00","#849c19","#3d3434","#837171","#ccafaf"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Yellow and Gray 3"},"div-purple-green-bright-1":{1:["#c333ff"],2:["#c333ff","#00ff32"],3:["#c333ff","#37453a","#00ff32"],4:["#c333ff","#8c2db2","#179930","#00ff32"],5:["#c333ff","#8c2db2","#37453a","#179930","#00ff32"],6:["#c333ff","#8c2db2","#702a8c","#22662f","#179930","#00ff32"],7:["#c333ff","#8c2db2","#702a8c","#37453a","#22662f","#179930","#00ff32"],8:["#c333ff","#a730d9","#8c2db2","#702a8c","#37453a","#22662f","#179930","#00ff32"],9:["#c333ff","#a730d9","#8c2db2","#702a8c","#37453a","#22662f","#179930","#0bcc31","#00ff32"],10:["#c333ff","#a730d9","#8c2db2","#702a8c","#403445","#37453a","#22662f","#179930","#0bcc31","#00ff32"],stops:["#c333ff","#8c2db2","#37453a","#179930","#00ff32"],tags:["dark","purples","greens","bright","diverging","colorblind-friendly"],name:"Purple and Green 9"},"div-purple-green-bright-2":{1:["#ff00ff"],2:["#ff00ff","#beff00"],3:["#ff00ff","#414537","#beff00"],4:["#ff00ff","#b21bb2","#76961d","#beff00"],5:["#ff00ff","#b21bb2","#414537","#76961d","#beff00"],6:["#ff00ff","#b21bb2","#8c2a8c","#52612c","#76961d","#beff00"],7:["#ff00ff","#b21bb2","#8c2a8c","#414537","#52612c","#76961d","#beff00"],8:["#ff00ff","#d90ed9","#b21bb2","#8c2a8c","#414537","#52612c","#76961d","#beff00"],9:["#ff00ff","#d90ed9","#b21bb2","#8c2a8c","#414537","#52612c","#76961d","#9aca0f","#beff00"],10:["#ff00ff","#d90ed9","#b21bb2","#8c2a8c","#453445","#414537","#52612c","#76961d","#9aca0f","#beff00"],stops:["#ff00ff","#b21bb2","#414537","#76961d","#beff00"],tags:["dark","purples","pinks","greens","bright","diverging","colorblind-friendly"],name:"Green and Pink 2"},"div-pink-yellow-bright-1":{1:["#ff00cc"],2:["#ff00cc","#ffff00"],3:["#ff00cc","#453442","#ffff00"],4:["#ff00cc","#b21c97","#96961d","#ffff00"],5:["#ff00cc","#b21c97","#453442","#96961d","#ffff00"],6:["#ff00cc","#b21c97","#8c2a7c","#61612c","#96961d","#ffff00"],7:["#ff00cc","#b21c97","#8c2a7c","#453442","#61612c","#96961d","#ffff00"],8:["#ff00cc","#d90eb1","#b21c97","#8c2a7c","#453442","#61612c","#96961d","#ffff00"],9:["#ff00cc","#d90eb1","#b21c97","#8c2a7c","#453442","#61612c","#96961d","#caca0f","#ffff00"],10:["#ff00cc","#d90eb1","#b21c97","#8c2a7c","#453442","#454537","#61612c","#96961d","#caca0f","#ffff00"],stops:["#ff00cc","#b21c97","#453442","#96961d","#ffff00"],tags:["dark","pinks","yellows","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 1"},"div-pink-yellow-bright-2":{1:["#ff0099"],2:["#ff0099","#ffc800"],3:["#ff0099","#45343e","#ffc800"],4:["#ff0099","#aa1970","#92781c","#ffc800"],5:["#ff0099","#aa1970","#45343e","#92781c","#ffc800"],6:["#ff0099","#aa1970","#80265b","#5c502a","#92781c","#ffc800"],7:["#ff0099","#aa1970","#80265b","#45343e","#5c502a","#92781c","#ffc800"],8:["#ff0099","#d50d84","#aa1970","#80265b","#45343e","#5c502a","#92781c","#ffc800"],9:["#ff0099","#d50d84","#aa1970","#80265b","#45343e","#5c502a","#92781c","#c9a00e","#ffc800"],10:["#ff0099","#d50d84","#aa1970","#80265b","#45343e","#474439","#5c502a","#92781c","#c9a00e","#ffc800"],stops:["#ff0099","#aa1970","#45343e","#92781c","#ffc800"],tags:["dark","pinks","yellows","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 2"},"div-red-blue-bright-1":{1:["#ff4d6a"],2:["#ff4d6a","#23ccff"],3:["#ff4d6a","#453437","#23ccff"],4:["#ff4d6a","#a63245","#2b819b","#23ccff"],5:["#ff4d6a","#a63245","#453437","#2b819b","#23ccff"],6:["#ff4d6a","#a63245","#7a2433","#2f5b69","#2b819b","#23ccff"],7:["#ff4d6a","#a63245","#7a2433","#453437","#2f5b69","#2b819b","#23ccff"],8:["#ff4d6a","#d33f58","#a63245","#7a2433","#453437","#2f5b69","#2b819b","#23ccff"],9:["#ff4d6a","#d33f58","#a63245","#7a2433","#453437","#2f5b69","#2b819b","#27a6cd","#23ccff"],10:["#ff4d6a","#d33f58","#a63245","#7a2433","#453437","#34474f","#2f5b69","#2b819b","#27a6cd","#23ccff"],stops:["#ff4d6a","#a63245","#453437","#2b819b","#23ccff"],tags:["dark","reds","pinks","blues","bright","diverging","colorblind-friendly"],name:"Blue and Red 13"},"div-red-blue-bright-2":{1:["#ff2638"],2:["#ff2638","#1993ff"],3:["#ff2638","#403031","#1993ff"],4:["#ff2638","#a6242e","#2e6ca4","#1993ff"],5:["#ff2638","#a6242e","#403031","#2e6ca4","#1993ff"],6:["#ff2638","#a6242e","#7a2329","#395976","#2e6ca4","#1993ff"],7:["#ff2638","#a6242e","#7a2329","#403031","#395976","#2e6ca4","#1993ff"],8:["#ff2638","#d32533","#a6242e","#7a2329","#403031","#395976","#2e6ca4","#1993ff"],9:["#ff2638","#d32533","#a6242e","#7a2329","#403031","#395976","#2e6ca4","#2480d1","#1993ff"],10:["#ff2638","#d32533","#a6242e","#7a2329","#403031","#373e45","#395976","#2e6ca4","#2480d1","#1993ff"],stops:["#ff2638","#a6242e","#403031","#2e6ca4","#1993ff"],tags:["dark","reds","blues","bright","diverging","colorblind-friendly"],name:"Blue and Red 14"},"div-orange-blue-bright-3":{1:["#ff6219"],2:["#ff6219","#00ffdc"],3:["#ff6219","#3b312c","#00ffdc"],4:["#ff6219","#9c461e","#1f9787","#00ffdc"],5:["#ff6219","#9c461e","#3b312c","#1f9787","#00ffdc"],6:["#ff6219","#9c461e","#6b3820","#2e635c","#1f9787","#00ffdc"],7:["#ff6219","#9c461e","#6b3820","#3b312c","#2e635c","#1f9787","#00ffdc"],8:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#2e635c","#1f9787","#00ffdc"],9:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#2e635c","#1f9787","#0fcbb1","#00ffdc"],10:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#394745","#2e635c","#1f9787","#0fcbb1","#00ffdc"],stops:["#ff6219","#9c461e","#3b312c","#1f9787","#00ffdc"],tags:["dark","oranges","greens","blues","bright","diverging","colorblind-friendly"],name:"Blue and Orange 8"},"div-orange-blue-bright-4":{1:["#ff6219"],2:["#ff6219","#66a0ff"],3:["#ff6219","#3b312c","#66a0ff"],4:["#ff6219","#9c461e","#4c6da5","#66a0ff"],5:["#ff6219","#9c461e","#3b312c","#4c6da5","#66a0ff"],6:["#ff6219","#9c461e","#6b3820","#3f5478","#4c6da5","#66a0ff"],7:["#ff6219","#9c461e","#6b3820","#3b312c","#3f5478","#4c6da5","#66a0ff"],8:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#3f5478","#4c6da5","#66a0ff"],9:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#3f5478","#4c6da5","#5987d2","#66a0ff"],10:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#393e47","#3f5478","#4c6da5","#5987d2","#66a0ff"],stops:["#ff6219","#9c461e","#3b312c","#4c6da5","#66a0ff"],tags:["dark","oranges","blues","bright","diverging","colorblind-friendly"],name:"Blue and Orange 9"},"div-red-purple-bright":{1:["#ff5000"],2:["#ff5000","#9333ff"],3:["#ff5000","#382f2a","#9333ff"],4:["#ff5000","#9c3f15","#6c3ba4","#9333ff"],5:["#ff5000","#9c3f15","#382f2a","#6c3ba4","#9333ff"],6:["#ff5000","#9c3f15","#6b3620","#593f76","#6c3ba4","#9333ff"],7:["#ff5000","#9c3f15","#6b3620","#382f2a","#593f76","#6c3ba4","#9333ff"],8:["#ff5000","#ce470b","#9c3f15","#6b3620","#382f2a","#593f76","#6c3ba4","#9333ff"],9:["#ff5000","#ce470b","#9c3f15","#6b3620","#382f2a","#593f76","#6c3ba4","#8037d1","#9333ff"],10:["#ff5000","#ce470b","#9c3f15","#6b3620","#382f2a","#433952","#593f76","#6c3ba4","#8037d1","#9333ff"],stops:["#ff5000","#9c3f15","#382f2a","#6c3ba4","#9333ff"],tags:["dark","reds","purples","bright","diverging","colorblind-friendly"],name:"Purple and Orange 1"},"div-red-gray-bright-1":{1:["#ff1947"],2:["#ff1947","#cccccc"],3:["#ff1947","#3b2d30","#cccccc"],4:["#ff1947","#9c253d","#7f7f7f","#cccccc"],5:["#ff1947","#9c253d","#3b2d30","#7f7f7f","#cccccc"],6:["#ff1947","#9c253d","#6b2b38","#595959","#7f7f7f","#cccccc"],7:["#ff1947","#9c253d","#6b2b38","#3b2d30","#595959","#7f7f7f","#cccccc"],8:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d30","#595959","#7f7f7f","#cccccc"],9:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d30","#595959","#7f7f7f","#a6a6a6","#cccccc"],10:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d30","#414141","#595959","#7f7f7f","#a6a6a6","#cccccc"],stops:["#ff1947","#9c253d","#3b2d30","#7f7f7f","#cccccc"],tags:["dark","reds","grays","bright","diverging","colorblind-friendly"],name:"Red and Gray 4"},"div-red-gray-bright-2":{1:["#ff1947"],2:["#ff1947","#aab2c8"],3:["#ff1947","#3e3140","#aab2c8"],4:["#ff1947","#9c253d","#727681","#aab2c8"],5:["#ff1947","#9c253d","#3e3140","#727681","#aab2c8"],6:["#ff1947","#9c253d","#6b2b38","#50545e","#727681","#aab2c8"],7:["#ff1947","#9c253d","#6b2b38","#3e3140","#50545e","#727681","#aab2c8"],8:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3e3140","#50545e","#727681","#aab2c8"],9:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3e3140","#50545e","#727681","#9196a5","#aab2c8"],10:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3e3140","#3e424d","#50545e","#727681","#9196a5","#aab2c8"],stops:["#ff1947","#9c253d","#3e3140","#727681","#aab2c8"],tags:["dark","reds","grays","bright","diverging","colorblind-friendly"],name:"Red and Gray 5"},"div-red-gray-bright-3":{1:["#ff1947"],2:["#ff1947","#ccafaf"],3:["#ff1947","#3b2d35","#ccafaf"],4:["#ff1947","#9c253d","#837171","#ccafaf"],5:["#ff1947","#9c253d","#3b2d35","#837171","#ccafaf"],6:["#ff1947","#9c253d","#6b2b38","#5e5151","#837171","#ccafaf"],7:["#ff1947","#9c253d","#6b2b38","#3b2d35","#5e5151","#837171","#ccafaf"],8:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d35","#5e5151","#837171","#ccafaf"],9:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d35","#5e5151","#837171","#a79090","#ccafaf"],10:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d35","#4d3f3f","#5e5151","#837171","#a79090","#ccafaf"],stops:["#ff1947","#9c253d","#3b2d35","#837171","#ccafaf"],tags:["dark","reds","grays","bright","diverging","colorblind-friendly"],name:"Red and Gray 6"},"div-teal-yellow-bright-1":{1:["#00ffc8"],2:["#00ffc8","#ffff00"],3:["#00ffc8","#4a4a3d","#ffff00"],4:["#00ffc8","#12a585","#979724","#ffff00"],5:["#00ffc8","#12a585","#4a4a3d","#979724","#ffff00"],6:["#00ffc8","#12a585","#1b7864","#636336","#979724","#ffff00"],7:["#00ffc8","#12a585","#1b7864","#4a4a3d","#636336","#979724","#ffff00"],8:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a4a3d","#636336","#979724","#ffff00"],9:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a4a3d","#636336","#979724","#cbcb12","#ffff00"],10:["#00ffc8","#09d2a7","#12a585","#1b7864","#355951","#4a4a3d","#636336","#979724","#cbcb12","#ffff00"],stops:["#00ffc8","#12a585","#4a4a3d","#979724","#ffff00"],tags:["dark","greens","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 5"},"div-teal-yellow-bright-2":{1:["#00ffc8"],2:["#00ffc8","#ffc800"],3:["#00ffc8","#4a483d","#ffc800"],4:["#00ffc8","#12a585","#997f25","#ffc800"],5:["#00ffc8","#12a585","#4a483d","#997f25","#ffc800"],6:["#00ffc8","#12a585","#1b7864","#665b38","#997f25","#ffc800"],7:["#00ffc8","#12a585","#1b7864","#4a483d","#665b38","#997f25","#ffc800"],8:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a483d","#665b38","#997f25","#ffc800"],9:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a483d","#665b38","#997f25","#cca413","#ffc800"],10:["#00ffc8","#09d2a7","#12a585","#1b7864","#355951","#4a483d","#665b38","#997f25","#cca413","#ffc800"],stops:["#00ffc8","#12a585","#4a483d","#997f25","#ffc800"],tags:["dark","greens","oranges","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Orange 6"},"div-teal-orange-bright":{1:["#00ffc8"],2:["#00ffc8","#ff7d00"],3:["#00ffc8","#4a443d","#ff7d00"],4:["#00ffc8","#1db695","#a06022","#ff7d00"],5:["#00ffc8","#1db695","#4a443d","#a06022","#ff7d00"],6:["#00ffc8","#1db695","#2b917b","#705133","#a06022","#ff7d00"],7:["#00ffc8","#1db695","#2b917b","#4a443d","#705133","#a06022","#ff7d00"],8:["#00ffc8","#0edaae","#1db695","#2b917b","#4a443d","#705133","#a06022","#ff7d00"],9:["#00ffc8","#0edaae","#1db695","#2b917b","#4a443d","#705133","#a06022","#cf6e11","#ff7d00"],10:["#00ffc8","#0edaae","#1db695","#2b917b","#3a6d62","#4a443d","#705133","#a06022","#cf6e11","#ff7d00"],stops:["#00ffc8","#1db695","#4a443d","#a06022","#ff7d00"],tags:["dark","greens","blues","oranges","bright","diverging","colorblind-friendly"],name:"Blue and Orange 7"},"div-green-red-bright":{1:["#00ffaa"],2:["#00ffaa","#ff0000"],3:["#00ffaa","#403c35","#ff0000"],4:["#00ffaa","#17a67d","#b02626","#ff0000"],5:["#00ffaa","#17a67d","#403c35","#b02626","#ff0000"],6:["#00ffaa","#17a67d","#237a60","#783737","#b02626","#ff0000"],7:["#00ffaa","#17a67d","#237a60","#403c35","#783737","#b02626","#ff0000"],8:["#00ffaa","#0bd39a","#17a67d","#237a60","#403c35","#783737","#b02626","#ff0000"],9:["#00ffaa","#0bd39a","#17a67d","#237a60","#403c35","#783737","#b02626","#d11212","#ff0000"],10:["#00ffaa","#0bd39a","#17a67d","#237a60","#2e4d43","#403c35","#783737","#b02626","#d11212","#ff0000"],stops:["#00ffaa","#17a67d","#403c35","#b02626","#ff0000"],tags:["dark","greens","reds","bright","diverging","colorblind-friendly"],name:"Red and Green 11"},"div-green-magenta-bright":{1:["#00ff64"],2:["#00ff64","#ff00d2"],3:["#00ff64","#423940","#ff00d2"],4:["#00ff64","#17a64f","#a3248d","#ff00d2"],5:["#00ff64","#17a64f","#423940","#a3248d","#ff00d2"],6:["#00ff64","#17a64f","#237a45","#733568","#a3248d","#ff00d2"],7:["#00ff64","#17a64f","#237a45","#423940","#733568","#a3248d","#ff00d2"],8:["#00ff64","#0bd35a","#17a64f","#237a45","#423940","#733568","#a3248d","#ff00d2"],9:["#00ff64","#0bd35a","#17a64f","#237a45","#423940","#733568","#a3248d","#d112b0","#ff00d2"],10:["#00ff64","#0bd35a","#17a64f","#237a45","#31523d","#423940","#733568","#a3248d","#d112b0","#ff00d2"],stops:["#00ff64","#17a64f","#423940","#a3248d","#ff00d2"],tags:["dark","greens","purples","pinks","bright","diverging","colorblind-friendly"],name:"Purple and Green 6"},"div-green-purple-bright-1":{1:["#00ff32"],2:["#00ff32","#bf00ff"],3:["#00ff32","#403a42","#bf00ff"],4:["#00ff32","#17a633","#8b26ad","#bf00ff"],5:["#00ff32","#17a633","#403a42","#8b26ad","#bf00ff"],6:["#00ff32","#17a633","#237a33","#663675","#8b26ad","#bf00ff"],7:["#00ff32","#17a633","#237a33","#403a42","#663675","#8b26ad","#bf00ff"],8:["#00ff32","#0bd332","#17a633","#237a33","#403a42","#663675","#8b26ad","#bf00ff"],9:["#00ff32","#0bd332","#17a633","#237a33","#403a42","#663675","#8b26ad","#a713d9","#bf00ff"],10:["#00ff32","#0bd332","#17a633","#237a33","#2e4d33","#403a42","#663675","#8b26ad","#a713d9","#bf00ff"],stops:["#00ff32","#17a633","#403a42","#8b26ad","#bf00ff"],tags:["dark","greens","purples","bright","diverging","colorblind-friendly"],name:"Purple and Green 7"},"div-green-purple-bright-2":{1:["#00ff00"],2:["#00ff00","#aa80ff"],3:["#00ff00","#423f47","#aa80ff"],4:["#00ff00","#19a919","#735ba5","#aa80ff"],5:["#00ff00","#19a919","#423f47","#735ba5","#aa80ff"],6:["#00ff00","#19a919","#257d25","#584878","#735ba5","#aa80ff"],7:["#00ff00","#19a919","#257d25","#423f47","#584878","#735ba5","#aa80ff"],8:["#00ff00","#0cd40c","#19a919","#257d25","#423f47","#584878","#735ba5","#aa80ff"],9:["#00ff00","#0cd40c","#19a919","#257d25","#423f47","#584878","#735ba5","#8f6dd2","#aa80ff"],10:["#00ff00","#0cd40c","#19a919","#257d25","#325432","#423f47","#584878","#735ba5","#8f6dd2","#aa80ff"],stops:["#00ff00","#19a919","#423f47","#735ba5","#aa80ff"],tags:["dark","greens","purples","bright","diverging","colorblind-friendly"],name:"Purple and Green 8"},"div-green-blue-bright-1":{1:["#b4f000"],2:["#b4f000","#00c8ff"],3:["#b4f000","#3f4547","#00c8ff"],4:["#b4f000","#7ea018","#1385a4","#00c8ff"],5:["#b4f000","#7ea018","#3f4547","#1385a4","#00c8ff"],6:["#b4f000","#7ea018","#627723","#1d6476","#1385a4","#00c8ff"],7:["#b4f000","#7ea018","#627723","#3f4547","#1d6476","#1385a4","#00c8ff"],8:["#b4f000","#99c80c","#7ea018","#627723","#3f4547","#1d6476","#1385a4","#00c8ff"],9:["#b4f000","#99c80c","#7ea018","#627723","#3f4547","#1d6476","#1385a4","#0aa7d1","#00c8ff"],10:["#b4f000","#99c80c","#7ea018","#627723","#474f2f","#3f4547","#1d6476","#1385a4","#0aa7d1","#00c8ff"],stops:["#b4f000","#7ea018","#3f4547","#1385a4","#00c8ff"],tags:["dark","greens","blues","bright","diverging","colorblind-friendly"],name:"Green and Blue 6"},"div-green-blue-bright-2":{1:["#b4f000"],2:["#b4f000","#00ffff"],3:["#b4f000","#3f4747","#00ffff"],4:["#b4f000","#7ea018","#129e9e","#00ffff"],5:["#b4f000","#7ea018","#3f4747","#129e9e","#00ffff"],6:["#b4f000","#7ea018","#627723","#1b6e6e","#129e9e","#00ffff"],7:["#b4f000","#7ea018","#627723","#3f4747","#1b6e6e","#129e9e","#00ffff"],8:["#b4f000","#99c80c","#7ea018","#627723","#3f4747","#1b6e6e","#129e9e","#00ffff"],9:["#b4f000","#99c80c","#7ea018","#627723","#3f4747","#1b6e6e","#129e9e","#09cfcf","#00ffff"],10:["#b4f000","#99c80c","#7ea018","#627723","#474f2f","#3f4747","#1b6e6e","#129e9e","#09cfcf","#00ffff"],stops:["#b4f000","#7ea018","#3f4747","#129e9e","#00ffff"],tags:["dark","greens","blues","bright","diverging","colorblind-friendly"],name:"Green and Blue 7"},"div-green-gray-bright-1":{1:["#00ff00"],2:["#00ff00","#cccccc"],3:["#00ff00","#424038","#cccccc"],4:["#00ff00","#1dac1d","#8a8a8a","#cccccc"],5:["#00ff00","#1dac1d","#424038","#8a8a8a","#cccccc"],6:["#00ff00","#1dac1d","#2c832c","#5e5e5e","#8a8a8a","#cccccc"],7:["#00ff00","#1dac1d","#2c832c","#424038","#5e5e5e","#8a8a8a","#cccccc"],8:["#00ff00","#0fd50f","#1dac1d","#2c832c","#424038","#5e5e5e","#8a8a8a","#cccccc"],9:["#00ff00","#0fd50f","#1dac1d","#2c832c","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],10:["#00ff00","#0fd50f","#1dac1d","#2c832c","#3a593a","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],stops:["#00ff00","#1dac1d","#424038","#8a8a8a","#cccccc"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 4"},"div-green-gray-bright-2":{1:["#00ff00"],2:["#00ff00","#aab2c8"],3:["#00ff00","#383b42","#aab2c8"],4:["#00ff00","#1dac1d","#727681","#aab2c8"],5:["#00ff00","#1dac1d","#383b42","#727681","#aab2c8"],6:["#00ff00","#1dac1d","#2c832c","#50545e","#727681","#aab2c8"],7:["#00ff00","#1dac1d","#2c832c","#383b42","#50545e","#727681","#aab2c8"],8:["#00ff00","#0fd50f","#1dac1d","#2c832c","#383b42","#50545e","#727681","#aab2c8"],9:["#00ff00","#0fd50f","#1dac1d","#2c832c","#383b42","#50545e","#727681","#9196a5","#aab2c8"],10:["#00ff00","#0fd50f","#1dac1d","#2c832c","#3a593a","#383b42","#50545e","#727681","#9196a5","#aab2c8"],stops:["#00ff00","#1dac1d","#383b42","#727681","#aab2c8"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 5"},"div-green-gray-bright-3":{1:["#82ff00"],2:["#82ff00","#ccafaf"],3:["#82ff00","#3d3434","#ccafaf"],4:["#82ff00","#5fa21a","#837171","#ccafaf"],5:["#82ff00","#5fa21a","#3d3434","#837171","#ccafaf"],6:["#82ff00","#5fa21a","#4d7327","#5e5151","#837171","#ccafaf"],7:["#82ff00","#5fa21a","#4d7327","#3d3434","#5e5151","#837171","#ccafaf"],8:["#82ff00","#70d00d","#5fa21a","#4d7327","#3d3434","#5e5151","#837171","#ccafaf"],9:["#82ff00","#70d00d","#5fa21a","#4d7327","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],10:["#82ff00","#70d00d","#5fa21a","#4d7327","#424f34","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],stops:["#82ff00","#5fa21a","#3d3434","#837171","#ccafaf"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 6"},"div-blue-green-bright-1":{1:["#45b4ff"],2:["#45b4ff","#beff00"],3:["#45b4ff","#3e422f","#beff00"],4:["#45b4ff","#3d80ac","#799b14","#beff00"],5:["#45b4ff","#3d80ac","#3e422f","#799b14","#beff00"],6:["#45b4ff","#3d80ac","#396583","#56691e","#799b14","#beff00"],7:["#45b4ff","#3d80ac","#396583","#3e422f","#56691e","#799b14","#beff00"],8:["#45b4ff","#419ad5","#3d80ac","#396583","#3e422f","#56691e","#799b14","#beff00"],9:["#45b4ff","#419ad5","#3d80ac","#396583","#3e422f","#56691e","#799b14","#9bcd0a","#beff00"],10:["#45b4ff","#419ad5","#3d80ac","#396583","#374d5c","#3e422f","#56691e","#799b14","#9bcd0a","#beff00"],stops:["#45b4ff","#3d80ac","#3e422f","#799b14","#beff00"],tags:["dark","blues","greens","bright","diverging","colorblind-friendly"],name:"Green and Blue 5"},"div-blue-yellow-bright-2":{1:["#23ccff"],2:["#23ccff","#ffff00"],3:["#23ccff","#42422f","#ffff00"],4:["#23ccff","#2c8eac","#9b9b15","#ffff00"],5:["#23ccff","#2c8eac","#42422f","#9b9b15","#ffff00"],6:["#23ccff","#2c8eac","#316f83","#696920","#9b9b15","#ffff00"],7:["#23ccff","#2c8eac","#316f83","#42422f","#696920","#9b9b15","#ffff00"],8:["#23ccff","#28add5","#2c8eac","#316f83","#42422f","#696920","#9b9b15","#ffff00"],9:["#23ccff","#28add5","#2c8eac","#316f83","#42422f","#696920","#9b9b15","#cdcd0b","#ffff00"],10:["#23ccff","#28add5","#2c8eac","#316f83","#355059","#42422f","#696920","#9b9b15","#cdcd0b","#ffff00"],stops:["#23ccff","#2c8eac","#42422f","#9b9b15","#ffff00"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 3"},"div-blue-lightorange-bright":{1:["#23ccff"],2:["#23ccff","#ffc800"],3:["#23ccff","#474333","#ffc800"],4:["#23ccff","#2c8eac","#9b8020","#ffc800"],5:["#23ccff","#2c8eac","#474333","#9b8020","#ffc800"],6:["#23ccff","#2c8eac","#316f83","#695c30","#9b8020","#ffc800"],7:["#23ccff","#2c8eac","#316f83","#474333","#695c30","#9b8020","#ffc800"],8:["#23ccff","#28add5","#2c8eac","#316f83","#474333","#695c30","#9b8020","#ffc800"],9:["#23ccff","#28add5","#2c8eac","#316f83","#474333","#695c30","#9b8020","#cda410","#ffc800"],10:["#23ccff","#28add5","#2c8eac","#316f83","#355059","#474333","#695c30","#9b8020","#cda410","#ffc800"],stops:["#23ccff","#2c8eac","#474333","#9b8020","#ffc800"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Orange 3"},"div-blue-orange-bright-1":{1:["#12c0ff"],2:["#12c0ff","#ffa300"],3:["#12c0ff","#474033","#ffa300"],4:["#12c0ff","#2589ad","#9b6e20","#ffa300"],5:["#12c0ff","#2589ad","#474033","#9b6e20","#ffa300"],6:["#12c0ff","#2589ad","#2e6d85","#695430","#9b6e20","#ffa300"],7:["#12c0ff","#2589ad","#2e6d85","#474033","#695430","#9b6e20","#ffa300"],8:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#474033","#695430","#9b6e20","#ffa300"],9:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#474033","#695430","#9b6e20","#cd8910","#ffa300"],10:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#37515c","#474033","#695430","#9b6e20","#cd8910","#ffa300"],stops:["#12c0ff","#2589ad","#474033","#9b6e20","#ffa300"],tags:["dark","blues","oranges","bright","diverging","colorblind-friendly"],name:"Blue and Orange 4"},"div-blue-orange-bright-2":{1:["#12c0ff"],2:["#12c0ff","#ff7d00"],3:["#12c0ff","#473d33","#ff7d00"],4:["#12c0ff","#2589ad","#9b5c20","#ff7d00"],5:["#12c0ff","#2589ad","#473d33","#9b5c20","#ff7d00"],6:["#12c0ff","#2589ad","#2e6d85","#694b30","#9b5c20","#ff7d00"],7:["#12c0ff","#2589ad","#2e6d85","#473d33","#694b30","#9b5c20","#ff7d00"],8:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#473d33","#694b30","#9b5c20","#ff7d00"],9:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#473d33","#694b30","#9b5c20","#cd6c10","#ff7d00"],10:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#37515c","#473d33","#694b30","#9b5c20","#cd6c10","#ff7d00"],stops:["#12c0ff","#2589ad","#473d33","#9b5c20","#ff7d00"],tags:["dark","blues","oranges","bright","diverging","colorblind-friendly"],name:"Blue and Orange 5"},"div-blue-red-bright-1":{1:["#2799ff"],2:["#2799ff","#ff3333"],3:["#2799ff","#423a3a","#ff3333"],4:["#2799ff","#3070aa","#a53636","#ff3333"],5:["#2799ff","#3070aa","#423a3a","#a53636","#ff3333"],6:["#2799ff","#3070aa","#345b80","#783737","#a53636","#ff3333"],7:["#2799ff","#3070aa","#345b80","#423a3a","#783737","#a53636","#ff3333"],8:["#2799ff","#2b84d5","#3070aa","#345b80","#423a3a","#783737","#a53636","#ff3333"],9:["#2799ff","#2b84d5","#3070aa","#345b80","#423a3a","#783737","#a53636","#d23434","#ff3333"],10:["#2799ff","#2b84d5","#3070aa","#345b80","#324554","#423a3a","#783737","#a53636","#d23434","#ff3333"],stops:["#2799ff","#3070aa","#423a3a","#a53636","#ff3333"],tags:["dark","reds","blues","bright","diverging","colorblind-friendly"],name:"Blue and Red 11"},"div-blue-red-bright-2":{1:["#6690ff"],2:["#6690ff","#ff0040"],3:["#6690ff","#42383b","#ff0040"],4:["#6690ff","#526aad","#a22343","#ff0040"],5:["#6690ff","#526aad","#42383b","#a22343","#ff0040"],6:["#6690ff","#526aad","#475785","#733444","#a22343","#ff0040"],7:["#6690ff","#526aad","#475785","#42383b","#733444","#a22343","#ff0040"],8:["#6690ff","#5c7dd6","#526aad","#475785","#42383b","#733444","#a22343","#ff0040"],9:["#6690ff","#5c7dd6","#526aad","#475785","#42383b","#733444","#a22343","#d01141","#ff0040"],10:["#6690ff","#5c7dd6","#526aad","#475785","#3d445c","#42383b","#733444","#a22343","#d01141","#ff0040"],stops:["#6690ff","#526aad","#42383b","#a22343","#ff0040"],tags:["dark","blues","reds","bright","diverging","colorblind-friendly"],name:"Blue and Red 12"},"div-blue-orange-bright-3":{1:["#6690ff"],2:["#6690ff","#ff9573"],3:["#6690ff","#423b38","#ff9573"],4:["#6690ff","#526aad","#945e4c","#ff9573"],5:["#6690ff","#526aad","#423b38","#945e4c","#ff9573"],6:["#6690ff","#526aad","#475785","#5e4338","#945e4c","#ff9573"],7:["#6690ff","#526aad","#475785","#423b38","#5e4338","#945e4c","#ff9573"],8:["#6690ff","#5c7dd6","#526aad","#475785","#423b38","#5e4338","#945e4c","#ff9573"],9:["#6690ff","#5c7dd6","#526aad","#475785","#423b38","#5e4338","#945e4c","#c97a5f","#ff9573"],10:["#6690ff","#5c7dd6","#526aad","#475785","#3d445c","#423b38","#5e4338","#945e4c","#c97a5f","#ff9573"],stops:["#6690ff","#526aad","#423b38","#945e4c","#ff9573"],tags:["dark","blues","browns","bright","diverging","colorblind-friendly"],name:"Blue and Brown 4"},"div-blue-tan-bright":{1:["#6690ff"],2:["#6690ff","#bf9f00"],3:["#6690ff","#424038","#bf9f00"],4:["#6690ff","#526aad","#7c6e24","#bf9f00"],5:["#6690ff","#526aad","#424038","#7c6e24","#bf9f00"],6:["#6690ff","#526aad","#475785","#5b5536","#7c6e24","#bf9f00"],7:["#6690ff","#526aad","#475785","#424038","#5b5536","#7c6e24","#bf9f00"],8:["#6690ff","#5c7dd6","#526aad","#475785","#424038","#5b5536","#7c6e24","#bf9f00"],9:["#6690ff","#5c7dd6","#526aad","#475785","#424038","#5b5536","#7c6e24","#9e8612","#bf9f00"],10:["#6690ff","#5c7dd6","#526aad","#475785","#404861","#424038","#5b5536","#7c6e24","#9e8612","#bf9f00"],stops:["#6690ff","#526aad","#424038","#7c6e24","#bf9f00"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 4"},"div-blue-gray-bright-1":{1:["#00b3ff"],2:["#00b3ff","#cccccc"],3:["#00b3ff","#424038","#cccccc"],4:["#00b3ff","#1d82ac","#8a8a8a","#cccccc"],5:["#00b3ff","#1d82ac","#424038","#8a8a8a","#cccccc"],6:["#00b3ff","#1d82ac","#2c6983","#5e5e5e","#8a8a8a","#cccccc"],7:["#00b3ff","#1d82ac","#2c6983","#424038","#5e5e5e","#8a8a8a","#cccccc"],8:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#424038","#5e5e5e","#8a8a8a","#cccccc"],9:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],10:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3a5059","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],stops:["#00b3ff","#1d82ac","#424038","#8a8a8a","#cccccc"],tags:["dark","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 3"},"div-blue-gray-bright-2":{1:["#00b3ff"],2:["#00b3ff","#aab2c8"],3:["#00b3ff","#383b42","#aab2c8"],4:["#00b3ff","#1d82ac","#727681","#aab2c8"],5:["#00b3ff","#1d82ac","#383b42","#727681","#aab2c8"],6:["#00b3ff","#1d82ac","#2c6983","#50545e","#727681","#aab2c8"],7:["#00b3ff","#1d82ac","#2c6983","#383b42","#50545e","#727681","#aab2c8"],8:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#383b42","#50545e","#727681","#aab2c8"],9:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#383b42","#50545e","#727681","#9196a5","#aab2c8"],10:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3a5059","#383b42","#50545e","#727681","#9196a5","#aab2c8"],stops:["#00b3ff","#1d82ac","#383b42","#727681","#aab2c8"],tags:["dark","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 4"},"div-blue-gray-bright-3":{1:["#00b3ff"],2:["#00b3ff","#ccafaf"],3:["#00b3ff","#3d3434","#ccafaf"],4:["#00b3ff","#1d82ac","#837171","#ccafaf"],5:["#00b3ff","#1d82ac","#3d3434","#837171","#ccafaf"],6:["#00b3ff","#1d82ac","#2c6983","#5e5151","#837171","#ccafaf"],7:["#00b3ff","#1d82ac","#2c6983","#3d3434","#5e5151","#837171","#ccafaf"],8:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3d3434","#5e5151","#837171","#ccafaf"],9:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],10:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3a5059","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],stops:["#00b3ff","#1d82ac","#3d3434","#837171","#ccafaf"],tags:["dark","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 5"},"div-blue-yellow-brown":{1:["#daffa5"],2:["#0051f2","#b35a00"],3:["#0051f2","#daffa5","#b35a00"],4:["#0051f2","#6da7fb","#d9963a","#b35a00"],5:["#0051f2","#6da7fb","#daffa5","#d9963a","#b35a00"],6:["#0051f2","#377cf6","#6da7fb","#ffd173","#d9963a","#b35a00"],7:["#0051f2","#377cf6","#6da7fb","#daffa5","#ffd173","#d9963a","#b35a00"],8:["#0051f2","#377cf6","#6da7fb","#a4d2ff","#ffd173","#ecb356","#d9963a","#b35a00"],9:["#0051f2","#377cf6","#6da7fb","#a4d2ff","#daffa5","#ffd173","#ecb356","#d9963a","#b35a00"],10:["#0051f2","#377cf6","#6da7fb","#a4d2ff","#daffa5","#ffd173","#ecb356","#d9963a","#c6781d","#b35a00"],stops:["#0051f2","#6da7fb","#daffa5","#d9963a","#b35a00"],tags:["light","blues","browns","diverging","colorblind-friendly"],name:"Blue and Brown 5"},"div-purple-yellow-brown":{1:["#ffcce6"],2:["#6000e6","#b35a00"],3:["#6000e6","#ffcce6","#b35a00"],4:["#6000e6","#a069ee","#ce922e","#b35a00"],5:["#6000e6","#a069ee","#ffcce6","#ce922e","#b35a00"],6:["#6000e6","#8035ea","#a069ee","#e9c95c","#ce922e","#b35a00"],7:["#6000e6","#8035ea","#a069ee","#ffcce6","#e9c95c","#ce922e","#b35a00"],8:["#6000e6","#8035ea","#a069ee","#c09ef2","#e9c95c","#dcad45","#ce922e","#b35a00"],9:["#6000e6","#8035ea","#a069ee","#c09ef2","#ffcce6","#e9c95c","#dcad45","#ce922e","#b35a00"],10:["#6000e6","#8035ea","#a069ee","#c09ef2","#ffcce6","#e9c95c","#dcad45","#ce922e","#c17617","#b35a00"],stops:["#6000e6","#a069ee","#ffcce6","#ce922e","#b35a00"],tags:["light","purples","browns","diverging","colorblind-friendly"],name:"Purple and Brown 3"},"div-purple-beige-green":{1:["#f2cf9e"],2:["#8100e6","#2b9900"],3:["#8100e6","#f2cf9e","#2b9900"],4:["#8100e6","#b360d1","#6eb830","#2b9900"],5:["#8100e6","#b360d1","#f2cf9e","#6eb830","#2b9900"],6:["#8100e6","#9a30dc","#b360d1","#b0d660","#6eb830","#2b9900"],7:["#8100e6","#9a30dc","#b360d1","#f2cf9e","#b0d660","#6eb830","#2b9900"],8:["#8100e6","#9a30dc","#b360d1","#cc90c7","#b0d660","#8fc748","#6eb830","#2b9900"],9:["#8100e6","#9a30dc","#b360d1","#cc90c7","#f2cf9e","#b0d660","#8fc748","#6eb830","#2b9900"],10:["#8100e6","#9a30dc","#b360d1","#cc90c7","#f2cf9e","#b0d660","#8fc748","#6eb830","#4ca818","#2b9900"],stops:["#8100e6","#b360d1","#f2cf9e","#6eb830","#2b9900"],tags:["light","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 10"},"div-teal-yellow-brown":{1:["#f2f2aa"],2:["#00998c","#b34a00"],3:["#00998c","#f2f2aa","#b34a00"],4:["#00998c","#69d4cb","#d98346","#b34a00"],5:["#00998c","#69d4cb","#f2f2aa","#d98346","#b34a00"],6:["#00998c","#35b7ac","#69d4cb","#ffbc8c","#d98346","#b34a00"],7:["#00998c","#35b7ac","#69d4cb","#f2f2aa","#ffbc8c","#d98346","#b34a00"],8:["#00998c","#35b7ac","#69d4cb","#9ef2eb","#ffbc8c","#eca069","#d98346","#b34a00"],9:["#00998c","#35b7ac","#69d4cb","#9ef2eb","#f2f2aa","#ffbc8c","#eca069","#d98346","#b34a00"],10:["#00998c","#35b7ac","#69d4cb","#9ef2eb","#f2f2aa","#ffbc8c","#eca069","#d98346","#c66723","#b34a00"],stops:["#00998c","#69d4cb","#f2f2aa","#d98346","#b34a00"],tags:["light","purples","browns","diverging","colorblind-friendly"],name:"Purple and Brown 4"},"div-yellow-magenta-light":{1:["#daf2b5"],2:["#a49d0c","#a600a6"],3:["#a49d0c","#daf2b5","#a600a6"],4:["#a49d0c","#d6cd45","#d35dc0","#a600a6"],5:["#a49d0c","#d6cd45","#daf2b5","#d35dc0","#a600a6"],6:["#a49d0c","#bbb327","#d6cd45","#ffbada","#d35dc0","#a600a6"],7:["#a49d0c","#bbb327","#d6cd45","#daf2b5","#ffbada","#d35dc0","#a600a6"],8:["#a49d0c","#bbb327","#d6cd45","#e9e05c","#ffbada","#e98bcd","#d35dc0","#a600a6"],9:["#a49d0c","#bbb327","#d6cd45","#e9e05c","#daf2b5","#ffbada","#e98bcd","#d35dc0","#a600a6"],10:["#a49d0c","#bbb327","#d6cd45","#e9e05c","#daf2b5","#ffbada","#e98bcd","#d35dc0","#bc2eb3","#a600a6"],stops:["#a49d0c","#d6cd45","#daf2b5","#d35dc0","#a600a6"],tags:["light","purples","greens","yellows","diverging","colorblind-friendly"],name:"Yellow and Magenta"},"div-green-yellow-blue":{1:["#f2e695"],2:["#758f12","#0080ff"],3:["#758f12","#f2e695","#0080ff"],4:["#758f12","#acc05d","#53a9ff","#0080ff"],5:["#758f12","#acc05d","#f2e695","#53a9ff","#0080ff"],6:["#758f12","#90a838","#acc05d","#8bdee6","#53a9ff","#0080ff"],7:["#758f12","#90a838","#acc05d","#f2e695","#8bdee6","#53a9ff","#0080ff"],8:["#758f12","#90a838","#acc05d","#c7d983","#8bdee6","#7dbeff","#53a9ff","#0080ff"],9:["#758f12","#90a838","#acc05d","#c7d983","#f2e695","#8bdee6","#7dbeff","#53a9ff","#0080ff"],10:["#758f12","#90a838","#acc05d","#c7d983","#f2e695","#8bdee6","#7dbeff","#53a9ff","#2a95ff","#0080ff"],stops:["#758f12","#acc05d","#f2e695","#53a9ff","#0080ff"],tags:["light","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 8"},"div-brown-blue":{1:["#cae0cf"],2:["#9e7300","#4253a6"],3:["#9e7300","#cae0cf","#4253a6"],4:["#9e7300","#c9aa61","#7988d0","#4253a6"],5:["#9e7300","#c9aa61","#cae0cf","#7988d0","#4253a6"],6:["#9e7300","#b38f30","#c9aa61","#afbcfa","#7988d0","#4253a6"],7:["#9e7300","#b38f30","#c9aa61","#cae0cf","#afbcfa","#7988d0","#4253a6"],8:["#9e7300","#b38f30","#c9aa61","#dec691","#afbcfa","#94a2e5","#7988d0","#4253a6"],9:["#9e7300","#b38f30","#c9aa61","#dec691","#cae0cf","#afbcfa","#94a2e5","#7988d0","#4253a6"],10:["#9e7300","#b38f30","#c9aa61","#dec691","#cae0cf","#afbcfa","#94a2e5","#7988d0","#5d6dbb","#4253a6"],stops:["#9e7300","#c9aa61","#cae0cf","#7988d0","#4253a6"],tags:["light","purples","blues","browns","diverging","colorblind-friendly"],name:"Blue and Brown 6"},"div-red-green-cyan":{1:["#dae695"],2:["#a00000","#008fbf"],3:["#a00000","#dae695","#008fbf"],4:["#a00000","#df7b7b","#47b0df","#008fbf"],5:["#a00000","#df7b7b","#dae695","#47b0df","#008fbf"],6:["#a00000","#c03d3d","#df7b7b","#8dd0ff","#47b0df","#008fbf"],7:["#a00000","#c03d3d","#df7b7b","#dae695","#8dd0ff","#47b0df","#008fbf"],8:["#a00000","#c03d3d","#df7b7b","#ffb8b8","#8dd0ff","#6ac0ef","#47b0df","#008fbf"],9:["#a00000","#c03d3d","#df7b7b","#ffb8b8","#dae695","#8dd0ff","#6ac0ef","#47b0df","#008fbf"],10:["#a00000","#c03d3d","#df7b7b","#ffb8b8","#dae695","#8dd0ff","#6ac0ef","#47b0df","#239fcf","#008fbf"],stops:["#a00000","#df7b7b","#dae695","#47b0df","#008fbf"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 15"},"div-yellow-slate-teal":{1:["#d9ccff"],2:["#a49d0c","#008a97"],3:["#a49d0c","#d9ccff","#008a97"],4:["#a49d0c","#d6cd45","#46b4bf","#008a97"],5:["#a49d0c","#d6cd45","#d9ccff","#46b4bf","#008a97"],6:["#a49d0c","#c3bb2e","#d6cd45","#8bdee6","#46b4bf","#008a97"],7:["#a49d0c","#c3bb2e","#d6cd45","#d9ccff","#8bdee6","#46b4bf","#008a97"],8:["#a49d0c","#c3bb2e","#d6cd45","#e9e05c","#8bdee6","#68c9d2","#46b4bf","#008a97"],9:["#a49d0c","#c3bb2e","#d6cd45","#e9e05c","#d9ccff","#8bdee6","#68c9d2","#46b4bf","#008a97"],10:["#a49d0c","#c3bb2e","#d6cd45","#e9e05c","#d9ccff","#8bdee6","#68c9d2","#46b4bf","#239fab","#008a97"],stops:["#a49d0c","#d6cd45","#d9ccff","#46b4bf","#008a97"],tags:["light","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 10"},"div-blue-green-orange":{1:["#1c4d31"],2:["#00aaff","#ffaa00"],3:["#00aaff","#1c4d31","#ffaa00"],4:["#00aaff","#0072aa","#bd7e00","#ffaa00"],5:["#00aaff","#0072aa","#1c4d31","#bd7e00","#ffaa00"],6:["#00aaff","#008ed5","#0072aa","#7a5200","#bd7e00","#ffaa00"],7:["#00aaff","#008ed5","#0072aa","#1c4d31","#7a5200","#bd7e00","#ffaa00"],8:["#00aaff","#008ed5","#0072aa","#005e8c","#7a5200","#bd7e00","#de9400","#ffaa00"],9:["#00aaff","#008ed5","#0072aa","#005e8c","#1c4d31","#7a5200","#bd7e00","#de9400","#ffaa00"],10:["#00aaff","#008ed5","#0072aa","#005e8c","#1c4d31","#7a5200","#9b6800","#bd7e00","#de9400","#ffaa00"],stops:["#00aaff","#0072aa","#1c4d31","#bd7e00","#ffaa00"],tags:["dark","blues","browns","oranges","diverging","colorblind-friendly"],name:"Blue and Orange 10"},"div-purple-orange":{1:["#590e47"],2:["#9952ff","#ff7300"],3:["#9952ff","#590e47","#ff7300"],4:["#9952ff","#6c1be6","#c05600","#ff7300"],5:["#9952ff","#6c1be6","#590e47","#c05600","#ff7300"],6:["#9952ff","#8337f2","#6c1be6","#803800","#c05600","#ff7300"],7:["#9952ff","#8337f2","#6c1be6","#590e47","#803800","#c05600","#ff7300"],8:["#9952ff","#8337f2","#6c1be6","#5600d9","#803800","#c05600","#df6400","#ff7300"],9:["#9952ff","#8337f2","#6c1be6","#5600d9","#590e47","#803800","#c05600","#df6400","#ff7300"],10:["#9952ff","#8337f2","#6c1be6","#5600d9","#590e47","#803800","#a04700","#c05600","#df6400","#ff7300"],stops:["#9952ff","#6c1be6","#590e47","#c05600","#ff7300"],tags:["dark","purples","browns","diverging","colorblind-friendly"],name:"Purple and Orange 3"},"div-purple-green":{1:["#4d3839"],2:["#b533ff","#6ede00"],3:["#b533ff","#4d3839","#6ede00"],4:["#b533ff","#8d11d4","#56ac00","#6ede00"],5:["#b533ff","#8d11d4","#4d3839","#56ac00","#6ede00"],6:["#b533ff","#a122ea","#8d11d4","#3f8000","#56ac00","#6ede00"],7:["#b533ff","#a122ea","#8d11d4","#4d3839","#3f8000","#56ac00","#6ede00"],8:["#b533ff","#a122ea","#8d11d4","#7900bf","#3f8000","#56ac00","#61c300","#6ede00"],9:["#b533ff","#a122ea","#8d11d4","#7900bf","#4d3839","#3f8000","#56ac00","#61c300","#6ede00"],10:["#b533ff","#a122ea","#8d11d4","#7900bf","#4d3839","#3f8000","#4a9600","#56ac00","#61c300","#6ede00"],stops:["#b533ff","#8d11d4","#4d3839","#56ac00","#6ede00"],tags:["dark","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 11"},"div-teal-orange":{1:["#604080"],2:["#66ffcc","#ffb900"],3:["#66ffcc","#604080","#ffb900"],4:["#66ffcc","#22aa7d","#b98600","#ffb900"],5:["#66ffcc","#22aa7d","#604080","#b98600","#ffb900"],6:["#66ffcc","#44d5a4","#22aa7d","#735200","#b98600","#ffb900"],7:["#66ffcc","#44d5a4","#22aa7d","#604080","#735200","#b98600","#ffb900"],8:["#66ffcc","#44d5a4","#22aa7d","#008055","#735200","#b98600","#dc9f00","#ffb900"],9:["#66ffcc","#44d5a4","#22aa7d","#008055","#604080","#735200","#b98600","#dc9f00","#ffb900"],10:["#66ffcc","#44d5a4","#22aa7d","#008055","#604080","#735200","#966c00","#b98600","#dc9f00","#ffb900"],stops:["#66ffcc","#22aa7d","#604080","#b98600","#ffb900"],tags:["dark","greens","oranges","diverging","colorblind-friendly"],name:"Green and Orange"},"div-red-purple-blue":{1:["#472459"],2:["#0080ff","#ff4d4d"],3:["#0080ff","#472459","#ff4d4d"],4:["#0080ff","#005bb2","#c40f0f","#ff4d4d"],5:["#0080ff","#005bb2","#472459","#c40f0f","#ff4d4d"],6:["#0080ff","#006dd9","#005bb2","#800000","#c40f0f","#ff4d4d"],7:["#0080ff","#006dd9","#005bb2","#472459","#800000","#c40f0f","#ff4d4d"],8:["#0080ff","#006dd9","#005bb2","#00488c","#800000","#c40f0f","#e61616","#ff4d4d"],9:["#0080ff","#006dd9","#005bb2","#00488c","#472459","#800000","#c40f0f","#e61616","#ff4d4d"],10:["#0080ff","#006dd9","#005bb2","#00488c","#472459","#800000","#a20707","#c40f0f","#e61616","#ff4d4d"],stops:["#0080ff","#005bb2","#472459","#c40f0f","#ff4d4d"],tags:["dark","blues","reds","diverging","colorblind-friendly"],name:"Blue and Red 16"},"div-yellow-magenta":{1:["#1f4f59"],2:["#fff565","#e600e6"],3:["#fff565","#1f4f59","#e600e6"],4:["#fff565","#999122","#b300b3","#e600e6"],5:["#fff565","#999122","#1f4f59","#b300b3","#e600e6"],6:["#fff565","#ccc343","#999122","#800080","#b300b3","#e600e6"],7:["#fff565","#ccc343","#999122","#1f4f59","#800080","#b300b3","#e600e6"],8:["#fff565","#ccc343","#999122","#665f00","#800080","#b300b3","#cd00cd","#e600e6"],9:["#fff565","#ccc343","#999122","#665f00","#1f4f59","#800080","#b300b3","#cd00cd","#e600e6"],10:["#fff565","#ccc343","#999122","#665f00","#1f4f59","#800080","#9a009a","#b300b3","#cd00cd","#e600e6"],stops:["#fff565","#999122","#1f4f59","#b300b3","#e600e6"],tags:["dark","purples","yellows","diverging","colorblind-friendly"],name:"Purple and Yellow 4"},"div-green-blue":{1:["#663840"],2:["#d4ff33","#33ddff"],3:["#d4ff33","#663840","#33ddff"],4:["#d4ff33","#83a211","#1a9dc5","#33ddff"],5:["#d4ff33","#83a211","#663840","#1a9dc5","#33ddff"],6:["#d4ff33","#abd022","#83a211","#005d8c","#1a9dc5","#33ddff"],7:["#d4ff33","#abd022","#83a211","#663840","#005d8c","#1a9dc5","#33ddff"],8:["#d4ff33","#abd022","#83a211","#5a7300","#005d8c","#1a9dc5","#26bde2","#33ddff"],9:["#d4ff33","#abd022","#83a211","#5a7300","#663840","#005d8c","#1a9dc5","#26bde2","#33ddff"],10:["#d4ff33","#abd022","#83a211","#5a7300","#663840","#005d8c","#0d7da9","#1a9dc5","#26bde2","#33ddff"],stops:["#d4ff33","#83a211","#663840","#1a9dc5","#33ddff"],tags:["dark","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 9"},"div-blue-brown":{1:["#5b2e73"],2:["#65a5ff","#ffb900"],3:["#65a5ff","#5b2e73","#ffb900"],4:["#65a5ff","#4366c4","#b98600","#ffb900"],5:["#65a5ff","#4366c4","#5b2e73","#b98600","#ffb900"],6:["#65a5ff","#5485e1","#4366c4","#735200","#b98600","#ffb900"],7:["#65a5ff","#5485e1","#4366c4","#5b2e73","#735200","#b98600","#ffb900"],8:["#65a5ff","#5485e1","#4366c4","#3246a6","#735200","#b98600","#dc9f00","#ffb900"],9:["#65a5ff","#5485e1","#4366c4","#3246a6","#5b2e73","#735200","#b98600","#dc9f00","#ffb900"],10:["#65a5ff","#5485e1","#4366c4","#3246a6","#5b2e73","#735200","#966c00","#b98600","#dc9f00","#ffb900"],stops:["#65a5ff","#4366c4","#5b2e73","#b98600","#ffb900"],tags:["dark","purples","blues","browns","diverging","colorblind-friendly"],name:"Blue and Brown 7"},"div-red-cyan":{1:["#592e73"],2:["#ff7040","#33ddff"],3:["#ff7040","#592e73","#33ddff"],4:["#ff7040","#bc3f2b","#1a99c0","#33ddff"],5:["#ff7040","#bc3f2b","#592e73","#1a99c0","#33ddff"],6:["#ff7040","#de5836","#bc3f2b","#005580","#1a99c0","#33ddff"],7:["#ff7040","#de5836","#bc3f2b","#592e73","#005580","#1a99c0","#33ddff"],8:["#ff7040","#de5836","#bc3f2b","#9b2721","#005580","#1a99c0","#26bbdf","#33ddff"],9:["#ff7040","#de5836","#bc3f2b","#9b2721","#592e73","#005580","#1a99c0","#26bbdf","#33ddff"],10:["#ff7040","#de5836","#bc3f2b","#9b2721","#592e73","#005580","#0d77a0","#1a99c0","#26bbdf","#33ddff"],stops:["#ff7040","#bc3f2b","#592e73","#1a99c0","#33ddff"],tags:["dark","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 17"},"div-yellow-teal":{1:["#663840"],2:["#ffff00","#00ffff"],3:["#ffff00","#663840","#00ffff"],4:["#ffff00","#999900","#00b9b9","#00ffff"],5:["#ffff00","#999900","#663840","#00b9b9","#00ffff"],6:["#ffff00","#cccc00","#999900","#007373","#00b9b9","#00ffff"],7:["#ffff00","#cccc00","#999900","#663840","#007373","#00b9b9","#00ffff"],8:["#ffff00","#cccc00","#999900","#666600","#007373","#00b9b9","#00dcdc","#00ffff"],9:["#ffff00","#cccc00","#999900","#666600","#663840","#007373","#00b9b9","#00dcdc","#00ffff"],10:["#ffff00","#cccc00","#999900","#666600","#663840","#007373","#009696","#00b9b9","#00dcdc","#00ffff"],stops:["#ffff00","#999900","#663840","#00b9b9","#00ffff"],tags:["dark","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 11"},"div-green-purple":{stops:["#a3cc29","#567300","#403E3A","#6F00A6","#AA00FF"],tags:["dark","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 13"},"div-blue-red":{stops:["#00AAFF","#0060A6","#403E3A","#801921","#d92b2b"],tags:["dark","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 18"},"div-green-magenta":{stops:["#48d92c","#137300","#453F40","#800078","#e616da"],tags:["dark","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 14"},"div-blue-orange":{stops:["#00EAFF","#007580","#3F453F","#804B00","#FF9600"],tags:["dark","oranges","blues","diverging","colorblind-friendly"],name:"Blue and Orange 11"},"div-blue-yellow":{stops:["#1984FF","#0E4F99","#40453F","#737327","#e6d316"],tags:["dark","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 13"},"div-purple-yellow":{stops:["#8A4DFF","#5933A6","#45413F","#806A00","#FFD400"],tags:["dark","purples","yellows","diverging","colorblind-friendly"],name:"Purple and Yellow 6"},"div-magenta-yellow":{stops:["#FF00E9","#800078","#453F41","#737327","#FFFF00"],tags:["dark","yellows","pinks","diverging","colorblind-friendly"],name:"Pink and Yellow 5"},"div-purple-green-dark":{stops:["#7933FF","#4F22A6","#423F45","#558000","#a0e616"],tags:["dark","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 15"},"div-green-brown":{stops:["#00FFD5","#00806B","#3F4540","#663D14","#BF6100"],tags:["dark","greens","browns","diverging","colorblind-friendly"],name:"Green and Brown 3"},"div-green-gray":{stops:["#24B360","#1E6B40","#3F4543","#6D7699","#B5C7FF"],tags:["dark","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 12"},"div-blue-white":{stops:["#1984FF","#0E4F99","#3F4245","#736C61","#CCC1AC"],tags:["dark","browns","blues","diverging","colorblind-friendly"],name:"Blue and Brown 8"},"div-red-steel":{stops:["#E64916","#99262F","#453F42","#454143","#A5B4FF"],tags:["dark","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 19"},"div-aqua-darkgray-red":{stops:["#00c3ff","#4e858c","#47443a","#94593b","#ff4040"],tags:["dark","reds","blues","diverging","3d","colorblind-friendly"],name:"Blue and Red 20"},"div-green-purple-light":{stops:["#799100","#B8BF76","#C7BFBF","#BF72BB","#85007D"],tags:["light","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 15"},"div-blue-red-light":{stops:["#4596E6","#8FB0DE","#C4BCC7","#C0656B","#A60000"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 21"},"div-green-purple-light-2":{stops:["#698C00","#98AF5B","#B3B8B6","#BF60B9","#A60098"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 16"},"div-cyan-blue-light":{stops:["#00AFBF","#69CCCC","#C3CCBE","#D9AD70","#BF7000"],tags:["light","browns","greens","diverging","colorblind-friendly"],name:"Green and Brown 4"},"div-blue-yellow-light":{stops:["#4DA0FF","#8CC7FF","#C3D1C7","#D9D94B","#BFBF00"],tags:["light","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 14"},"div-purple-yellow-light":{stops:["#805CC5","#A089BB","#BFB6B0","#B9A658","#B39500"],tags:["light","yellows","purples","diverging","colorblind-friendly"],name:"Purple and Yellow 7"},"div-magenta-yellow-light":{stops:["#98008B","#AE5DA0","#C4BAB5","#C1C15B","#B8B812"],tags:["light","yellows","purples","diverging","colorblind-friendly"],name:"Purple and Yellow 8"},"div-purple-green-light":{stops:["#805CC5","#A089BB","#B7BCC4","#98AF5B","#739900"],tags:["light","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 18"},"div-blue-blue":{stops:["#00A6A6","#56BFBF","#BFBFB4","#998355","#8C6338"],tags:["light","greens","browns","diverging","colorblind-friendly"],name:"Green and Brown 5"},"div-green-green":{stops:["#009940","#5BB084","#B1C1C2","#9098AF","#666E85"],tags:["light","greens","grays","diverging","colorblind-friendly"],name:"Green and Gray 7"},"div-blue-green-light":{stops:["#4596E6","#7FACD9","#B8C2CC","#A29F98","#767064"],tags:["light","grays","blues","diverging","colorblind-friendly"],name:"Blue and Gray 6"},"div-red-green-light":{stops:["#A62900","#B8755E","#C0BAC7","#939AB5","#697696"],tags:["light","reds","grays","diverging","colorblind-friendly"],name:"Red and Gray 7"},"div-blue-yellow-brown-light":{stops:["#308fa6","#6ca68b","#d2e096","#c7811e","#8c270e"],tags:["light","greens","browns","diverging","3d","colorblind-friendly"],name:"Green and Brown 6"},"div-blue-white-brown":{stops:["#308fa6","#98c7d3","#ffffff","#c67e6d","#8c270e"],tags:["light","greens","browns","diverging","3d","colorblind-friendly"],name:"Green and Brown 7"},"div-subdued-red-green":{1:["#ec8787"],2:["#ec8787","#70b6ba"],3:["#ec8787","#fff0d0","#70b6ba"],4:["#ec8787","#f9cbb3","#b7d5d7","#70b6ba"],5:["#ec8787","#f9cbb3","#fff0d0","#b7d5d7","#70b6ba"],6:["#ec8787","#f3a696","#f9cbb3","#b7d5d7","#93c6c9","#70b6ba"],7:["#ec8787","#f3a696","#f9cbb3","#fff0d0","#b7d5d7","#93c6c9","#70b6ba"],8:["#de6868","#ec8787","#f3a696","#f9cbb3","#dbe3d3","#b7d5d7","#93c6c9","#70b6ba"],9:["#de6868","#ec8787","#f3a696","#f9cbb3","#fff0d0","#dbe3d3","#b7d5d7","#93c6c9","#70b6ba"],10:["#de6868","#ec8787","#f3a696","#f9cbb3","#fff0d0","#dbe3d3","#b7d5d7","#93c6c9","#70b6ba","#5aa3b3"],stops:["#ec8787","#f9cbb3","#fff0d0","#b7d5d7","#70b6ba"],tags:["light","reds","yellows","greens","subdued","diverging","colorblind-friendly"],name:"Starburst"},"div-subdued-red-purple":{1:["#db897e"],2:["#db897e","#b592c4"],3:["#db897e","#ecf2cd","#b592c4"],4:["#db897e","#edcab2","#d8bde6","#b592c4"],5:["#db897e","#edcab2","#ecf2cd","#d8bde6","#b592c4"],6:["#db897e","#f3a196","#edcab2","#d8bde6","#c7a8d5","#b592c4"],7:["#db897e","#f3a196","#edcab2","#ecf2cd","#d8bde6","#c7a8d5","#b592c4"],8:["#c27166","#db897e","#f3a196","#edcab2","#d8bde6","#c7a8d5","#b592c4","#a47db3"],9:["#c27166","#db897e","#f3a196","#edcab2","#ecf2cd","#d8bde6","#c7a8d5","#b592c4","#a47db3"],10:["#c27166","#db897e","#f3a196","#edcab2","#ecf2cd","#dfd8da","#d8bde6","#c7a8d5","#b592c4","#a47db3"],stops:["#db897e","#edcab2","#ecf2cd","#d8bde6","#b592c4"],tags:["light","reds","yellows","purples","subdued","diverging","colorblind-friendly"],name:"Glorious Purpose"},"div-subdued-brown-gray":{1:["#bd9f83"],2:["#bd9f83","#c8d2d8"],3:["#bd9f83","#f4e6c8","#c8d2d8"],4:["#a98762","#ceb396","#c8d2d8","#8b9da7"],5:["#a98762","#ceb396","#f4e6c8","#c8d2d8","#8b9da7"],6:["#a98762","#bd9f83","#ceb396","#c8d2d8","#a9b7c0","#8b9da7"],7:["#a98762","#bd9f83","#ceb396","#f4e6c8","#c8d2d8","#a9b7c0","#8b9da7"],8:["#946f40","#a98762","#bd9f83","#ceb396","#c8d2d8","#a9b7c0","#8b9da7","#70848f"],9:["#946f40","#a98762","#bd9f83","#ceb396","#f4e6c8","#c8d2d8","#a9b7c0","#8b9da7","#70848f"],10:["#946f40","#a98762","#bd9f83","#ceb396","#dec8aa","#f4e6c8","#c8d2d8","#a9b7c0","#8b9da7","#70848f"],stops:["#a98762","#ceb396","#f4e6c8","#c8d2d8","#8b9da7"],tags:["light","browns","grays","subdued","diverging","colorblind-friendly"],name:"Desert Winds"},"div-subdued-sepia-gray":{1:["#dea37a"],2:["#dea37a","#c1d1db"],3:["#dea37a","#f5ebd4","#c1d1db"],4:["#d39367","#eab28c","#c1d1db","#839ba8"],5:["#d39367","#eab28c","#f5ebd4","#c1d1db","#839ba8"],6:["#d39367","#dea37a","#eab28c","#c1d1db","#a2b6c2","#839ba8"],7:["#d39367","#dea37a","#eab28c","#f5ebd4","#c1d1db","#a2b6c2","#839ba8"],8:["#b87a4f","#d39367","#dea37a","#eab28c","#c1d1db","#a2b6c2","#839ba8","#64808f"],9:["#b87a4f","#d39367","#dea37a","#eab28c","#f5ebd4","#c1d1db","#a2b6c2","#839ba8","#64808f"],10:["#b87a4f","#d39367","#dea37a","#eab28c","#f2ceb5","#f5ebd4","#c1d1db","#a2b6c2","#839ba8","#64808f"],stops:["#d39367","#eab28c","#f5ebd4","#c1d1db","#839ba8"],tags:["light","browns","grays","subdued","diverging","colorblind-friendly"],name:"Cigar Smoke"},"div-subdued-blue-gray":{1:["#86b6cf"],2:["#86b6cf","#d9c8cf"],3:["#86b6cf","#e6f5e6","#d9c8cf"],4:["#72a3bd","#9ac9e0","#d9c8cf","#a6999e"],5:["#72a3bd","#9ac9e0","#e6f5e6","#d9c8cf","#a6999e"],6:["#72a3bd","#86b6cf","#9ac9e0","#d9c8cf","#bfb0b7","#a6999e"],7:["#72a3bd","#86b6cf","#9ac9e0","#e6f5e6","#d9c8cf","#bfb0b7","#a6999e"],8:["#5e90ab","#72a3bd","#86b6cf","#9ac9e0","#d9c8cf","#bfb0b7","#a6999e","#8c8186"],9:["#5e90ab","#72a3bd","#86b6cf","#9ac9e0","#e6f5e6","#d9c8cf","#bfb0b7","#a6999e","#8c8186"],10:["#5e90ab","#72a3bd","#86b6cf","#9ac9e0","#aedcf2","#e6f5e6","#d9c8cf","#bfb0b7","#a6999e","#8c8186"],stops:["#72a3bd","#9ac9e0","#e6f5e6","#d9c8cf","#a6999e"],tags:["light","blues","grays","subdued","diverging","colorblind-friendly"],name:"Seattle Skyline"},"div-subdued-tan-blue":{1:["#f9cbb3"],2:["#f9cbb3","#aedcf2"],3:["#f9cbb3","#5e435a","#aedcf2"],4:["#f9cbb3","#9e7871","#567787","#aedcf2"],5:["#f9cbb3","#9e7871","#5e435a","#567787","#aedcf2"],6:["#f9cbb3","#c9a090","#9e7871","#567787","#8bb2c5","#aedcf2"],7:["#f9cbb3","#c9a090","#9e7871","#5e435a","#567787","#8bb2c5","#aedcf2"],8:["#f9cbb3","#c9a090","#9e7871","#7d5757","#567787","#688899","#8bb2c5","#aedcf2"],9:["#f9cbb3","#c9a090","#9e7871","#7d5757","#5e435a","#567787","#688899","#8bb2c5","#aedcf2"],10:["#f9cbb3","#c9a090","#9e7871","#7d5757","#5e435a","#456373","#567787","#688899","#8bb2c5","#aedcf2"],stops:["#f9cbb3","#9e7871","#5e435a","#567787","#aedcf2"],tags:["dark","browns","blues","subdued","diverging","colorblind-friendly"],name:"Desert Rain"},"div-subdued-green-blue":{1:["#cdd9b8"],2:["#cdd9b8","#aecaf2"],3:["#cdd9b8","#58506b","#aecaf2"],4:["#cdd9b8","#757d61","#5e728f","#aecaf2"],5:["#cdd9b8","#757d61","#58506b","#5e728f","#aecaf2"],6:["#cdd9b8","#9ba689","#757d61","#5e728f","#8fa8cc","#aecaf2"],7:["#cdd9b8","#9ba689","#757d61","#58506b","#5e728f","#8fa8cc","#aecaf2"],8:["#cdd9b8","#9ba689","#757d61","#596144","#5e728f","#778ead","#8fa8cc","#aecaf2"],9:["#cdd9b8","#9ba689","#757d61","#596144","#58506b","#5e728f","#778ead","#8fa8cc","#aecaf2"],10:["#cdd9b8","#9ba689","#757d61","#596144","#58506b","#4c607d","#5e728f","#778ead","#8fa8cc","#aecaf2"],stops:["#cdd9b8","#757d61","#58506b","#5e728f","#aecaf2"],tags:["dark","greens","blues","subdued","diverging","colorblind-friendly"],name:"Milky Way"},"div-subdued-green-pink":{1:["#ffb7e7"],2:["#cdd9b8","#ffb7e7"],3:["#cdd9b8","#424c59","#ffb7e7"],4:["#cdd9b8","#757d61","#8c5b7c","#ffb7e7"],5:["#cdd9b8","#757d61","#424c59","#8c5b7c","#ffb7e7"],6:["#cdd9b8","#9ba689","#757d61","#8c5b7c","#d697c1","#ffb7e7"],7:["#cdd9b8","#9ba689","#757d61","#424c59","#8c5b7c","#d697c1","#ffb7e7"],8:["#cdd9b8","#9ba689","#757d61","#596144","#8c5b7c","#ad769b","#d697c1","#ffb7e7"],9:["#cdd9b8","#9ba689","#757d61","#596144","#424c59","#8c5b7c","#ad769b","#d697c1","#ffb7e7"],10:["#cdd9b8","#9ba689","#757d61","#596144","#424c59","#784868","#8c5b7c","#ad769b","#d697c1","#ffb7e7"],stops:["#cdd9b8","#757d61","#424c59","#8c5b7c","#ffb7e7"],tags:["dark","greens","purples","pinks","subdued","diverging","colorblind-friendly"],name:"Soft Velvet"},"div-subdued-green-brown":{1:["#3b9ea2"],2:["#3b9ea2","#e9bbb2"],3:["#3b9ea2","#d8d9ce","#e9bbb2"],4:["#006e76","#3b9ea2","#e9bbb2","#cca199"],5:["#006e76","#3b9ea2","#d8d9ce","#e9bbb2","#cca199"],6:["#006e76","#3b9ea2","#8cb2b2","#f8c8be","#e9bbb2","#cca199"],7:["#006e76","#3b9ea2","#8cb2b2","#d8d9ce","#f8c8be","#e9bbb2","#cca199"],8:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#f8c8be","#e9bbb2","#dbaea5","#cca199"],9:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#d8d9ce","#f8c8be","#e9bbb2","#dbaea5","#cca199"],10:["#006e76","#1e868c","#3b9ea2","#63a8aa","#8cb2b2","#d8d9ce","#f8c8be","#e9bbb2","#dbaea5","#cca199"],stops:["#006e76","#3b9ea2","#d8d9ce","#e9bbb2","#cca199"],tags:["light","browns","greens","subdued","diverging","colorblind-friendly"],name:"Conifer Forest"},"div-lines-blue-brown":{1:["#a3d9bb"],2:["#005a8c","#806000"],3:["#005a8c","#a3d9bb","#806000"],4:["#005a8c","#0099d1","#a68721","#806000"],5:["#005a8c","#0099d1","#a3d9bb","#a68721","#806000"],6:["#005a8c","#0099d1","#00b5f2","#b1ae74","#a68721","#806000"],7:["#005a8c","#0099d1","#00b5f2","#a3d9bb","#b1ae74","#a68721","#806000"],8:["#005a8c","#007aad","#0099d1","#00b5f2","#b1ae74","#a68721","#937411","#806000"],9:["#005a8c","#007aad","#0099d1","#00b5f2","#a3d9bb","#b1ae74","#a68721","#937411","#806000"],10:["#005a8c","#007aad","#0099d1","#00b5f2","#4cc3d9","#a3d9bb","#b1ae74","#a68721","#937411","#806000"],stops:["#005a8c","#0099d1","#a3d9bb","#a68721","#806000"],tags:["light","blues","browns","lines","diverging","colorblind-friendly"],name:"Queen Conch Shell"},"div-lines-green-purple":{1:["#ebb788"],2:["#3a7300","#ab0080"],3:["#3a7300","#ebb788","#ab0080"],4:["#3a7300","#53a600","#d957b9","#ab0080"],5:["#3a7300","#53a600","#ebb788","#d957b9","#ab0080"],6:["#3a7300","#53a600","#83a63c","#e39199","#d957b9","#ab0080"],7:["#3a7300","#53a600","#83a63c","#ebb788","#e39199","#d957b9","#ab0080"],8:["#3a7300","#478d00","#53a600","#83a63c","#e39199","#d957b9","#c62ca0","#ab0080"],9:["#3a7300","#478d00","#53a600","#83a63c","#ebb788","#e39199","#d957b9","#c62ca0","#ab0080"],10:["#3a7300","#478d00","#53a600","#83a63c","#ebb788","#e39199","#e673b0","#d957b9","#c62ca0","#ab0080"],stops:["#3a7300","#53a600","#ebb788","#d957b9","#ab0080"],tags:["light","greens","purples","pinks","lines","diverging","colorblind-friendly"],name:"Thai Lily"},"div-lines-red-gray":{1:["#b89fa0"],2:["#850000","#50567a"],3:["#850000","#b89fa0","#50567a"],4:["#850000","#d12020","#8790bf","#50567a"],5:["#850000","#d12020","#b89fa0","#8790bf","#50567a"],6:["#850000","#d12020","#eb2f2f","#8790bf","#6c739d","#50567a"],7:["#850000","#d12020","#eb2f2f","#b89fa0","#8790bf","#6c739d","#50567a"],8:["#850000","#ac1010","#d12020","#eb2f2f","#9b92b9","#8790bf","#6c739d","#50567a"],9:["#850000","#ac1010","#d12020","#eb2f2f","#b89fa0","#9b92b9","#8790bf","#6c739d","#50567a"],10:["#850000","#ac1010","#d12020","#eb2f2f","#e3717e","#b89fa0","#9b92b9","#8790bf","#6c739d","#50567a"],stops:["#850000","#d12020","#b89fa0","#8790bf","#50567a"],tags:["light","reds","grays","lines","diverging","colorblind-friendly"],name:"Icy Rouge"},"div-lines-green-orange":{1:["#315b61"],2:["#ffaa00","#00ffd4"],3:["#ffaa00","#315b61","#00ffd4"],4:["#ffaa00","#b45a00","#00b294","#00ffd4"],5:["#ffaa00","#b45a00","#315b61","#00b294","#00ffd4"],6:["#ffaa00","#e67500","#b45a00","#008c74","#00b294","#00ffd4"],7:["#ffaa00","#e67500","#b45a00","#315b61","#008c74","#00b294","#00ffd4"],8:["#ffaa00","#f28e00","#e67500","#b45a00","#008c74","#00b294","#00d9b4","#00ffd4"],9:["#ffaa00","#f28e00","#e67500","#b45a00","#315b61","#008c74","#00b294","#00d9b4","#00ffd4"],10:["#ffaa00","#f28e00","#e67500","#cd6700","#b45a00","#315b61","#008c74","#00b294","#00d9b4","#00ffd4"],stops:["#ffaa00","#b45a00","#315b61","#00b294","#00ffd4"],tags:["dark","oranges","greens","lines","diverging","colorblind-friendly"],name:"Halloween Morning"},"div-lines-yellow-blue":{1:["#2d5959"],2:["#ffff00","#99bbff"],3:["#ffff00","#2d5959","#99bbff"],4:["#ffff00","#a19700","#457ae6","#99bbff"],5:["#ffff00","#a19700","#2d5959","#457ae6","#99bbff"],6:["#ffff00","#c0ba00","#a19700","#457ae6","#6f9bf3","#99bbff"],7:["#ffff00","#c0ba00","#a19700","#2d5959","#457ae6","#6f9bf3","#99bbff"],8:["#ffff00","#c0ba00","#a19700","#67782d","#3b6ba3","#457ae6","#6f9bf3","#99bbff"],9:["#ffff00","#c0ba00","#a19700","#67782d","#2d5959","#3b6ba3","#457ae6","#6f9bf3","#99bbff"],10:["#ffff00","#e0dc00","#c0ba00","#a19700","#67782d","#2d5959","#3b6ba3","#457ae6","#6f9bf3","#99bbff"],stops:["#ffff00","#a19700","#2d5959","#457ae6","#99bbff"],tags:["dark","yellows","blues","lines","diverging","colorblind-friendly"],name:"Fire and Ice"},"div-esribrand-red-bluegreen":{1:["#f07062"],2:["#d83020","#009b98"],3:["#d83020","#ffe0d9","#009b98"],4:["#a8281e","#f07062","#00bab5","#00807d"],5:["#a8281e","#f07062","#ffe0d9","#00bab5","#00807d"],6:["#a8281e","#f07062","#fbb3ab","#56d6d4","#00bab5","#00807d"],7:["#a8281e","#f07062","#fbb3ab","#ffe0d9","#56d6d4","#00bab5","#00807d"],8:["#a8281e","#d83020","#f07062","#fbb3ab","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#a8281e","#d83020","#f07062","#fbb3ab","#ffe0d9","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#a8281e","#d83020","#f07062","#fbb3ab","#ffe0d9","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#a8281e","#f07062","#ffe0d9","#00bab5","#00807d"],tags:["light","reds","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Green 1"},"div-esribrand-red-blue":{1:["#f07062"],2:["#d83020","#007ac2"],3:["#d83020","#ffd6cc","#007ac2"],4:["#a8281e","#f07062","#50a7da","#00619b"],5:["#a8281e","#f07062","#ffd6cc","#50a7da","#00619b"],6:["#a8281e","#f07062","#fbb1a8","#8ec4e6","#50a7da","#00619b"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#8ec4e6","#50a7da","#00619b"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#c7cfd9","#8ec4e6","#50a7da","#00619b"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#c7cfd9","#8ec4e6","#50a7da","#00619b"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#c7cfd9","#8ec4e6","#50a7da","#007ac2","#00619b"],stops:["#a8281e","#f07062","#ffd6cc","#50a7da","#00619b"],tags:["light","reds","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Blue 1"},"div-esribrand-red-violet":{1:["#f07062"],2:["#d83020","#6a3fa6"],3:["#d83020","#ffd6cc","#6a3fa6"],4:["#a8281e","#f07062","#987ac3","#4e2c7e"],5:["#a8281e","#f07062","#ffd6cc","#987ac3","#4e2c7e"],6:["#a8281e","#f07062","#fbb1a8","#c1a7d9","#987ac3","#4e2c7e"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#c1a7d9","#987ac3","#4e2c7e"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#e0bfdd","#c1a7d9","#987ac3","#4e2c7e"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e0bfdd","#c1a7d9","#987ac3","#4e2c7e"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e0bfdd","#c1a7d9","#987ac3","#6a3fa6","#4e2c7e"],stops:["#a8281e","#f07062","#ffd6cc","#987ac3","#4e2c7e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 1"},"div-esribrand-red-violetred":{1:["#f07062"],2:["#d83020","#8e499b"],3:["#d83020","#ffd6cc","#8e499b"],4:["#a8281e","#f07062","#b983c3","#73377e"],5:["#a8281e","#f07062","#ffd6cc","#b983c3","#73377e"],6:["#a8281e","#f07062","#fbb1a8","#d3abd5","#b983c3","#73377e"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#d3abd5","#b983c3","#73377e"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#e9beca","#d3abd5","#b983c3","#73377e"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e9beca","#d3abd5","#b983c3","#73377e"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e9beca","#d3abd5","#b983c3","#8e499b","#73377e"],stops:["#a8281e","#f07062","#ffd6cc","#b983c3","#73377e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 2"},"div-esribrand-red-gray":{1:["#ffd6cc"],2:["#a8281e","#404040"],3:["#a8281e","#ffd6cc","#404040"],4:["#a8281e","#f07062","#999999","#404040"],5:["#a8281e","#f07062","#ffd6cc","#999999","#404040"],6:["#a8281e","#f07062","#fbb1a8","#d6c5c3","#999999","#404040"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#d6c5c3","#999999","#404040"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#d6c5c3","#c0bab9","#999999","#404040"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#d6c5c3","#c0bab9","#999999","#404040"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#d6c5c3","#c0bab9","#999999","#666666","#404040"],stops:["#a8281e","#f07062","#ffd6cc","#999999","#404040"],tags:["light","reds","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Gray 1"},"div-esribrand-redorange-greenblue":{1:["#e97e5a"],2:["#da4d1e","#009b98"],3:["#da4d1e","#ffd0bf","#009b98"],4:["#963413","#e97e5a","#00bab5","#00807d"],5:["#963413","#e97e5a","#ffd0bf","#00bab5","#00807d"],6:["#963413","#e97e5a","#f4a78d","#56d6d4","#00bab5","#00807d"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#56d6d4","#00bab5","#00807d"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#963413","#e97e5a","#ffd0bf","#00bab5","#00807d"],tags:["light","reds","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Green 2"},"div-esribrand-redorange-blue":{1:["#e97e5a"],2:["#da4d1e","#3c8ab8"],3:["#da4d1e","#ffd0bf","#3c8ab8"],4:["#963413","#e97e5a","#79b2d5","#00619b"],5:["#963413","#e97e5a","#ffd0bf","#79b2d5","#00619b"],6:["#963413","#e97e5a","#f4a78d","#a5cbe3","#79b2d5","#00619b"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#a5cbe3","#79b2d5","#00619b"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#d2ced1","#a5cbe3","#79b2d5","#00619b"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2ced1","#a5cbe3","#79b2d5","#00619b"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2ced1","#a5cbe3","#79b2d5","#3c8ab8","#00619b"],stops:["#963413","#e97e5a","#ffd0bf","#79b2d5","#00619b"],tags:["light","reds","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Blue 2"},"div-esribrand-redorange-violet":{1:["#e97e5a"],2:["#da4d1e","#633b9b"],3:["#da4d1e","#ffd0bf","#633b9b"],4:["#963413","#e97e5a","#987ac3","#4e2c7e"],5:["#963413","#e97e5a","#ffd0bf","#987ac3","#4e2c7e"],6:["#963413","#e97e5a","#f4a78d","#bfa8d7","#987ac3","#4e2c7e"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#bfa8d7","#987ac3","#4e2c7e"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#d2bccb","#bfa8d7","#987ac3","#4e2c7e"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2bccb","#bfa8d7","#987ac3","#4e2c7e"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2bccb","#bfa8d7","#987ac3","#633b9b","#4e2c7e"],stops:["#963413","#e97e5a","#ffd0bf","#987ac3","#4e2c7e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 3"},"div-esribrand-redorange-violetred":{1:["#e97e5a"],2:["#da4d1e","#8e499b"],3:["#da4d1e","#ffd0bf","#8e499b"],4:["#963413","#e97e5a","#b983c3","#73377e"],5:["#963413","#e97e5a","#ffd0bf","#b983c3","#73377e"],6:["#963413","#e97e5a","#f4a78d","#d3abd5","#b983c3","#73377e"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#d3abd5","#b983c3","#73377e"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#e9beca","#d3abd5","#b983c3","#73377e"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#e9beca","#d3abd5","#b983c3","#73377e"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#e9beca","#d3abd5","#b983c3","#8e499b","#73377e"],stops:["#963413","#e97e5a","#ffd0bf","#b983c3","#73377e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 4"},"div-esribrand-redorange-gray":{1:["#e97e5a"],2:["#da4d1e","#666666"],3:["#da4d1e","#ffd0bf","#666666"],4:["#963413","#e97e5a","#999999","#404040"],5:["#963413","#e97e5a","#ffd0bf","#999999","#404040"],6:["#963413","#e97e5a","#f4a78d","#bcbcbc","#999999","#404040"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#bcbcbc","#999999","#404040"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#d7c6be","#bcbcbc","#999999","#404040"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d7c6be","#bcbcbc","#999999","#404040"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d7c6be","#bcbcbc","#999999","#666666","#404040"],stops:["#963413","#e97e5a","#ffd0bf","#999999","#404040"],tags:["light","reds","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Gray 2"},"div-esribrand-orange-greenblue":{1:["#f89960"],2:["#f36f20","#009b98"],3:["#f36f20","#ffd8bf","#009b98"],4:["#b35116","#f89960","#00bab5","#00807d"],5:["#b35116","#f89960","#ffd8bf","#00bab5","#00807d"],6:["#b35116","#f89960","#fcb990","#56d6d4","#00bab5","#00807d"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#56d6d4","#00bab5","#00807d"],8:["#b35116","#f36f20","#f89960","#fcb990","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#b35116","#f89960","#ffd8bf","#00bab5","#00807d"],tags:["light","reds","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Green 1"},"div-esribrand-orange-blue":{1:["#f89960"],2:["#f36f20","#007ac2"],3:["#f36f20","#ffd8bf","#007ac2"],4:["#b35116","#f89960","#50a7da","#00619b"],5:["#b35116","#f89960","#ffd8bf","#50a7da","#00619b"],6:["#b35116","#f89960","#fcb990","#91bcd5","#50a7da","#00619b"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#91bcd5","#50a7da","#00619b"],8:["#b35116","#f36f20","#f89960","#fcb990","#d1d1d0","#91bcd5","#50a7da","#00619b"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d1d1d0","#91bcd5","#50a7da","#00619b"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d1d1d0","#91bcd5","#50a7da","#007ac2","#00619b"],stops:["#b35116","#f89960","#ffd8bf","#50a7da","#00619b"],tags:["light","oranges","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Blue 1"},"div-esribrand-orange-violet":{1:["#f89960"],2:["#f36f20","#633b9b"],3:["#f36f20","#ffd8bf","#633b9b"],4:["#b35116","#f89960","#987ac3","#4e2c7e"],5:["#b35116","#f89960","#ffd8bf","#987ac3","#4e2c7e"],6:["#b35116","#f89960","#fcb990","#bca0ca","#987ac3","#4e2c7e"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#bca0ca","#987ac3","#4e2c7e"],8:["#b35116","#f36f20","#f89960","#fcb990","#e0c5d0","#bca0ca","#987ac3","#4e2c7e"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#e0c5d0","#bca0ca","#987ac3","#4e2c7e"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#e0c5d0","#bca0ca","#987ac3","#633b9b","#4e2c7e"],stops:["#b35116","#f89960","#ffd8bf","#987ac3","#4e2c7e"],tags:["light","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 1"},"div-esribrand-orange-violetred":{1:["#f89960"],2:["#f36f20","#8e499b"],3:["#f36f20","#ffd8bf","#8e499b"],4:["#b35116","#f89960","#b983c3","#73377e"],5:["#b35116","#f89960","#ffd8bf","#b983c3","#73377e"],6:["#b35116","#f89960","#fcb990","#d5a6cc","#b983c3","#73377e"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#d5a6cc","#b983c3","#73377e"],8:["#b35116","#f36f20","#f89960","#fcb990","#f0c8d4","#d5a6cc","#b983c3","#73377e"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#f0c8d4","#d5a6cc","#b983c3","#73377e"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#f0c8d4","#d5a6cc","#b983c3","#8e499b","#73377e"],stops:["#b35116","#f89960","#ffd8bf","#b983c3","#73377e"],tags:["light","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 2"},"div-esribrand-orange-gray":{1:["#f89960"],2:["#f36f20","#666666"],3:["#f36f20","#ffd8bf","#666666"],4:["#b35116","#f89960","#999999","#404040"],5:["#b35116","#f89960","#ffd8bf","#999999","#404040"],6:["#b35116","#f89960","#fcb990","#b8b2ac","#999999","#404040"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#b8b2ac","#999999","#404040"],8:["#b35116","#f36f20","#f89960","#fcb990","#d7cbbf","#b8b2ac","#999999","#404040"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d7cbbf","#b8b2ac","#999999","#404040"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d7cbbf","#b8b2ac","#999999","#666666","#404040"],stops:["#b35116","#f89960","#ffd8bf","#999999","#404040"],tags:["light","oranges","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Gray 1"},"div-esribrand-orangeyellow-greenblue":{1:["#fbb664"],2:["#f29526","#009b98"],3:["#f29526","#ffe7c7","#009b98"],4:["#c67718","#fbb664","#00bab5","#00807d"],5:["#c67718","#fbb664","#ffe7c7","#00bab5","#00807d"],6:["#c67718","#fbb664","#fdcc92","#56d6d4","#00bab5","#00807d"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#56d6d4","#00bab5","#00807d"],8:["#c67718","#f29526","#fbb664","#fdcc92","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#c67718","#fbb664","#ffe7c7","#00bab5","#00807d"],tags:["light","browns","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Green 2"},"div-esribrand-orangeyellow-blue":{1:["#fbb664"],2:["#f29526","#007ac2"],3:["#f29526","#ffe7c7","#007ac2"],4:["#c67718","#fbb664","#50a7da","#00619b"],5:["#c67718","#fbb664","#ffe7c7","#50a7da","#00619b"],6:["#c67718","#fbb664","#fdcc92","#8cc9ed","#50a7da","#00619b"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#8cc9ed","#50a7da","#00619b"],8:["#c67718","#f29526","#fbb664","#fdcc92","#c6d8da","#8cc9ed","#50a7da","#00619b"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#c6d8da","#8cc9ed","#50a7da","#00619b"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#c6d8da","#8cc9ed","#50a7da","#007ac2","#00619b"],stops:["#c67718","#fbb664","#ffe7c7","#50a7da","#00619b"],tags:["light","browns","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Blue 2"},"div-esribrand-orangeyellow-violet":{1:["#fbb664"],2:["#f29526","#633b9b"],3:["#f29526","#ffe7c7","#633b9b"],4:["#c67718","#fbb664","#987ac3","#4e2c7e"],5:["#c67718","#fbb664","#ffe7c7","#987ac3","#4e2c7e"],6:["#c67718","#fbb664","#fdcc92","#c0aae1","#987ac3","#4e2c7e"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#c0aae1","#987ac3","#4e2c7e"],8:["#c67718","#f29526","#fbb664","#fdcc92","#e0c9d4","#c0aae1","#987ac3","#4e2c7e"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#e0c9d4","#c0aae1","#987ac3","#4e2c7e"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#e0c9d4","#c0aae1","#987ac3","#633b9b","#4e2c7e"],stops:["#c67718","#fbb664","#ffe7c7","#987ac3","#4e2c7e"],tags:["light","browns","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 3"},"div-esribrand-orangeyellow-violetred":{1:["#fbb664"],2:["#f29526","#8e499b"],3:["#f29526","#ffe7c7","#8e499b"],4:["#c67718","#fbb664","#b983c3","#73377e"],5:["#c67718","#fbb664","#ffe7c7","#b983c3","#73377e"],6:["#c67718","#fbb664","#fdcc92","#daafe1","#b983c3","#73377e"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#daafe1","#b983c3","#73377e"],8:["#c67718","#f29526","#fbb664","#fdcc92","#edcbd4","#daafe1","#b983c3","#73377e"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#edcbd4","#daafe1","#b983c3","#73377e"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#edcbd4","#daafe1","#b983c3","#8e499b","#73377e"],stops:["#c67718","#fbb664","#ffe7c7","#b983c3","#73377e"],tags:["light","browns","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 4"},"div-esribrand-orangeyellow-gray":{1:["#fbb664"],2:["#f29526","#666666"],3:["#f29526","#ffe7c7","#666666"],4:["#c67718","#fbb664","#999999","#404040"],5:["#c67718","#fbb664","#ffe7c7","#999999","#404040"],6:["#c67718","#fbb664","#fdcc92","#bcbcbc","#999999","#404040"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#bcbcbc","#999999","#404040"],8:["#c67718","#f29526","#fbb664","#fdcc92","#d7d2c2","#bcbcbc","#999999","#404040"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#d7d2c2","#bcbcbc","#999999","#404040"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#d7d2c2","#bcbcbc","#999999","#666666","#404040"],stops:["#c67718","#fbb664","#ffe7c7","#999999","#404040"],tags:["light","browns","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Gray 2"},"div-esribrand-yellow-green-blue":{1:["#e8d966"],2:["#dbc62c","#009b98"],3:["#dbc62c","#fff58f","#009b98"],4:["#beac2d","#e8d966","#00bab5","#00807d"],5:["#beac2d","#e8d966","#fff58f","#00bab5","#00807d"],6:["#beac2d","#e8d966","#f5e998","#56d6d4","#00bab5","#00807d"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#56d6d4","#00bab5","#00807d"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#beac2d","#e8d966","#fff58f","#00bab5","#00807d"],tags:["light","yellows","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Green 1"},"div-esribrand-yellow-blue":{1:["#e8d966"],2:["#dbc62c","#007ac2"],3:["#dbc62c","#fff58f","#007ac2"],4:["#beac2d","#e8d966","#50a7da","#00619b"],5:["#beac2d","#e8d966","#fff58f","#50a7da","#00619b"],6:["#beac2d","#e8d966","#f5e998","#8ec7de","#50a7da","#00619b"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#8ec7de","#50a7da","#00619b"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#cce6e2","#8ec7de","#50a7da","#00619b"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#cce6e2","#8ec7de","#50a7da","#00619b"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#cce6e2","#8ec7de","#50a7da","#007ac2","#00619b"],stops:["#beac2d","#e8d966","#fff58f","#50a7da","#00619b"],tags:["light","yellows","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Blue 1"},"div-esribrand-yellow-violet":{1:["#e8d966"],2:["#dbc62c","#633b9b"],3:["#dbc62c","#fff58f","#633b9b"],4:["#beac2d","#e8d966","#987ac3","#4e2c7e"],5:["#beac2d","#e8d966","#fff58f","#987ac3","#4e2c7e"],6:["#beac2d","#e8d966","#f5e998","#bfa8cc","#987ac3","#4e2c7e"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#bfa8cc","#987ac3","#4e2c7e"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#e6d5d5","#bfa8cc","#987ac3","#4e2c7e"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6d5d5","#bfa8cc","#987ac3","#4e2c7e"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6d5d5","#bfa8cc","#987ac3","#633b9b","#4e2c7e"],stops:["#beac2d","#e8d966","#fff58f","#987ac3","#4e2c7e"],tags:["light","yellows","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Purple 1"},"div-esribrand-yellow-violetred":{1:["#e8d966"],2:["#dbc62c","#8e499b"],3:["#dbc62c","#fff58f","#8e499b"],4:["#beac2d","#e8d966","#b983c3","#73377e"],5:["#beac2d","#e8d966","#fff58f","#b983c3","#73377e"],6:["#beac2d","#e8d966","#f5e998","#d6adcc","#b983c3","#73377e"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#d6adcc","#b983c3","#73377e"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#f2d7d5","#d6adcc","#b983c3","#73377e"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f2d7d5","#d6adcc","#b983c3","#73377e"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f2d7d5","#d6adcc","#b983c3","#8e499b","#73377e"],stops:["#beac2d","#e8d966","#fff58f","#b983c3","#73377e"],tags:["light","yellows","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Purple 2"},"div-esribrand-yellow-brown":{1:["#e8d966"],2:["#dbc62c","#85551e"],3:["#dbc62c","#fff58f","#85551e"],4:["#beac2d","#e8d966","#ad8b62","#664015"],5:["#beac2d","#e8d966","#fff58f","#ad8b62","#664015"],6:["#beac2d","#e8d966","#f5e998","#cfb489","#ad8b62","#664015"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#cfb489","#ad8b62","#664015"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#f0dcb0","#cfb489","#ad8b62","#664015"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f0dcb0","#cfb489","#ad8b62","#664015"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f0dcb0","#cfb489","#ad8b62","#85551e","#664015"],stops:["#beac2d","#e8d966","#fff58f","#ad8b62","#664015"],tags:["light","yellows","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Bananas"},"div-esribrand-yellow-gray":{1:["#e8d966"],2:["#dbc62c","#666666"],3:["#dbc62c","#fff58f","#666666"],4:["#beac2d","#e8d966","#999999","#404040"],5:["#beac2d","#e8d966","#fff58f","#999999","#404040"],6:["#beac2d","#e8d966","#f5e998","#bcbcbc","#999999","#404040"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#bcbcbc","#999999","#404040"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#e6e0c4","#bcbcbc","#999999","#404040"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6e0c4","#bcbcbc","#999999","#404040"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6e0c4","#bcbcbc","#999999","#666666","#404040"],stops:["#beac2d","#e8d966","#fff58f","#999999","#404040"],tags:["light","yellows","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Gray 1"},"div-esribrand-yellowgreen-greenblue":{1:["#c2e075"],2:["#aad048","#009b98"],3:["#aad048","#daf2de","#009b98"],4:["#84a338","#c2e075","#00bab5","#00807d"],5:["#84a338","#c2e075","#daf2de","#00bab5","#00807d"],6:["#84a338","#c2e075","#daebab","#56d6d4","#00bab5","#00807d"],7:["#84a338","#c2e075","#daebab","#daf2de","#56d6d4","#00bab5","#00807d"],8:["#84a338","#aad048","#c2e075","#daebab","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#84a338","#c2e075","#daf2de","#00bab5","#00807d"],tags:["light","greens","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Blue 1"},"div-esribrand-yellowgreen-blue":{1:["#c2e075"],2:["#aad048","#007ac2"],3:["#aad048","#daf2de","#007ac2"],4:["#84a338","#c2e075","#50a7da","#00619b"],5:["#84a338","#c2e075","#daf2de","#50a7da","#00619b"],6:["#84a338","#c2e075","#daebab","#8cc9ed","#50a7da","#00619b"],7:["#84a338","#c2e075","#daebab","#daf2de","#8cc9ed","#50a7da","#00619b"],8:["#84a338","#aad048","#c2e075","#daebab","#bce4ee","#8cc9ed","#50a7da","#00619b"],9:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#bce4ee","#8cc9ed","#50a7da","#00619b"],10:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#bce4ee","#8cc9ed","#50a7da","#007ac2","#00619b"],stops:["#84a338","#c2e075","#daf2de","#50a7da","#00619b"],tags:["light","greens","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Blue 2"},"div-esribrand-yellowgreen-violet":{1:["#c2e075"],2:["#aad048","#633b9b"],3:["#aad048","#e6e8da","#633b9b"],4:["#84a338","#c2e075","#987ac3","#4e2c7e"],5:["#84a338","#c2e075","#e6e8da","#987ac3","#4e2c7e"],6:["#84a338","#c2e075","#daebab","#c0aae1","#987ac3","#4e2c7e"],7:["#84a338","#c2e075","#daebab","#e6e8da","#c0aae1","#987ac3","#4e2c7e"],8:["#84a338","#aad048","#c2e075","#daebab","#dad0e6","#c0aae1","#987ac3","#4e2c7e"],9:["#84a338","#aad048","#c2e075","#daebab","#e6e8da","#dad0e6","#c0aae1","#987ac3","#4e2c7e"],10:["#84a338","#aad048","#c2e075","#daebab","#e6e8da","#dad0e6","#c0aae1","#987ac3","#633b9b","#4e2c7e"],stops:["#84a338","#c2e075","#e6e8da","#987ac3","#4e2c7e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 1"},"div-esribrand-yellowgreen-violetred":{1:["#c2e075"],2:["#aad048","#8e499b"],3:["#aad048","#ede9e2","#8e499b"],4:["#84a338","#c2e075","#b983c3","#73377e"],5:["#84a338","#c2e075","#ede9e2","#b983c3","#73377e"],6:["#84a338","#c2e075","#daebab","#daafe1","#b983c3","#73377e"],7:["#84a338","#c2e075","#daebab","#ede9e2","#daafe1","#b983c3","#73377e"],8:["#84a338","#aad048","#c2e075","#daebab","#e9d1e6","#daafe1","#b983c3","#73377e"],9:["#84a338","#aad048","#c2e075","#daebab","#ede9e2","#e9d1e6","#daafe1","#b983c3","#73377e"],10:["#84a338","#aad048","#c2e075","#daebab","#ede9e2","#e9d1e6","#daafe1","#b983c3","#8e499b","#73377e"],stops:["#84a338","#c2e075","#ede9e2","#b983c3","#73377e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 2"},"div-esribrand-yellowgreen-brown":{1:["#c2e075"],2:["#aad048","#7b4f1c"],3:["#aad048","#f5f4cf","#7b4f1c"],4:["#84a338","#c2e075","#ad8b62","#664015"],5:["#84a338","#c2e075","#f5f4cf","#ad8b62","#664015"],6:["#84a338","#c2e075","#daebab","#d2b797","#ad8b62","#664015"],7:["#84a338","#c2e075","#daebab","#f5f4cf","#d2b797","#ad8b62","#664015"],8:["#84a338","#aad048","#c2e075","#daebab","#e6d8b6","#d2b797","#ad8b62","#664015"],9:["#84a338","#aad048","#c2e075","#daebab","#f5f4cf","#e6d8b6","#d2b797","#ad8b62","#664015"],10:["#84a338","#aad048","#c2e075","#daebab","#f5f4cf","#e6d8b6","#d2b797","#ad8b62","#7b4f1c","#664015"],stops:["#84a338","#c2e075","#f5f4cf","#ad8b62","#664015"],tags:["light","greens","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Brown 1"},"div-esribrand-yellowgreen-gray":{1:["#c2e075"],2:["#aad048","#666666"],3:["#aad048","#ecf2dd","#666666"],4:["#84a338","#c2e075","#999999","#404040"],5:["#84a338","#c2e075","#ecf2dd","#999999","#404040"],6:["#84a338","#c2e075","#daebab","#bcbcbc","#999999","#404040"],7:["#84a338","#c2e075","#daebab","#ecf2dd","#bcbcbc","#999999","#404040"],8:["#84a338","#aad048","#c2e075","#daebab","#d7dacf","#bcbcbc","#999999","#404040"],9:["#84a338","#aad048","#c2e075","#daebab","#ecf2dd","#d7dacf","#bcbcbc","#999999","#404040"],10:["#84a338","#aad048","#c2e075","#daebab","#ecf2dd","#d7dacf","#bcbcbc","#999999","#666666","#404040"],stops:["#84a338","#c2e075","#ecf2dd","#999999","#404040"],tags:["light","greens","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Gray 1"},"div-esribrand-green-blue":{1:["#6bc878"],2:["#35ac46","#007ac2"],3:["#35ac46","#d2f7ed","#007ac2"],4:["#288835","#6bc878","#50a7da","#00619b"],5:["#288835","#6bc878","#d2f7ed","#50a7da","#00619b"],6:["#288835","#6bc878","#b0e6b8","#7dc4e3","#50a7da","#00619b"],7:["#288835","#6bc878","#b0e6b8","#d2f7ed","#7dc4e3","#50a7da","#00619b"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#abe2eb","#7dc4e3","#50a7da","#00619b"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#d2f7ed","#abe2eb","#7dc4e3","#50a7da","#00619b"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#d2f7ed","#abe2eb","#7dc4e3","#50a7da","#007ac2","#00619b"],stops:["#288835","#6bc878","#d2f7ed","#50a7da","#00619b"],tags:["light","greens","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Blue 3"},"div-esribrand-green-violet":{1:["#6bc878"],2:["#35ac46","#633b9b"],3:["#35ac46","#dfebe9","#633b9b"],4:["#288835","#6bc878","#987ac3","#4e2c7e"],5:["#288835","#6bc878","#dfebe9","#987ac3","#4e2c7e"],6:["#288835","#6bc878","#b0e6b8","#b2a2d2","#987ac3","#4e2c7e"],7:["#288835","#6bc878","#b0e6b8","#dfebe9","#b2a2d2","#987ac3","#4e2c7e"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#cccae1","#b2a2d2","#987ac3","#4e2c7e"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#dfebe9","#cccae1","#b2a2d2","#987ac3","#4e2c7e"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#dfebe9","#cccae1","#b2a2d2","#987ac3","#633b9b","#4e2c7e"],stops:["#288835","#6bc878","#dfebe9","#987ac3","#4e2c7e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 3"},"div-esribrand-green-violetred":{1:["#6bc878"],2:["#35ac46","#8e499b"],3:["#35ac46","#e2ebe7","#8e499b"],4:["#288835","#6bc878","#b983c3","#73377e"],5:["#288835","#6bc878","#e2ebe7","#b983c3","#73377e"],6:["#288835","#6bc878","#b0e6b8","#c9a8d1","#b983c3","#73377e"],7:["#288835","#6bc878","#b0e6b8","#e2ebe7","#c9a8d1","#b983c3","#73377e"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#d9cde0","#c9a8d1","#b983c3","#73377e"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#e2ebe7","#d9cde0","#c9a8d1","#b983c3","#73377e"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#e2ebe7","#d9cde0","#c9a8d1","#b983c3","#8e499b","#73377e"],stops:["#288835","#6bc878","#e2ebe7","#b983c3","#73377e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 4"},"div-esribrand-green-gray":{1:["#6bc878"],2:["#35ac46","#666666"],3:["#35ac46","#daeddd","#666666"],4:["#288835","#6bc878","#999999","#404040"],5:["#288835","#6bc878","#daeddd","#999999","#404040"],6:["#288835","#6bc878","#b0e6b8","#b1b8b2","#999999","#404040"],7:["#288835","#6bc878","#b0e6b8","#daeddd","#b1b8b2","#999999","#404040"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#c9d6cb","#b1b8b2","#999999","#404040"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#daeddd","#c9d6cb","#b1b8b2","#999999","#404040"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#daeddd","#c9d6cb","#b1b8b2","#999999","#666666","#404040"],stops:["#288835","#6bc878","#daeddd","#999999","#404040"],tags:["light","greens","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Gray 2"},"div-esribrand-greenblue-blue":{1:["#00bab5"],2:["#009b98","#007ac2"],3:["#009b98","#d2f7ed","#007ac2"],4:["#00807d","#00bab5","#50a7da","#00619b"],5:["#00807d","#00bab5","#d2f7ed","#50a7da","#00619b"],6:["#00807d","#00bab5","#5ae0de","#8cc9ed","#50a7da","#00619b"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#8cc9ed","#50a7da","#00619b"],8:["#00807d","#009b98","#00bab5","#5ae0de","#bce4ee","#8cc9ed","#50a7da","#00619b"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#bce4ee","#8cc9ed","#50a7da","#00619b"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#bce4ee","#8cc9ed","#50a7da","#007ac2","#00619b"],stops:["#00807d","#00bab5","#d2f7ed","#50a7da","#00619b"],tags:["light","greens","blues","diverging","esri-brand"],name:"Esri Green and Blue 4"},"div-esribrand-greenblue-violetred":{1:["#00bab5"],2:["#009b98","#8e499b"],3:["#009b98","#d2f7ed","#8e499b"],4:["#00807d","#00bab5","#b983c3","#73377e"],5:["#00807d","#00bab5","#d2f7ed","#b983c3","#73377e"],6:["#00807d","#00bab5","#5ae0de","#daafe1","#b983c3","#73377e"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#daafe1","#b983c3","#73377e"],8:["#00807d","#009b98","#00bab5","#5ae0de","#e9d1e6","#daafe1","#b983c3","#73377e"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e9d1e6","#daafe1","#b983c3","#73377e"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e9d1e6","#daafe1","#b983c3","#8e499b","#73377e"],stops:["#00807d","#00bab5","#d2f7ed","#b983c3","#73377e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 5"},"div-esribrand-greenblue-brown":{1:["#00bab5"],2:["#009b98","#7b4f1c"],3:["#009b98","#d2f7ed","#7b4f1c"],4:["#00807d","#00bab5","#ad8b62","#664015"],5:["#00807d","#00bab5","#d2f7ed","#ad8b62","#664015"],6:["#00807d","#00bab5","#5ae0de","#d2b797","#ad8b62","#664015"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#d2b797","#ad8b62","#664015"],8:["#00807d","#009b98","#00bab5","#5ae0de","#e6d8b6","#d2b797","#ad8b62","#664015"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e6d8b6","#d2b797","#ad8b62","#664015"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e6d8b6","#d2b797","#ad8b62","#7b4f1c","#664015"],stops:["#00807d","#00bab5","#d2f7ed","#ad8b62","#664015"],tags:["light","greens","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Brown 2"},"div-esribrand-greenblue-gray":{1:["#00bab5"],2:["#009b98","#666666"],3:["#009b98","#d2f7ed","#666666"],4:["#00807d","#00bab5","#999999","#404040"],5:["#00807d","#00bab5","#d2f7ed","#999999","#404040"],6:["#00807d","#00bab5","#5ae0de","#bcbcbc","#999999","#404040"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#bcbcbc","#999999","#404040"],8:["#00807d","#009b98","#00bab5","#5ae0de","#d7dacf","#bcbcbc","#999999","#404040"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#d7dacf","#bcbcbc","#999999","#404040"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#d7dacf","#bcbcbc","#999999","#666666","#404040"],stops:["#00807d","#00bab5","#d2f7ed","#999999","#404040"],tags:["light","greens","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Gray 3"},"div-esribrand-blue-brown":{1:["#50a7da"],2:["#007ac2","#7b4f1c"],3:["#007ac2","#d3e6e3","#7b4f1c"],4:["#00619b","#50a7da","#ad8b62","#664015"],5:["#00619b","#50a7da","#d3e6e3","#ad8b62","#664015"],6:["#00619b","#50a7da","#9bcde5","#c0ad91","#ad8b62","#664015"],7:["#00619b","#50a7da","#9bcde5","#d3e6e3","#c0ad91","#ad8b62","#664015"],8:["#00619b","#007ac2","#50a7da","#9bcde5","#d3d0c1","#c0ad91","#ad8b62","#664015"],9:["#00619b","#007ac2","#50a7da","#9bcde5","#d3e6e3","#d3d0c1","#c0ad91","#ad8b62","#664015"],10:["#00619b","#007ac2","#50a7da","#9bcde5","#d3e6e3","#d3d0c1","#c0ad91","#ad8b62","#7b4f1c","#664015"],stops:["#00619b","#50a7da","#d3e6e3","#ad8b62","#664015"],tags:["light","blues","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Blue and Brown 1"},"div-esribrand-blue-gray":{1:["#50a7da"],2:["#007ac2","#666666"],3:["#007ac2","#d7e3eb","#666666"],4:["#00619b","#50a7da","#999999","#404040"],5:["#00619b","#50a7da","#d7e3eb","#999999","#404040"],6:["#00619b","#50a7da","#9bcde5","#b0b4b7","#999999","#404040"],7:["#00619b","#50a7da","#9bcde5","#d7e3eb","#b0b4b7","#999999","#404040"],8:["#00619b","#007ac2","#50a7da","#9bcde5","#c8d0d4","#b0b4b7","#999999","#404040"],9:["#00619b","#007ac2","#50a7da","#9bcde5","#d7e3eb","#c8d0d4","#b0b4b7","#999999","#404040"],10:["#00619b","#007ac2","#50a7da","#9bcde5","#d7e3eb","#c8d0d4","#b0b4b7","#999999","#666666","#404040"],stops:["#00619b","#50a7da","#d7e3eb","#999999","#404040"],tags:["light","blues","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Blue and Gray 1"},"div-esribrand-violet-brown":{1:["#987ac3"],2:["#6940a1","#7b4f1c"],3:["#6940a1","#faeff4","#7b4f1c"],4:["#4e2c7e","#987ac3","#ad8b62","#664015"],5:["#4e2c7e","#987ac3","#faeff4","#ad8b62","#664015"],6:["#4e2c7e","#987ac3","#decef7","#c7ac93","#ad8b62","#664015"],7:["#4e2c7e","#987ac3","#decef7","#faeff4","#c7ac93","#ad8b62","#664015"],8:["#4e2c7e","#6940a1","#987ac3","#decef7","#e0cec3","#c7ac93","#ad8b62","#664015"],9:["#4e2c7e","#6940a1","#987ac3","#decef7","#faeff4","#e0cec3","#c7ac93","#ad8b62","#664015"],10:["#4e2c7e","#6940a1","#987ac3","#decef7","#faeff4","#e0cec3","#c7ac93","#ad8b62","#7b4f1c","#664015"],stops:["#4e2c7e","#987ac3","#faeff4","#ad8b62","#664015"],tags:["light","purples","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Purple and Brown 1"},"esribrand-violet-gray":{1:["#987ac3"],2:["#6940a1","#666666"],3:["#6940a1","#f4effa","#666666"],4:["#4e2c7e","#987ac3","#999999","#404040"],5:["#4e2c7e","#987ac3","#f4effa","#999999","#404040"],6:["#4e2c7e","#987ac3","#decef7","#b7b6b9","#999999","#404040"],7:["#4e2c7e","#987ac3","#decef7","#f4effa","#b7b6b9","#999999","#404040"],8:["#4e2c7e","#6940a1","#987ac3","#decef7","#d6d2da","#b7b6b9","#999999","#404040"],9:["#4e2c7e","#6940a1","#987ac3","#decef7","#f4effa","#d6d2da","#b7b6b9","#999999","#404040"],10:["#4e2c7e","#6940a1","#987ac3","#decef7","#f4effa","#d6d2da","#b7b6b9","#999999","#666666","#404040"],stops:["#4e2c7e","#987ac3","#f4effa","#999999","#404040"],tags:["light","purples","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Purple and Gray 1"},"div-esribrand-violetred-gray":{1:["#b983c3"],2:["#8e499b","#666666"],3:["#8e499b","#eee1f0","#666666"],4:["#73377e","#b983c3","#999999","#404040"],5:["#73377e","#b983c3","#eee1f0","#999999","#404040"],6:["#73377e","#b983c3","#ebc8f0","#b0b4b7","#999999","#404040"],7:["#73377e","#b983c3","#ebc8f0","#eee1f0","#b0b4b7","#999999","#404040"],8:["#73377e","#8e499b","#b983c3","#ebc8f0","#d5cfd6","#b0b4b7","#999999","#404040"],9:["#73377e","#8e499b","#b983c3","#ebc8f0","#eee1f0","#d5cfd6","#b0b4b7","#999999","#404040"],10:["#73377e","#8e499b","#b983c3","#ebc8f0","#eee1f0","#d5cfd6","#b0b4b7","#999999","#666666","#404040"],stops:["#73377e","#b983c3","#eee1f0","#999999","#404040"],tags:["light","purples","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Purple and Gray 2"},"div-esribrand-brown-gray":{1:["#ad8b62"],2:["#7b4f1c","#666666"],3:["#7b4f1c","#f0e9df","#666666"],4:["#664015","#ad8b62","#999999","#404040"],5:["#664015","#ad8b62","#f0e9df","#999999","#404040"],6:["#664015","#ad8b62","#ebd5b7","#b0b4b7","#999999","#404040"],7:["#664015","#ad8b62","#ebd5b7","#f0e9df","#b0b4b7","#999999","#404040"],8:["#664015","#7b4f1c","#ad8b62","#ebd5b7","#d6d3ce","#b0b4b7","#999999","#404040"],9:["#664015","#7b4f1c","#ad8b62","#ebd5b7","#f0e9df","#d6d3ce","#b0b4b7","#999999","#404040"],10:["#664015","#7b4f1c","#ad8b62","#ebd5b7","#f0e9df","#d6d3ce","#b0b4b7","#999999","#666666","#404040"],stops:["#664015","#ad8b62","#f0e9df","#999999","#404040"],tags:["light","browns","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Brown and Gray 1"},"highlight-orange":{3:["rgba(165,50,23,0.40)","rgba(165,50,23,1.0)","rgba(165,50,23,0.40)"],5:["rgba(165,50,23,0.20)","rgba(165,50,23,0.60)","rgba(165,50,23,1.0)","rgba(165,50,23,0.60)","rgba(165,50,23,0.20)"],7:["rgba(165,50,23,0.10)","rgba(165,50,23,0.40)","rgba(165,50,23,0.70)","rgba(165,50,23,1.0)","rgba(165,50,23,0.70)","rgba(165,50,23,0.40)","rgba(165,50,23,0.10)"],9:["rgba(165,50,23,0.10)","rgba(165,50,23,0.33)","rgba(165,50,23,0.55)","rgba(165,50,23,0.78)","rgba(165,50,23,1.0)","rgba(165,50,23,0.78)","rgba(165,50,23,0.55)","rgba(165,50,23,0.33)","rgba(165,50,23,0.10)"],stops:["rgba(165,50,23,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1.0)","rgba(165,50,23,0.5)","rgba(165,50,23,0)"],tags:["reds","centered-on","colorblind-friendly"],name:"Centered on Red 1"},"highlight-bluegreen":{3:["rgba(0,66,56,0.40)","rgba(0,66,56,1.0)","rgba(0,66,56,0.40)"],5:["rgba(0,66,56,0.20)","rgba(0,66,56,0.60)","rgba(0,66,56,1.0)","rgba(0,66,56,0.60)","rgba(0,66,56,0.20)"],7:["rgba(0,66,56,0.10)","rgba(10,66,56,0.40)","rgba(0,66,56,0.70)","rgba(0,66,56,1.0)","rgba(0,66,56,0.70)","rgba(0,66,56,0.40)","rgba(0,66,56,0.10)"],9:["rgba(0,66,56,0.10)","rgba(0,66,56,0.33)","rgba(0,66,56,0.55)","rgba(0,66,56,0.78)","rgba(0,66,56,1.0)","rgba(0,66,56,0.78)","rgba(0,66,56,0.55)","rgba(0,66,56,0.33)","rgba(0,66,56,0.10)"],stops:["rgba(0,66,56,0)","rgba(0,66,56,0.5)","rgba(0,66,56,1.0)","rgba(0,66,56,0.5)","rgba(0,66,56,0)"],tags:["greens","centered-on","colorblind-friendly"],name:"Centered on Green 1"},"highlight-red":{3:["rgba(153,11,11,0.40)","rgba(153,11,11,1.0)","rgba(153,11,11,0.40)"],5:["rgba(153,11,11,0.20)","rgba(153,11,11,0.60)","rgba(153,11,11,1.0)","rgba(153,11,11,0.60)","rgba(153,11,11,0.20)"],7:["rgba(153,11,11,0.10)","rgba(153,11,11,0.40)","rgba(153,11,11,0.70)","rgba(153,11,11,1.0)","rgba(153,11,11,0.70)","rgba(153,11,11,0.40)","rgba(153,11,11,0.10)"],9:["rgba(153,11,11,0.10)","rgba(153,11,11,0.33)","rgba(153,11,11,0.55)","rgba(153,11,11,0.78)","rgba(153,11,11,1.0)","rgba(153,11,11,0.78)","rgba(153,11,11,0.55)","rgba(153,11,11,0.33)","rgba(153,11,11,0.10)"],stops:["rgba(153,11,11,0)","rgba(153,11,11,0.5)","rgba(153,11,11,1.0)","rgba(153,11,11,0.5)","rgba(153,11,11,0)"],tags:["reds","centered-on","bright","dark","colorblind-friendly"],name:"Centered on Red 2"},"highlight-orange-dark":{3:["rgba(107,38,0,0.40)","rgba(107,38,0,1.0)","rgba(107,38,0,0.40)"],5:["rgba(107,38,0,0.20)","rgba(107,38,0,0.60)","rgba(107,38,0,1.0)","rgba(107,38,0,0.60)","rgba(107,38,0,0.20)"],7:["rgba(107,38,0,0.10)","rgba(107,38,0,0.40)","rgba(107,38,0,0.70)","rgba(107,38,0,1.0)","rgba(107,38,0,0.70)","rgba(107,38,0,0.40)","rgba(107,38,0,0.10)"],9:["rgba(107,38,0,0.10)","rgba(107,38,0,0.33)","rgba(107,38,0,0.55)","rgba(107,38,0,0.78)","rgba(107,38,0,1.0)","rgba(107,38,0,0.78)","rgba(107,38,0,0.55)","rgba(107,38,0,0.33)","rgba(107,38,0,0.10)"],stops:["rgba(107,38,0,0)","rgba(107,38,0,0.5)","rgba(107,38,0,1.0)","rgba(107,38,0,0.5)","rgba(107,38,0,0)"],tags:["browns","centered-on","colorblind-friendly"],name:"Centered on Red 3"},"highlight-orange-bright":{3:["rgba(255,179,57,0.40)","rgba(255,179,57,1.0)","rgba(255,179,57,0.40)"],5:["rgba(255,179,57,0.20)","rgba(255,179,57,0.60)","rgba(255,179,57,1.0)","rgba(255,179,57,0.60)","rgba(255,179,57,0.20)"],7:["rgba(255,179,57,0.10)","rgba(255,179,57,0.40)","rgba(255,179,57,0.70)","rgba(255,179,57,1.0)","rgba(255,179,57,0.70)","rgba(255,179,57,0.40)","rgba(255,179,57,0.10)"],9:["rgba(255,179,57,0.10)","rgba(255,179,57,0.33)","rgba(255,179,57,0.55)","rgba(255,179,57,0.78)","rgba(255,179,57,1.0)","rgba(255,179,57,0.78)","rgba(255,179,57,0.55)","rgba(255,179,57,0.33)","rgba(255,179,57,0.10)"],stops:["rgba(255,179,57,0)","rgba(255,179,57,0.5)","rgba(255,179,57,1.0)","rgba(255,179,57,0.5)","rgba(255,179,57,0)"],tags:["yellows","centered-on","bright","dark","colorblind-friendly"],name:"Centered on Yellow 1"},"highlight-purple":{3:["rgba(65,27,109,0.40)","rgba(65,27,109,1.0)","rgba(65,27,109,0.40)"],5:["rgba(65,27,109,0.20)","rgba(65,27,109,0.60)","rgba(65,27,109,1.0)","rgba(65,27,109,0.60)","rgba(65,27,109,0.20)"],7:["rgba(65,27,109,0.10)","rgba(65,27,109,0.40)","rgba(65,27,109,0.70)","rgba(65,27,109,1.0)","rgba(65,27,109,0.70)","rgba(65,27,109,0.40)","rgba(65,27,109,0.10)"],9:["rgba(65,27,109,0.10)","rgba(65,27,109,0.33)","rgba(65,27,109,0.55)","rgba(65,27,109,0.78)","rgba(65,27,109,1.0)","rgba(65,27,109,0.78)","rgba(65,27,109,0.55)","rgba(65,27,109,0.33)","rgba(65,27,109,0.10)"],stops:["rgba(65,27,109,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1.0)","rgba(65,27,109,0.5)","rgba(65,27,109,0)"],tags:["purples","centered-on","colorblind-friendly"],name:"Centered on Purple 1"},"highlight-pink":{3:["rgba(87,9,89,0.40)","rgba(87,9,89,1.0)","rgba(87,9,89,0.40)"],5:["rgba(87,9,89,0.20)","rgba(87,9,89,0.60)","rgba(87,9,89,1.0)","rgba(87,9,89,0.60)","rgba(87,9,89,0.20)"],7:["rgba(87,9,89,0.10)","rgba(87,9,89,0.40)","rgba(87,9,89,0.70)","rgba(87,9,89,1.0)","rgba(87,9,89,0.70)","rgba(87,9,89,0.40)","rgba(87,9,89,0.10)"],9:["rgba(87,9,89,0.10)","rgba(87,9,89,0.33)","rgba(87,9,89,0.55)","rgba(87,9,89,0.78)","rgba(87,9,89,1.0)","rgba(87,9,89,0.78)","rgba(87,9,89,0.55)","rgba(87,9,89,0.33)","rgba(87,9,89,0.10)"],stops:["rgba(87,9,89,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1.0)","rgba(87,9,89,0.5)","rgba(87,9,89,0)"],tags:["purples","centered-on","colorblind-friendly"],name:"Centered on Purple 2"},"highlight-blue":{3:["rgba(16,48,94,0.40)","rgba(16,48,94,1.0)","rgba(16,48,94,0.40)"],5:["rgba(16,48,94,0.20)","rgba(16,48,94,0.60)","rgba(16,48,94,1.0)","rgba(16,48,94,0.60)","rgba(16,48,94,0.20)"],7:["rgba(16,48,94,0.10)","rgba(16,48,94,0.40)","rgba(16,48,94,0.70)","rgba(16,48,94,1.0)","rgba(16,48,94,0.70)","rgba(16,48,94,0.40)","rgba(16,48,94,0.10)"],9:["rgba(16,48,94,0.10)","rgba(16,48,94,0.33)","rgba(16,48,94,0.55)","rgba(16,48,94,0.78)","rgba(16,48,94,1.0)","rgba(16,48,94,0.78)","rgba(16,48,94,0.55)","rgba(16,48,94,0.33)","rgba(16,48,94,0.10)"],stops:["rgba(16,48,94,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1.0)","rgba(16,48,94,0.5)","rgba(16,48,94,0)"],tags:["blues","centered-on","colorblind-friendly"],name:"Centered on Blue 1"},"highlight-blue-dark":{3:["rgba(0,38,73,0.40)","rgba(0,38,73,1.0)","rgba(0,38,73,0.40)"],5:["rgba(0,38,73,0.20)","rgba(0,38,73,0.60)","rgba(0,38,73,1.0)","rgba(0,38,73,0.60)","rgba(0,38,73,0.20)"],7:["rgba(0,38,73,0.10)","rgba(10,38,73,0.40)","rgba(0,38,73,0.70)","rgba(0,38,73,1.0)","rgba(0,38,73,0.70)","rgba(0,38,73,0.40)","rgba(0,38,73,0.10)"],9:["rgba(0,38,73,0.10)","rgba(0,38,73,0.33)","rgba(0,38,73,0.55)","rgba(0,38,73,0.78)","rgba(0,38,73,1.0)","rgba(0,38,73,0.78)","rgba(0,38,73,0.55)","rgba(0,38,73,0.33)","rgba(0,38,73,0.10)"],stops:["rgba(0,38,73,0)","rgba(0,38,73,0.5)","rgba(0,38,73,1.0)","rgba(0,38,73,0.5)","rgba(0,38,73,0)"],tags:["blues","centered-on","colorblind-friendly"],name:"Centered on Blue 2"},"highlight-blue-bright":{3:["rgba(117,239,221,0.40)","rgba(117,239,221,1.0)","rgba(117,239,221,0.40)"],5:["rgba(117,239,221,0.20)","rgba(117,239,221,0.60)","rgba(117,239,221,1.0)","rgba(117,239,221,0.60)","rgba(117,239,221,0.20)"],7:["rgba(117,239,221,0.10)","rgba(117,239,221,0.40)","rgba(117,239,221,0.70)","rgba(117,239,221,1.0)","rgba(117,239,221,0.70)","rgba(117,239,221,0.40)","rgba(117,239,221,0.10)"],9:["rgba(117,239,221,0.10)","rgba(117,239,221,0.33)","rgba(117,239,221,0.55)","rgba(117,239,221,0.78)","rgba(117,239,221,1.0)","rgba(117,239,221,0.78)","rgba(117,239,221,0.55)","rgba(117,239,221,0.33)","rgba(117,239,221,0.10)"],stops:["rgba(117,239,221,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1.0)","rgba(117,239,221,0.5)","rgba(117,239,221,0)"],tags:["blues","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Blue 3"},"highlight-orange-gray":{3:["#bf9990","#a53217","#bf9990"],5:["#cccccc","#b97f72","#a53217","#b97f72","#cccccc"],7:["#cccccc","#bf9990","#b26553","#a53217","#b26553","#bf9990","#cccccc"],9:["#cccccc","#c2a69f","#b97f72","#af5944","#a53217","#af5944","#b97f72","#c2a69f","#cccccc"],stops:["#cccccc","#b97f72","#a53217","#b97f72","#cccccc"],tags:["reds","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Red 4"},"highlight-bluegreen-gray":{3:["#889e9b","#004238","#889e9b"],5:["#cccccc","#668782","#004238","#668782","#cccccc"],7:["#cccccc","#889e9b","#447069","#004238","#447069","#889e9b","#cccccc"],9:["#cccccc","#99aaa7","#668782","#33655d","#004238","#33655d","#668782","#99aaa7","#cccccc"],stops:["#cccccc","#668782","#004238","#668782","#cccccc"],tags:["greens","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Green 2"},"highlight-red-gray":{3:["#bb8c8c","#990b0b","#bb8c8c"],5:["#cccccc","#b36c6c","#990b0b","#b36c6c","#cccccc"],7:["#cccccc","#bb8c8c","#aa4b4b","#990b0b","#aa4b4b","#bb8c8c","#cccccc"],9:["#cccccc","#bf9c9c","#b36c6c","#a63b3b","#990b0b","#a63b3b","#b36c6c","#bf9c9c","#cccccc"],stops:["#cccccc","#b36c6c","#990b0b","#b36c6c","#cccccc"],tags:["reds","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Red 5"},"highlight-orange-gray-dark":{3:["#ac9588","#6b2600","#ac9588"],5:["#cccccc","#9c7966","#6b2600","#9c7966","#cccccc"],7:["#cccccc","#ac9588","#8b5d44","#6b2600","#8b5d44","#ac9588","#cccccc"],9:["#cccccc","#b4a399","#9c7966","#835033","#6b2600","#835033","#9c7966","#b4a399","#cccccc"],stops:["#cccccc","#9c7966","#6b2600","#9c7966","#cccccc"],tags:["browns","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Red 6"},"highlight-orange-gray-bright":{3:["#775e35","#ffb339","#775e35"],5:["#333333","#997336","#ffb339","#997336","#333333"],7:["#333333","#775e35","#bb8837","#ffb339","#bb8837","#775e35","#333333"],9:["#333333","#665335","#997336","#cc9338","#ffb339","#cc9338","#997336","#665335","#333333"],stops:["#333333","#997336","#ffb339","#997336","#333333"],tags:["yellows","centered-on","bright","dark","colorblind-friendly"],name:"Centered on Yellow 2"},"highlight-purple-gray":{3:["#9e91ac","#411b6d","#9e91ac"],5:["#cccccc","#87749d","#411b6d","#87749d","#cccccc"],7:["#cccccc","#9e91ac","#6f568d","#411b6d","#6f568d","#9e91ac","#cccccc"],9:["#cccccc","#a9a0b4","#87749d","#644785","#411b6d","#644785","#87749d","#a9a0b4","#cccccc"],stops:["#cccccc","#87749d","#411b6d","#87749d","#cccccc"],tags:["purples","centered-on","light","colorblind-friendly"],name:"Centered on Purple 3"},"highlight-pink-gray":{3:["#a58ba6","#570959","#a58ba6"],5:["#cccccc","#926b93","#570959","#926b93","#cccccc"],7:["#cccccc","#a58ba6","#7e4a7f","#570959","#7e4a7f","#a58ba6","#cccccc"],9:["#cccccc","#af9baf","#926b93","#743a76","#570959","#743a76","#926b93","#af9baf","#cccccc"],stops:["#cccccc","#926b93","#570959","#926b93","#cccccc"],tags:["purples","centered-on","light","colorblind-friendly"],name:"Centered on Purple 4"},"highlight-blue-gray":{3:["#8d98a7","#10305e","#8d98a7"],5:["#cccccc","#6e7e95","#10305e","#6e7e95","#cccccc"],7:["#cccccc","#8d98a7","#4f6483","#10305e","#4f6483","#8d98a7","#cccccc"],9:["#cccccc","#9da5b1","#6e7e95","#3f577a","#10305e","#3f577a","#6e7e95","#9da5b1","#cccccc"],stops:["#cccccc","#6e7e95","#10305e","#6e7e95","#cccccc"],tags:["blues","centered-on","light","colorblind-friendly"],name:"Centered on Blue 4"},"highlight-blue-gray-dark":{3:["#8895a0","#002649","#8895a0"],5:["#cccccc","#66798b","#002649","#66798b","#cccccc"],7:["#cccccc","#8895a0","#445d75","#002649","#445d75","#8895a0","#cccccc"],9:["#cccccc","#99a3ab","#66798b","#33506a","#002649","#33506a","#66798b","#99a3ab","#cccccc"],stops:["#cccccc","#66798b","#002649","#66798b","#cccccc"],tags:["blues","centered-on","light","colorblind-friendly"],name:"Centered on Blue 5"},"highlight-blue-gray-bright":{3:["#49726c","#75efdd","#49726c"],5:["#333333","#549188","#75efdd","#549188","#333333"],7:["#333333","#49726c","#5fb0a4","#75efdd","#5fb0a4","#49726c","#333333"],9:["#333333","#44625e","#549188","#65c0b3","#75efdd","#65c0b3","#549188","#44625e","#333333"],stops:["#333333","#549188","#75efdd","#549188","#333333"],tags:["blues","greens","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Green 3"},"highlight-red-gray-bright":{stops:["#4d414d","#a63a55","#ff4141","#a63a55","#4d414d"],tags:["reds","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Red 7"},"highlight-purple-gray-bright":{stops:["#4c374d","#7e3ca6","#b44dff","#7e3ca6","#4c374d"],tags:["purples","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Purple 5"},"highlight-blue-bright-gray-bright":{stops:["#383855","#2c6f9e","#40bfff","#2c6f9e","#383855"],tags:["blues","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Blue 6"},"highlight-green-gray-bright":{stops:["#2f4147","#18a064","#00ff78","#18a064","#2f4147"],tags:["greens","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Green 4"},"highlight-yellow-gray-bright":{stops:["#41472e","#878c34","#f9ff5a","#878c34","#41472e"],tags:["yellows","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Yellow 3"},"highlight-pink-gray-dark":{stops:["#bbb8cc","#995c99","#a6004e","#995c99","#bbb8cc"],tags:["purples","pinks","centered-on","light","colorblind-friendly"],name:"Centered on Pink 1"},"highlight-purple-gray-dark":{stops:["#bdb8d9","#835fa6","#7f0099","#835fa6","#bdb8d9"],tags:["purples","centered-on","light","colorblind-friendly"],name:"Centered on Purple 6"},"highlight-blue-bright-gray-dark":{stops:["#c2cff2","#6187f2","#003df2","#6187f2","#c2cff2"],tags:["blues","centered-on","light","colorblind-friendly"],name:"Centered on Blue 7"},"highlight-green-gray-dark":{stops:["#b8d5d9","#4d9a94","#00735f","#4d9a94","#b8d5d9"],tags:["greens","centered-on","light","colorblind-friendly"],name:"Centered on Green 5"},"highlight-brown-gray-dark":{stops:["#ccbdad","#b38657","#994e00","#b38657","#ccbdad"],tags:["browns","centered-on","light","colorblind-friendly"],name:"Centered on Brown 1"},"extremesdiv-bluegreen-yellow-orange":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1)"],tags:["reds","greens","extremes","light","colorblind-friendly"],name:"Red and Green Extremes 1"},"extremesdiv-orange-yellow-blue-light":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 1"},"extremesdiv-green-yellow-redpurple":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(102,0,22,0.5)","rgba(102,0,22,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 2"},"extremesdiv-green-yellow-orange":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 3"},"extremesdiv-orange-purple":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1)"],tags:["reds","purples","extremes","dark","colorblind-friendly"],name:"Purple and Red Extremes 1"},"extremesdiv-bluegreen-purple":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1)"],tags:["purples","greens","extremes","light","colorblind-friendly"],name:"Purple and Green Extremes 1"},"extremesdiv-bluegreen-orange":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1)"],tags:["reds","greens","extremes","light","colorblind-friendly"],name:"Red and Green Extremes 4"},"extremesdiv-orange-pink":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["reds","purples","extremes","dark","colorblind-friendly"],name:"Purple and Red Extremes 2"},"extremesdiv-redpurple-blue":{stops:["rgba(102,0,22,1)","rgba(102,0,22,0.5)","rgba(255,255,255,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 2"},"extremesdiv-orange-blue":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 3"},"extremesdiv-green-pink":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["purples","greens","extremes","light","colorblind-friendly"],name:"Purple and Green Extremes 2"},"extremesdiv-bluegreen-redpurple":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(102,0,22,0.5)","rgba(102,0,22,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 5"},"extremesdiv-green-redpurple":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(102,0,22,0.5)","rgba(102,0,22,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 6"},"extremesdiv-green-orange":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 7"},"extremesdiv-red-yellow-pink":{stops:["rgba(153,11,11,1)","rgba(153,11,11,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["reds","purples","extremes","dark","colorblind-friendly"],name:"Purple and Red Extremes 3"},"extremesdiv-blue-green":{stops:["rgba(16,48,94,1)","rgba(16,48,94,0.5)","rgba(255,255,255,0)","rgba(56,73,3,0.5)","rgba(56,73,3,1)"],tags:["greens","blues","extremes","light","colorblind-friendly"],name:"Green and Blue Extremes 1"},"extremesdiv-bluegreen-yellow-redpurple":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(102,0,22,0.5)","rgba(102,0,22,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 8"},"extremesdiv-bluegreen-pink":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["purples","greens","extremes","light","colorblind-friendly"],name:"Purple and Green Extremes 3"},"extremesdiv-orange-yellow-blue-dark":{stops:["rgba(107,38,0,1)","rgba(107,38,0,0.5)","rgba(255,255,255,0)","rgba(0,38,73,0.5)","rgba(0,38,73,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 4"},"extremesdiv-red-yellow-purple":{stops:["rgba(153,11,11,1)","rgba(153,11,11,0.5)","rgba(255,255,255,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1)"],tags:["reds","purples","extremes","dark","colorblind-friendly"],name:"Purple and Red Extremes 4"},"extremesdiv-orange-yellow-pink":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["reds","purples","extremes","dark","colorblind-friendly"],name:"Purple and Red Extremes 5"},"extremesdiv-orange-gray-blue":{stops:["rgba(255,179,57,1)","rgba(255,179,57,0.5)","rgba(255,255,255,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1)"],tags:["yellows","blues","greens","extremes","dark","bright","colorblind-friendly"],name:"Blue and Orange Extremes 1"},"extremesdiv-yellow-gray-purple":{stops:["rgba(255,237,133,1)","rgba(255,237,133,0.5)","rgba(255,255,255,0)","rgba(235,160,249,0.5)","rgba(235,160,249,1)"],tags:["yellows","purples","extremes","dark","bright","colorblind-friendly"],name:"Purple and Yellow Extremes 1"},"extremesdiv-red-gray-blue":{stops:["rgba(255,136,136,1)","rgba(255,136,136,0.5)","rgba(255,255,255,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1)"],tags:["pinks","reds","blues","extremes","dark","light","bright","colorblind-friendly"],name:"Blue and Red Extremes 5"},"extremesdiv-green-gray-purple":{stops:["rgba(139,239,139,1)","rgba(139,239,139,0.5)","rgba(255,255,255,0)","rgba(235,160,249,0.5)","rgba(235,160,249,1)"],tags:["purples","greens","extremes","dark","bright","colorblind-friendly"],name:"Purple and Green Extremes 4"},"extremes-orange":{3:["rgba(165,50,23,1.0)","rgba(165,50,23,0.40)","rgba(165,50,23,1.0)"],5:["rgba(165,50,23,1.0)","rgba(165,50,23,0.60)","rgba(165,50,23,0.20)","rgba(165,50,23,0.60)","rgba(165,50,23,1.0)"],7:["rgba(165,50,23,1.0)","rgba(165,50,23,0.70)","rgba(165,50,23,0.40)","rgba(165,50,23,0.10)","rgba(165,50,23,0.40)","rgba(165,50,23,0.70)","rgba(165,50,23,1.0)"],9:["rgba(165,50,23,1.0)","rgba(165,50,23,0.78)","rgba(165,50,23,0.55)","rgba(165,50,23,0.33)","rgba(165,50,23,0.10)","rgba(165,50,23,0.33)","rgba(165,50,23,0.55)","rgba(165,50,23,0.78)","rgba(165,50,23,1.0)"],stops:["rgba(165,50,23,1.0)","rgba(165,50,23,0.5)","rgba(165,50,23,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1.0)"],tags:["reds","extremes","dark","colorblind-friendly"],name:"Red Extremes 1"},"extremes-bluegreen":{3:["rgba(0,66,56,1.0)","rgba(0,66,56,0.40)","rgba(0,66,56,1.0)"],5:["rgba(0,66,56,1.0)","rgba(0,66,56,0.60)","rgba(0,66,56,0.20)","rgba(0,66,56,0.60)","rgba(0,66,56,1.0)"],7:["rgba(0,66,56,1.0)","rgba(0,66,56,0.70)","rgba(0,66,56,0.40)","rgba(0,66,56,0.10)","rgba(0,66,56,0.40)","rgba(0,66,56,0.70)","rgba(0,66,56,1.0)"],9:["rgba(0,66,56,1.0)","rgba(0,66,56,0.78)","rgba(0,66,56,0.55)","rgba(0,66,56,0.33)","rgba(0,66,56,0.10)","rgba(0,66,56,0.33)","rgba(0,66,56,0.55)","rgba(0,66,56,0.78)","rgba(0,66,56,1.0)"],stops:["rgba(0,66,56,1.0)","rgba(0,66,56,0.5)","rgba(0,66,56,0)","rgba(0,66,56,0.5)","rgba(0,66,56,1.0)"],tags:["greens","extremes","light","colorblind-friendly"],name:"Green Extremes 1"},"extremes-red":{3:["rgba(153,11,11,1.0)","rgba(153,11,11,0.40)","rgba(153,11,11,1.0)"],5:["rgba(153,11,11,1.0)","rgba(153,11,11,0.60)","rgba(153,11,11,0.20)","rgba(153,11,11,0.60)","rgba(153,11,11,1.0)"],7:["rgba(153,11,11,1.0)","rgba(153,11,11,0.70)","rgba(153,11,11,0.40)","rgba(153,11,11,0.10)","rgba(153,11,11,0.40)","rgba(153,11,11,0.70)","rgba(153,11,11,1.0)"],9:["rgba(153,11,11,1.0)","rgba(153,11,11,0.78)","rgba(153,11,11,0.55)","rgba(153,11,11,0.33)","rgba(153,11,11,0.10)","rgba(153,11,11,0.33)","rgba(153,11,11,0.55)","rgba(153,11,11,0.78)","rgba(153,11,11,1.0)"],stops:["rgba(153,11,11,1.0)","rgba(153,11,11,0.5)","rgba(153,11,11,0)","rgba(153,11,11,0.5)","rgba(153,11,11,1.0)"],tags:["reds","extremes","bright","dark","colorblind-friendly"],name:"Red Extremes 2"},"extremes-orange-dark":{3:["rgba(107,38,0,1.0)","rgba(107,38,0,0.40)","rgba(107,38,0,1.0)"],5:["rgba(107,38,0,1.0)","rgba(107,38,0,0.60)","rgba(107,38,0,0.20)","rgba(107,38,0,0.60)","rgba(107,38,0,1.0)"],7:["rgba(107,38,0,1.0)","rgba(107,38,0,0.70)","rgba(107,38,0,0.40)","rgba(107,38,0,0.10)","rgba(107,38,0,0.40)","rgba(107,38,0,0.70)","rgba(107,38,0,1.0)"],9:["rgba(107,38,0,1.0)","rgba(107,38,0,0.78)","rgba(107,38,0,0.55)","rgba(107,38,0,0.33)","rgba(107,38,0,0.10)","rgba(107,38,0,0.33)","rgba(107,38,0,0.55)","rgba(107,38,0,0.78)","rgba(107,38,0,1.0)"],stops:["rgba(107,38,0,1.0)","rgba(107,38,0,0.5)","rgba(107,38,0,0)","rgba(107,38,0,0.5)","rgba(107,38,0,1.0)"],tags:["extremes","browns","dark","colorblind-friendly"],name:"Red Extremes 3"},"extremes-orange-bright":{3:["rgba(255,179,57,1.0)","rgba(255,179,57,0.40)","rgba(255,179,57,1.0)"],5:["rgba(255,179,57,1.0)","rgba(255,179,57,0.60)","rgba(255,179,57,0.20)","rgba(255,179,57,0.60)","rgba(255,179,57,1.0)"],7:["rgba(255,179,57,1.0)","rgba(255,179,57,0.70)","rgba(255,179,57,0.40)","rgba(255,179,57,0.10)","rgba(255,179,57,0.40)","rgba(255,179,57,0.70)","rgba(255,179,57,1.0)"],9:["rgba(255,179,57,1.0)","rgba(255,179,57,0.78)","rgba(255,179,57,0.55)","rgba(255,179,57,0.33)","rgba(255,179,57,0.10)","rgba(255,179,57,0.33)","rgba(255,179,57,0.55)","rgba(255,179,57,0.78)","rgba(255,179,57,1.0)"],stops:["rgba(255,179,57,1.0)","rgba(255,179,57,0.5)","rgba(255,179,57,0)","rgba(255,179,57,0.5)","rgba(255,179,57,1.0)"],tags:["oranges","extremes","bright","dark","colorblind-friendly"],name:"Yellow Extremes 1"},"extremes-purple":{3:["rgba(65,27,109,1.0)","rgba(65,27,109,0.40)","rgba(65,27,109,1.0)"],5:["rgba(65,27,109,1.0)","rgba(65,27,109,0.60)","rgba(65,27,109,0.20)","rgba(65,27,109,0.60)","rgba(65,27,109,1.0)"],7:["rgba(65,27,109,1.0)","rgba(65,27,109,0.70)","rgba(65,27,109,0.40)","rgba(65,27,109,0.10)","rgba(65,27,109,0.40)","rgba(65,27,109,0.70)","rgba(65,27,109,1.0)"],9:["rgba(65,27,109,1.0)","rgba(65,27,109,0.78)","rgba(65,27,109,0.55)","rgba(65,27,109,0.33)","rgba(65,27,109,0.10)","rgba(65,27,109,0.33)","rgba(65,27,109,0.55)","rgba(65,27,109,0.78)","rgba(65,27,109,1.0)"],stops:["rgba(65,27,109,1.0)","rgba(65,27,109,0.5)","rgba(65,27,109,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1.0)"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 1"},"extremes-pink":{3:["rgba(87,9,89,1.0)","rgba(87,9,89,0.40)","rgba(87,9,89,1.0)"],5:["rgba(87,9,89,1.0)","rgba(87,9,89,0.60)","rgba(87,9,89,0.20)","rgba(87,9,89,0.60)","rgba(87,9,89,1.0)"],7:["rgba(87,9,89,1.0)","rgba(87,9,89,0.70)","rgba(87,9,89,0.40)","rgba(87,9,89,0.10)","rgba(87,9,89,0.40)","rgba(87,9,89,0.70)","rgba(87,9,89,1.0)"],9:["rgba(87,9,89,1.0)","rgba(87,9,89,0.78)","rgba(87,9,89,0.55)","rgba(87,9,89,0.33)","rgba(87,9,89,0.10)","rgba(87,9,89,0.33)","rgba(87,9,89,0.55)","rgba(87,9,89,0.78)","rgba(87,9,89,1.0)"],stops:["rgba(87,9,89,1.0)","rgba(87,9,89,0.5)","rgba(87,9,89,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1.0)"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 2"},"extremes-blue":{3:["rgba(16,48,94,1.0)","rgba(16,48,94,0.40)","rgba(16,48,94,1.0)"],5:["rgba(16,48,94,1.0)","rgba(16,48,94,0.60)","rgba(16,48,94,0.20)","rgba(16,48,94,0.60)","rgba(16,48,94,1.0)"],7:["rgba(16,48,94,1.0)","rgba(16,48,94,0.70)","rgba(16,48,94,0.40)","rgba(16,48,94,0.10)","rgba(16,48,94,0.40)","rgba(16,48,94,0.70)","rgba(16,48,94,1.0)"],9:["rgba(16,48,94,1.0)","rgba(16,48,94,0.78)","rgba(16,48,94,0.55)","rgba(16,48,94,0.33)","rgba(16,48,94,0.10)","rgba(16,48,94,0.33)","rgba(16,48,94,0.55)","rgba(16,48,94,0.78)","rgba(16,48,94,1.0)"],stops:["rgba(16,48,94,1.0)","rgba(16,48,94,0.5)","rgba(16,48,94,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1.0)"],tags:["blues","extremes","light","colorblind-friendly"],name:"Blue Extremes 1"},"extremes-blue-dark":{3:["rgba(0,38,73,1.0)","rgba(0,38,73,0.40)","rgba(0,38,73,1.0)"],5:["rgba(0,38,73,1.0)","rgba(0,38,73,0.60)","rgba(0,38,73,0.20)","rgba(0,38,73,0.60)","rgba(0,38,73,1.0)"],7:["rgba(0,38,73,1.0)","rgba(0,38,73,0.70)","rgba(0,38,73,0.40)","rgba(0,38,73,0.10)","rgba(0,38,73,0.40)","rgba(0,38,73,0.70)","rgba(0,38,73,1.0)"],9:["rgba(0,38,73,1.0)","rgba(0,38,73,0.78)","rgba(0,38,73,0.55)","rgba(0,38,73,0.33)","rgba(0,38,73,0.10)","rgba(0,38,73,0.33)","rgba(0,38,73,0.55)","rgba(0,38,73,0.78)","rgba(0,38,73,1.0)"],stops:["rgba(0,38,73,1.0)","rgba(0,38,73,0.5)","rgba(0,38,73,0)","rgba(0,38,73,0.5)","rgba(0,38,73,1.0)"],tags:["blues","extremes","light","colorblind-friendly"],name:"Blue Extremes 2"},"extremes-blue-bright":{3:["rgba(117,239,221,1.0)","rgba(117,239,221,0.40)","rgba(117,239,221,1.0)"],5:["rgba(117,239,221,1.0)","rgba(117,239,221,0.60)","rgba(117,239,221,0.20)","rgba(117,239,221,0.60)","rgba(117,239,221,1.0)"],7:["rgba(117,239,221,1.0)","rgba(117,239,221,0.70)","rgba(117,239,221,0.40)","rgba(117,239,221,0.10)","rgba(117,239,221,0.40)","rgba(117,239,221,0.70)","rgba(117,239,221,1.0)"],9:["rgba(117,239,221,1.0)","rgba(117,239,221,0.78)","rgba(117,239,221,0.55)","rgba(117,239,221,0.33)","rgba(117,239,221,0.10)","rgba(117,239,221,0.33)","rgba(117,239,221,0.55)","rgba(117,239,221,0.78)","rgba(117,239,221,1.0)"],stops:["rgba(117,239,221,1.0)","rgba(117,239,221,0.5)","rgba(117,239,221,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1.0)"],tags:["blues","greens","bright","extremes","dark","colorblind-friendly"],name:"Green Extremes 2"},"extremes-orange-gray":{3:["#a53217","#bf9990","#a53217"],5:["#a53217","#b97f72","#cccccc","#b97f72","#a53217"],7:["#a53217","#b26553","#bf9990","#cccccc","#bf9990","#b26553","#a53217"],9:["#a53217","#af5944","#b97f72","#c2a69f","#cccccc","#c2a69f","#b97f72","#af5944","#a53217"],stops:["#a53217","#b97f72","#cccccc","#b97f72","#a53217"],tags:["reds","extremes","light","subdued","colorblind-friendly"],name:"Red Extremes 4"},"extremes-bluegreen-gray":{3:["#004238","#889e9b","#004238"],5:["#004238","#668782","#cccccc","#668782","#004238"],7:["#004238","#447069","#889e9b","#cccccc","#889e9b","#447069","#004238"],9:["#004238","#33655d","#668782","#99aaa7","#cccccc","#99aaa7","#668782","#33655d","#004238"],stops:["#004238","#668782","#cccccc","#668782","#004238"],tags:["greens","extremes","light","subdued","colorblind-friendly"],name:"Green Extremes 3"},"extremes-red-gray":{3:["#990b0b","#bb8c8c","#990b0b"],5:["#990b0b","#b36c6c","#cccccc","#b36c6c","#990b0b"],7:["#990b0b","#aa4b4b","#bb8c8c","#cccccc","#bb8c8c","#aa4b4b","#990b0b"],9:["#990b0b","#a63b3b","#b36c6c","#bf9c9c","#cccccc","#bf9c9c","#b36c6c","#a63b3b","#990b0b"],stops:["#990b0b","#b36c6c","#cccccc","#b36c6c","#990b0b"],tags:["reds","extremes","light","colorblind-friendly"],name:"Red Extremes 5"},"extremes-orange-gray-dark":{3:["#6b2600","#ac9588","#6b2600"],5:["#6b2600","#9c7966","#cccccc","#9c7966","#6b2600"],7:["#6b2600","#8b5d44","#ac9588","#cccccc","#ac9588","#8b5d44","#6b2600"],9:["#6b2600","#835033","#9c7966","#b4a399","#cccccc","#b4a399","#9c7966","#835033","#6b2600"],stops:["#6b2600","#9c7966","#cccccc","#9c7966","#6b2600"],tags:["browns","extremes","light","subdued","colorblind-friendly"],name:"Brown Extremes 1"},"extremes-orange-gray-bright":{3:["#ffb339","#775e35","#ffb339"],5:["#ffb339","#997336","#333333","#997336","#ffb339"],7:["#ffb339","#bb8837","#775e35","#333333","#775e35","#bb8837","#ffb339"],9:["#ffb339","#cc9338","#997336","#665335","#333333","#665335","#997336","#cc9338","#ffb339"],stops:["#ffb339","#997336","#333333","#997336","#ffb339"],tags:["oranges","extremes","dark","colorblind-friendly"],name:"Yellow Extremes 2"},"extremes-purple-gray":{3:["#411b6d","#9e91ac","#411b6d"],5:["#411b6d","#87749d","#cccccc","#87749d","#411b6d"],7:["#411b6d","#6f568d","#9e91ac","#cccccc","#9e91ac","#6f568d","#411b6d"],9:["#411b6d","#644785","#87749d","#a9a0b4","#cccccc","#a9a0b4","#87749d","#644785","#411b6d"],stops:["#411b6d","#87749d","#cccccc","#87749d","#411b6d"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 3"},"extremes-pink-gray":{3:["#570959","#a58ba6","#570959"],5:["#570959","#926b93","#cccccc","#926b93","#570959"],7:["#570959","#7e4a7f","#a58ba6","#cccccc","#a58ba6","#7e4a7f","#570959"],9:["#570959","#743a76","#926b93","#af9baf","#cccccc","#af9baf","#926b93","#743a76","#570959"],stops:["#570959","#926b93","#cccccc","#926b93","#570959"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 4"},"extremes-blue-gray":{3:["#10305e","#8d98a7","#10305e"],5:["#10305e","#6e7e95","#cccccc","#6e7e95","#10305e"],7:["#10305e","#4f6483","#8d98a7","#cccccc","#8d98a7","#4f6483","#10305e"],9:["#10305e","#3f577a","#6e7e95","#9da5b1","#cccccc","#9da5b1","#6e7e95","#3f577a","#10305e"],stops:["#10305e","#6e7e95","#cccccc","#6e7e95","#10305e"],tags:["blues","extremes","light","colorblind-friendly"],name:"Blue Extremes 3"},"extremes-blue-gray-dark":{3:["#002649","#8895a0","#002649"],5:["#002649","#66798b","#cccccc","#66798b","#002649"],7:["#002649","#445d75","#8895a0","#cccccc","#8895a0","#445d75","#002649"],9:["#002649","#33506a","#66798b","#99a3ab","#cccccc","#99a3ab","#66798b","#33506a","#002649"],stops:["#002649","#66798b","#cccccc","#66798b","#002649"],tags:["blues","extremes","light","subdued","colorblind-friendly"],name:"Blue Extremes 4"},"extremes-blue-gray-bright":{3:["#75efdd","#49726c","#75efdd"],5:["#75efdd","#549188","#333333","#549188","#75efdd"],7:["#75efdd","#5fb0a4","#49726c","#333333","#49726c","#5fb0a4","#75efdd"],9:["#75efdd","#65c0b3","#549188","#44625e","#333333","#44625e","#549188","#65c0b3","#75efdd"],stops:["#75efdd","#549188","#333333","#549188","#75efdd"],tags:["blues","greens","bright","extremes","dark","colorblind-friendly"],name:"Green Extremes 4"},"extremes-red-gray-bright":{stops:["#ff4141","#a63a55","#4d414d","#a63a55","#ff4141"],tags:["reds","extremes","dark","bright","colorblind-friendly"],name:"Red Extremes 6"},"extremes-purple-gray-bright":{stops:["#b44dff","#7e3ca6","#4c374d","#7e3ca6","#b44dff"],tags:["purples","extremes","dark","bright","colorblind-friendly"],name:"Purple Extremes 5"},"extremes-blue-bright-gray-bright":{stops:["#40bfff","#2c6f9e","#383855","#2c6f9e","#40bfff"],tags:["blues","extremes","dark","bright","colorblind-friendly"],name:"Blue Extremes 5"},"extremes-green-gray-bright":{stops:["#00ff78","#18a064","#2f4147","#18a064","#00ff78"],tags:["greens","extremes","dark","bright","colorblind-friendly"],name:"Green Extremes 5"},"extremes-yellow-gray-bright":{stops:["#f9ff5a","#878c34","#41472e","#878c34","#f9ff5a"],tags:["yellows","extremes","dark","bright","colorblind-friendly"],name:"Yellow Extremes 3"},"extremes-pink-gray-dark":{stops:["#a6004e","#995c99","#bbb8cc","#995c99","#a6004e"],tags:["purples","pinks","extremes","light","colorblind-friendly"],name:"Purple Extremes 6"},"extremes-purple-gray-dark":{stops:["#7f0099","#835fa6","#bdb8d9","#835fa6","#7f0099"],tags:["purples","extremes","light","bright","colorblind-friendly"],name:"Purple Extremes 7"},"extremes-blue-bright-gray-dark":{stops:["#003df2","#6187f2","#c2cff2","#6187f2","#003df2"],tags:["blues","extremes","light","bright","colorblind-friendly"],name:"Blue Extremes 6"},"extremes-green-gray-dark":{stops:["#00735f","#4d9a94","#b8d5d9","#4d9a94","#00735f"],tags:["greens","extremes","light","colorblind-friendly"],name:"Green Extremes 6"},"extremes-brown-gray-dark":{stops:["#994e00","#b38657","#ccbdad","#b38657","#994e00"],tags:["browns","extremes","light","colorblind-friendly"],name:"Brown Extremes 2"},"point-cloud-elevation-scheme":{stops:["rgb(88, 19, 252)","rgb(28, 194, 253)","rgb(125, 253, 148)","rgb(245, 201, 38)","rgb(255, 43, 24)"],tags:["blues","reds","yellows","greens","point-cloud","bright","colorblind-friendly"],name:"Point Cloud 1"},"point-cloud-intensity-scheme":{stops:["rgb(0, 0, 0)","rgb(50, 50, 50)","rgb(73, 73, 73)","rgb(140, 140, 140)","rgb(255, 255, 255)"],tags:["grays","point-cloud","subdued","colorblind-friendly"],name:"Point Cloud 2"},"cat-dark":{2:["#ed5151","#149ece"],3:["#ed5151","#149ece","#a7c636"],4:["#ed5151","#149ece","#a7c636","#9e559c"],5:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f"],6:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e"],7:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8"],8:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a"],9:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99"],10:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6"],11:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779"],12:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"],stops:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"],tags:["bright","categorical"],name:"Metro Movement"},"cat-light":{2:["#fd7f6f","#7eb0d5"],3:["#fd7f6f","#7eb0d5","#b2e061"],4:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe"],5:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a"],6:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65"],7:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db"],8:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5"],9:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7"],10:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4"],11:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4","#ffffaf"],12:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4","#ffffaf","#d9d9d9"],stops:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4","#ffffaf","#d9d9d9"],tags:["light","categorical"],name:"Pastel Dreams"},"predominant-v1":{1:["#a03500"],2:["#a03500","#d9b400"],3:["#a03500","#d9b400","#3264c8"],4:["#a03500","#d9b400","#3264c8","#72b38e"],5:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1"],6:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087"],7:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf"],8:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236"],9:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236","#96aedc"],10:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236","#96aedc","#ad8516"],stops:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236","#96aedc","#ad8516"],tags:["subdued","categorical"],name:"Mother Earth"},"predominant-v2":{1:["#dc4b00"],2:["#dc4b00","#3c6ccc"],3:["#dc4b00","#3c6ccc","#d9dc00"],4:["#dc4b00","#3c6ccc","#d9dc00","#91d900"],5:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1"],6:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00"],7:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478"],8:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc"],9:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc","#96aedc"],10:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc","#96aedc","#d7a799"],stops:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc","#96aedc","#d7a799"],tags:["dark","categorical"],name:"Rainforest Frogs"},"predominant-v3":{1:["#1e8553"],2:["#1e8553","#c44296"],3:["#1e8553","#c44296","#d9bf0d"],4:["#1e8553","#c44296","#d9bf0d","#d97f00"],5:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1"],6:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc"],7:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66"],8:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087"],9:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087","#96aedc"],10:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087","#96aedc","#807b71"],stops:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087","#96aedc","#807b71"],tags:["dark","categorical"],name:"Fruit Basket"},"predominant-v4":{1:["#ccb642"],2:["#ccb642","#6998b4"],3:["#ccb642","#6998b4","#a67474"],4:["#ccb642","#6998b4","#a67474","#6bb38f"],5:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3"],6:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739"],7:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc"],8:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043"],9:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043","#b9a087"],10:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043","#b9a087","#8f8399"],stops:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043","#b9a087","#8f8399"],tags:["subdued","categorical"],name:"Rainy Day"},"predominant-v5":{1:["#e60049"],2:["#e60049","#0bb4ff"],3:["#e60049","#0bb4ff","#50e991"],4:["#e60049","#0bb4ff","#50e991","#e6d800"],5:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5"],6:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300"],7:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4"],8:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff"],9:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"],10:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0","#f0cccc"],stops:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0","#f0cccc"],tags:["bright","categorical"],name:"Flower Field"},"predominance-race":{1:["#00b6f1"],2:["#00b6f1","#d9bf0d"],3:["#00b6f1","#d9bf0d","#c44245"],4:["#00b6f1","#d9bf0d","#c44245","#6a28c7"],5:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087"],6:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d"],7:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0"],8:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553"],9:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553","#ada016"],10:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553","#ada016","#0094bf"],stops:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553","#ada016","#0094bf"],tags:["bright","categorical"],name:"Mushroom Soup"},"predominance-money":{1:["#437a75"],2:["#437a75","#d9d78c"],3:["#437a75","#d9d78c","#bf7860"],4:["#437a75","#d9d78c","#bf7860","#72231f"],5:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2"],6:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8"],7:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6"],8:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c"],9:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c","#414b8c"],10:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c","#414b8c","#a664a0"],stops:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c","#414b8c","#a664a0"],tags:["subdued","categorical"],name:"Olive Harmony"},"predominance-race-ethnic":{1:["#0040bf"],2:["#0040bf","#a3cc52"],3:["#0040bf","#a3cc52","#b9a087"],4:["#0040bf","#a3cc52","#b9a087","#a01fcc"],5:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698"],6:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e"],7:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f"],8:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc"],9:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc","#629ed9"],10:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc","#629ed9","#8a64b3"],stops:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc","#629ed9","#8a64b3"],tags:["dark","categorical"],name:"Galaxy Berries"},"predominance-rainbow":{1:["#d43f70"],2:["#007fd9","#d43f70"],3:["#007fd9","#d43f70","#c4dc66"],4:["#007fd9","#d43f70","#b6a135","#c4dc66"],5:["#007fd9","#d43f70","#b6a135","#c4dc66","#ebe498"],6:["#007fd9","#d43f70","#d9874c","#b6a135","#c4dc66","#ebe498"],7:["#007fd9","#881fc5","#d43f70","#d9874c","#b6a135","#c4dc66","#ebe498"],8:["#007fd9","#443dbf","#881fc5","#d43f70","#d9874c","#b6a135","#c4dc66","#ebe498"],9:["#007fd9","#443dbf","#881fc5","#d43f70","#d9874c","#b6a135","#adbf27","#c4dc66","#ebe498"],10:["#007fd9","#443dbf","#881fc5","#bf00bf","#d43f70","#d9874c","#b6a135","#adbf27","#c4dc66","#ebe498"],stops:["#007fd9","#443dbf","#881fc5","#bf00bf","#d43f70","#d9874c","#b6a135","#adbf27","#c4dc66","#ebe498"],tags:["bright","categorical"],name:"Retro Flow"},"predominance-sequence":{1:["#b30000"],2:["#b30000","#ebdc78"],3:["#b30000","#8be04e","#ebdc78"],4:["#b30000","#1a53ff","#8be04e","#ebdc78"],5:["#b30000","#7c1158","#1a53ff","#8be04e","#ebdc78"],6:["#b30000","#7c1158","#1a53ff","#00b7c7","#8be04e","#ebdc78"],7:["#b30000","#7c1158","#4421af","#1a53ff","#00b7c7","#8be04e","#ebdc78"],8:["#b30000","#7c1158","#4421af","#1a53ff","#00b7c7","#5ad45a","#8be04e","#ebdc78"],9:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#ebdc78"],10:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#c5d96d","#ebdc78"],stops:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#c5d96d","#ebdc78"],tags:["bright","categorical"],name:"Sunset Fade"},"tropical-bliss":{stops:["rgba(252, 62, 90, 1)","rgba(252, 225, 56, 1.0)","rgba(76, 129, 205, 1)","rgba(241, 152, 60, 1)","rgba(72, 136, 92, 1)","rgba(165, 83, 183, 1)","rgba(255, 247, 153, 1)","rgba(177, 169, 208, 1)","rgba(110, 207, 252, 1)","rgba(252, 111, 132, 1)","rgba(106, 246, 137, 1)","rgba(252, 210, 126, 1)"],tags:["bright","categorical"],name:"Tropical Bliss"},"desert-blooms":{stops:["rgba(217, 53, 26, 1)","rgba(255, 199, 48, 1)","rgba(20, 77, 89, 1)","rgba(44, 105, 84, 1)","rgba(237, 147, 16, 1)","rgba(140, 33, 63, 1)","rgba(16, 36, 50, 1)","rgba(166, 79, 27, 1)","rgba(24, 56, 46, 1)","rgba(102, 21, 16, 1)","rgba(179, 21, 21, 1)","rgba(74, 9, 50, 1)"],tags:["light","dark","categorical"],name:"Desert Bloom"},"under-the-sea":{stops:["rgba(2, 78, 118, 1)","rgba(234, 49, 31, 1)","rgba(0, 115, 76, 1)","rgba(112, 68, 137, 1)","rgba(240, 145, 0, 1)","rgba(96, 113, 0, 1)","rgba(117, 112, 179, 1)","rgba(198, 0, 75, 1)","rgba(102, 102, 102, 1)","rgba(1, 172, 202 1)","rgba(191, 151, 39, 1)","rgba(51, 51, 51, 1)"],tags:["light","dark","categorical"],name:"Under the Sea"},"vibrant-rainbow":{stops:["rgba(50, 184, 166, 1)","rgba(245, 203, 17, 1)","rgba(235, 114, 0, 1)","rgba(196, 97, 235, 1)","rgba(108, 112, 0, 1)","rgba(191, 46, 46, 1)","rgba(70, 227, 156, 1)","rgba(159, 212, 12, 1)","rgba(173, 0, 242, 1)","rgba(255, 251, 0, 1)","rgba(127, 242, 250, 1)","rgba(232, 167, 132, 1)"],tags:["bright","categorical"],name:"Vibrant Rainbow"},"ocean-bay":{stops:["rgba(196, 53, 65, 1)","rgba(17, 73, 92, 1)","rgba(135, 176, 81, 1)","rgba(219, 182, 88, 1)","rgba(155, 224, 192, 1)","rgba(143, 143, 130, 1)","rgba(25, 25, 33, 1)","rgba(120, 177, 194, 1)","rgba(69, 79, 75, 1)","rgba(247, 236, 136, 1)","rgba(235, 220, 193, 1)","rgba(117, 53, 30, 1)"],tags:["subdued","categorical"],name:"Ocean Bay"},"prairie-summer":{stops:["rgba(123, 250, 235, 1)","rgba(234, 218, 64, 1)","rgba(117, 21, 85, 1)","rgba(212, 112, 19, 1)","rgba(51, 36, 36, 1)","rgba(130, 170, 214, 1)","rgba(31, 194, 53, 1)","rgba(214, 137, 137, 1)","rgba(33, 17, 115, 1)","rgba(107, 100, 8, 1)","rgba(110, 201, 168, 1)","rgba(204, 197, 74, 1)"],tags:["light","dark","categorical"],name:"Prairie Summer"},"pastel-chalk":{stops:["rgba(160, 184, 181, 1)","rgba(191, 142, 142, 1)","rgba(255, 253, 153, 1)","rgba(193, 212, 140, 1)","rgba(223, 193, 235, 1)","rgba(242, 185, 131, 1)","rgba(203, 247, 250, 1)","rgba(148, 153, 92, 1)","rgba(215, 145, 242, 1)","rgba(245, 230, 164, 1)","rgba(184, 227, 208, 1)","rgba(232, 196, 178, 1)"],tags:["subdued","categorical"],name:"Pastel Chalk"},"cat-symbols-strong":{1:["#d92b30"],2:["#d92b30","#ffdf3c"],3:["#d92b30","#3cccb4","#ffdf3c"],4:["#d92b30","#3cccb4","#ffdf3c","#f260a1"],5:["#d92b30","#3cccb4","#ffdf3c","#c27c30","#f260a1"],6:["#d92b30","#0095ba","#3cccb4","#ffdf3c","#c27c30","#f260a1"],7:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffdf3c","#c27c30","#f260a1"],8:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffdf3c","#c27c30","#a0d17d","#f260a1"],9:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffdf3c","#eb82eb","#c27c30","#a0d17d","#f260a1"],10:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffb259","#ffdf3c","#eb82eb","#c27c30","#a0d17d","#f260a1"],stops:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffb259","#ffdf3c","#eb82eb","#c27c30","#a0d17d","#f260a1"],tags:["light","categorical","colorblind-friendly"],name:"Circling Circus"},"cat-symbols-autumnal":{1:["#3e756d"],2:["#3e756d","#d9d78c"],3:["#3e756d","#d9d78c","#b86b53"],4:["#3e756d","#d9d78c","#b86b53","#5c98ca"],5:["#3e756d","#d9d78c","#b86b53","#5c98ca","#9c5596"],6:["#3e756d","#d9d78c","#b86b53","#5c98ca","#86afb3","#9c5596"],7:["#3e756d","#d9d78c","#b86b53","#73241f","#5c98ca","#86afb3","#9c5596"],8:["#3e756d","#d9d78c","#b86b53","#73241f","#5c98ca","#86afb3","#44498b","#9c5596"],9:["#3e756d","#d9d78c","#b86b53","#73241f","#5c98ca","#86afb3","#ad9d63","#44498b","#9c5596"],10:["#3e756d","#d9d78c","#b86b53","#73241f","#b0bfa2","#5c98ca","#86afb3","#ad9d63","#44498b","#9c5596"],stops:["#3e756d","#d9d78c","#b86b53","#73241f","#b0bfa2","#5c98ca","#86afb3","#ad9d63","#44498b","#9c5596"],tags:["light","categorical","colorblind-friendly"],name:"Falling Leaves"},"cat-symbols-bright":{1:["#f22f00"],2:["#f22f00","#ffdd00"],3:["#f22f00","#26ffff","#ffdd00"],4:["#f22f00","#26ffff","#ffdd00","#5ff500"],5:["#f22f00","#26ffff","#ffdd00","#5ff500","#0040ff"],6:["#f22f00","#26ffff","#ffdd00","#ff4dc4","#5ff500","#0040ff"],7:["#f22f00","#26ffff","#d99800","#ffdd00","#ff4dc4","#5ff500","#0040ff"],8:["#f22f00","#26ffff","#a040ff","#d99800","#ffdd00","#ff4dc4","#5ff500","#0040ff"],9:["#f22f00","#ffff80","#26ffff","#a040ff","#d99800","#ffdd00","#ff4dc4","#5ff500","#0040ff"],10:["#f22f00","#ffff80","#26ffff","#a040ff","#d99800","#c0ff73","#ffdd00","#ff4dc4","#5ff500","#0040ff"],stops:["#f22f00","#ffff80","#26ffff","#a040ff","#d99800","#c0ff73","#ffdd00","#ff4dc4","#5ff500","#0040ff"],tags:["light","categorical","colorblind-friendly"],name:"High Light"},"cat-symbols-midrange":{1:["#e65154"],2:["#e65154","#ff8cd9"],3:["#e65154","#67e6d1","#ff8cd9"],4:["#e65154","#67e6d1","#ff8cd9","#c8f2a9"],5:["#e65154","#67e6d1","#ff8cd9","#c8f2a9","#d4b8ff"],6:["#e65154","#67e6d1","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],7:["#e65154","#67e6d1","#ffca8c","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],8:["#e65154","#67e6d1","#cd76d6","#ffca8c","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],9:["#e65154","#26b6ff","#67e6d1","#cd76d6","#ffca8c","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],10:["#e65154","#26b6ff","#67e6d1","#cd76d6","#ffca8c","#fff2b3","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],stops:["#e65154","#26b6ff","#67e6d1","#cd76d6","#ffca8c","#fff2b3","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],tags:["light","categorical","colorblind-friendly"],name:"Beaded Pastel"},"cat-symbols-subdued":{1:["#b5d6f2"],2:["#b5d6f2","#e3a3dd"],3:["#7db3ab","#b5d6f2","#e3a3dd"],4:["#7db3ab","#b5d6f2","#bf7872","#e3a3dd"],5:["#7db3ab","#dbe6d1","#b5d6f2","#bf7872","#e3a3dd"],6:["#7db3ab","#dbe6d1","#b5d6f2","#bf7872","#9093c7","#e3a3dd"],7:["#7db3ab","#dbe6d1","#b5d6f2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],8:["#7db3ab","#dbe6d1","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],9:["#7db3ab","#dbe6d1","#d6a394","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],10:["#7db3ab","#dbe6d1","#d6a394","#c8e0e3","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],stops:["#7db3ab","#dbe6d1","#d6a394","#c8e0e3","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],tags:["light","categorical","colorblind-friendly"],name:"Chamois"},"cat-symbols-pastel":{1:["#ffe3d6"],2:["#ffe3d6","#e8add4"],3:["#b8f5e7","#ffe3d6","#e8add4"],4:["#e0c9af","#b8f5e7","#ffe3d6","#e8add4"],5:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4"],6:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#7dbdfa"],7:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa"],8:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc"],9:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc","#e88b9b"],10:["#9f8eed","#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc","#e88b9b"],stops:["#9f8eed","#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc","#e88b9b"],tags:["light","categorical","colorblind-friendly"],name:"Low Satch"},"cat-symbols-red":{1:["#ffbfc9"],2:["#ffbfc9","#ffb180"],3:["#ffbfc9","#ffb180","#ff6e9d"],4:["#de2c30","#ffb180","#c74f8c","#ff6e9d"],5:["#de2c30","#ffb180","#c74f8c","#ffdaa6","#ff6e9d"],6:["#e6772e","#de2c30","#ffb180","#c74f8c","#ffdaa6","#ff6e9d"],7:["#e6772e","#de2c30","#ffb180","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],8:["#99004d","#e6772e","#ffbfc9","#ffb180","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],9:["#99004d","#e6772e","#ffbfc9","#de2c30","#ffb180","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],10:["#99004d","#e6772e","#ffbfc9","#de2c30","#ffb180","#fa8870","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],stops:["#99004d","#e6772e","#ffbfc9","#de2c30","#ffb180","#fa8870","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],tags:["light","categorical","reds","yellows","colorblind-friendly"],name:"Blushing Rose"},"cat-symbols-blue":{1:["#61dbf2"],2:["#bfc5ff","#61dbf2"],3:["#bfc5ff","#61dbf2","#0095e0"],4:["#bfc5ff","#6b78ff","#61dbf2","#0095e0"],5:["#0066cc","#bfc5ff","#6b78ff","#61dbf2","#0095e0"],6:["#0066cc","#599eff","#bfc5ff","#6b78ff","#61dbf2","#0095e0"],7:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#61dbf2","#0095e0"],8:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#0095e0"],9:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#3b2fbf","#0095e0"],10:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#6bb5ff","#3b2fbf","#0095e0"],stops:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#6bb5ff","#3b2fbf","#0095e0"],tags:["light","categorical","blues","colorblind-friendly"],name:"Tidal Crest"},"cat-symbols-green":{1:["#78ede4"],2:["#78ede4","#a3f9a0"],3:["#78ede4","#a3f9a0","#00bfaf"],4:["#008c5e","#52cc52","#a3f9a0","#00bfaf"],5:["#008c5e","#75de43","#52cc52","#a3f9a0","#00bfaf"],6:["#008c5e","#75de43","#52cc52","#54994d","#a3f9a0","#00bfaf"],7:["#008c5e","#75de43","#52cc52","#54994d","#a3f9a0","#70e0bb","#00bfaf"],8:["#008c5e","#75de43","#78ede4","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],9:["#008c5e","#75de43","#78ede4","#52cc52","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],10:["#008c5e","#75de43","#78ede4","#52cc52","#ccffb3","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],stops:["#008c5e","#75de43","#78ede4","#52cc52","#ccffb3","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],tags:["light","categorical","greens","colorblind-friendly"],name:"Fresh Stems"},"cat-symbols-gray":{1:["#e6dada"],2:["#e6dada","#b4c9d2"],3:["#e6dada","#b4c9d2","#738491"],4:["#5d5d50","#9a9a91","#b4c9d2","#738491"],5:["#5d5d50","#afbaaf","#9a9a91","#b4c9d2","#738491"],6:["#5d5d50","#afbaaf","#9a9a91","#856b6b","#b4c9d2","#738491"],7:["#5d5d50","#afbaaf","#9a9a91","#856b6b","#b4c9d2","#b4a5ac","#738491"],8:["#5d5d50","#afbaaf","#e6dada","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],9:["#5d5d50","#afbaaf","#e6dada","#9a9a91","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],10:["#5d5d50","#afbaaf","#e6dada","#9a9a91","#e7e7d2","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],stops:["#5d5d50","#afbaaf","#e6dada","#9a9a91","#e7e7d2","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],tags:["light","categorical","grays","colorblind-friendly"],name:"Stone and Gravel"},"relationship-brewer-yellow-blue-black":{2:[["#f3b300","#000000"],["#f3f3f3","#509dc2"]],3:[["#f3b300","#7a5a00","#000000"],["#f3d37a","#8e916e","#284f61"],["#e8e6f2","#a2c8db","#509dc2"]],4:[["#f3b300","#a27700","#513c00","#000000"],["#f3c851","#ab974c","#636546","#1b3441"],["#f3dea2","#b4b797","#74908c","#356981"],["#f3f3f3","#bdd6e3","#86bad2","#509dc2"]],tags:["colorblind-friendly","relationship","light"],name:"Sunflower Skies"},"relationship-brewer-pink-blue-purple":{2:[["#de4fa6","#2a1a8a"],["#e8e6f2","#4fadd0"]],3:[["#de4fa6","#843598","#2a1a8a"],["#e39bcc","#9080bd","#3d64ad"],["#e9e6f2","#9ccae1","#4fadd0"]],4:[["#de4fa6","#a23d9d","#662c93","#2a1a8a"],["#e181bf","#a86fb5","#6f5dab","#364ba1"],["#e5b4d9","#afa1ce","#798fc4","#437cb9"],["#e8e6f2","#b5d3e7","#82c0db","#4fadd0"]],tags:["light","relationship","light"],name:"Blueberry Parfait"},"relationship-brewer-orange-pink-purple-green":{2:[["#f0008b","#5a4da4"],["#f37300","#008837"]],3:[["#f0008b","#cd9acc","#5a4da4"],["#fe9aa6","#e6e6e6","#9ac9d5"],["#f37300","#cce88b","#008837"]],4:[["#f0008b","#e67fe6","#bb7fe6","#5a4da4"],["#e67fb6","#ffd9f4","#ddd9ff","#8aade6"],["#f29a92","#ffe8d9","#d9ffe6","#6cd9d2"],["#f37300","#e6c97e","#96e67e","#008837"]],tags:["colorblind-friendly","relationship","light"],name:"Unicorn Wishes"},"relationship-brewer-purple-orange":{2:[["#240d5e","#b30000"],["#c4b3d8","#ffcc80"]],3:[["#240d5e","#7f7f7f","#b30000"],["#7c67ab","#bfbfbf","#f35926"],["#c4b3d8","#e6e6e6","#ffcc80"]],4:[["#240d5e","#72668f","#b96060","#b30000"],["#594487","#988db0","#d08e84","#cc442b"],["#8f7caf","#bfb3d1","#e8bda8","#e68855"],["#c4b3d8","#e5daf2","#ffebcc","#ffcc80"]],tags:["colorblind-friendly","relationship","light"],name:"Lava Flows"},"relationship-blue-orange-brown":{2:[["#07a9d0","#705a50"],["#f3d8cb","#ea7f45"]],3:[["#00afe7","#427a8e","#5c473d"],["#98cfe5","#af978b","#aa5f37"],["#ffefe2","#ffb286","#f97529"]],4:[["#00b1f3","#0089af","#46636f","#533e34"],["#4ccaf2","#82a0ad","#8f786c","#8b4f30"],["#c3e2f0","#d0b7ab","#d08c69","#c56027"],["#fffaed","#ffcda7","#ff9f63","#ff6f16"]],tags:["colorblind-friendly","relationship","light"],name:"Fish Scales"},"relationship-purple-green-blue":{2:[["#c47add","#5064a0"],["#f2f2f2","#a9bf39"]],3:[["#c47add","#7b72ab","#5064a0"],["#dbb6e8","#ad9d91","#7d926d"],["#f2f2f2","#ced996","#a9bf39"]],4:[["#c47add","#917abf","#7b72ab","#5064a0"],["#d3a2e4","#a79abc","#918a91","#6e827e"],["#e3caeb","#c2bebe","#a8ad7b","#8ba15b"],["#f2f2f2","#dce1c0","#c1c989","#a9bf39"]],tags:["colorblind-friendly","relationship","light"],name:"Grapes on Vines"},"relationship-blue-green-purple":{2:[["#66b0ff","#79379c"],["#efffe3","#9ebf39"]],3:[["#66b0ff","#7364aa","#79379c"],["#abd8f1","#8ea09c","#7a7a4c"],["#efffe3","#c7df8e","#9ebf39"]],4:[["#66b0ff","#7388c8","#7364aa","#79379c"],["#94caf6","#93a9be","#8a8997","#85697b"],["#c1e5ec","#b4c9b4","#a2af85","#929268"],["#efffe3","#d4eaaa","#b9d472","#9ebf39"]],tags:["colorblind-friendly","relationship","light"],name:"Forest Canopy"},"relationship-blue-orange-green":{2:[["#66bfff","#066b2d"],["#f2f2f2","#f09900"]],3:[["#66bfff","#398273","#066b2d"],["#acd9f9","#a1ac9c","#7d7755"],["#f2f2f2","#e7c696","#f09900"]],4:[["#66bfff","#599bab","#398273","#066b2d"],["#95d0fb","#8caea8","#769468","#59782f"],["#c3e1f6","#bec1a4","#b4a55c","#9c8a2d"],["#f2f2f2","#f1d4a1","#f1b751","#f09900"]],tags:["colorblind-friendly","relationship","light"],name:"Backyard Garden"},"relationship-mustard-blue-wine":{2:[["#f0d200","#8c0b00"],["#faffe3","#64c8ff"]],3:[["#f0d200","#9e5114","#8c0b00"],["#eff279","#aaafa0","#627b94"],["#faffe3","#afe4f1","#64c8ff"]],4:[["#f0d200","#bd9024","#9e5114","#8c0b00"],["#f5e052","#bfac6a","#9a7d61","#80565f"],["#f1e7a1","#c1c8b0","#97aaae","#7789a2"],["#faffe3","#c3e4f6","#93d6fb","#64c8ff"]],tags:["colorblind-friendly","relationship","light"],name:"Campfire Flames"},"relationship-pink-blue-purple":{2:[["#ff7373","#593fb3"],["#f2f2f2","#62e7f5"]],3:[["#ff7373","#945c90","#593fb3"],["#f9b8b8","#a699d4","#5593d4"],["#f2f2f2","#a3ecf4","#62e7f5"]],4:[["#ff7373","#bf6989","#945c90","#593fb3"],["#fb9d9d","#bb97ac","#938cb1","#6077bf"],["#f6c8c8","#c1c2d0","#93bbd3","#73afd3"],["#f2f2f2","#c2eef3","#92ebf4","#62e7f5"]],tags:["colorblind-friendly","relationship","light"],name:"Cottoncandy Wisps"},"relationship-olive-blue-green":{2:[["#d1d100","#066b2d"],["#faffe3","#50aaff"]],3:[["#d1d100","#4f852c","#066b2d"],["#e8eb75","#aab4a0","#608f94"],["#faffe3","#b1dbf5","#50aaff"]],4:[["#d1d100","#8aa32e","#4f852c","#066b2d"],["#dfe04c","#9ebb6e","#629b6f","#367a71"],["#ecf097","#b0cfad","#76b0b3","#5293ab"],["#faffe3","#c1e3ec","#89c6f6","#50aaff"]],tags:["colorblind-friendly","relationship","light"],name:"Jungle Adventure"},"relationship-yellow-cyan-blue":{2:[["#ffeb00","#007bcc"],["#faffe3","#00e6e6"]],3:[["#ffeb00","#63a18e","#007bcc"],["#fffbb3","#9dbdcc","#5dadbf"],["#faffe3","#a6fff5","#00e6e6"]],4:[["#ffeb00","#aabf5e","#63a18e","#007bcc"],["#fff44d","#a9d28b","#5ebbab","#289fc8"],["#fffca6","#a8e4b7","#58d4c8","#30c2d6"],["#faffe3","#a7f7e4","#53eee5","#00e6e6"]],tags:["colorblind-friendly","relationship","light"],name:"Mountain Trails"},"relationship-blue-pink-purple":{2:[["#57a5d9","#631673"],["#ece6f2","#cc5a5a"]],3:[["#5ea5d8","#624d8a","#621371"],["#a5c6e5","#9e799b","#963567"],["#ece6f2","#daa5ac","#c9585c"]],4:[["#57a5d9","#6175a7","#624e8c","#631673"],["#89bbe1","#8c8baf","#89628c","#7f3c6b"],["#bad0ea","#b6a1b7","#b0758d","#974a62"],["#ece6f2","#e1b7bf","#d7898d","#cc5a5a"]],tags:["colorblind-friendly","relationship","light"],name:"Dawn Rising"},"relationship-purple-green-wine":{2:[["#ad77d9","#7a0a00"],["#ece6f2","#9cbf57"]],3:[["#ad77d9","#7a4873","#7a0a00"],["#cdafe6","#a59b98","#6e6548"],["#ece6f2","#c4d3a5","#9cbf57"]],4:[["#ad77d9","#9460a6","#7a4873","#7a0a00"],["#c29ce1","#a888ae","#8e747b","#7a613c"],["#d7c1ea","#bdb1b6","#a3a083","#8a834c"],["#ece6f2","#d1d9be","#b7cc8b","#9cbf57"]],tags:["colorblind-friendly","relationship","light"],name:"Wine Tasting"},"relationship-blue-red-pink":{2:[["#4d79ff","#ebccff"],["#333380","#c03050"]],3:[["#4d79ff","#9ca3ff","#ebccff"],["#4056c0","#8b7bc0","#d57ea8"],["#333380","#803a6e","#c03050"]],4:[["#4d79ff","#8395ff","#b8b0ff","#ebccff"],["#4462d5","#7773cc","#aa83c9","#df98c5"],["#3c4aaa","#6d539e","#9d5a93","#cf648a"],["#333380","#623270","#913160","#c03050"]],tags:["colorblind-friendly","relationship","dark"],name:"Sunset Smudge"},"relationship-blue-green-brightgreen":{2:[["#0d6eff","#73FF73"],["#004d54","#6fa600"]],3:[["#0d6eff","#3691b3","#73ff73"],["#134da2","#35798c","#6dd33a"],["#004d54","#397027","#6FA600"]],4:[["#0d6eff","#2e90d6","#35c4ac","#73ff73"],["#0662c4","#2c85a0","#3baa94","#76de4e"],["#035a8f","#2a7b6b","#459e5a","#71cc1F"],["#004d54","#287035","#468b1b","#6fa600"]],tags:["colorblind-friendly","relationship","dark"],name:"Aurora Borealis"},"relationship-blue-orange-lavender":{2:[["#0066ff","#cfbfff"],["#241159","#ab5600"]],3:[["#0066ff","#6893ff","#cfbfff"],["#0f3699","#7a6896","#bd8b80"],["#241159","#612d19","#ab5600"]],4:[["#0066ff","#4584ff","#8aa1ff","#cfbfff"],["#0c4ac8","#3e69b8","#9685b4","#c39caa"],["#182d90","#5d4b78","#8a6273","#b77955"],["#241159","#51283b","#7e3f1e","#ab5600"]],tags:["colorblind-friendly","relationship","dark"],name:"Soft Leather"},"relationship-pink-purple-peach":{2:[["#bf1d4e","#ebbebe"],["#47002f","#7040ff"]],3:[["#bf1d4e","#d56e86","#ebbebe"],["#831427","#8c4885","#a979df"],["#47002f","#531a80","#7040ff"]],4:[["#bf1d4e","#ce5373","#dc8899","#ebbebe"],["#97183e","#a22572","#c25aa8","#bf90d4"],["#6f122d","#812677","#923faf","#9261e9"],["#47002f","#5e136d","#6223b6","#7040ff"]],tags:["colorblind-friendly","relationship","dark"],name:"Rose Petals"},"relationship-purple-mustard-eggshell":{2:[["#8251e6","#ffe6c2"],["#4d3147","#b39e12"]],3:[["#8251e6","#ba97d4","#ffe6c2"],["#6e4c97","#96847d","#d3bd6a"],["#4d3147","#776525","#b39e12"]],4:[["#8251e6","#a77fda","#cdaece","#ffe6c2"],["#7046b1","#8870a0","#b793b1","#ddc787"],["#5f3c7c","#7a6172","#a18a59","#C8B300"],["#4d3147","#63522b","#8b781f","#b39e12"]],tags:["colorblind-friendly","relationship","dark"],name:"Seasonal Eggplant"},"relationship-blue-brick-green":{2:[["#0080ad","#d4ff99"],["#4c2f54","#ab4211"]],3:[["#0080ad","#7ebd99","#d4ff99"],["#345070","#806d7c","#c09b4d"],["#4c2f54","#7b332a","#ab4211"]],4:[["#0080ad","#61a799","#9ad399","#d4ff99"],["#1f5f86","#5e8485","#96a17b","#e3af44"],["#3d3e5e","#6b4b65","#8f694a","#c7803c"],["#4c2f54","#6c353e","#8b3c27","#ab4211"]],tags:["colorblind-friendly","relationship","dark"],name:"Seventies Poncho"},"relationship-orange-purple-lavender":{2:[["#bf4343","#e6b3ff"],["#542d3d","#7e39a1"]],3:[["#bf4343","#d97ba1","#e6b3ff"],["#803a1c","#8c5d86","#b876d0"],["#542d3d","#69336f","#7e39a1"]],4:[["#bf4343","#cc6882","#d98ec0","#e6b3ff"],["#9b3c41","#a6465e","#ad7199","#cf89dd"],["#78343f","#874368","#955192","#a460bb"],["#542d3d","#61305d","#6f347d","#7e39a1"]],tags:["colorblind-friendly","relationship","dark"],name:"Violet Delights"},"relationship-brown-purple-lilac":{2:[["#bf9b5e","#ffccee"],["#4a3449","#67679e"]],3:[["#bf9b5e","#d9afa4","#ffccee"],["#7b6654","#896f8c","#b298c2"],["#4a3449","#594c7e","#67679e"]],4:[["#bf9b5e","#d4ab8e","#e8bbbe","#ffccee"],["#947857","#a98980","#ba99aa","#d2afd9"],["#69554f","#7f6773","#8b7896","#9a89b9"],["#4a3449","#574769","#5d5682","#67679e"]],tags:["colorblind-friendly","relationship","dark"],name:"Winter Canyon"},"relationship-teal-yellow-lightteal":{2:[["#00b3ff","#c0ffb3"],["#286652","#b5b800"]],3:[["#00b3ff","#5ce3d3","#c0ffb3"],["#008c8c","#57ad56","#c1d94f"],["#286652","#6F820D","#b5b800"]],4:[["#00b3ff","#3dcce2","#7ae6c5","#c0ffb3"],["#0d99c5","#3cb5aa","#87cc8b","#b6e770"],["#1b808c","#58996f","#79b655","#b6d038"],["#286652","#578137","#869d1b","#b5b800"]],tags:["colorblind-friendly","relationship","dark"],name:"Persian Lime"},"relationship-blue-red-yellow":{2:[["#195DFC","#FEFF80"],["#402447","#C82920"]],3:[["#195DFC","#8CA5BE","#FEFF80"],["#272E99","#8140A4","#E58100"],["#402447","#8A0017","#C82920"]],4:[["#195DFC","#6593d3","#a9c9ae","#FEFF80"],["#264ac0","#5951bf","#a0828a","#ecb860"],["#353987","#5e406b","#993e71","#da7040"],["#402447","#692438","#9b272d","#C82920"]],tags:["colorblind-friendly","relationship","dark"],name:"Summer Picnic"},"relationship-blue-rose-peach":{2:[["#66c0ff","#ff8080"],["#004473","#852828"]],3:[["#66c0ff","#7b6586","#ff8080"],["#3382b9","#644d70","#c25454"],["#004473","#4d3559","#852828"]],4:[["#66c0ff","#5d6fa6","#995b65","#ff8080"],["#4497d0","#505e8c","#7B4B50","#d66363"],["#226da2","#424c73","#5e3b40","#ae4545"],["#004473","#353b59","#452e31","#852828"]],tags:["colorblind-friendly","relationship","dark"],name:"Coral Reef"},"relationship-pink-lilac-blue":{2:[["#ffa5ba","#66ffff"],["#ffff80","#aa99ff"]],3:[["#ffa5ba","#71818c","#66ffff"],["#b35a5a","#5b4666","#7070cc"],["#ffff80","#8c7f54","#aa99ff"]],4:[["#ffa5ba","#906499","#738999","#66ffff"],["#994d65","#663344","#38428c","#5c5ce6"],["#a66153","#4d3d27","#3b2e73","#8767e6"],["#ffff80","#807d53","#6f6264","#aa99ff"]],tags:["colorblind-friendly","relationship","dark"],name:"Spring Showers"},"relationship-blue-peach-purple":{2:[["#198dff","#590059"],["#e6e6c3","#b35a5a"]],3:[["#198dff","#4a51ba","#590059"],["#86c0e1","#6674ad","#8d2d60"],["#e6e6c3","#d3a68e","#b35a5a"]],4:[["#198dff","#3a60d5","#5730a6","#590059"],["#66b3e3","#6d82d9","#6d4b94","#8f1954"],["#b2d9c6","#99a2ba","#a4707d","#a33a59"],["#e6e6c3","#e6c8a1","#cc9191","#b35a5a"]],tags:["colorblind-friendly","relationship","light"],name:"Cosmic Symphony"},"relationship-mint-mustard-green":{2:[["#00aacc","#00594a"],["#ffffaa","#e69a00"]],3:[["#00aacc","#00828b","#00594a"],["#80d4bb","#80ac7a","#737a25"],["#ffffaa","#f3cd55","#e69a00"]],4:[["#00aacc","#008fa1","#007475","#00594a"],["#55c6c1","#52a889","#508a51","#596f00"],["#aae3b5","#aac88a","#9fa345","#a08400"],["#ffffaa","#f7dd71","#eebc39","#e69a00"]],tags:["colorblind-friendly","relationship","light"],name:"Mustard Grove"},"relationship-purple-mustard-darkpurple":{2:[["#aa4ed9","#66004d"],["#f2ceda","#ccaa00"]],3:[["#aa4ed9","#8e2999","#66004d"],["#ce8eda","#bb7c6d","#995527"],["#f2ceda","#e4bb80","#ccaa00"]],4:[["#aa4ed9","#9334aa","#7d1a7c","#66004d"],["#bf75dd","#b063a5","#9d4f6c","#883933"],["#d9a2dc","#d296a7","#c18660","#aa711a"],["#f2ceda","#f0c4aa","#e5bd55","#ccaa00"]],tags:["colorblind-friendly","relationship","light"],name:"Morning Amethyst"},"relationship-blue-orange-purple":{2:[["#6b9bb3","#600080"],["#d2edc9","#cca352"]],3:[["#6b9bb3","#6e54a6","#600080"],["#9ccdc0","#9c9f83","#965269"],["#d2edc9","#ccd18f","#cca352"]],4:[["#6b9bb3","#6767a2","#643491","#600080"],["#8bbcbb","#898fa2","#86638a","#843671"],["#acdec4","#abb8a3","#a99382","#a86d61"],["#d2edc9","#cce0a3","#ccc27b","#cca352"]],tags:["colorblind-friendly","relationship","light"],name:"Marine Heliotrope"},"relationship-pink-periwinkle-violet":{2:[["#ff5c5c","#7a0050"],["#f2dcee","#809dff"]],3:[["#ff5c5c","#c73c63","#7a0050"],["#f99ca5","#c67a92","#885ab3"],["#f2dcee","#b9bdf7","#809dff"]],4:[["#ff5c5c","#d04559","#a22e4b","#7a0050"],["#fb878d","#cf708d","#a35a85","#77448d"],["#f6b1bd","#cd9cc0","#a586bf","#7c70c6"],["#f2dcee","#ccc7f4","#a6b2f9","#809dff"]],tags:["colorblind-friendly","relationship","light"],name:"Strawberry Tulips"},"relationship-blue-tan-green":{2:[["#00a1f2","#4e592c"],["#ffffcc","#bf9357"]],3:[["#00a1f2","#277d8f","#4e592c"],["#80d0df","#7ca199","#817e5c"],["#ffffcc","#dfc992","#bf9357"]],4:[["#00a1f2","#1a89b0","#34716e","#4e592c"],["#55c0e5","#5fa4ac","#698873","#746c3a"],["#aae0d9","#a5c0a9","#9fa079","#998049"],["#ffffcc","#eadba5","#d4b77e","#bf9357"]],tags:["colorblind-friendly","relationship","light"],name:"Coconut Palms"},"relationship-purple-green-olive":{2:[["#731773","#595900"],["#de9bde","#bfbf73"]],3:[["#731773","#b1767a","#595900"],["#b94cb9","#d899ac","#9e9f36"],["#de9bde","#f2beb5","#bfbf73"]],4:[["#731773","#b35d8a","#b38f6b","#595900"],["#a23aa2","#cc7ea7","#ccab80","#88881b"],["#d05dd0","#e69ec4","#e6c694","#a5a638"],["#de9bde","#ffbfe1","#ffe2a9","#bfbf73"]],tags:["colorblind-friendly","relationship","light"],name:"Blooming Lilypad"},election:{11:["#086ca0","#2668a0","#4364a1","#6160a1","#7e5ca2","#9c58a2","#a44d8b","#ac4274","#b5385d","#bd2d46","#c5222f"],stops:["#086ca0","#2668a0","#4364a1","#6160a1","#7e5ca2","#9c58a2","#a44d8b","#ac4274","#b5385d","#bd2d46","#c5222f"],tags:["group-similar","colorblind-friendly"],name:"Group Similar 1"},temperature:{12:["#000068","#333399","#756db5","#9a93ca","#c6c3e2","#e7e6f2","#fdece3","#fdd2bf","#faa98b","#f68460","#f23d2f","#c60000"],stops:["#000068","#333399","#756db5","#9a93ca","#c6c3e2","#e7e6f2","#fdece3","#fdd2bf","#faa98b","#f68460","#f23d2f","#c60000"],tags:["group-similar","colorblind-friendly"],name:"Group Similar 2"},"elevation-warm-humid":{11:["#6c9a87","#77ad95","#86b89d","#a9c0a7","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],stops:["#6c9a87","#77ad95","#86b89d","#a9c0a7","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],tags:["group-similar"],name:"Group Similar 3"},"elevation-cool-humid":{11:["#72958e","#82a5a0","#91b2ac","#b4bfb5","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],stops:["#72958e","#82a5a0","#91b2ac","#b4bfb5","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],tags:["group-similar"],name:"Group Similar 4"},"elevation-arid":{11:["#938b83","#a99f94","#b4aa9e","#cabead","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],stops:["#938b83","#a99f94","#b4aa9e","#cabead","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],tags:["group-similar"],name:"Group Similar 5"},"elevation-polar":{8:["#94a9c0","#a3b4cb","#abc0d5","#b8c9e0","#cad6e8","#dbe1f0","#edf2fb","#eff3fb"],stops:["#94a9c0","#a3b4cb","#abc0d5","#b8c9e0","#cad6e8","#dbe1f0","#edf2fb","#eff3fb"],tags:["group-similar"],name:"Group Similar 6"},precipitation:{17:["#f11714","#f88c51","#fcb16b","#fec784","#ffe6b6","#e7f0c0","#cfe5ac","#b6db98","#9ed187","#85c860","#6ec13a","#13b445","#00a64b","#9089c4","#756db5","#625cab","#2d2b94"],stops:["#f11714","#f88c51","#fcb16b","#fec784","#ffe6b6","#e7f0c0","#cfe5ac","#b6db98","#9ed187","#85c860","#6ec13a","#13b445","#00a64b","#9089c4","#756db5","#625cab","#2d2b94"],tags:["group-similar"],name:"Group Similar 7"},spectral:{6:["#b8529e","#3853a3","#6fcbdc","#69bc45","#f6eb0f","#ec1e24"],stops:["#b8529e","#3853a3","#6fcbdc","#69bc45","#f6eb0f","#ec1e24"],tags:["group-similar","colorblind-friendly"],name:"Group Similar 8"},bathymetry:{14:["#e9f5ff","#d4eaf8","#bfdff2","#abd5ec","#96cae5","#81bfdf","#6cb4d8","#5ca0ca","#4c8dbc","#3d79ae","#2d65a0","#1d5292","#0d3e84","#08306b"],stops:["#e9f5ff","#d4eaf8","#bfdff2","#abd5ec","#96cae5","#81bfdf","#6cb4d8","#5ca0ca","#4c8dbc","#3d79ae","#2d65a0","#1d5292","#0d3e84","#08306b"],tags:["group-similar","colorblind-friendly"],name:"Group Similar 9"},"cat-dark-6":{6:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e"],stops:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e"],tags:["dark"],name:"Candy Shop"},"cat-light-6":{6:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65"],stops:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65"],tags:["light"],name:"Watercolor Surprise"},"point-cloud-class-scheme":{stops:["rgb(178, 178, 178)","rgb(178, 178, 178)","rgb(168, 112, 0)","rgb(38, 115, 0)","rgb(76, 230, 0)","rgb(205, 245, 122)","rgb(230, 75, 65)","rgb(230, 0, 0)","rgb(168, 112, 0)","rgb(0, 92, 230)","rgb(132, 0, 168)","rgb(78, 78, 78)","rgb(197, 0, 255)","rgb(0, 77, 168)","rgb(255, 255, 115)","rgb(115, 178, 255)","rgb(225, 115, 255)","rgb(130, 130, 130)","rgb(230, 0, 0)","rgb(230, 230, 0)"],tags:["point-cloud"],name:"Point Cloud 3"},"heatmap-v1":{stops:["#85c1c8","#90a1be","#9c8184","#a761aa","#af4980","#b83055","#c0182a","#c80000","#d33300","#de6600","#e99900","#f4cc00","#ffff00"],tags:["light","dark","heatmap"],name:"Heatmap 1"},"heatmap-v2":{stops:["#f3e4e5","#e4becb","#d498b2","#c57298","#b95685","#ae3972","#a21d5e","#96004b","#ab006f","#c00093","#d500b7","#ea00db","#ff00ff"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 2"},"heatmap-v3":{stops:["#d4e3f5","#b3c5f7","#93a6fa","#7288fc","#566ffd","#3955fe","#1d3bfe","#0022ff","#334ecc","#667a99","#99a766","#ccd333","#ffff00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 3"},"heatmap-v4":{stops:["#0022c8","#2b1ca7","#551785","#801164","#aa0b43","#d50621","#ff0000","#ff3900","#ff7100","#ffaa00","#ffc655","#ffe3aa","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 4"},"dark-yellow-orange":{stops:["#664c28","#795523","#8d5f1e","#a06819","#b37114","#c67a0f","#d9830a","#ec8c05","#ff9500","#ffae00","#ffc600","#ffde00","#fff700"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 5"},"dark-yellow-green":{stops:["#284c66","#35585b","#436550","#507145","#5d7d3a","#6f8e2c","#819e1d","#92af0f","#a4bf00","#b9cf00","#cedf00","#e2eF00","#f7ff00"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 6"},"dark-yellow-purple":{stops:["#3f2866","#472b77","#4e2d87","#563098","#5d32a8","#6735be","#7139d4","#7b3ce9","#853fff","#a46fbf","#c29f80","#e0cf40","#ffff00"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 7"},"dark-yellow-magenta":{stops:["#730073","#820082","#910091","#a000a0","#af00af","#c300c3","#d700d7","#eb00eb","#ff00ff","#ff58a0","#ff896b","#ffb935","#ffea00"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 8"},"dark-white-blue":{stops:["#215587","#245b91","#26629b","#2968a5","#2b6eaf","#307bc3","#3687d7","#3b94eb","#40a0ff","#6db8ff","#9bd0ff","#c8e7ff","#f5ffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 9"},"dark-white-blue-metal":{stops:["#404873","#485182","#505990","#57629f","#5f6aad","#6772bb","#6f7bca","#7683d8","#7e8be6","#9ea8ec","#bfc5f3","#dfe2f9","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 10"},"dark-white-gold":{stops:["#4d4700","#5f5700","#706700","#827700","#938700","#a59700","#b6a700","#c8b700","#d9c700","#e3d540","#ece380","#f6f1bf","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 11"},"dark-yellow-bronze":{stops:["#592d00","#68390a","#764615","#85521F","#935e29","#a16a33","#b0773e","#be8348","#cc8f52","#d9a877","#e6c19c","#f2dac1","#fff3e6"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 12"},"neutral-yellow-orange":{stops:["#ccbba3","#d3b68a","#d9b270","#e0ad57","#e6a852","#eca32f","#f39f1f","#f99a10","#ff9500","#ffae00","#ffc600","#ffde00","#fff700"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 13"},"neutral-yellow-green":{stops:["#a3bccc","#a3bdb3","#a4bd99","#a4be7f","#a4be66","#a4be4d","#a4bf33","#a4bf1a","#a4bf00","#b9cf00","#cedf00","#e2ef00","#f7ff00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 14"},"neutral-yellow-purple":{stops:["#a297b3","#9f8cbd","#9b81c6","#9876d0","#946bd9","#9060cf","#8d55ec","#894af6","#853fff","#a46fbf","#c29f80","#e0cf40","#ffff00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 15"},"neutral-yellow-magenta":{stops:["#b397b3","#bd84bd","#c672c6","#d05fd0","#d94cd9","#e339e3","#ec26ec","#f613f6","#ff00ff","#ff3bbf","#ff7580","#ffb040","#ffea00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 16"},"neutral-white-blue":{stops:["#97a5b3","#8ca4bd","#82a4c6","#77a3d0","#6ca2d9","#61a2e3","#56a1ec","#4ba1f6","#40a0ff","#6db8ff","#9bd0ff","#c8e7ff","#f5ffff"],tags:["light","heatmap"],name:"Heatmap 17"},"neutral-white-blue-metal":{stops:["#979cb3","#949ab9","#9198c0","#8d96c6","#8a94cc","#8792d3","#8490d9","#818de0","#7e8be6","#9ea8ec","#bfc5f3","#dfe2f9","#ffffff"],tags:["light","heatmap"],name:"Heatmap 18"},"neutral-white-gold":{stops:["#b3b197","#b8b484","#bdb772","#c1b95f","#c6bc4c","#cbbf39","#d0c226","#d4c413","#d9c700","#e3d540","#ece380","#f6f1bf","#ffffff"],tags:["light","heatmap"],name:"Heatmap 19"},"neutral-yellow-bronze":{stops:["#bfb0a1","#c1ac97","#c3a88d","#c4a483","#c6a079","#c89c6f","#c99866","#cb935c","#cc8f52","#d9a877","#e6c19c","#f2dac1","#fff3e6"],tags:["light","heatmap"],name:"Heatmap 20"}};function Zke(e,t,r){let i=null,n=null;if(t&&(i=vL(t,e,!1),i)){const s=bL(i);C(s)&&(n=s)}return!i&&r&&(i=r==="dark"?"dark-gray":"gray",n=r),i||n||(i="gray",n="light"),{basemapId:i,basemapTheme:n}}class Qke{constructor(t){this.name=null,this.label=null,this.description=null,this.supportedBasemaps=null,this.basemapGroups=null,this.schemes=null;const{name:r,label:i,description:n,schemes:s}=t;this.name=r,this.label=i,this.description=n,this.schemes=s;const a=t.basemapGroups||Km;let o=[];if(a)for(const l in a)o=o.concat(a[l]);this.supportedBasemaps=o,this.basemapGroups=a}isBasemapSupported(t){const r=vL(t,this.supportedBasemaps);return!(!r||!this.supportedBasemaps.includes(r))}getRawSchemes(t){const{basemapId:r,basemapTheme:i}=Zke(this.supportedBasemaps,t.basemap,t.basemapTheme);let n=i;if(r){const o=bL(r,this.basemapGroups);C(o)&&(n=o)}let s=t.geometryType;s==="multipoint"?s="point":s==="mesh"&&(s="polygon");const a=this.schemes[s]||this.schemes.default;return{schemesInfo:D(a[n]),basemapId:r,basemapTheme:i}}}function Yke(e){const t=e.themeDictionary,r=new Map;for(const i in t){const n=t[i];r.set(i,new Qke(n))}return r}function Kke(e){const t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}const Xke=Km.light,eAe=Km.dark;[...Xke,...eAe];function tAe(e){const t=e.width,r=e.height;let i=e.pixelSizeAt(e.toMap(Fi(.5*t,.5*r),{exclude:[]}));if(i<=0&&(i=e.pixelSizeAt(e.toMap(Fi(.5*t,.95*r),{exclude:[]})),i<=0)){const n=e.camera.position.clone();n.z=0,i=2*e.pixelSizeAt(n)}return i}function IL(e,t){return Math.ceil(tAe(t)*$t(Ye(e)))}const Vv={light:{color:[153,153,153,.25],width:"1px"},dark:{color:[153,153,153,.25],width:"1px"},darker:{color:[26,26,26,.25],width:"1px"}},_h=["tropical-bliss","desert-blooms","under-the-sea","vibrant-rainbow","ocean-bay","prairie-summer","pastel-chalk"],Sh=["predominant-v1","predominant-v2","predominant-v3","predominant-v4","predominant-v5","predominance-race","predominance-money","predominance-race-ethnic","predominance-rainbow","predominance-sequence"],xh=["cat-symbols-strong","cat-symbols-autumnal","cat-symbols-bright","cat-symbols-midrange","cat-symbols-subdued","cat-symbols-pastel","cat-symbols-red","cat-symbols-blue","cat-symbols-green","cat-symbols-gray"],Mh="#aaaaaa",rAe="12px",iAe=Yke({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for visualizing features by their type.",schemes:{point:{light:{common:{noDataColor:Mh,outline:Vv.light,size:"8px"},primary:"cat-dark",secondary:["cat-light"].concat(xh).concat(_h).concat(Sh)},dark:{common:{noDataColor:Mh,outline:Vv.darker,size:"8px"},primary:"cat-light",secondary:["cat-dark"].concat(xh).concat(_h).concat(Sh)}},polyline:{light:{common:{noDataColor:Mh,width:"2px"},primary:"cat-dark",secondary:["cat-light"].concat(xh).concat(_h).concat(Sh)},dark:{common:{noDataColor:Mh,width:"2px"},primary:"cat-light",secondary:["cat-dark"].concat(xh).concat(_h).concat(Sh)}},polygon:{light:{common:{noDataColor:Mh,outline:Vv.light,fillOpacity:.8},primary:"cat-dark",secondary:["cat-light"].concat(xh).concat(_h).concat(Sh)},dark:{common:{noDataColor:Mh,outline:Vv.dark,fillOpacity:.8},primary:"cat-light",secondary:["cat-dark"].concat(xh).concat(_h).concat(Sh)}}}},"point-cloud-class":{name:"point-cloud-class",label:"Point Cloud Class",description:"Default theme for visualizing point cloud data based on classification.",schemes:{point:{light:{primary:"point-cloud-class-scheme",secondary:[]},dark:{primary:"point-cloud-class-scheme",secondary:[]}}}}}});function nAe(e){const t=e.theme||"default",r=Kke({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme,theme:iAe.get(t)});if(!r)return;const{schemesInfo:i,basemapId:n,basemapTheme:s}=r,a=i.common;return{primaryScheme:VV(e,i.primary,a),secondarySchemes:i.secondary.map(o=>VV(e,o,a)).filter(Boolean),basemapId:n,basemapTheme:s}}function Bte(e){if(!e)return;const t={...e};return t.colors=t.colors.map(r=>new re(r)),t.tags=[...t.tags],"noDataColor"in t&&t.noDataColor&&(t.noDataColor=new re(t.noDataColor)),"outline"in t&&t.outline&&(t.outline={color:t.outline.color&&new re(t.outline.color),width:t.outline.width}),t}function VV(e,t,r){const i=e.theme||"default",n=Jke[t];if(!n)return;const s=n.stops,a=e.geometryType!=="mesh"&&e.worldScale?e.view:null;switch(e.geometryType){case"point":case"multipoint":{if(i==="point-cloud-class")return sAe({theme:i,name:n.name,tags:n.tags,colors:s});const o=r;return aAe({name:n.name,tags:n.tags,theme:i,colors:s,noDataColor:o.noDataColor,opacity:1,outline:o.outline,size:o.size},a)}case"polyline":{const o=r;return oAe({name:n.name,tags:n.tags,theme:i,colors:s,noDataColor:o.noDataColor,opacity:1,width:o.width},a)}case"polygon":{const o=r;return lAe({name:n.name,tags:n.tags,theme:i,colors:s,noDataColor:o.noDataColor,opacity:o.fillOpacity||1,outline:o.outline,size:rAe},a)}case"mesh":{const o=r;return cAe({name:n.name,tags:n.tags,theme:i,colors:s,noDataColor:o.noDataColor,opacity:o.fillOpacity||1})}default:return}}function sAe(e){return{name:e.name,tags:[...e.tags],theme:e.theme,colors:e.colors.map(t=>new re(t))}}function aAe(e,t){return{name:e.name,tags:[...e.tags],theme:e.theme,colors:e.colors.map(r=>new re(r)),noDataColor:new re(e.noDataColor),outline:{color:new re(e.outline.color),width:e.outline.width},size:t?IL(e.size,t):e.size,opacity:e.opacity}}function oAe(e,t){return{name:e.name,tags:[...e.tags],theme:e.theme,colors:e.colors.map(r=>new re(r)),noDataColor:new re(e.noDataColor),width:t?IL(e.width,t):e.width,opacity:e.opacity}}function lAe(e,t){return{name:e.name,tags:[...e.tags],theme:e.theme,colors:e.colors.map(r=>new re(r)),noDataColor:new re(e.noDataColor),outline:{color:new re(e.outline.color),width:e.outline.width},opacity:e.opacity,size:t?IL(e.size,t):e.size}}function cAe(e){return{name:e.name,tags:[...e.tags],theme:e.theme,colors:e.colors.map(t=>new re(t)),noDataColor:new re(e.noDataColor),opacity:e.opacity}}const uAe="date";async function dAe(e){if(!e||!e.layer||!e.field&&!e.valueExpression)throw new R("type-renderer:missing-parameters","'layer' and 'field' or 'valueExpression' parameters are required");if(e.valueExpression&&!e.view)throw new R("type-renderer:missing-parameters","View is required when 'valueExpression' is specified");const t={...e};t.symbolType=t.symbolType||"2d",t.numTypes=t.numTypes==null?10:t.numTypes,t.defaultSymbolEnabled=t.defaultSymbolEnabled==null||t.defaultSymbolEnabled,t.sortBy=t.sortBy==null?"count":t.sortBy,t.sortEnabled=t.sortEnabled==null||t.sortEnabled,t.statistics=D(t.statistics);const r=r3(t.layer,wd);if(t.layer=r,!r)throw new R("type-renderer:invalid-parameters","'layer' must be one of these types: "+t3(wd).join(", "));const i=C(t.signal)?{signal:t.signal}:null;await r.load(i);const n=r.geometryType;if(t.outlineOptimizationEnabled=n==="polygon"&&t.outlineOptimizationEnabled,t.sizeOptimizationEnabled=(n==="point"||n==="multipoint"||n==="polyline")&&t.sizeOptimizationEnabled,n==="mesh")t.symbolType="3d-volumetric",t.colorMixMode=t.colorMixMode||"replace",t.edgesType=t.edgesType||"none";else{if(t.symbolType==="3d-volumetric-uniform"&&n!=="point")throw new R("type-renderer:not-supported","3d-volumetric-uniform symbols are supported for point layers only");if(t.symbolType.includes("3d-volumetric")&&(!t.view||t.view.type!=="3d"))throw new R("type-renderer:invalid-parameters","'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or '3d-volumetric-uniform'")}const s=await gp({field:t.field,valueExpression:t.valueExpression}),a=Bke(r,s,"type-renderer:invalid-parameters");if(a)throw a;return t}async function fAe(e){let t=e.typeScheme,r=null,i=null;const n=await qke(e.basemap,e.view);if(r=C(n.basemapId)?n.basemapId:null,i=C(n.basemapTheme)?n.basemapTheme:null,t)return{scheme:Bte(t),basemapId:r,basemapTheme:i};const s=nAe({basemap:r,basemapTheme:i,geometryType:e.geometryType,theme:e.theme,worldScale:e.worldScale,view:e.view});return s&&(t=s.primaryScheme,r=s.basemapId,i=s.basemapTheme),{scheme:t,basemapId:r,basemapTheme:i}}function Ute(e,t){let r;return r=e.label<t.label?-1:e.label>t.label?1:0,r}function Gte(e,t){let r;return r=e.value<t.value?-1:e.value>t.value?1:0,r}function pAe(e,t){let r=t.count-e.count;return r===0&&(r=Ute(e,t)),r}function hAe(e,t){let r=t.count-e.count;return r===0&&(r=Gte(e,t)),r}function mAe(e,t,r){let i;t==="count"?(i=hAe,r&&r.codedValues&&(i=pAe)):t==="value"&&(i=Gte,r&&r.codedValues&&(i=Ute)),i&&e.sort(i)}async function yAe(e,t,r,i){const n=await bE("esri/smartMapping/t9n/smartMapping"),s=e.uniqueValueInfos,a=t.layer,o=t.field,l=o?a.getField(o):null,c=l?a.getFieldDomain(l.name):null,d=t.numTypes===-1?s.length:t.numTypes,p=a.geometryType,h=await fAe({basemap:t.basemap,geometryType:p,typeScheme:t.typeScheme,worldScale:t.symbolType.includes("3d-volumetric"),view:t.view}),m=h.scheme,g=new Kp({field:o});let b,w=-1;const v={value:null,domain:c,fieldInfo:l};if(s.forEach((T,A)=>{v.value=T.value,T.label=oF(v),T.value===null&&(w=A)}),w>-1&&(b=s.splice(w,1)[0]),t.sortEnabled!==!1&&mAe(s,t.sortBy,c),l&&l.type===uAe){const T=s.filter((A,P)=>P<d).map(A=>A.value);v.dateFormatInterval=w1e(T)}const _=r&&r.opacity;let S=jV(m.colors,s.length);const x=Vke(m,p),M=zke(m,p,_);s.forEach((T,A)=>{v.value=T.value,T.label=oF(v),T.symbol=jv(p,{type:t.symbolType,color:S[A],size:x,outline:M,meshInfo:{colorMixMode:t.colorMixMode,edgesType:t.edgesType}})}),t.valueExpression&&(g.valueExpression=t.valueExpression,g.valueExpressionTitle=t.valueExpressionTitle),t.legendOptions&&(g.legendOptions=new oo(t.legendOptions)),S=jV(m.colors,d);for(let T=0;T<d;T++){const A=s[T];A&&g.addUniqueValueInfo({value:A.value,label:A.label,symbol:jv(p,{type:t.symbolType,color:S[T],size:x,outline:M,meshInfo:{colorMixMode:t.colorMixMode,edgesType:t.edgesType}})})}t.defaultSymbolEnabled&&(g.defaultSymbol=jv(p,{type:t.symbolType,color:m.noDataColor,size:x,outline:M,meshInfo:{colorMixMode:t.colorMixMode,edgesType:t.edgesType}}),g.defaultLabel=n.other),b&&(b.symbol=jv(p,{type:t.symbolType,color:m.noDataColor,size:x,outline:M,meshInfo:{colorMixMode:t.colorMixMode,edgesType:t.edgesType}}),s.push(b));const I=[],$=g.uniqueValueInfos.length===s.length?-1:g.uniqueValueInfos.length;if($>-1)for(let T=$;T<s.length;T++)I.push({...s[T]});return r&&r.visualVariables&&r.visualVariables.length&&(g.visualVariables=r.visualVariables.map(T=>T.clone())),i&&i.minSize&&(g.visualVariables?g.visualVariables.push(i.minSize):g.visualVariables=[i.minSize]),{renderer:g,uniqueValueInfos:s,excludedUniqueValueInfos:I,typeScheme:Bte(m),basemapId:h.basemapId,basemapTheme:h.basemapTheme}}async function gAe(e){const t=await dAe(e),{layer:r,view:i,signal:n}=t,s={layer:r,field:t.field,valueExpression:t.valueExpression,returnAllCodedValues:t.returnAllCodedValues,view:i,signal:n},[a,o,l]=await Promise.all([t.statistics!=null?t.statistics:Wke(s),t.outlineOptimizationEnabled?uke({layer:r,view:i,signal:n}):null,t.sizeOptimizationEnabled?Oke({layer:r,view:i,signal:n}):null]);return yAe(a,t,o,l)}const bAe=async(e,t)=>{const r={title:"Zoning Districts",content:[{type:"fields",fieldInfos:[{fieldName:"NAME",label:"Zone Name"},{fieldName:"ZN_CODE",label:"Zone Code"}]}]},i=new UA({url:"./ZoningDistrict.json",title:"Zoning Districts",id:"FallsChurch_ZoningDistrict",opacity:.25,popupTemplate:r});await gAe({layer:i,view:t,field:"NAME",legendOptions:{title:"Zoning Type"}}).then(s=>{i.renderer=s.renderer,e.add(i)}).catch(s=>{console.error("there was an error: ",s)})};var qte={exports:{}},u8={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vAe=bm.exports,wAe=Symbol.for("react.element"),_Ae=Symbol.for("react.fragment"),SAe=Object.prototype.hasOwnProperty,xAe=vAe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MAe={key:!0,ref:!0,__self:!0,__source:!0};function Hte(e,t,r){var i,n={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)SAe.call(t,i)&&!MAe.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)n[i]===void 0&&(n[i]=t[i]);return{$$typeof:wAe,type:e,key:s,ref:a,props:n,_owner:xAe.current}}u8.Fragment=_Ae;u8.jsx=Hte;u8.jsxs=Hte;(function(e){e.exports=u8})(qte);const $6=qte.exports.jsx;function IAe(){const[e,t]=bm.exports.useState(!1);bm.exports.useEffect(()=>{r().then(()=>{t(!0)})},[]);const r=async()=>{try{const i=new Oq({basemap:"gray-vector"}),n=new yxe({map:i,container:"mapContainer",center:[-77.1711,38.8843],zoom:14});window.mapView=n,FIe(n),ACe(i),$xe(i),await bAe(i,n);const s=new XMe({view:n,layerInfos:[{layer:i.findLayerById("FallsChurch_ZoningDistrict")},{layer:i.findLayerById("FaifaxCountyLidar")}]});n.ui.add(s,"bottom-left")}catch(i){console.error(i)}};return $6("div",{className:"App",children:$6("main",{id:"mapContainer",className:"mapContainer"})})}const $Ae=document.getElementById("root");W_.createRoot($Ae).render($6(Ure.StrictMode,{children:$6(IAe,{})}));export{u as $,Bn as A,o9 as B,KG as C,i_e as D,t_e as E,lX as F,K2 as G,_E as H,Sc as I,uy as J,qo as K,B6 as L,Q$ as M,YC as N,vX as O,$m as P,W6 as Q,ee as R,Ke as S,vPe as T,$e as U,gPe as V,zn as W,Jr as X,jQ as Y,ll as Z,uk as _,pse as a,us as a$,f as a0,E as a1,ye as a2,cd as a3,Fi as a4,SE as a5,xE as a6,so as a7,be as a8,Gi as a9,ORe as aA,$F as aB,bZ as aC,sw as aD,gfe as aE,cn as aF,h6 as aG,_Re as aH,DLe as aI,LLe as aJ,yLe as aK,LE as aL,GSe as aM,pfe as aN,hfe as aO,Ce as aP,ny as aQ,AE as aR,pLe as aS,aw as aT,cPe as aU,uPe as aV,lPe as aW,oX as aX,NA as aY,Jm as aZ,D as a_,r8 as aa,ALe as ab,XK as ac,NK as ad,eX as ae,pr as af,$7e as ag,pPe as ah,D7e as ai,d2 as aj,hPe as ak,Y as al,hr as am,RU as an,XAe as ao,ys as ap,ua as aq,_s as ar,Md as as,CRe as at,id as au,Hue as av,Mte as aw,KPe as ax,ow as ay,wZ as az,jAe as b,NRe as b$,l6 as b0,dK as b1,Nf as b2,awe as b3,Uo as b4,Wm as b5,J2 as b6,RLe as b7,co as b8,gRe as b9,oY as bA,R9e as bB,sA as bC,lY as bD,ai as bE,jt as bF,yd as bG,L9e as bH,Oxe as bI,xj as bJ,G4e as bK,q4e as bL,H4e as bM,la as bN,e9e as bO,wLe as bP,ce as bQ,xs as bR,D0 as bS,R5e as bT,pY as bU,IZ as bV,tl as bW,MZ as bX,LRe as bY,ERe as bZ,F1e as b_,oi as ba,Y4 as bb,OLe as bc,oLe as bd,re as be,LU as bf,Fo as bg,ePe as bh,Ip as bi,H3 as bj,YJ as bk,hLe as bl,tp as bm,E0 as bn,jb as bo,eRe as bp,Ui as bq,bi as br,n5 as bs,fO as bt,Cn as bu,jRe as bv,kRe as bw,Ye as bx,TA as by,pRe as bz,AAe as c,Fq as c$,_I as c0,T9e as c1,RAe as c2,PAe as c3,qY as c4,v7e as c5,r_e as c6,Bj as c7,h2e as c8,xZ as c9,PLe as cA,yfe as cB,rw as cC,ffe as cD,kU as cE,X6 as cF,Bp as cG,ps as cH,bfe as cI,Ve as cJ,D_e as cK,mPe as cL,yPe as cM,Z as cN,Vn as cO,Mp as cP,Gd as cQ,Fn as cR,C2 as cS,vi as cT,u4 as cU,qS as cV,bw as cW,Zm as cX,u4e as cY,c4e as cZ,b4e as c_,aX as ca,Mg as cb,Mc as cc,S4 as cd,Qe as ce,XPe as cf,rOe as cg,tOe as ch,eOe as ci,WC as cj,Fbe as ck,Obe as cl,mRe as cm,E2 as cn,bRe as co,vRe as cp,Le as cq,yRe as cr,zp as cs,_G as ct,Kt as cu,n6e as cv,h4 as cw,Se as cx,Cg as cy,yy as cz,DAe as d,VP as d$,_Le as d0,Use as d1,Ht as d2,$Pe as d3,uo as d4,TLe as d5,SLe as d6,MLe as d7,xLe as d8,ILe as d9,PM as dA,Ot as dB,RM as dC,FM as dD,E4 as dE,qhe as dF,O7e as dG,st as dH,NPe as dI,AG as dJ,gG as dK,Mr as dL,O1 as dM,Dt as dN,i5 as dO,zE as dP,WP as dQ,gLe as dR,VLe as dS,WLe as dT,NCe as dU,kxe as dV,Sj as dW,xc as dX,$s as dY,zo as dZ,ie as d_,z1 as da,sa as db,Ode as dc,Z6 as dd,Ss as de,Xa as df,$Le as dg,Hb as dh,Gp as di,uY as dj,nA as dk,oG as dl,Cm as dm,kPe as dn,V1 as dp,FPe as dq,hT as dr,s1 as ds,k0 as dt,qPe as du,DPe as dv,o$e as dw,gd as dx,bd as dy,gc as dz,W as e,oEe as e$,Jp as e0,Td as e1,Wp as e2,es as e3,YPe as e4,XLe as e5,DG as e6,BU as e7,Em as e8,ir as e9,op as eA,Ze as eB,hd as eC,UC as eD,eLe as eE,Hm as eF,n4e as eG,KAe as eH,Bve as eI,Sde as eJ,SPe as eK,al as eL,Uoe as eM,_Pe as eN,NLe as eO,HLe as eP,FRe as eQ,kJ as eR,gxe as eS,fRe as eT,On as eU,Tn as eV,xfe as eW,TK as eX,sU as eY,oU as eZ,Rbe as e_,Un as ea,up as eb,ge as ec,__e as ed,$9e as ee,oN as ef,Ey as eg,aN as eh,Vf as ei,oRe as ej,nRe as ek,zW as el,sye as em,ry as en,sse as eo,SY as ep,hA as eq,kY as er,Jw as es,LAe as et,Zw as eu,fA as ev,Lm as ew,VAe as ex,V4 as ey,HAe as ez,R as f,c_e as f$,gL as f0,Ede as f1,iEe as f2,$te as f3,f1 as f4,aEe as f5,ym as f6,Cte as f7,zT as f8,cEe as f9,zce as fA,$ce as fB,Bb as fC,rq as fD,sLe as fE,Qce as fF,pq as fG,lhe as fH,nhe as fI,rhe as fJ,Xpe as fK,Ace as fL,YLe as fM,iRe as fN,QH as fO,P2 as fP,Rhe as fQ,jce as fR,Lhe as fS,sce as fT,Z7e as fU,Y7e as fV,Lce as fW,wP as fX,tLe as fY,ly as fZ,cy as f_,nEe as fa,zCe as fb,Lq as fc,bLe as fd,mLe as fe,Tte as ff,xle as fg,kle as fh,iw as fi,iLe as fj,Wpe as fk,TG as fl,DRe as fm,$Re as fn,_Z as fo,mZ as fp,FAe as fq,vSe as fr,_U as fs,XG as ft,hx as fu,zAe as fv,BAe as fw,y4 as fx,g4 as fy,cLe as fz,aLe as g,WPe as g$,b_e as g0,ihe as g1,Nm as g2,js as g3,Oe as g4,Zce as g5,Yce as g6,iue as g7,lue as g8,fq as g9,ELe as gA,kLe as gB,CLe as gC,xue as gD,XE as gE,os as gF,fLe as gG,Db as gH,X1e as gI,W1e as gJ,mF as gK,nZ as gL,PRe as gM,ype as gN,iPe as gO,qse as gP,$7 as gQ,T7 as gR,Kne as gS,Tt as gT,SRe as gU,OAe as gV,MSe as gW,ARe as gX,Pw as gY,QPe as gZ,ZPe as g_,uq as ga,dq as gb,oue as gc,pue as gd,hue as ge,Wce as gf,Vu as gg,WAe as gh,GC as gi,cA as gj,oZ as gk,iZ as gl,xRe as gm,RRe as gn,rZ as go,aZ as gp,uRe as gq,dRe as gr,FLe as gs,yc as gt,im as gu,RY as gv,Ak as gw,xPe as gx,TRe as gy,k2 as gz,EAe as h,i6 as h$,UAe as h0,Rce as h1,aV as h2,tCe as h3,JTe as h4,LPe as h5,JIe as h6,PPe as h7,RPe as h8,OPe as h9,tr as hA,xr as hB,L as hC,Ws as hD,zM as hE,q4 as hF,lU as hG,em as hH,QAe as hI,na as hJ,ew as hK,iy as hL,Ya as hM,rLe as hN,cRe as hO,aRe as hP,lRe as hQ,sRe as hR,sde as hS,_r as hT,rn as hU,nn as hV,mi as hW,ul as hX,N5 as hY,a2 as hZ,Yk as h_,vCe as ha,Gu as hb,iq as hc,EPe as hd,Tce as he,xce as hf,nq as hg,Ww as hh,Ty as hi,che as hj,uLe as hk,X9 as hl,b7e as hm,oce as hn,c9e as ho,ase as hp,TAe as hq,Coe as hr,F1 as hs,uE as ht,CAe as hu,kE as hv,sn as hw,BLe as hx,JLe as hy,ZLe as hz,dse as i,jbe as i$,Qt as i0,d5e as i1,ad as i2,Ri as i3,c5e as i4,da as i5,n5e as i6,e5e as i7,Xve as i8,Op as i9,a5e as iA,t5e as iB,$5e as iC,x5e as iD,S5e as iE,ZRe as iF,M5e as iG,I5e as iH,r5e as iI,i5e as iJ,o5e as iK,w5e as iL,Nk as iM,KRe as iN,Zve as iO,Jve as iP,Yve as iQ,Kve as iR,Dr as iS,Hbe as iT,t2 as iU,j$ as iV,fPe as iW,Z2 as iX,iOe as iY,Wbe as iZ,L0 as i_,ls as ia,kQ as ib,_c as ic,j2e as id,Wve as ie,Qve as ig,je as ih,EQ as ii,gs as ij,u5e as ik,s5e as il,cx as im,Zp as io,$E as ip,f5e as iq,p5e as ir,h5e as is,Zk as it,y5e as iu,m5e as iv,g5e as iw,s2 as ix,Uve as iy,l5e as iz,GS as j,zPe as j$,hRe as j0,Dbe as j1,wRe as j2,kp as j3,R2 as j4,bPe as j5,rRe as j6,dE as j7,lE as j8,lce as j9,oPe as jA,IY as jB,$Y as jC,s4e as jD,lA as jE,o4e as jF,l4e as jG,GE as jH,wxe as jI,fde as jJ,ude as jK,Nue as jL,CP as jM,Vi as jN,D1 as jO,pA as jP,pn as jQ,qi as jR,cp as jS,Ni as jT,po as jU,fe as jV,iL as jW,yT as jX,a4e as jY,T$e as jZ,BTe as j_,jn as ja,eke as jb,Y9e as jc,FEe as jd,Nn as je,vE as jf,NAe as jg,ZY as jh,nLe as ji,uA as jj,yA as jk,mA as jl,Xe as jm,aPe as jn,CD as jo,SA as jp,y4e as jq,cY as jr,H2 as js,HY as jt,Bi as ju,coe as jv,oH as jw,jme as jx,t4e as jy,hG as jz,fp as k,D$ as k$,UPe as k0,ate as k1,TTe as k2,$$e as k3,BPe as k4,Gee as k5,tL as k6,jPe as k7,VPe as k8,F$e as k9,QLe as kA,GAe as kB,Xne as kC,QP as kD,BE as kE,zLe as kF,jLe as kG,Fe as kH,TPe as kI,WY as kJ,KC as kK,sl as kL,jh as kM,r6e as kN,W2 as kO,q2 as kP,In as kQ,_A as kR,CPe as kS,Q9 as kT,TN as kU,my as kV,xY as kW,EY as kX,v4 as kY,RE as kZ,GY as k_,e3 as ka,GPe as kb,yTe as kc,APe as kd,fCe as ke,oL as kf,Y$e as kg,lL as kh,mm as ki,K$e as kj,J$e as kk,cL as kl,dA as km,gA as kn,u$e as ko,dd as kp,gT as kq,tRe as kr,T2 as ks,JU as kt,G6 as ku,H1 as kv,ju as kw,ms as kx,Ffe as ky,tw as kz,qAe as l,yte as l$,Qw as l0,MY as l1,sk as l2,el as l3,Ko as l4,Di as l5,JPe as l6,eH as l7,xG as l8,kAe as l9,OY as lA,lw as lB,_ee as lC,lse as lD,Joe as lE,lLe as lF,ULe as lG,GLe as lH,Phe as lI,Mw as lJ,vc as lK,ace as lL,qLe as lM,tq as lN,ZAe as lO,uhe as lP,JRe as lQ,oD as lR,VRe as lS,aD as lT,v5e as lU,WRe as lV,YRe as lW,hp as lX,QRe as lY,O5 as lZ,mte as l_,dY as la,od as lb,HD as lc,j1 as ld,Kp as le,w4e as lf,v4e as lg,ay as lh,OH as li,nPe as lj,sy as lk,no as ll,JAe as lm,bH as ln,g4e as lo,sPe as lp,toe as lq,XR as lr,k as ls,KLe as lt,rPe as lu,tPe as lv,wA as lw,vLe as lx,rl as ly,il as lz,Nt as m,Pp as m0,BRe as m1,zRe as m2,URe as m3,GRe as m4,HRe as m5,Hve as m6,cD as m7,qRe as m8,b5e as m9,Vw as ma,LQ as mb,RQ as mc,YG as md,YAe as me,dLe as mf,cle as mg,MRe as mh,IRe as mi,XRe as mj,dPe as mk,MPe as ml,HPe as mm,wPe as n,vr as o,zi as p,Ge as q,C as r,ae as s,B as t,mX as u,ca as v,rt as w,ii as x,$t as y,uX as z};
